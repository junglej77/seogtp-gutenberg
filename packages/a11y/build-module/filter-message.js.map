{"version":3,"names":["previousMessage","filterMessage","message","replace"],"sources":["@wordpress/a11y/src/filter-message.js"],"sourcesContent":["let previousMessage = '';\r\n\r\n/**\r\n * Filter the message to be announced to the screenreader.\r\n *\r\n * @param {string} message The message to be announced.\r\n *\r\n * @return {string} The filtered message.\r\n */\r\nexport default function filterMessage( message ) {\r\n\t/*\r\n\t * Strip HTML tags (if any) from the message string. Ideally, messages should\r\n\t * be simple strings, carefully crafted for specific use with A11ySpeak.\r\n\t * When re-using already existing strings this will ensure simple HTML to be\r\n\t * stripped out and replaced with a space. Browsers will collapse multiple\r\n\t * spaces natively.\r\n\t */\r\n\tmessage = message.replace( /<[^<>]+>/g, ' ' );\r\n\r\n\t/*\r\n\t * Safari + VoiceOver don't announce repeated, identical strings. We use\r\n\t * a `no-break space` to force them to think identical strings are different.\r\n\t */\r\n\tif ( previousMessage === message ) {\r\n\t\tmessage += '\\u00A0';\r\n\t}\r\n\r\n\tpreviousMessage = message;\r\n\r\n\treturn message;\r\n}\r\n"],"mappings":"AAAA,IAAIA,eAAe,GAAG,EAAE;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,aAAaA,CAAEC,OAAO,EAAG;EAChD;AACD;AACA;AACA;AACA;AACA;AACA;EACCA,OAAO,GAAGA,OAAO,CAACC,OAAO,CAAE,WAAW,EAAE,GAAI,CAAC;;EAE7C;AACD;AACA;AACA;EACC,IAAKH,eAAe,KAAKE,OAAO,EAAG;IAClCA,OAAO,IAAI,QAAQ;EACpB;EAEAF,eAAe,GAAGE,OAAO;EAEzB,OAAOA,OAAO;AACf","ignoreList":[]}