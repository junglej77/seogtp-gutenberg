{"version":3,"names":["domReady","addIntroText","addContainer","clear","filterMessage","setup","introText","document","getElementById","containerAssertive","containerPolite","speak","message","ariaLive","textContent","removeAttribute"],"sources":["@wordpress/a11y/src/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport domReady from '@wordpress/dom-ready';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport addIntroText from './add-intro-text';\r\nimport addContainer from './add-container';\r\nimport clear from './clear';\r\nimport filterMessage from './filter-message';\r\n\r\n/**\r\n * Create the live regions.\r\n */\r\nexport function setup() {\r\n\tconst introText = document.getElementById( 'a11y-speak-intro-text' );\r\n\tconst containerAssertive = document.getElementById(\r\n\t\t'a11y-speak-assertive'\r\n\t);\r\n\tconst containerPolite = document.getElementById( 'a11y-speak-polite' );\r\n\r\n\tif ( introText === null ) {\r\n\t\taddIntroText();\r\n\t}\r\n\r\n\tif ( containerAssertive === null ) {\r\n\t\taddContainer( 'assertive' );\r\n\t}\r\n\r\n\tif ( containerPolite === null ) {\r\n\t\taddContainer( 'polite' );\r\n\t}\r\n}\r\n\r\n/**\r\n * Run setup on domReady.\r\n */\r\ndomReady( setup );\r\n\r\n/**\r\n * Allows you to easily announce dynamic interface updates to screen readers using ARIA live regions.\r\n * This module is inspired by the `speak` function in `wp-a11y.js`.\r\n *\r\n * @param {string} message    The message to be announced by assistive technologies.\r\n * @param {string} [ariaLive] The politeness level for aria-live; default: 'polite'.\r\n *\r\n * @example\r\n * ```js\r\n * import { speak } from '@wordpress/a11y';\r\n *\r\n * // For polite messages that shouldn't interrupt what screen readers are currently announcing.\r\n * speak( 'The message you want to send to the ARIA live region' );\r\n *\r\n * // For assertive messages that should interrupt what screen readers are currently announcing.\r\n * speak( 'The message you want to send to the ARIA live region', 'assertive' );\r\n * ```\r\n */\r\nexport function speak( message, ariaLive ) {\r\n\t/*\r\n\t * Clear previous messages to allow repeated strings being read out and hide\r\n\t * the explanatory text from assistive technologies.\r\n\t */\r\n\tclear();\r\n\r\n\tmessage = filterMessage( message );\r\n\r\n\tconst introText = document.getElementById( 'a11y-speak-intro-text' );\r\n\tconst containerAssertive = document.getElementById(\r\n\t\t'a11y-speak-assertive'\r\n\t);\r\n\tconst containerPolite = document.getElementById( 'a11y-speak-polite' );\r\n\r\n\tif ( containerAssertive && ariaLive === 'assertive' ) {\r\n\t\tcontainerAssertive.textContent = message;\r\n\t} else if ( containerPolite ) {\r\n\t\tcontainerPolite.textContent = message;\r\n\t}\r\n\r\n\t/*\r\n\t * Make the explanatory text available to assistive technologies by removing\r\n\t * the 'hidden' HTML attribute.\r\n\t */\r\n\tif ( introText ) {\r\n\t\tintroText.removeAttribute( 'hidden' );\r\n\t}\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,sBAAsB;;AAE3C;AACA;AACA;AACA,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,aAAa,MAAM,kBAAkB;;AAE5C;AACA;AACA;AACA,OAAO,SAASC,KAAKA,CAAA,EAAG;EACvB,MAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAE,uBAAwB,CAAC;EACpE,MAAMC,kBAAkB,GAAGF,QAAQ,CAACC,cAAc,CACjD,sBACD,CAAC;EACD,MAAME,eAAe,GAAGH,QAAQ,CAACC,cAAc,CAAE,mBAAoB,CAAC;EAEtE,IAAKF,SAAS,KAAK,IAAI,EAAG;IACzBL,YAAY,CAAC,CAAC;EACf;EAEA,IAAKQ,kBAAkB,KAAK,IAAI,EAAG;IAClCP,YAAY,CAAE,WAAY,CAAC;EAC5B;EAEA,IAAKQ,eAAe,KAAK,IAAI,EAAG;IAC/BR,YAAY,CAAE,QAAS,CAAC;EACzB;AACD;;AAEA;AACA;AACA;AACAF,QAAQ,CAAEK,KAAM,CAAC;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASM,KAAKA,CAAEC,OAAO,EAAEC,QAAQ,EAAG;EAC1C;AACD;AACA;AACA;EACCV,KAAK,CAAC,CAAC;EAEPS,OAAO,GAAGR,aAAa,CAAEQ,OAAQ,CAAC;EAElC,MAAMN,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAE,uBAAwB,CAAC;EACpE,MAAMC,kBAAkB,GAAGF,QAAQ,CAACC,cAAc,CACjD,sBACD,CAAC;EACD,MAAME,eAAe,GAAGH,QAAQ,CAACC,cAAc,CAAE,mBAAoB,CAAC;EAEtE,IAAKC,kBAAkB,IAAII,QAAQ,KAAK,WAAW,EAAG;IACrDJ,kBAAkB,CAACK,WAAW,GAAGF,OAAO;EACzC,CAAC,MAAM,IAAKF,eAAe,EAAG;IAC7BA,eAAe,CAACI,WAAW,GAAGF,OAAO;EACtC;;EAEA;AACD;AACA;AACA;EACC,IAAKN,SAAS,EAAG;IAChBA,SAAS,CAACS,eAAe,CAAE,QAAS,CAAC;EACtC;AACD","ignoreList":[]}