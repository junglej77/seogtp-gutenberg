{"version":3,"names":["v4","uuid","__experimentalAddAnnotation","blockClientId","richTextIdentifier","range","selector","source","id","action","type","__experimentalRemoveAnnotation","annotationId","__experimentalUpdateAnnotationRange","start","end","__experimentalRemoveAnnotationsBySource"],"sources":["@wordpress/annotations/src/store/actions.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { v4 as uuid } from 'uuid';\r\n\r\n/**\r\n * @typedef WPAnnotationRange\r\n *\r\n * @property {number} start The offset where the annotation should start.\r\n * @property {number} end   The offset where the annotation should end.\r\n */\r\n\r\n/**\r\n * Adds an annotation to a block.\r\n *\r\n * The `block` attribute refers to a block ID that needs to be annotated.\r\n * `isBlockAnnotation` controls whether or not the annotation is a block\r\n * annotation. The `source` is the source of the annotation, this will be used\r\n * to identity groups of annotations.\r\n *\r\n * The `range` property is only relevant if the selector is 'range'.\r\n *\r\n * @param {Object}            annotation                    The annotation to add.\r\n * @param {string}            annotation.blockClientId      The blockClientId to add the annotation to.\r\n * @param {string}            annotation.richTextIdentifier Identifier for the RichText instance the annotation applies to.\r\n * @param {WPAnnotationRange} annotation.range              The range at which to apply this annotation.\r\n * @param {string}            [annotation.selector=\"range\"] The way to apply this annotation.\r\n * @param {string}            [annotation.source=\"default\"] The source that added the annotation.\r\n * @param {string}            [annotation.id]               The ID the annotation should have. Generates a UUID by default.\r\n *\r\n * @return {Object} Action object.\r\n */\r\nexport function __experimentalAddAnnotation( {\r\n\tblockClientId,\r\n\trichTextIdentifier = null,\r\n\trange = null,\r\n\tselector = 'range',\r\n\tsource = 'default',\r\n\tid = uuid(),\r\n} ) {\r\n\tconst action = {\r\n\t\ttype: 'ANNOTATION_ADD',\r\n\t\tid,\r\n\t\tblockClientId,\r\n\t\trichTextIdentifier,\r\n\t\tsource,\r\n\t\tselector,\r\n\t};\r\n\r\n\tif ( selector === 'range' ) {\r\n\t\taction.range = range;\r\n\t}\r\n\r\n\treturn action;\r\n}\r\n\r\n/**\r\n * Removes an annotation with a specific ID.\r\n *\r\n * @param {string} annotationId The annotation to remove.\r\n *\r\n * @return {Object} Action object.\r\n */\r\nexport function __experimentalRemoveAnnotation( annotationId ) {\r\n\treturn {\r\n\t\ttype: 'ANNOTATION_REMOVE',\r\n\t\tannotationId,\r\n\t};\r\n}\r\n\r\n/**\r\n * Updates the range of an annotation.\r\n *\r\n * @param {string} annotationId ID of the annotation to update.\r\n * @param {number} start        The start of the new range.\r\n * @param {number} end          The end of the new range.\r\n *\r\n * @return {Object} Action object.\r\n */\r\nexport function __experimentalUpdateAnnotationRange(\r\n\tannotationId,\r\n\tstart,\r\n\tend\r\n) {\r\n\treturn {\r\n\t\ttype: 'ANNOTATION_UPDATE_RANGE',\r\n\t\tannotationId,\r\n\t\tstart,\r\n\t\tend,\r\n\t};\r\n}\r\n\r\n/**\r\n * Removes all annotations of a specific source.\r\n *\r\n * @param {string} source The source to remove.\r\n *\r\n * @return {Object} Action object.\r\n */\r\nexport function __experimentalRemoveAnnotationsBySource( source ) {\r\n\treturn {\r\n\t\ttype: 'ANNOTATION_REMOVE_SOURCE',\r\n\t\tsource,\r\n\t};\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,IAAIC,IAAI,QAAQ,MAAM;;AAEjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,2BAA2BA,CAAE;EAC5CC,aAAa;EACbC,kBAAkB,GAAG,IAAI;EACzBC,KAAK,GAAG,IAAI;EACZC,QAAQ,GAAG,OAAO;EAClBC,MAAM,GAAG,SAAS;EAClBC,EAAE,GAAGP,IAAI,CAAC;AACX,CAAC,EAAG;EACH,MAAMQ,MAAM,GAAG;IACdC,IAAI,EAAE,gBAAgB;IACtBF,EAAE;IACFL,aAAa;IACbC,kBAAkB;IAClBG,MAAM;IACND;EACD,CAAC;EAED,IAAKA,QAAQ,KAAK,OAAO,EAAG;IAC3BG,MAAM,CAACJ,KAAK,GAAGA,KAAK;EACrB;EAEA,OAAOI,MAAM;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASE,8BAA8BA,CAAEC,YAAY,EAAG;EAC9D,OAAO;IACNF,IAAI,EAAE,mBAAmB;IACzBE;EACD,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,mCAAmCA,CAClDD,YAAY,EACZE,KAAK,EACLC,GAAG,EACF;EACD,OAAO;IACNL,IAAI,EAAE,yBAAyB;IAC/BE,YAAY;IACZE,KAAK;IACLC;EACD,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,uCAAuCA,CAAET,MAAM,EAAG;EACjE,OAAO;IACNG,IAAI,EAAE,0BAA0B;IAChCH;EACD,CAAC;AACF","ignoreList":[]}