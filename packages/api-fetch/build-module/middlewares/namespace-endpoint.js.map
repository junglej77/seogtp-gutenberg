{"version":3,"names":["namespaceAndEndpointMiddleware","options","next","path","namespaceTrimmed","endpointTrimmed","namespace","endpoint","replace"],"sources":["@wordpress/api-fetch/src/middlewares/namespace-endpoint.js"],"sourcesContent":["/**\r\n * @type {import('../types').APIFetchMiddleware}\r\n */\r\nconst namespaceAndEndpointMiddleware = ( options, next ) => {\r\n\tlet path = options.path;\r\n\tlet namespaceTrimmed, endpointTrimmed;\r\n\r\n\tif (\r\n\t\ttypeof options.namespace === 'string' &&\r\n\t\ttypeof options.endpoint === 'string'\r\n\t) {\r\n\t\tnamespaceTrimmed = options.namespace.replace( /^\\/|\\/$/g, '' );\r\n\t\tendpointTrimmed = options.endpoint.replace( /^\\//, '' );\r\n\t\tif ( endpointTrimmed ) {\r\n\t\t\tpath = namespaceTrimmed + '/' + endpointTrimmed;\r\n\t\t} else {\r\n\t\t\tpath = namespaceTrimmed;\r\n\t\t}\r\n\t}\r\n\r\n\tdelete options.namespace;\r\n\tdelete options.endpoint;\r\n\r\n\treturn next( {\r\n\t\t...options,\r\n\t\tpath,\r\n\t} );\r\n};\r\n\r\nexport default namespaceAndEndpointMiddleware;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,MAAMA,8BAA8B,GAAGA,CAAEC,OAAO,EAAEC,IAAI,KAAM;EAC3D,IAAIC,IAAI,GAAGF,OAAO,CAACE,IAAI;EACvB,IAAIC,gBAAgB,EAAEC,eAAe;EAErC,IACC,OAAOJ,OAAO,CAACK,SAAS,KAAK,QAAQ,IACrC,OAAOL,OAAO,CAACM,QAAQ,KAAK,QAAQ,EACnC;IACDH,gBAAgB,GAAGH,OAAO,CAACK,SAAS,CAACE,OAAO,CAAE,UAAU,EAAE,EAAG,CAAC;IAC9DH,eAAe,GAAGJ,OAAO,CAACM,QAAQ,CAACC,OAAO,CAAE,KAAK,EAAE,EAAG,CAAC;IACvD,IAAKH,eAAe,EAAG;MACtBF,IAAI,GAAGC,gBAAgB,GAAG,GAAG,GAAGC,eAAe;IAChD,CAAC,MAAM;MACNF,IAAI,GAAGC,gBAAgB;IACxB;EACD;EAEA,OAAOH,OAAO,CAACK,SAAS;EACxB,OAAOL,OAAO,CAACM,QAAQ;EAEvB,OAAOL,IAAI,CAAE;IACZ,GAAGD,OAAO;IACVE;EACD,CAAE,CAAC;AACJ,CAAC;AAED,eAAeH,8BAA8B","ignoreList":[]}