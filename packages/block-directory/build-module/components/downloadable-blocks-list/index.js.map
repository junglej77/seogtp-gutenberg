{"version":3,"names":["__","Composite","getBlockType","useDispatch","DownloadableBlockListItem","store","blockDirectoryStore","jsx","_jsx","noop","DownloadableBlocksList","items","onHover","onSelect","installBlockType","length","role","className","children","map","item","onClick","name","then","success","id"],"sources":["@wordpress/block-directory/src/components/downloadable-blocks-list/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Composite } from '@wordpress/components';\r\nimport { getBlockType } from '@wordpress/blocks';\r\nimport { useDispatch } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport DownloadableBlockListItem from '../downloadable-block-list-item';\r\nimport { store as blockDirectoryStore } from '../../store';\r\n\r\nconst noop = () => {};\r\n\r\nfunction DownloadableBlocksList( { items, onHover = noop, onSelect } ) {\r\n\tconst { installBlockType } = useDispatch( blockDirectoryStore );\r\n\r\n\tif ( ! items.length ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Composite\r\n\t\t\trole=\"listbox\"\r\n\t\t\tclassName=\"block-directory-downloadable-blocks-list\"\r\n\t\t\taria-label={ __( 'Blocks available for install' ) }\r\n\t\t>\r\n\t\t\t{ items.map( ( item ) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<DownloadableBlockListItem\r\n\t\t\t\t\t\tkey={ item.id }\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t// Check if the block is registered (`getBlockType`\r\n\t\t\t\t\t\t\t// will return an object). If so, insert the block.\r\n\t\t\t\t\t\t\t// This prevents installing existing plugins.\r\n\t\t\t\t\t\t\tif ( getBlockType( item.name ) ) {\r\n\t\t\t\t\t\t\t\tonSelect( item );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tinstallBlockType( item ).then( ( success ) => {\r\n\t\t\t\t\t\t\t\t\tif ( success ) {\r\n\t\t\t\t\t\t\t\t\t\tonSelect( item );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonHover( null );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tonHover={ onHover }\r\n\t\t\t\t\t\titem={ item }\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</Composite>\r\n\t);\r\n}\r\n\r\nexport default DownloadableBlocksList;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,YAAY,QAAQ,mBAAmB;AAChD,SAASC,WAAW,QAAQ,iBAAiB;;AAE7C;AACA;AACA;AACA,OAAOC,yBAAyB,MAAM,iCAAiC;AACvE,SAASC,KAAK,IAAIC,mBAAmB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE3D,MAAMC,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAErB,SAASC,sBAAsBA,CAAE;EAAEC,KAAK;EAAEC,OAAO,GAAGH,IAAI;EAAEI;AAAS,CAAC,EAAG;EACtE,MAAM;IAAEC;EAAiB,CAAC,GAAGX,WAAW,CAAEG,mBAAoB,CAAC;EAE/D,IAAK,CAAEK,KAAK,CAACI,MAAM,EAAG;IACrB,OAAO,IAAI;EACZ;EAEA,oBACCP,IAAA,CAACP,SAAS;IACTe,IAAI,EAAC,SAAS;IACdC,SAAS,EAAC,0CAA0C;IACpD,cAAajB,EAAE,CAAE,8BAA+B,CAAG;IAAAkB,QAAA,EAEjDP,KAAK,CAACQ,GAAG,CAAIC,IAAI,IAAM;MACxB,oBACCZ,IAAA,CAACJ,yBAAyB;QAEzBiB,OAAO,EAAGA,CAAA,KAAM;UACf;UACA;UACA;UACA,IAAKnB,YAAY,CAAEkB,IAAI,CAACE,IAAK,CAAC,EAAG;YAChCT,QAAQ,CAAEO,IAAK,CAAC;UACjB,CAAC,MAAM;YACNN,gBAAgB,CAAEM,IAAK,CAAC,CAACG,IAAI,CAAIC,OAAO,IAAM;cAC7C,IAAKA,OAAO,EAAG;gBACdX,QAAQ,CAAEO,IAAK,CAAC;cACjB;YACD,CAAE,CAAC;UACJ;UACAR,OAAO,CAAE,IAAK,CAAC;QAChB,CAAG;QACHA,OAAO,EAAGA,OAAS;QACnBQ,IAAI,EAAGA;MAAM,GAjBPA,IAAI,CAACK,EAkBX,CAAC;IAEJ,CAAE;EAAC,CACO,CAAC;AAEd;AAEA,eAAef,sBAAsB","ignoreList":[]}