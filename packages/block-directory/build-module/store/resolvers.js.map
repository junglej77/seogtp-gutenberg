{"version":3,"names":["camelCase","apiFetch","fetchDownloadableBlocks","receiveDownloadableBlocks","getDownloadableBlocks","filterValue","dispatch","results","path","blocks","map","result","Object","fromEntries","entries","key","value"],"sources":["@wordpress/block-directory/src/store/resolvers.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { camelCase } from 'change-case';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { fetchDownloadableBlocks, receiveDownloadableBlocks } from './actions';\r\n\r\nexport const getDownloadableBlocks =\r\n\t( filterValue ) =>\r\n\tasync ( { dispatch } ) => {\r\n\t\tif ( ! filterValue ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tdispatch( fetchDownloadableBlocks( filterValue ) );\r\n\t\t\tconst results = await apiFetch( {\r\n\t\t\t\tpath: `wp/v2/block-directory/search?term=${ filterValue }`,\r\n\t\t\t} );\r\n\t\t\tconst blocks = results.map( ( result ) =>\r\n\t\t\t\tObject.fromEntries(\r\n\t\t\t\t\tObject.entries( result ).map( ( [ key, value ] ) => [\r\n\t\t\t\t\t\tcamelCase( key ),\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t] )\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tdispatch( receiveDownloadableBlocks( blocks, filterValue ) );\r\n\t\t} catch {}\r\n\t};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,aAAa;;AAEvC;AACA;AACA;AACA,OAAOC,QAAQ,MAAM,sBAAsB;;AAE3C;AACA;AACA;AACA,SAASC,uBAAuB,EAAEC,yBAAyB,QAAQ,WAAW;AAE9E,OAAO,MAAMC,qBAAqB,GAC/BC,WAAW,IACb,OAAQ;EAAEC;AAAS,CAAC,KAAM;EACzB,IAAK,CAAED,WAAW,EAAG;IACpB;EACD;EAEA,IAAI;IACHC,QAAQ,CAAEJ,uBAAuB,CAAEG,WAAY,CAAE,CAAC;IAClD,MAAME,OAAO,GAAG,MAAMN,QAAQ,CAAE;MAC/BO,IAAI,EAAG,qCAAqCH,WAAa;IAC1D,CAAE,CAAC;IACH,MAAMI,MAAM,GAAGF,OAAO,CAACG,GAAG,CAAIC,MAAM,IACnCC,MAAM,CAACC,WAAW,CACjBD,MAAM,CAACE,OAAO,CAAEH,MAAO,CAAC,CAACD,GAAG,CAAE,CAAE,CAAEK,GAAG,EAAEC,KAAK,CAAE,KAAM,CACnDhB,SAAS,CAAEe,GAAI,CAAC,EAChBC,KAAK,CACJ,CACH,CACD,CAAC;IAEDV,QAAQ,CAAEH,yBAAyB,CAAEM,MAAM,EAAEJ,WAAY,CAAE,CAAC;EAC7D,CAAC,CAAC,MAAM,CAAC;AACV,CAAC","ignoreList":[]}