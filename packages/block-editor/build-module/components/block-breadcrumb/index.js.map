{"version":3,"names":["Button","useSelect","useDispatch","__","chevronRightSmall","Icon","useRef","BlockTitle","store","blockEditorStore","unlock","useBlockElementRef","getEditorRegion","jsx","_jsx","jsxs","_jsxs","BlockBreadcrumb","rootLabelText","selectBlock","clearSelectedBlock","clientId","parents","hasSelection","select","getSelectionStart","getSelectedBlockClientId","getEnabledBlockParents","selectedBlockClientId","rootLabel","blockRef","className","role","children","undefined","size","onClick","blockEditor","current","closest","focus","icon","map","parentClientId","maximumLength"],"sources":["@wordpress/block-editor/src/components/block-breadcrumb/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { Button } from '@wordpress/components';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { chevronRightSmall, Icon } from '@wordpress/icons';\r\nimport { useRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BlockTitle from '../block-title';\r\nimport { store as blockEditorStore } from '../../store';\r\nimport { unlock } from '../../lock-unlock';\r\nimport { useBlockElementRef } from '../block-list/use-block-props/use-block-refs';\r\nimport getEditorRegion from '../../utils/get-editor-region';\r\n\r\n/**\r\n * Block breadcrumb component, displaying the hierarchy of the current block selection as a breadcrumb.\r\n *\r\n * @param {Object} props               Component props.\r\n * @param {string} props.rootLabelText Translated label for the root element of the breadcrumb trail.\r\n * @return {Element}                   Block Breadcrumb.\r\n */\r\nfunction BlockBreadcrumb( { rootLabelText } ) {\r\n\tconst { selectBlock, clearSelectedBlock } = useDispatch( blockEditorStore );\r\n\tconst { clientId, parents, hasSelection } = useSelect( ( select ) => {\r\n\t\tconst {\r\n\t\t\tgetSelectionStart,\r\n\t\t\tgetSelectedBlockClientId,\r\n\t\t\tgetEnabledBlockParents,\r\n\t\t} = unlock( select( blockEditorStore ) );\r\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\r\n\t\treturn {\r\n\t\t\tparents: getEnabledBlockParents( selectedBlockClientId ),\r\n\t\t\tclientId: selectedBlockClientId,\r\n\t\t\thasSelection: !! getSelectionStart().clientId,\r\n\t\t};\r\n\t}, [] );\r\n\tconst rootLabel = rootLabelText || __( 'Document' );\r\n\r\n\t// We don't care about this specific ref, but this is a way\r\n\t// to get a ref within the editor canvas so we can focus it later.\r\n\tconst blockRef = useRef();\r\n\tuseBlockElementRef( clientId, blockRef );\r\n\r\n\t/*\r\n\t * Disable reason: The `list` ARIA role is redundant but\r\n\t * Safari+VoiceOver won't announce the list otherwise.\r\n\t */\r\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\r\n\treturn (\r\n\t\t<ul\r\n\t\t\tclassName=\"block-editor-block-breadcrumb\"\r\n\t\t\trole=\"list\"\r\n\t\t\taria-label={ __( 'Block breadcrumb' ) }\r\n\t\t>\r\n\t\t\t<li\r\n\t\t\t\tclassName={\r\n\t\t\t\t\t! hasSelection\r\n\t\t\t\t\t\t? 'block-editor-block-breadcrumb__current'\r\n\t\t\t\t\t\t: undefined\r\n\t\t\t\t}\r\n\t\t\t\taria-current={ ! hasSelection ? 'true' : undefined }\r\n\t\t\t>\r\n\t\t\t\t{ hasSelection && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__button\"\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t// Find the block editor wrapper for the selected block\r\n\t\t\t\t\t\t\tconst blockEditor = blockRef.current?.closest(\r\n\t\t\t\t\t\t\t\t'.editor-styles-wrapper'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tclearSelectedBlock();\r\n\r\n\t\t\t\t\t\t\tgetEditorRegion( blockEditor )?.focus();\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ rootLabel }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) }\r\n\t\t\t\t{ ! hasSelection && rootLabel }\r\n\t\t\t\t{ !! clientId && (\r\n\t\t\t\t\t<Icon\r\n\t\t\t\t\t\ticon={ chevronRightSmall }\r\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__separator\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</li>\r\n\r\n\t\t\t{ parents.map( ( parentClientId ) => (\r\n\t\t\t\t<li key={ parentClientId }>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__button\"\r\n\t\t\t\t\t\tonClick={ () => selectBlock( parentClientId ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<BlockTitle\r\n\t\t\t\t\t\t\tclientId={ parentClientId }\r\n\t\t\t\t\t\t\tmaximumLength={ 35 }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Icon\r\n\t\t\t\t\t\ticon={ chevronRightSmall }\r\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__separator\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</li>\r\n\t\t\t) ) }\r\n\t\t\t{ !! clientId && (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__current\"\r\n\t\t\t\t\taria-current=\"true\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<BlockTitle clientId={ clientId } maximumLength={ 35 } />\r\n\t\t\t\t</li>\r\n\t\t\t) }\r\n\t\t</ul>\r\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\r\n\t);\r\n}\r\n\r\nexport default BlockBreadcrumb;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,iBAAiB,EAAEC,IAAI,QAAQ,kBAAkB;AAC1D,SAASC,MAAM,QAAQ,oBAAoB;;AAE3C;AACA;AACA;AACA,OAAOC,UAAU,MAAM,gBAAgB;AACvC,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SAASC,kBAAkB,QAAQ,8CAA8C;AACjF,OAAOC,eAAe,MAAM,+BAA+B;;AAE3D;AACA;AACA;AACA;AACA;AACA;AACA;AANA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAOA,SAASC,eAAeA,CAAE;EAAEC;AAAc,CAAC,EAAG;EAC7C,MAAM;IAAEC,WAAW;IAAEC;EAAmB,CAAC,GAAGlB,WAAW,CAAEO,gBAAiB,CAAC;EAC3E,MAAM;IAAEY,QAAQ;IAAEC,OAAO;IAAEC;EAAa,CAAC,GAAGtB,SAAS,CAAIuB,MAAM,IAAM;IACpE,MAAM;MACLC,iBAAiB;MACjBC,wBAAwB;MACxBC;IACD,CAAC,GAAGjB,MAAM,CAAEc,MAAM,CAAEf,gBAAiB,CAAE,CAAC;IACxC,MAAMmB,qBAAqB,GAAGF,wBAAwB,CAAC,CAAC;IACxD,OAAO;MACNJ,OAAO,EAAEK,sBAAsB,CAAEC,qBAAsB,CAAC;MACxDP,QAAQ,EAAEO,qBAAqB;MAC/BL,YAAY,EAAE,CAAC,CAAEE,iBAAiB,CAAC,CAAC,CAACJ;IACtC,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAMQ,SAAS,GAAGX,aAAa,IAAIf,EAAE,CAAE,UAAW,CAAC;;EAEnD;EACA;EACA,MAAM2B,QAAQ,GAAGxB,MAAM,CAAC,CAAC;EACzBK,kBAAkB,CAAEU,QAAQ,EAAES,QAAS,CAAC;;EAExC;AACD;AACA;AACA;EACC;EACA,oBACCd,KAAA;IACCe,SAAS,EAAC,+BAA+B;IACzCC,IAAI,EAAC,MAAM;IACX,cAAa7B,EAAE,CAAE,kBAAmB,CAAG;IAAA8B,QAAA,gBAEvCjB,KAAA;MACCe,SAAS,EACR,CAAER,YAAY,GACX,wCAAwC,GACxCW,SACH;MACD,gBAAe,CAAEX,YAAY,GAAG,MAAM,GAAGW,SAAW;MAAAD,QAAA,GAElDV,YAAY,iBACbT,IAAA,CAACd,MAAM;QACNmC,IAAI,EAAC,OAAO;QACZJ,SAAS,EAAC,uCAAuC;QACjDK,OAAO,EAAGA,CAAA,KAAM;UACf;UACA,MAAMC,WAAW,GAAGP,QAAQ,CAACQ,OAAO,EAAEC,OAAO,CAC5C,wBACD,CAAC;UAEDnB,kBAAkB,CAAC,CAAC;UAEpBR,eAAe,CAAEyB,WAAY,CAAC,EAAEG,KAAK,CAAC,CAAC;QACxC,CAAG;QAAAP,QAAA,EAEDJ;MAAS,CACJ,CACR,EACC,CAAEN,YAAY,IAAIM,SAAS,EAC3B,CAAC,CAAER,QAAQ,iBACZP,IAAA,CAACT,IAAI;QACJoC,IAAI,EAAGrC,iBAAmB;QAC1B2B,SAAS,EAAC;MAA0C,CACpD,CACD;IAAA,CACE,CAAC,EAEHT,OAAO,CAACoB,GAAG,CAAIC,cAAc,iBAC9B3B,KAAA;MAAAiB,QAAA,gBACCnB,IAAA,CAACd,MAAM;QACNmC,IAAI,EAAC,OAAO;QACZJ,SAAS,EAAC,uCAAuC;QACjDK,OAAO,EAAGA,CAAA,KAAMjB,WAAW,CAAEwB,cAAe,CAAG;QAAAV,QAAA,eAE/CnB,IAAA,CAACP,UAAU;UACVc,QAAQ,EAAGsB,cAAgB;UAC3BC,aAAa,EAAG;QAAI,CACpB;MAAC,CACK,CAAC,eACT9B,IAAA,CAACT,IAAI;QACJoC,IAAI,EAAGrC,iBAAmB;QAC1B2B,SAAS,EAAC;MAA0C,CACpD,CAAC;IAAA,GAdOY,cAeN,CACH,CAAC,EACD,CAAC,CAAEtB,QAAQ,iBACZP,IAAA;MACCiB,SAAS,EAAC,wCAAwC;MAClD,gBAAa,MAAM;MAAAE,QAAA,eAEnBnB,IAAA,CAACP,UAAU;QAACc,QAAQ,EAAGA,QAAU;QAACuB,aAAa,EAAG;MAAI,CAAE;IAAC,CACtD,CACJ;EAAA,CACE;EACJ;AAEF;AAEA,eAAe3B,eAAe","ignoreList":[]}