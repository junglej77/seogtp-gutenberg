{"version":3,"names":["useMemo","useContext","hasBlockSupport","Edit","BlockEditContextProvider","useBlockEditContext","mayDisplayControlsKey","mayDisplayParentControlsKey","blockEditingModeKey","blockBindingsKey","isPreviewModeKey","MultipleUsageWarning","PrivateBlockContext","jsx","_jsx","jsxs","_jsxs","BlockEdit","mayDisplayControls","mayDisplayParentControls","blockEditingMode","isPreviewMode","props","name","isSelected","clientId","attributes","__unstableLayoutClassNames","layout","metadata","bindings","layoutSupport","originalBlockClientId","value","children","onReplace"],"sources":["@wordpress/block-editor/src/components/block-edit/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo, useContext } from '@wordpress/element';\r\nimport { hasBlockSupport } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Edit from './edit';\r\nimport {\r\n\tBlockEditContextProvider,\r\n\tuseBlockEditContext,\r\n\tmayDisplayControlsKey,\r\n\tmayDisplayParentControlsKey,\r\n\tblockEditingModeKey,\r\n\tblockBindingsKey,\r\n\tisPreviewModeKey,\r\n} from './context';\r\nimport { MultipleUsageWarning } from './multiple-usage-warning';\r\nimport { PrivateBlockContext } from '../block-list/private-block-context';\r\n\r\n/**\r\n * The `useBlockEditContext` hook provides information about the block this hook is being used in.\r\n * It returns an object with the `name`, `isSelected` state, and the `clientId` of the block.\r\n * It is useful if you want to create custom hooks that need access to the current blocks clientId\r\n * but don't want to rely on the data getting passed in as a parameter.\r\n *\r\n * @return {Object} Block edit context\r\n */\r\nexport { useBlockEditContext };\r\n\r\nexport default function BlockEdit( {\r\n\tmayDisplayControls,\r\n\tmayDisplayParentControls,\r\n\tblockEditingMode,\r\n\tisPreviewMode,\r\n\t// The remaining props are passed through the BlockEdit filters and are thus\r\n\t// public API!\r\n\t...props\r\n} ) {\r\n\tconst {\r\n\t\tname,\r\n\t\tisSelected,\r\n\t\tclientId,\r\n\t\tattributes = {},\r\n\t\t__unstableLayoutClassNames,\r\n\t} = props;\r\n\tconst { layout = null, metadata = {} } = attributes;\r\n\tconst { bindings } = metadata;\r\n\tconst layoutSupport =\r\n\t\thasBlockSupport( name, 'layout', false ) ||\r\n\t\thasBlockSupport( name, '__experimentalLayout', false );\r\n\tconst { originalBlockClientId } = useContext( PrivateBlockContext );\r\n\r\n\treturn (\r\n\t\t<BlockEditContextProvider\r\n\t\t\t// It is important to return the same object if props haven't\r\n\t\t\t// changed to avoid  unnecessary rerenders.\r\n\t\t\t// See https://reactjs.org/docs/context.html#caveats.\r\n\t\t\tvalue={ useMemo(\r\n\t\t\t\t() => ( {\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tisSelected,\r\n\t\t\t\t\tclientId,\r\n\t\t\t\t\tlayout: layoutSupport ? layout : null,\r\n\t\t\t\t\t__unstableLayoutClassNames,\r\n\t\t\t\t\t// We use symbols in favour of an __unstable prefix to avoid\r\n\t\t\t\t\t// usage outside of the package (this context is exposed).\r\n\t\t\t\t\t[ mayDisplayControlsKey ]: mayDisplayControls,\r\n\t\t\t\t\t[ mayDisplayParentControlsKey ]: mayDisplayParentControls,\r\n\t\t\t\t\t[ blockEditingModeKey ]: blockEditingMode,\r\n\t\t\t\t\t[ blockBindingsKey ]: bindings,\r\n\t\t\t\t\t[ isPreviewModeKey ]: isPreviewMode,\r\n\t\t\t\t} ),\r\n\t\t\t\t[\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tisSelected,\r\n\t\t\t\t\tclientId,\r\n\t\t\t\t\tlayoutSupport,\r\n\t\t\t\t\tlayout,\r\n\t\t\t\t\t__unstableLayoutClassNames,\r\n\t\t\t\t\tmayDisplayControls,\r\n\t\t\t\t\tmayDisplayParentControls,\r\n\t\t\t\t\tblockEditingMode,\r\n\t\t\t\t\tbindings,\r\n\t\t\t\t\tisPreviewMode,\r\n\t\t\t\t]\r\n\t\t\t) }\r\n\t\t>\r\n\t\t\t<Edit { ...props } />\r\n\t\t\t{ originalBlockClientId && (\r\n\t\t\t\t<MultipleUsageWarning\r\n\t\t\t\t\toriginalBlockClientId={ originalBlockClientId }\r\n\t\t\t\t\tname={ name }\r\n\t\t\t\t\tonReplace={ props.onReplace }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</BlockEditContextProvider>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,OAAO,EAAEC,UAAU,QAAQ,oBAAoB;AACxD,SAASC,eAAe,QAAQ,mBAAmB;;AAEnD;AACA;AACA;AACA,OAAOC,IAAI,MAAM,QAAQ;AACzB,SACCC,wBAAwB,EACxBC,mBAAmB,EACnBC,qBAAqB,EACrBC,2BAA2B,EAC3BC,mBAAmB,EACnBC,gBAAgB,EAChBC,gBAAgB,QACV,WAAW;AAClB,SAASC,oBAAoB,QAAQ,0BAA0B;AAC/D,SAASC,mBAAmB,QAAQ,qCAAqC;;AAEzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAQA,SAASX,mBAAmB;AAE5B,eAAe,SAASY,SAASA,CAAE;EAClCC,kBAAkB;EAClBC,wBAAwB;EACxBC,gBAAgB;EAChBC,aAAa;EACb;EACA;EACA,GAAGC;AACJ,CAAC,EAAG;EACH,MAAM;IACLC,IAAI;IACJC,UAAU;IACVC,QAAQ;IACRC,UAAU,GAAG,CAAC,CAAC;IACfC;EACD,CAAC,GAAGL,KAAK;EACT,MAAM;IAAEM,MAAM,GAAG,IAAI;IAAEC,QAAQ,GAAG,CAAC;EAAE,CAAC,GAAGH,UAAU;EACnD,MAAM;IAAEI;EAAS,CAAC,GAAGD,QAAQ;EAC7B,MAAME,aAAa,GAClB7B,eAAe,CAAEqB,IAAI,EAAE,QAAQ,EAAE,KAAM,CAAC,IACxCrB,eAAe,CAAEqB,IAAI,EAAE,sBAAsB,EAAE,KAAM,CAAC;EACvD,MAAM;IAAES;EAAsB,CAAC,GAAG/B,UAAU,CAAEW,mBAAoB,CAAC;EAEnE,oBACCI,KAAA,CAACZ;EACA;EACA;EACA;EAAA;IACA6B,KAAK,EAAGjC,OAAO,CACd,OAAQ;MACPuB,IAAI;MACJC,UAAU;MACVC,QAAQ;MACRG,MAAM,EAAEG,aAAa,GAAGH,MAAM,GAAG,IAAI;MACrCD,0BAA0B;MAC1B;MACA;MACA,CAAErB,qBAAqB,GAAIY,kBAAkB;MAC7C,CAAEX,2BAA2B,GAAIY,wBAAwB;MACzD,CAAEX,mBAAmB,GAAIY,gBAAgB;MACzC,CAAEX,gBAAgB,GAAIqB,QAAQ;MAC9B,CAAEpB,gBAAgB,GAAIW;IACvB,CAAC,CAAE,EACH,CACCE,IAAI,EACJC,UAAU,EACVC,QAAQ,EACRM,aAAa,EACbH,MAAM,EACND,0BAA0B,EAC1BT,kBAAkB,EAClBC,wBAAwB,EACxBC,gBAAgB,EAChBU,QAAQ,EACRT,aAAa,CAEf,CAAG;IAAAa,QAAA,gBAEHpB,IAAA,CAACX,IAAI;MAAA,GAAMmB;IAAK,CAAI,CAAC,EACnBU,qBAAqB,iBACtBlB,IAAA,CAACH,oBAAoB;MACpBqB,qBAAqB,EAAGA,qBAAuB;MAC/CT,IAAI,EAAGA,IAAM;MACbY,SAAS,EAAGb,KAAK,CAACa;IAAW,CAC7B,CACD;EAAA,CACwB,CAAC;AAE7B","ignoreList":[]}