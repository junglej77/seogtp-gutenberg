{"version":3,"names":["useSelect","getDefaultBlockName","DefaultBlockAppender","styles","store","blockEditorStore","jsx","_jsx","DefaultAppender","rootClientId","showSeparator","blockClientIds","canInsertDefaultBlock","select","getBlockOrder","canInsertBlockType","lastBlockClientId","length","containerStyle","blockListAppender","placeholder","BlockListAppender","renderAppender","CustomAppender","isLocked","getTemplateLock"],"sources":["@wordpress/block-editor/src/components/block-list-appender/index.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { getDefaultBlockName } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport DefaultBlockAppender from '../default-block-appender';\r\nimport styles from './style.scss';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nfunction DefaultAppender( { rootClientId, showSeparator } ) {\r\n\tconst { blockClientIds, canInsertDefaultBlock } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlockOrder, canInsertBlockType } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\t\t\treturn {\r\n\t\t\t\tblockClientIds: getBlockOrder( rootClientId ),\r\n\t\t\t\tcanInsertDefaultBlock: canInsertBlockType(\r\n\t\t\t\t\tgetDefaultBlockName(),\r\n\t\t\t\t\trootClientId\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ rootClientId ]\r\n\t);\r\n\r\n\tif ( ! canInsertDefaultBlock ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DefaultBlockAppender\r\n\t\t\trootClientId={ rootClientId }\r\n\t\t\tlastBlockClientId={ blockClientIds[ blockClientIds.length - 1 ] }\r\n\t\t\tcontainerStyle={ styles.blockListAppender }\r\n\t\t\tplaceholder={ blockClientIds.length > 0 ? '' : null }\r\n\t\t\tshowSeparator={ showSeparator }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default function BlockListAppender( {\r\n\trootClientId,\r\n\trenderAppender: CustomAppender,\r\n\tshowSeparator,\r\n} ) {\r\n\tconst isLocked = useSelect(\r\n\t\t( select ) =>\r\n\t\t\t!! select( blockEditorStore ).getTemplateLock( rootClientId ),\r\n\t\t[ rootClientId ]\r\n\t);\r\n\r\n\tif ( isLocked ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif ( CustomAppender ) {\r\n\t\treturn <CustomAppender showSeparator={ showSeparator } />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DefaultAppender\r\n\t\t\trootClientId={ rootClientId }\r\n\t\t\tshowSeparator={ showSeparator }\r\n\t\t/>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,mBAAmB,QAAQ,mBAAmB;;AAEvD;AACA;AACA;AACA,OAAOC,oBAAoB,MAAM,2BAA2B;AAC5D,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExD,SAASC,eAAeA,CAAE;EAAEC,YAAY;EAAEC;AAAc,CAAC,EAAG;EAC3D,MAAM;IAAEC,cAAc;IAAEC;EAAsB,CAAC,GAAGZ,SAAS,CACxDa,MAAM,IAAM;IACb,MAAM;MAAEC,aAAa;MAAEC;IAAmB,CAAC,GAC1CF,MAAM,CAAER,gBAAiB,CAAC;IAC3B,OAAO;MACNM,cAAc,EAAEG,aAAa,CAAEL,YAAa,CAAC;MAC7CG,qBAAqB,EAAEG,kBAAkB,CACxCd,mBAAmB,CAAC,CAAC,EACrBQ,YACD;IACD,CAAC;EACF,CAAC,EACD,CAAEA,YAAY,CACf,CAAC;EAED,IAAK,CAAEG,qBAAqB,EAAG;IAC9B,OAAO,IAAI;EACZ;EAEA,oBACCL,IAAA,CAACL,oBAAoB;IACpBO,YAAY,EAAGA,YAAc;IAC7BO,iBAAiB,EAAGL,cAAc,CAAEA,cAAc,CAACM,MAAM,GAAG,CAAC,CAAI;IACjEC,cAAc,EAAGf,MAAM,CAACgB,iBAAmB;IAC3CC,WAAW,EAAGT,cAAc,CAACM,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,IAAM;IACrDP,aAAa,EAAGA;EAAe,CAC/B,CAAC;AAEJ;AAEA,eAAe,SAASW,iBAAiBA,CAAE;EAC1CZ,YAAY;EACZa,cAAc,EAAEC,cAAc;EAC9Bb;AACD,CAAC,EAAG;EACH,MAAMc,QAAQ,GAAGxB,SAAS,CACvBa,MAAM,IACP,CAAC,CAAEA,MAAM,CAAER,gBAAiB,CAAC,CAACoB,eAAe,CAAEhB,YAAa,CAAC,EAC9D,CAAEA,YAAY,CACf,CAAC;EAED,IAAKe,QAAQ,EAAG;IACf,OAAO,IAAI;EACZ;EAEA,IAAKD,cAAc,EAAG;IACrB,oBAAOhB,IAAA,CAACgB,cAAc;MAACb,aAAa,EAAGA;IAAe,CAAE,CAAC;EAC1D;EAEA,oBACCH,IAAA,CAACC,eAAe;IACfC,YAAY,EAAGA,YAAc;IAC7BC,aAAa,EAAGA;EAAe,CAC/B,CAAC;AAEJ","ignoreList":[]}