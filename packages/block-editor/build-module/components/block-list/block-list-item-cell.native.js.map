{"version":3,"names":["View","useEffect","useCallback","useSelect","useBlockListContext","store","blockEditorStore","jsx","_jsx","BlockListItemCell","children","item","clientId","onLayout","blocksLayouts","updateBlocksLayouts","rootClientId","select","getBlockRootClientId","shouldRemove","onCellLayout","event","nativeEvent","layout","testID"],"sources":["@wordpress/block-editor/src/components/block-list/block-list-item-cell.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useCallback } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useBlockListContext } from './block-list-context';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nfunction BlockListItemCell( { children, item: clientId, onLayout } ) {\r\n\tconst { blocksLayouts, updateBlocksLayouts } = useBlockListContext();\r\n\tconst { rootClientId } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlockRootClientId } = select( blockEditorStore );\r\n\t\t\treturn { rootClientId: getBlockRootClientId( clientId ) };\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tuseEffect( () => {\r\n\t\treturn () => {\r\n\t\t\tupdateBlocksLayouts( blocksLayouts, {\r\n\t\t\t\tclientId,\r\n\t\t\t\tshouldRemove: true,\r\n\t\t\t} );\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst onCellLayout = useCallback(\r\n\t\t( event ) => {\r\n\t\t\tconst {\r\n\t\t\t\tnativeEvent: { layout },\r\n\t\t\t} = event;\r\n\t\t\tupdateBlocksLayouts( blocksLayouts, {\r\n\t\t\t\tclientId,\r\n\t\t\t\trootClientId,\r\n\t\t\t\t...layout,\r\n\t\t\t} );\r\n\r\n\t\t\tif ( onLayout ) {\r\n\t\t\t\tonLayout( event );\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ clientId, rootClientId, updateBlocksLayouts, onLayout ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<View testID=\"block-list-item-cell\" onLayout={ onCellLayout }>\r\n\t\t\t{ children }\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nexport default BlockListItemCell;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,IAAI,QAAQ,cAAc;;AAEnC;AACA;AACA;AACA,SAASC,SAAS,EAAEC,WAAW,QAAQ,oBAAoB;AAC3D,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,mBAAmB,QAAQ,sBAAsB;AAC1D,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExD,SAASC,iBAAiBA,CAAE;EAAEC,QAAQ;EAAEC,IAAI,EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAG;EACpE,MAAM;IAAEC,aAAa;IAAEC;EAAoB,CAAC,GAAGX,mBAAmB,CAAC,CAAC;EACpE,MAAM;IAAEY;EAAa,CAAC,GAAGb,SAAS,CAC/Bc,MAAM,IAAM;IACb,MAAM;MAAEC;IAAqB,CAAC,GAAGD,MAAM,CAAEX,gBAAiB,CAAC;IAC3D,OAAO;MAAEU,YAAY,EAAEE,oBAAoB,CAAEN,QAAS;IAAE,CAAC;EAC1D,CAAC,EACD,CAAEA,QAAQ,CACX,CAAC;EAEDX,SAAS,CAAE,MAAM;IAChB,OAAO,MAAM;MACZc,mBAAmB,CAAED,aAAa,EAAE;QACnCF,QAAQ;QACRO,YAAY,EAAE;MACf,CAAE,CAAC;IACJ,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,MAAMC,YAAY,GAAGlB,WAAW,CAC7BmB,KAAK,IAAM;IACZ,MAAM;MACLC,WAAW,EAAE;QAAEC;MAAO;IACvB,CAAC,GAAGF,KAAK;IACTN,mBAAmB,CAAED,aAAa,EAAE;MACnCF,QAAQ;MACRI,YAAY;MACZ,GAAGO;IACJ,CAAE,CAAC;IAEH,IAAKV,QAAQ,EAAG;MACfA,QAAQ,CAAEQ,KAAM,CAAC;IAClB;EACD,CAAC,EACD,CAAET,QAAQ,EAAEI,YAAY,EAAED,mBAAmB,EAAEF,QAAQ,CACxD,CAAC;EAED,oBACCL,IAAA,CAACR,IAAI;IAACwB,MAAM,EAAC,sBAAsB;IAACX,QAAQ,EAAGO,YAAc;IAAAV,QAAA,EAC1DA;EAAQ,CACL,CAAC;AAET;AAEA,eAAeD,iBAAiB","ignoreList":[]}