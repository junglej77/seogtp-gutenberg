{"version":3,"names":["View","useSelect","Block","Grid","BlockInsertionPoint","store","blockEditorStore","useEditorWrapperStyles","jsx","_jsx","jsxs","_jsxs","BlockListItemContent","blockWidth","clientId","contentResizeMode","contentStyle","index","isStackedHorizontally","marginHorizontal","marginVertical","onAddBlock","onDeleteBlock","parentWidth","rootClientId","shouldShowInnerBlockAppender","blockAlignment","blockName","hasParents","parentBlockAlignment","parentBlockName","shouldShowInsertionPointAfter","shouldShowInsertionPointBefore","select","getBlockAttributes","getBlockInsertionPoint","getBlockName","getBlockOrder","isBlockInsertionPointVisible","blockClientIds","insertionPoint","insertionPointVisibleInCurrentRoot","isListEmpty","length","isInsertionPointBeforeBlock","isInsertionPointAtEnd","isBlockLastInList","showInsertionPointBefore","showInsertionPointAfter","blockHasParents","name","parentName","align","textAlign","parentBlockAlign","wrapperStyles","margin","shouldShowBlockInsertionPointAfter","style","children","testID","BlockListItem","props","isGridItem","numOfColumns","tileCount","tileIndex","restProps","maxWidth"],"sources":["@wordpress/block-editor/src/components/block-list/block-list-item.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Block from './block';\r\nimport Grid from './grid-item';\r\nimport BlockInsertionPoint from './insertion-point';\r\nimport { store as blockEditorStore } from '../../store';\r\nimport { useEditorWrapperStyles } from '../../hooks/use-editor-wrapper-styles';\r\n\r\n/**\r\n * BlockListItemContent component. Renders a block with an optional insertion point.\r\n *\r\n * @param {Object}   props                              Component properties.\r\n * @param {number}   props.blockWidth                   The width of the block.\r\n * @param {string}   props.clientId                     The block client ID.\r\n * @param {string}   props.contentResizeMode            The content resize mode, e.g \"stretch\".\r\n * @param {Object}   props.contentStyle                 Styles for the block content\r\n * @param {Object}   props.index                        Block item index\r\n * @param {boolean}  props.isStackedHorizontally        Whether the block is stacked horizontally.\r\n * @param {number}   props.marginHorizontal             The horizontal margin.\r\n * @param {number}   props.marginVertical               The vertical margin.\r\n * @param {Function} props.onAddBlock                   On add block callback.\r\n * @param {Function} props.onDeleteBlock                On delete block callback.\r\n * @param {number}   props.parentWidth                  The width of the parent block.\r\n * @param {string}   props.rootClientId                 The root client ID.\r\n * @param {Function} props.shouldShowInnerBlockAppender Whether to show the inner block appender.\r\n *\r\n * @return {Component} The rendered block list item content.\r\n */\r\nfunction BlockListItemContent( {\r\n\tblockWidth,\r\n\tclientId,\r\n\tcontentResizeMode,\r\n\tcontentStyle,\r\n\tindex,\r\n\tisStackedHorizontally,\r\n\tmarginHorizontal,\r\n\tmarginVertical,\r\n\tonAddBlock,\r\n\tonDeleteBlock,\r\n\tparentWidth,\r\n\trootClientId,\r\n\tshouldShowInnerBlockAppender,\r\n} ) {\r\n\tconst {\r\n\t\tblockAlignment,\r\n\t\tblockName,\r\n\t\thasParents,\r\n\t\tparentBlockAlignment,\r\n\t\tparentBlockName,\r\n\t\tshouldShowInsertionPointAfter,\r\n\t\tshouldShowInsertionPointBefore,\r\n\t} = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetBlockAttributes,\r\n\t\t\t\tgetBlockInsertionPoint,\r\n\t\t\t\tgetBlockName,\r\n\t\t\t\tgetBlockOrder,\r\n\t\t\t\tisBlockInsertionPointVisible,\r\n\t\t\t} = select( blockEditorStore );\r\n\t\t\tconst blockClientIds = getBlockOrder( rootClientId );\r\n\t\t\tconst insertionPoint = getBlockInsertionPoint();\r\n\r\n\t\t\tconst insertionPointVisibleInCurrentRoot =\r\n\t\t\t\t! isStackedHorizontally &&\r\n\t\t\t\tisBlockInsertionPointVisible() &&\r\n\t\t\t\tinsertionPoint.rootClientId === rootClientId;\r\n\r\n\t\t\tconst isListEmpty = blockClientIds.length === 0;\r\n\t\t\tconst isInsertionPointBeforeBlock =\r\n\t\t\t\tblockClientIds[ insertionPoint.index ] === clientId;\r\n\t\t\tconst isInsertionPointAtEnd =\r\n\t\t\t\tblockClientIds.length === insertionPoint.index;\r\n\t\t\tconst isBlockLastInList =\r\n\t\t\t\tblockClientIds[ insertionPoint.index - 1 ] === clientId;\r\n\r\n\t\t\tconst showInsertionPointBefore =\r\n\t\t\t\tinsertionPointVisibleInCurrentRoot &&\r\n\t\t\t\t( isListEmpty || isInsertionPointBeforeBlock );\r\n\r\n\t\t\tconst showInsertionPointAfter =\r\n\t\t\t\tinsertionPointVisibleInCurrentRoot &&\r\n\t\t\t\tisInsertionPointAtEnd &&\r\n\t\t\t\tisBlockLastInList;\r\n\r\n\t\t\tconst blockHasParents = !! rootClientId;\r\n\t\t\tconst name = getBlockName( clientId );\r\n\t\t\tconst parentName = getBlockName( rootClientId );\r\n\t\t\tconst { align } = getBlockAttributes( clientId ) || {};\r\n\t\t\tconst { textAlign: parentBlockAlign } =\r\n\t\t\t\tgetBlockAttributes( rootClientId ) || {};\r\n\r\n\t\t\treturn {\r\n\t\t\t\tblockAlignment: align,\r\n\t\t\t\tblockName: name,\r\n\t\t\t\thasParents: blockHasParents,\r\n\t\t\t\tparentBlockAlignment: parentBlockAlign,\r\n\t\t\t\tparentBlockName: parentName,\r\n\t\t\t\tshouldShowInsertionPointAfter: showInsertionPointAfter,\r\n\t\t\t\tshouldShowInsertionPointBefore: showInsertionPointBefore,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ isStackedHorizontally, rootClientId, clientId ]\r\n\t);\r\n\r\n\tconst [ wrapperStyles, margin ] = useEditorWrapperStyles( {\r\n\t\talign: blockAlignment,\r\n\t\tblockName,\r\n\t\tblockWidth,\r\n\t\tcontentResizeMode,\r\n\t\thasParents,\r\n\t\tmarginHorizontal,\r\n\t\tparentBlockAlignment,\r\n\t\tparentBlockName,\r\n\t\tparentWidth,\r\n\t} );\r\n\r\n\tconst shouldShowBlockInsertionPointAfter =\r\n\t\t! shouldShowInnerBlockAppender() && shouldShowInsertionPointAfter;\r\n\r\n\treturn (\r\n\t\t<View style={ wrapperStyles }>\r\n\t\t\t{ shouldShowInsertionPointBefore && (\r\n\t\t\t\t<BlockInsertionPoint\r\n\t\t\t\t\ttestID={ `block-insertion-point-before-row-${ index + 1 }` }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t<Block\r\n\t\t\t\tblockWidth={ blockWidth }\r\n\t\t\t\tclientId={ clientId }\r\n\t\t\t\tcontentStyle={ contentStyle }\r\n\t\t\t\tisStackedHorizontally={ isStackedHorizontally }\r\n\t\t\t\tmarginHorizontal={ margin }\r\n\t\t\t\tmarginVertical={ marginVertical }\r\n\t\t\t\tonAddBlock={ onAddBlock }\r\n\t\t\t\tparentBlockAlignment={ parentBlockAlignment }\r\n\t\t\t\tonDeleteBlock={ onDeleteBlock }\r\n\t\t\t\tparentWidth={ parentWidth }\r\n\t\t\t\trootClientId={ rootClientId }\r\n\t\t\t/>\r\n\t\t\t{ shouldShowBlockInsertionPointAfter && (\r\n\t\t\t\t<BlockInsertionPoint\r\n\t\t\t\t\ttestID={ `block-insertion-point-after-row-${ index + 1 }` }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\n/**\r\n * BlockListItem component. Renders a block list item either as a grid item or as a standalone item.\r\n *\r\n * @param {Object}   props                              Component properties.\r\n * @param {boolean}  props.isGridItem                   Whether the block is a grid item.\r\n * @param {number}   props.numOfColumns                 The number of columns for grid layout.\r\n * @param {number}   props.parentWidth                  The width of the parent block.\r\n * @param {number}   props.tileCount                    The total number of tiles in the grid.\r\n * @param {number}   props.tileIndex                    The index of the current tile in the grid.\r\n * @param {number}   props.blockWidth                   The width of the block.\r\n * @param {string}   props.clientId                     The block client ID.\r\n * @param {string}   props.contentResizeMode            The content resize mode, e.g \"stretch\".\r\n * @param {Object}   props.contentStyle                 Styles for the block content\r\n * @param {Object}   props.index                        Block item index\r\n * @param {boolean}  props.isStackedHorizontally        Whether the block is stacked horizontally.\r\n * @param {number}   props.marginHorizontal             The horizontal margin.\r\n * @param {number}   props.marginVertical               The vertical margin.\r\n * @param {Function} props.onAddBlock                   On add block callback.\r\n * @param {Function} props.onDeleteBlock                On delete block callback.\r\n * @param {string}   props.rootClientId                 The root client ID.\r\n * @param {Function} props.shouldShowInnerBlockAppender Whether to show the inner block appender.\r\n *\r\n * @return {Component|null} The rendered block list item or null if the block width is not provided.\r\n */\r\nfunction BlockListItem( props ) {\r\n\tconst { isGridItem, numOfColumns, tileCount, tileIndex, ...restProps } =\r\n\t\tprops;\r\n\r\n\tif ( ! props?.blockWidth ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif ( isGridItem ) {\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tmaxWidth={ props?.parentWidth }\r\n\t\t\t\tnumOfColumns={ numOfColumns }\r\n\t\t\t\ttileCount={ tileCount }\r\n\t\t\t\tindex={ tileIndex }\r\n\t\t\t>\r\n\t\t\t\t<BlockListItemContent { ...restProps } />\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n\r\n\treturn <BlockListItemContent { ...restProps } />;\r\n}\r\n\r\nexport default BlockListItem;\r\n"],"mappings":"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","ignoreList":[]}