{"version":3,"names":["clsx","useContext","__","sprintf","__unstableGetBlockProps","getBlockProps","useMergeRefs","useDisabled","warning","useMovingAnimation","PrivateBlockContext","useFocusFirstElement","useIsHovered","blockBindingsKey","useBlockEditContext","useFocusHandler","useEventHandlers","useNavModeExit","useZoomOutModeExit","useBlockRefProvider","useIntersectionObserver","useScrollIntoView","useFlashEditableBlocks","canBindBlock","useBlockProps","props","__unstableIsHtml","clientId","className","wrapperProps","isAligned","index","mode","name","blockApiVersion","blockTitle","editorMode","isSelected","isSubtreeDisabled","hasOverlay","initialPosition","blockEditingMode","isHighlighted","isMultiSelected","isPartiallySelected","isReusable","isDragging","hasChildSelected","isBlockMovingMode","canInsertMovingBlock","isEditingDisabled","hasEditableOutline","isTemporarilyEditingAsBlocks","defaultClassName","templateLock","blockLabel","htmlSuffix","mergedRefs","ref","triggerAnimationOnChange","isDisabled","isEnabled","blockEditContext","hasBlockBindings","bindingsStyle","globalThis","SCRIPT_DEBUG","hasNegativeMargin","style","marginTop","charAt","marginBottom","marginLeft","marginRight","tabIndex","id","role","inert","undefined","save"],"sources":["@wordpress/block-editor/src/components/block-list/use-block-props/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useContext } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { __unstableGetBlockProps as getBlockProps } from '@wordpress/blocks';\r\nimport { useMergeRefs, useDisabled } from '@wordpress/compose';\r\nimport warning from '@wordpress/warning';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useMovingAnimation from '../../use-moving-animation';\r\nimport { PrivateBlockContext } from '../private-block-context';\r\nimport { useFocusFirstElement } from './use-focus-first-element';\r\nimport { useIsHovered } from './use-is-hovered';\r\nimport {\r\n\tblockBindingsKey,\r\n\tuseBlockEditContext,\r\n} from '../../block-edit/context';\r\nimport { useFocusHandler } from './use-focus-handler';\r\nimport { useEventHandlers } from './use-selected-block-event-handlers';\r\nimport { useNavModeExit } from './use-nav-mode-exit';\r\nimport { useZoomOutModeExit } from './use-zoom-out-mode-exit';\r\nimport { useBlockRefProvider } from './use-block-refs';\r\nimport { useIntersectionObserver } from './use-intersection-observer';\r\nimport { useScrollIntoView } from './use-scroll-into-view';\r\nimport { useFlashEditableBlocks } from '../../use-flash-editable-blocks';\r\nimport { canBindBlock } from '../../../hooks/use-bindings-attributes';\r\n\r\n/**\r\n * This hook is used to lightly mark an element as a block element. The element\r\n * should be the outermost element of a block. Call this hook and pass the\r\n * returned props to the element to mark as a block. If you define a ref for the\r\n * element, it is important to pass the ref to this hook, which the hook in turn\r\n * will pass to the component through the props it returns. Optionally, you can\r\n * also pass any other props through this hook, and they will be merged and\r\n * returned.\r\n *\r\n * Use of this hook on the outermost element of a block is required if using API >= v2.\r\n *\r\n * @example\r\n * ```js\r\n * import { useBlockProps } from '@wordpress/block-editor';\r\n *\r\n * export default function Edit() {\r\n *\r\n *   const blockProps = useBlockProps( {\r\n *     className: 'my-custom-class',\r\n *     style: {\r\n *       color: '#222222',\r\n *       backgroundColor: '#eeeeee'\r\n *     }\r\n *   } )\r\n *\r\n *   return (\r\n *\t    <div { ...blockProps }>\r\n *\r\n *     </div>\r\n *   )\r\n * }\r\n *\r\n * ```\r\n *\r\n *\r\n * @param {Object}  props                    Optional. Props to pass to the element. Must contain\r\n *                                           the ref if one is defined.\r\n * @param {Object}  options                  Options for internal use only.\r\n * @param {boolean} options.__unstableIsHtml\r\n *\r\n * @return {Object} Props to pass to the element to mark as a block.\r\n */\r\nexport function useBlockProps( props = {}, { __unstableIsHtml } = {} ) {\r\n\tconst {\r\n\t\tclientId,\r\n\t\tclassName,\r\n\t\twrapperProps = {},\r\n\t\tisAligned,\r\n\t\tindex,\r\n\t\tmode,\r\n\t\tname,\r\n\t\tblockApiVersion,\r\n\t\tblockTitle,\r\n\t\teditorMode,\r\n\t\tisSelected,\r\n\t\tisSubtreeDisabled,\r\n\t\thasOverlay,\r\n\t\tinitialPosition,\r\n\t\tblockEditingMode,\r\n\t\tisHighlighted,\r\n\t\tisMultiSelected,\r\n\t\tisPartiallySelected,\r\n\t\tisReusable,\r\n\t\tisDragging,\r\n\t\thasChildSelected,\r\n\t\tisBlockMovingMode,\r\n\t\tcanInsertMovingBlock,\r\n\t\tisEditingDisabled,\r\n\t\thasEditableOutline,\r\n\t\tisTemporarilyEditingAsBlocks,\r\n\t\tdefaultClassName,\r\n\t\ttemplateLock,\r\n\t} = useContext( PrivateBlockContext );\r\n\r\n\t// translators: %s: Type of block (i.e. Text, Image etc)\r\n\tconst blockLabel = sprintf( __( 'Block: %s' ), blockTitle );\r\n\tconst htmlSuffix = mode === 'html' && ! __unstableIsHtml ? '-visual' : '';\r\n\tconst mergedRefs = useMergeRefs( [\r\n\t\tprops.ref,\r\n\t\tuseFocusFirstElement( { clientId, initialPosition } ),\r\n\t\tuseBlockRefProvider( clientId ),\r\n\t\tuseFocusHandler( clientId ),\r\n\t\tuseEventHandlers( { clientId, isSelected } ),\r\n\t\tuseNavModeExit( clientId ),\r\n\t\tuseZoomOutModeExit( { editorMode } ),\r\n\t\tuseIsHovered( { clientId } ),\r\n\t\tuseIntersectionObserver(),\r\n\t\tuseMovingAnimation( { triggerAnimationOnChange: index, clientId } ),\r\n\t\tuseDisabled( { isDisabled: ! hasOverlay } ),\r\n\t\tuseFlashEditableBlocks( {\r\n\t\t\tclientId,\r\n\t\t\tisEnabled: name === 'core/block' || templateLock === 'contentOnly',\r\n\t\t} ),\r\n\t\tuseScrollIntoView( { isSelected } ),\r\n\t] );\r\n\r\n\tconst blockEditContext = useBlockEditContext();\r\n\tconst hasBlockBindings = !! blockEditContext[ blockBindingsKey ];\r\n\tconst bindingsStyle =\r\n\t\thasBlockBindings && canBindBlock( name )\r\n\t\t\t? {\r\n\t\t\t\t\t'--wp-admin-theme-color': 'var(--wp-block-synced-color)',\r\n\t\t\t\t\t'--wp-admin-theme-color--rgb':\r\n\t\t\t\t\t\t'var(--wp-block-synced-color--rgb)',\r\n\t\t\t  }\r\n\t\t\t: {};\r\n\r\n\t// Ensures it warns only inside the `edit` implementation for the block.\r\n\tif ( blockApiVersion < 2 && clientId === blockEditContext.clientId ) {\r\n\t\twarning(\r\n\t\t\t`Block type \"${ name }\" must support API version 2 or higher to work correctly with \"useBlockProps\" method.`\r\n\t\t);\r\n\t}\r\n\r\n\tlet hasNegativeMargin = false;\r\n\tif (\r\n\t\twrapperProps?.style?.marginTop?.charAt( 0 ) === '-' ||\r\n\t\twrapperProps?.style?.marginBottom?.charAt( 0 ) === '-' ||\r\n\t\twrapperProps?.style?.marginLeft?.charAt( 0 ) === '-' ||\r\n\t\twrapperProps?.style?.marginRight?.charAt( 0 ) === '-'\r\n\t) {\r\n\t\thasNegativeMargin = true;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttabIndex: blockEditingMode === 'disabled' ? -1 : 0,\r\n\t\t...wrapperProps,\r\n\t\t...props,\r\n\t\tref: mergedRefs,\r\n\t\tid: `block-${ clientId }${ htmlSuffix }`,\r\n\t\trole: 'document',\r\n\t\t'aria-label': blockLabel,\r\n\t\t'data-block': clientId,\r\n\t\t'data-type': name,\r\n\t\t'data-title': blockTitle,\r\n\t\tinert: isSubtreeDisabled ? 'true' : undefined,\r\n\t\tclassName: clsx(\r\n\t\t\t'block-editor-block-list__block',\r\n\t\t\t{\r\n\t\t\t\t// The wp-block className is important for editor styles.\r\n\t\t\t\t'wp-block': ! isAligned,\r\n\t\t\t\t'has-block-overlay': hasOverlay,\r\n\t\t\t\t'is-selected': isSelected,\r\n\t\t\t\t'is-highlighted': isHighlighted,\r\n\t\t\t\t'is-multi-selected': isMultiSelected,\r\n\t\t\t\t'is-partially-selected': isPartiallySelected,\r\n\t\t\t\t'is-reusable': isReusable,\r\n\t\t\t\t'is-dragging': isDragging,\r\n\t\t\t\t'has-child-selected': hasChildSelected,\r\n\t\t\t\t'is-block-moving-mode': isBlockMovingMode,\r\n\t\t\t\t'can-insert-moving-block': canInsertMovingBlock,\r\n\t\t\t\t'is-editing-disabled': isEditingDisabled,\r\n\t\t\t\t'has-editable-outline': hasEditableOutline,\r\n\t\t\t\t'has-negative-margin': hasNegativeMargin,\r\n\t\t\t\t'is-content-locked-temporarily-editing-as-blocks':\r\n\t\t\t\t\tisTemporarilyEditingAsBlocks,\r\n\t\t\t},\r\n\t\t\tclassName,\r\n\t\t\tprops.className,\r\n\t\t\twrapperProps.className,\r\n\t\t\tdefaultClassName\r\n\t\t),\r\n\t\tstyle: { ...wrapperProps.style, ...props.style, ...bindingsStyle },\r\n\t};\r\n}\r\n\r\n/**\r\n * Call within a save function to get the props for the block wrapper.\r\n *\r\n * @param {Object} props Optional. Props to pass to the element.\r\n */\r\nuseBlockProps.save = getBlockProps;\r\n"],"mappings":"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","ignoreList":[]}