{"version":3,"names":["useRefEffect","useDispatch","store","blockEditorStore","useIsHovered","clientId","hoverBlock","listener","event","defaultPrevented","action","type","preventDefault","currentTarget","classList","node","addEventListener","removeEventListener","remove"],"sources":["@wordpress/block-editor/src/components/block-list/use-block-props/use-is-hovered.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useRefEffect } from '@wordpress/compose';\r\nimport { useDispatch } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../../store';\r\n\r\n/*\r\n * Adds `is-hovered` class when the block is hovered and in navigation or\r\n * outline mode.\r\n */\r\nexport function useIsHovered( { clientId } ) {\r\n\tconst { hoverBlock } = useDispatch( blockEditorStore );\r\n\r\n\tfunction listener( event ) {\r\n\t\tif ( event.defaultPrevented ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst action = event.type === 'mouseover' ? 'add' : 'remove';\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.currentTarget.classList[ action ]( 'is-hovered' );\r\n\r\n\t\tif ( action === 'add' ) {\r\n\t\t\thoverBlock( clientId );\r\n\t\t} else {\r\n\t\t\thoverBlock( null );\r\n\t\t}\r\n\t}\r\n\r\n\treturn useRefEffect( ( node ) => {\r\n\t\tnode.addEventListener( 'mouseout', listener );\r\n\t\tnode.addEventListener( 'mouseover', listener );\r\n\r\n\t\treturn () => {\r\n\t\t\tnode.removeEventListener( 'mouseout', listener );\r\n\t\t\tnode.removeEventListener( 'mouseover', listener );\r\n\r\n\t\t\t// Remove class in case it lingers.\r\n\t\t\tnode.classList.remove( 'is-hovered' );\r\n\t\t\thoverBlock( null );\r\n\t\t};\r\n\t}, [] );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,QAAQ,oBAAoB;AACjD,SAASC,WAAW,QAAQ,iBAAiB;;AAE7C;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,gBAAgB;;AAE1D;AACA;AACA;AACA;AACA,OAAO,SAASC,YAAYA,CAAE;EAAEC;AAAS,CAAC,EAAG;EAC5C,MAAM;IAAEC;EAAW,CAAC,GAAGL,WAAW,CAAEE,gBAAiB,CAAC;EAEtD,SAASI,QAAQA,CAAEC,KAAK,EAAG;IAC1B,IAAKA,KAAK,CAACC,gBAAgB,EAAG;MAC7B;IACD;IAEA,MAAMC,MAAM,GAAGF,KAAK,CAACG,IAAI,KAAK,WAAW,GAAG,KAAK,GAAG,QAAQ;IAE5DH,KAAK,CAACI,cAAc,CAAC,CAAC;IACtBJ,KAAK,CAACK,aAAa,CAACC,SAAS,CAAEJ,MAAM,CAAE,CAAE,YAAa,CAAC;IAEvD,IAAKA,MAAM,KAAK,KAAK,EAAG;MACvBJ,UAAU,CAAED,QAAS,CAAC;IACvB,CAAC,MAAM;MACNC,UAAU,CAAE,IAAK,CAAC;IACnB;EACD;EAEA,OAAON,YAAY,CAAIe,IAAI,IAAM;IAChCA,IAAI,CAACC,gBAAgB,CAAE,UAAU,EAAET,QAAS,CAAC;IAC7CQ,IAAI,CAACC,gBAAgB,CAAE,WAAW,EAAET,QAAS,CAAC;IAE9C,OAAO,MAAM;MACZQ,IAAI,CAACE,mBAAmB,CAAE,UAAU,EAAEV,QAAS,CAAC;MAChDQ,IAAI,CAACE,mBAAmB,CAAE,WAAW,EAAEV,QAAS,CAAC;;MAEjD;MACAQ,IAAI,CAACD,SAAS,CAACI,MAAM,CAAE,YAAa,CAAC;MACrCZ,UAAU,CAAE,IAAK,CAAC;IACnB,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;AACR","ignoreList":[]}