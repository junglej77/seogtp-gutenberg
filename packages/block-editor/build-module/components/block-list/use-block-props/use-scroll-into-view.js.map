{"version":3,"names":["useReducedMotion","useRefEffect","useScrollIntoView","isSelected","prefersReducedMotion","node","ownerDocument","defaultView","IntersectionObserver","observer","entries","isIntersecting","scrollIntoView","behavior","disconnect","observe"],"sources":["@wordpress/block-editor/src/components/block-list/use-block-props/use-scroll-into-view.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useReducedMotion, useRefEffect } from '@wordpress/compose';\r\n\r\nexport function useScrollIntoView( { isSelected } ) {\r\n\tconst prefersReducedMotion = useReducedMotion();\r\n\treturn useRefEffect(\r\n\t\t( node ) => {\r\n\t\t\tif ( isSelected ) {\r\n\t\t\t\tconst { ownerDocument } = node;\r\n\t\t\t\tconst { defaultView } = ownerDocument;\r\n\t\t\t\tif ( ! defaultView.IntersectionObserver ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst observer = new defaultView.IntersectionObserver(\r\n\t\t\t\t\t( entries ) => {\r\n\t\t\t\t\t\t// Once observing starts, we always get an initial\r\n\t\t\t\t\t\t// entry with the intersecting state.\r\n\t\t\t\t\t\tif ( ! entries[ 0 ].isIntersecting ) {\r\n\t\t\t\t\t\t\tnode.scrollIntoView( {\r\n\t\t\t\t\t\t\t\tbehavior: prefersReducedMotion\r\n\t\t\t\t\t\t\t\t\t? 'instant'\r\n\t\t\t\t\t\t\t\t\t: 'smooth',\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tobserver.disconnect();\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tobserver.observe( node );\r\n\t\t\t\treturn () => {\r\n\t\t\t\t\tobserver.disconnect();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ isSelected ]\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,gBAAgB,EAAEC,YAAY,QAAQ,oBAAoB;AAEnE,OAAO,SAASC,iBAAiBA,CAAE;EAAEC;AAAW,CAAC,EAAG;EACnD,MAAMC,oBAAoB,GAAGJ,gBAAgB,CAAC,CAAC;EAC/C,OAAOC,YAAY,CAChBI,IAAI,IAAM;IACX,IAAKF,UAAU,EAAG;MACjB,MAAM;QAAEG;MAAc,CAAC,GAAGD,IAAI;MAC9B,MAAM;QAAEE;MAAY,CAAC,GAAGD,aAAa;MACrC,IAAK,CAAEC,WAAW,CAACC,oBAAoB,EAAG;QACzC;MACD;MACA,MAAMC,QAAQ,GAAG,IAAIF,WAAW,CAACC,oBAAoB,CAClDE,OAAO,IAAM;QACd;QACA;QACA,IAAK,CAAEA,OAAO,CAAE,CAAC,CAAE,CAACC,cAAc,EAAG;UACpCN,IAAI,CAACO,cAAc,CAAE;YACpBC,QAAQ,EAAET,oBAAoB,GAC3B,SAAS,GACT;UACJ,CAAE,CAAC;QACJ;QACAK,QAAQ,CAACK,UAAU,CAAC,CAAC;MACtB,CACD,CAAC;MACDL,QAAQ,CAACM,OAAO,CAAEV,IAAK,CAAC;MACxB,OAAO,MAAM;QACZI,QAAQ,CAACK,UAAU,CAAC,CAAC;MACtB,CAAC;IACF;EACD,CAAC,EACD,CAAEX,UAAU,CACb,CAAC;AACF","ignoreList":[]}