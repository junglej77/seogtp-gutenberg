{"version":3,"names":["useDispatch","useRefEffect","store","blockEditorStore","unlock","useZoomOutModeExit","editorMode","__unstableSetEditorMode","node","onDoubleClick","event","defaultPrevented","preventDefault","addEventListener","removeEventListener"],"sources":["@wordpress/block-editor/src/components/block-list/use-block-props/use-zoom-out-mode-exit.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { useRefEffect } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../../store';\r\nimport { unlock } from '../../../lock-unlock';\r\n\r\n/**\r\n * Allows Zoom Out mode to be exited by double clicking in the selected block.\r\n *\r\n * @param {string} clientId Block client ID.\r\n */\r\nexport function useZoomOutModeExit( { editorMode } ) {\r\n\tconst { __unstableSetEditorMode } = unlock(\r\n\t\tuseDispatch( blockEditorStore )\r\n\t);\r\n\r\n\treturn useRefEffect(\r\n\t\t( node ) => {\r\n\t\t\tif ( editorMode !== 'zoom-out' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfunction onDoubleClick( event ) {\r\n\t\t\t\tif ( ! event.defaultPrevented ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t__unstableSetEditorMode( 'edit' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tnode.addEventListener( 'dblclick', onDoubleClick );\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tnode.removeEventListener( 'dblclick', onDoubleClick );\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ editorMode, __unstableSetEditorMode ]\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,YAAY,QAAQ,oBAAoB;;AAEjD;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,gBAAgB;AAC1D,SAASC,MAAM,QAAQ,sBAAsB;;AAE7C;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,kBAAkBA,CAAE;EAAEC;AAAW,CAAC,EAAG;EACpD,MAAM;IAAEC;EAAwB,CAAC,GAAGH,MAAM,CACzCJ,WAAW,CAAEG,gBAAiB,CAC/B,CAAC;EAED,OAAOF,YAAY,CAChBO,IAAI,IAAM;IACX,IAAKF,UAAU,KAAK,UAAU,EAAG;MAChC;IACD;IAEA,SAASG,aAAaA,CAAEC,KAAK,EAAG;MAC/B,IAAK,CAAEA,KAAK,CAACC,gBAAgB,EAAG;QAC/BD,KAAK,CAACE,cAAc,CAAC,CAAC;QACtBL,uBAAuB,CAAE,MAAO,CAAC;MAClC;IACD;IAEAC,IAAI,CAACK,gBAAgB,CAAE,UAAU,EAAEJ,aAAc,CAAC;IAElD,OAAO,MAAM;MACZD,IAAI,CAACM,mBAAmB,CAAE,UAAU,EAAEL,aAAc,CAAC;IACtD,CAAC;EACF,CAAC,EACD,CAAEH,UAAU,EAAEC,uBAAuB,CACtC,CAAC;AACF","ignoreList":[]}