{"version":3,"names":["useEffect","useSelect","useBlockListContext","store","blockEditorStore","useScrollUponInsertion","clientId","isSelected","isLayoutCalculated","elementRef","scrollRef","wasBlockJustInserted","select","lastScrollTo","current","alreadyScrolledTo","scrollToElement"],"sources":["@wordpress/block-editor/src/components/block-list/use-scroll-upon-insertion.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useBlockListContext } from './block-list-context';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nconst useScrollUponInsertion = ( {\r\n\tclientId,\r\n\tisSelected,\r\n\tisLayoutCalculated,\r\n\telementRef,\r\n} ) => {\r\n\tconst { scrollRef } = useBlockListContext();\r\n\tconst wasBlockJustInserted = useSelect(\r\n\t\t( select ) =>\r\n\t\t\t!! select( blockEditorStore ).wasBlockJustInserted(\r\n\t\t\t\tclientId,\r\n\t\t\t\t'inserter_menu'\r\n\t\t\t),\r\n\t\t[ clientId ]\r\n\t);\r\n\tuseEffect( () => {\r\n\t\tconst lastScrollTo = scrollRef?.lastScrollTo.current;\r\n\t\tconst alreadyScrolledTo = lastScrollTo?.clientId === clientId;\r\n\t\tif (\r\n\t\t\talreadyScrolledTo ||\r\n\t\t\t! isSelected ||\r\n\t\t\t! scrollRef ||\r\n\t\t\t! wasBlockJustInserted ||\r\n\t\t\t! isLayoutCalculated\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tscrollRef.scrollToElement( elementRef );\r\n\t\tlastScrollTo.clientId = clientId;\r\n\t}, [\r\n\t\tisSelected,\r\n\t\tscrollRef,\r\n\t\twasBlockJustInserted,\r\n\t\telementRef,\r\n\t\tisLayoutCalculated,\r\n\t\tclientId,\r\n\t] );\r\n};\r\n\r\nexport default useScrollUponInsertion;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,mBAAmB,QAAQ,sBAAsB;AAC1D,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAEvD,MAAMC,sBAAsB,GAAGA,CAAE;EAChCC,QAAQ;EACRC,UAAU;EACVC,kBAAkB;EAClBC;AACD,CAAC,KAAM;EACN,MAAM;IAAEC;EAAU,CAAC,GAAGR,mBAAmB,CAAC,CAAC;EAC3C,MAAMS,oBAAoB,GAAGV,SAAS,CACnCW,MAAM,IACP,CAAC,CAAEA,MAAM,CAAER,gBAAiB,CAAC,CAACO,oBAAoB,CACjDL,QAAQ,EACR,eACD,CAAC,EACF,CAAEA,QAAQ,CACX,CAAC;EACDN,SAAS,CAAE,MAAM;IAChB,MAAMa,YAAY,GAAGH,SAAS,EAAEG,YAAY,CAACC,OAAO;IACpD,MAAMC,iBAAiB,GAAGF,YAAY,EAAEP,QAAQ,KAAKA,QAAQ;IAC7D,IACCS,iBAAiB,IACjB,CAAER,UAAU,IACZ,CAAEG,SAAS,IACX,CAAEC,oBAAoB,IACtB,CAAEH,kBAAkB,EACnB;MACD;IACD;IACAE,SAAS,CAACM,eAAe,CAAEP,UAAW,CAAC;IACvCI,YAAY,CAACP,QAAQ,GAAGA,QAAQ;EACjC,CAAC,EAAE,CACFC,UAAU,EACVG,SAAS,EACTC,oBAAoB,EACpBF,UAAU,EACVD,kBAAkB,EAClBF,QAAQ,CACP,CAAC;AACJ,CAAC;AAED,eAAeD,sBAAsB","ignoreList":[]}