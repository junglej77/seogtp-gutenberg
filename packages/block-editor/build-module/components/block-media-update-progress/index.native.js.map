{"version":3,"names":["View","Component","Spinner","__","subscribeMediaUpload","subscribeMediaSave","styles","jsx","_jsx","jsxs","_jsxs","MEDIA_UPLOAD_STATE_UPLOADING","MEDIA_UPLOAD_STATE_SUCCEEDED","MEDIA_UPLOAD_STATE_FAILED","MEDIA_UPLOAD_STATE_RESET","MEDIA_SAVE_STATE_SAVING","MEDIA_SAVE_STATE_SUCCEEDED","MEDIA_SAVE_STATE_FAILED","MEDIA_SAVE_STATE_RESET","MEDIA_SAVE_FINAL_STATE_RESULT","MEDIA_SAVE_MEDIAID_CHANGED","BlockMediaUpdateProgress","constructor","props","state","progress","isSaveInProgress","isSaveFailed","isUploadInProgress","isUploadFailed","mediaUpload","bind","mediaSave","componentDidMount","addMediaUploadListener","addMediaSaveListener","componentWillUnmount","removeMediaUploadListener","removeMediaSaveListener","mediaIdContainedInMediaFiles","mediaId","mediaFiles","undefined","some","element","id","toString","payload","updateMediaUploadProgress","finishMediaUploadWithSuccess","finishMediaUploadWithFailure","mediaUploadStateReset","updateMediaSaveProgress","finishMediaSaveWithSuccess","finishMediaSaveWithFailure","mediaSaveStateReset","finalSaveResult","mediaIdChanged","setState","onUpdateMediaSaveProgress","onFinishMediaSaveWithSuccess","onFinishMediaSaveWithFailure","onMediaSaveStateReset","success","onFinalSaveResult","onMediaIdChanged","onUpdateMediaUploadProgress","onFinishMediaUploadWithSuccess","onFinishMediaUploadWithFailure","onMediaUploadStateReset","subscriptionParentMediaUpload","remove","subscriptionParentMediaSave","render","renderContent","showSpinner","retryMessageSave","retryMessageUpload","retryMessage","style","mediaUploadProgress","pointerEvents","children","progressBar","testID"],"sources":["@wordpress/block-editor/src/components/block-media-update-progress/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { Component } from '@wordpress/element';\r\nimport { Spinner } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tsubscribeMediaUpload,\r\n\tsubscribeMediaSave,\r\n} from '@wordpress/react-native-bridge';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './styles.scss';\r\n\r\nexport const MEDIA_UPLOAD_STATE_UPLOADING = 1;\r\nexport const MEDIA_UPLOAD_STATE_SUCCEEDED = 2;\r\nexport const MEDIA_UPLOAD_STATE_FAILED = 3;\r\nexport const MEDIA_UPLOAD_STATE_RESET = 4;\r\n\r\nexport const MEDIA_SAVE_STATE_SAVING = 5;\r\nexport const MEDIA_SAVE_STATE_SUCCEEDED = 6;\r\nexport const MEDIA_SAVE_STATE_FAILED = 7;\r\nexport const MEDIA_SAVE_STATE_RESET = 8;\r\nexport const MEDIA_SAVE_FINAL_STATE_RESULT = 9;\r\nexport const MEDIA_SAVE_MEDIAID_CHANGED = 10;\r\n\r\nexport class BlockMediaUpdateProgress extends Component {\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\r\n\t\tthis.state = {\r\n\t\t\tprogress: 0,\r\n\t\t\tisSaveInProgress: false,\r\n\t\t\tisSaveFailed: false,\r\n\t\t\tisUploadInProgress: false,\r\n\t\t\tisUploadFailed: false,\r\n\t\t};\r\n\r\n\t\tthis.mediaUpload = this.mediaUpload.bind( this );\r\n\t\tthis.mediaSave = this.mediaSave.bind( this );\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.addMediaUploadListener();\r\n\t\tthis.addMediaSaveListener();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.removeMediaUploadListener();\r\n\t\tthis.removeMediaSaveListener();\r\n\t}\r\n\r\n\tmediaIdContainedInMediaFiles( mediaId, mediaFiles ) {\r\n\t\tif ( mediaId !== undefined && mediaFiles !== undefined ) {\r\n\t\t\treturn mediaFiles.some(\r\n\t\t\t\t( element ) => element.id === mediaId.toString()\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tmediaUpload( payload ) {\r\n\t\tconst { mediaFiles } = this.props;\r\n\r\n\t\tif (\r\n\t\t\tthis.mediaIdContainedInMediaFiles( payload.mediaId, mediaFiles ) ===\r\n\t\t\tfalse\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch ( payload.state ) {\r\n\t\t\tcase MEDIA_UPLOAD_STATE_UPLOADING:\r\n\t\t\t\tthis.updateMediaUploadProgress( payload );\r\n\t\t\t\tbreak;\r\n\t\t\tcase MEDIA_UPLOAD_STATE_SUCCEEDED:\r\n\t\t\t\tthis.finishMediaUploadWithSuccess( payload );\r\n\t\t\t\tbreak;\r\n\t\t\tcase MEDIA_UPLOAD_STATE_FAILED:\r\n\t\t\t\tthis.finishMediaUploadWithFailure( payload );\r\n\t\t\t\tbreak;\r\n\t\t\tcase MEDIA_UPLOAD_STATE_RESET:\r\n\t\t\t\tthis.mediaUploadStateReset( payload );\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tmediaSave( payload ) {\r\n\t\tconst { mediaFiles } = this.props;\r\n\r\n\t\tif (\r\n\t\t\tthis.mediaIdContainedInMediaFiles( payload.mediaId, mediaFiles ) ===\r\n\t\t\tfalse\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch ( payload.state ) {\r\n\t\t\tcase MEDIA_SAVE_STATE_SAVING:\r\n\t\t\t\tthis.updateMediaSaveProgress( payload );\r\n\t\t\t\tbreak;\r\n\t\t\tcase MEDIA_SAVE_STATE_SUCCEEDED:\r\n\t\t\t\tthis.finishMediaSaveWithSuccess( payload );\r\n\t\t\t\tbreak;\r\n\t\t\tcase MEDIA_SAVE_STATE_FAILED:\r\n\t\t\t\tthis.finishMediaSaveWithFailure( payload );\r\n\t\t\t\tbreak;\r\n\t\t\tcase MEDIA_SAVE_STATE_RESET:\r\n\t\t\t\tthis.mediaSaveStateReset( payload );\r\n\t\t\t\tbreak;\r\n\t\t\tcase MEDIA_SAVE_FINAL_STATE_RESULT:\r\n\t\t\t\tthis.finalSaveResult( payload );\r\n\t\t\t\tbreak;\r\n\t\t\tcase MEDIA_SAVE_MEDIAID_CHANGED:\r\n\t\t\t\tthis.mediaIdChanged( payload );\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// ---- Block media save actions.\r\n\tupdateMediaSaveProgress( payload ) {\r\n\t\tthis.setState( {\r\n\t\t\tprogress: payload.progress,\r\n\t\t\tisUploadInProgress: false,\r\n\t\t\tisUploadFailed: false,\r\n\t\t\tisSaveInProgress: true,\r\n\t\t\tisSaveFailed: false,\r\n\t\t} );\r\n\t\tif ( this.props.onUpdateMediaSaveProgress ) {\r\n\t\t\tthis.props.onUpdateMediaSaveProgress( payload );\r\n\t\t}\r\n\t}\r\n\r\n\tfinishMediaSaveWithSuccess( payload ) {\r\n\t\tthis.setState( { isSaveInProgress: false } );\r\n\t\tif ( this.props.onFinishMediaSaveWithSuccess ) {\r\n\t\t\tthis.props.onFinishMediaSaveWithSuccess( payload );\r\n\t\t}\r\n\t}\r\n\r\n\tfinishMediaSaveWithFailure( payload ) {\r\n\t\tthis.setState( { isSaveInProgress: false, isSaveFailed: true } );\r\n\t\tif ( this.props.onFinishMediaSaveWithFailure ) {\r\n\t\t\tthis.props.onFinishMediaSaveWithFailure( payload );\r\n\t\t}\r\n\t}\r\n\r\n\tmediaSaveStateReset( payload ) {\r\n\t\tthis.setState( { isSaveInProgress: false, isSaveFailed: false } );\r\n\t\tif ( this.props.onMediaSaveStateReset ) {\r\n\t\t\tthis.props.onMediaSaveStateReset( payload );\r\n\t\t}\r\n\t}\r\n\r\n\tfinalSaveResult( payload ) {\r\n\t\tthis.setState( {\r\n\t\t\tprogress: payload.progress,\r\n\t\t\tisUploadInProgress: false,\r\n\t\t\tisUploadFailed: false,\r\n\t\t\tisSaveInProgress: false,\r\n\t\t\tisSaveFailed: ! payload.success,\r\n\t\t} );\r\n\t\tif ( this.props.onFinalSaveResult ) {\r\n\t\t\tthis.props.onFinalSaveResult( payload );\r\n\t\t}\r\n\t}\r\n\r\n\tmediaIdChanged( payload ) {\r\n\t\tthis.setState( {\r\n\t\t\tisUploadInProgress: false,\r\n\t\t\tisUploadFailed: false,\r\n\t\t\tisSaveInProgress: false,\r\n\t\t\tisSaveFailed: false,\r\n\t\t} );\r\n\t\tif ( this.props.onMediaIdChanged ) {\r\n\t\t\tthis.props.onMediaIdChanged( payload );\r\n\t\t}\r\n\t}\r\n\r\n\t// ---- Block media upload actions.\r\n\tupdateMediaUploadProgress( payload ) {\r\n\t\tthis.setState( {\r\n\t\t\tprogress: payload.progress,\r\n\t\t\tisUploadInProgress: true,\r\n\t\t\tisUploadFailed: false,\r\n\t\t\tisSaveInProgress: false,\r\n\t\t\tisSaveFailed: false,\r\n\t\t} );\r\n\t\tif ( this.props.onUpdateMediaUploadProgress ) {\r\n\t\t\tthis.props.onUpdateMediaUploadProgress( payload );\r\n\t\t}\r\n\t}\r\n\r\n\tfinishMediaUploadWithSuccess( payload ) {\r\n\t\tthis.setState( { isUploadInProgress: false, isSaveInProgress: false } );\r\n\t\tif ( this.props.onFinishMediaUploadWithSuccess ) {\r\n\t\t\tthis.props.onFinishMediaUploadWithSuccess( payload );\r\n\t\t}\r\n\t}\r\n\r\n\tfinishMediaUploadWithFailure( payload ) {\r\n\t\tthis.setState( { isUploadInProgress: false, isUploadFailed: true } );\r\n\t\tif ( this.props.onFinishMediaUploadWithFailure ) {\r\n\t\t\tthis.props.onFinishMediaUploadWithFailure( payload );\r\n\t\t}\r\n\t}\r\n\r\n\tmediaUploadStateReset( payload ) {\r\n\t\tthis.setState( { isUploadInProgress: false, isUploadFailed: false } );\r\n\t\tif ( this.props.onMediaUploadStateReset ) {\r\n\t\t\tthis.props.onMediaUploadStateReset( payload );\r\n\t\t}\r\n\t}\r\n\r\n\taddMediaUploadListener() {\r\n\t\t// If we already have a subscription not worth doing it again.\r\n\t\tif ( this.subscriptionParentMediaUpload ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.subscriptionParentMediaUpload = subscribeMediaUpload(\r\n\t\t\t( payload ) => {\r\n\t\t\t\tthis.mediaUpload( payload );\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tremoveMediaUploadListener() {\r\n\t\tif ( this.subscriptionParentMediaUpload ) {\r\n\t\t\tthis.subscriptionParentMediaUpload.remove();\r\n\t\t}\r\n\t}\r\n\r\n\taddMediaSaveListener() {\r\n\t\t// If we already have a subscription not worth doing it again.\r\n\t\tif ( this.subscriptionParentMediaSave ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.subscriptionParentMediaSave = subscribeMediaSave( ( payload ) => {\r\n\t\t\tthis.mediaSave( payload );\r\n\t\t} );\r\n\t}\r\n\r\n\tremoveMediaSaveListener() {\r\n\t\tif ( this.subscriptionParentMediaSave ) {\r\n\t\t\tthis.subscriptionParentMediaSave.remove();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { renderContent = () => null } = this.props;\r\n\t\tconst {\r\n\t\t\tisUploadInProgress,\r\n\t\t\tisUploadFailed,\r\n\t\t\tisSaveInProgress,\r\n\t\t\tisSaveFailed,\r\n\t\t} = this.state;\r\n\t\tconst showSpinner =\r\n\t\t\tthis.state.isUploadInProgress || this.state.isSaveInProgress;\r\n\t\tconst progress = this.state.progress * 100;\r\n\t\t// eslint-disable-next-line @wordpress/i18n-no-collapsible-whitespace\r\n\t\tconst retryMessageSave = __(\r\n\t\t\t'Failed to save files.\\nPlease tap for options.'\r\n\t\t);\r\n\t\t// eslint-disable-next-line @wordpress/i18n-no-collapsible-whitespace\r\n\t\tconst retryMessageUpload = __(\r\n\t\t\t'Failed to upload files.\\nPlease tap for options.'\r\n\t\t);\r\n\t\tlet retryMessage = retryMessageSave;\r\n\t\tif ( isUploadFailed ) {\r\n\t\t\tretryMessage = retryMessageUpload;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<View style={ styles.mediaUploadProgress } pointerEvents=\"box-none\">\r\n\t\t\t\t{ showSpinner && (\r\n\t\t\t\t\t<View style={ styles.progressBar }>\r\n\t\t\t\t\t\t<Spinner progress={ progress } testID=\"spinner\" />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t) }\r\n\t\t\t\t{ renderContent( {\r\n\t\t\t\t\tisUploadInProgress,\r\n\t\t\t\t\tisUploadFailed,\r\n\t\t\t\t\tisSaveInProgress,\r\n\t\t\t\t\tisSaveFailed,\r\n\t\t\t\t\tretryMessage,\r\n\t\t\t\t} ) }\r\n\t\t\t</View>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BlockMediaUpdateProgress;\r\n"],"mappings":"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","ignoreList":[]}