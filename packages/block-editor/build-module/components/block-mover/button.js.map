{"version":3,"names":["clsx","getBlockType","Button","VisuallyHidden","useInstanceId","useSelect","useDispatch","forwardRef","__","isRTL","chevronLeft","chevronRight","chevronUp","chevronDown","getBlockMoverDescription","store","blockEditorStore","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","getArrowIcon","direction","orientation","getMovementDirectionLabel","moveDirection","BlockMoverButton","clientIds","moverOrientation","props","ref","instanceId","normalizedClientIds","Array","isArray","blocksCount","length","disabled","blockType","isDisabled","rootClientId","isFirst","isLast","firstIndex","select","getBlockIndex","getBlockRootClientId","getBlockOrder","getBlock","getBlockListSettings","firstClientId","blockRootClientId","firstBlockIndex","lastBlockIndex","blockOrder","block","isFirstBlock","isLastBlock","blockListOrientation","name","moveBlocksDown","moveBlocksUp","moverFunction","onClick","event","descriptionId","children","__next40pxDefaultSize","className","icon","label","accessibleWhenDisabled","id","title","BlockMoverUpButton","BlockMoverDownButton"],"sources":["@wordpress/block-editor/src/components/block-mover/button.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { getBlockType } from '@wordpress/blocks';\r\nimport { Button, VisuallyHidden } from '@wordpress/components';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { forwardRef } from '@wordpress/element';\r\nimport { __, isRTL } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tchevronLeft,\r\n\tchevronRight,\r\n\tchevronUp,\r\n\tchevronDown,\r\n} from '@wordpress/icons';\r\nimport { getBlockMoverDescription } from './mover-description';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nconst getArrowIcon = ( direction, orientation ) => {\r\n\tif ( direction === 'up' ) {\r\n\t\tif ( orientation === 'horizontal' ) {\r\n\t\t\treturn isRTL() ? chevronRight : chevronLeft;\r\n\t\t}\r\n\t\treturn chevronUp;\r\n\t} else if ( direction === 'down' ) {\r\n\t\tif ( orientation === 'horizontal' ) {\r\n\t\t\treturn isRTL() ? chevronLeft : chevronRight;\r\n\t\t}\r\n\t\treturn chevronDown;\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nconst getMovementDirectionLabel = ( moveDirection, orientation ) => {\r\n\tif ( moveDirection === 'up' ) {\r\n\t\tif ( orientation === 'horizontal' ) {\r\n\t\t\treturn isRTL() ? __( 'Move right' ) : __( 'Move left' );\r\n\t\t}\r\n\t\treturn __( 'Move up' );\r\n\t} else if ( moveDirection === 'down' ) {\r\n\t\tif ( orientation === 'horizontal' ) {\r\n\t\t\treturn isRTL() ? __( 'Move left' ) : __( 'Move right' );\r\n\t\t}\r\n\t\treturn __( 'Move down' );\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nconst BlockMoverButton = forwardRef(\r\n\t(\r\n\t\t{ clientIds, direction, orientation: moverOrientation, ...props },\r\n\t\tref\r\n\t) => {\r\n\t\tconst instanceId = useInstanceId( BlockMoverButton );\r\n\t\tconst normalizedClientIds = Array.isArray( clientIds )\r\n\t\t\t? clientIds\r\n\t\t\t: [ clientIds ];\r\n\t\tconst blocksCount = normalizedClientIds.length;\r\n\t\tconst { disabled } = props;\r\n\r\n\t\tconst {\r\n\t\t\tblockType,\r\n\t\t\tisDisabled,\r\n\t\t\trootClientId,\r\n\t\t\tisFirst,\r\n\t\t\tisLast,\r\n\t\t\tfirstIndex,\r\n\t\t\torientation = 'vertical',\r\n\t\t} = useSelect(\r\n\t\t\t( select ) => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tgetBlockIndex,\r\n\t\t\t\t\tgetBlockRootClientId,\r\n\t\t\t\t\tgetBlockOrder,\r\n\t\t\t\t\tgetBlock,\r\n\t\t\t\t\tgetBlockListSettings,\r\n\t\t\t\t} = select( blockEditorStore );\r\n\t\t\t\tconst firstClientId = normalizedClientIds[ 0 ];\r\n\t\t\t\tconst blockRootClientId = getBlockRootClientId( firstClientId );\r\n\t\t\t\tconst firstBlockIndex = getBlockIndex( firstClientId );\r\n\t\t\t\tconst lastBlockIndex = getBlockIndex(\r\n\t\t\t\t\tnormalizedClientIds[ normalizedClientIds.length - 1 ]\r\n\t\t\t\t);\r\n\t\t\t\tconst blockOrder = getBlockOrder( blockRootClientId );\r\n\t\t\t\tconst block = getBlock( firstClientId );\r\n\t\t\t\tconst isFirstBlock = firstBlockIndex === 0;\r\n\t\t\t\tconst isLastBlock = lastBlockIndex === blockOrder.length - 1;\r\n\t\t\t\tconst { orientation: blockListOrientation } =\r\n\t\t\t\t\tgetBlockListSettings( blockRootClientId ) || {};\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tblockType: block ? getBlockType( block.name ) : null,\r\n\t\t\t\t\tisDisabled:\r\n\t\t\t\t\t\tdisabled ||\r\n\t\t\t\t\t\t( direction === 'up' ? isFirstBlock : isLastBlock ),\r\n\t\t\t\t\trootClientId: blockRootClientId,\r\n\t\t\t\t\tfirstIndex: firstBlockIndex,\r\n\t\t\t\t\tisFirst: isFirstBlock,\r\n\t\t\t\t\tisLast: isLastBlock,\r\n\t\t\t\t\torientation: moverOrientation || blockListOrientation,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t[ clientIds, direction ]\r\n\t\t);\r\n\r\n\t\tconst { moveBlocksDown, moveBlocksUp } =\r\n\t\t\tuseDispatch( blockEditorStore );\r\n\t\tconst moverFunction =\r\n\t\t\tdirection === 'up' ? moveBlocksUp : moveBlocksDown;\r\n\r\n\t\tconst onClick = ( event ) => {\r\n\t\t\tmoverFunction( clientIds, rootClientId );\r\n\t\t\tif ( props.onClick ) {\r\n\t\t\t\tprops.onClick( event );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst descriptionId = `block-editor-block-mover-button__description-${ instanceId }`;\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Button\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\tref={ ref }\r\n\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t'block-editor-block-mover-button',\r\n\t\t\t\t\t\t`is-${ direction }-button`\r\n\t\t\t\t\t) }\r\n\t\t\t\t\ticon={ getArrowIcon( direction, orientation ) }\r\n\t\t\t\t\tlabel={ getMovementDirectionLabel(\r\n\t\t\t\t\t\tdirection,\r\n\t\t\t\t\t\torientation\r\n\t\t\t\t\t) }\r\n\t\t\t\t\taria-describedby={ descriptionId }\r\n\t\t\t\t\t{ ...props }\r\n\t\t\t\t\tonClick={ isDisabled ? null : onClick }\r\n\t\t\t\t\tdisabled={ isDisabled }\r\n\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t/>\r\n\t\t\t\t<VisuallyHidden id={ descriptionId }>\r\n\t\t\t\t\t{ getBlockMoverDescription(\r\n\t\t\t\t\t\tblocksCount,\r\n\t\t\t\t\t\tblockType && blockType.title,\r\n\t\t\t\t\t\tfirstIndex,\r\n\t\t\t\t\t\tisFirst,\r\n\t\t\t\t\t\tisLast,\r\n\t\t\t\t\t\tdirection === 'up' ? -1 : 1,\r\n\t\t\t\t\t\torientation\r\n\t\t\t\t\t) }\r\n\t\t\t\t</VisuallyHidden>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nexport const BlockMoverUpButton = forwardRef( ( props, ref ) => {\r\n\treturn <BlockMoverButton direction=\"up\" ref={ ref } { ...props } />;\r\n} );\r\n\r\nexport const BlockMoverDownButton = forwardRef( ( props, ref ) => {\r\n\treturn <BlockMoverButton direction=\"down\" ref={ ref } { ...props } />;\r\n} );\r\n"],"mappings":"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","ignoreList":[]}