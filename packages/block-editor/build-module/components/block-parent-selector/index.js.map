{"version":3,"names":["getBlockType","store","blocksStore","ToolbarButton","useSelect","useDispatch","__","sprintf","useRef","useBlockDisplayInformation","BlockIcon","useShowHoveredOrFocusedGestures","blockEditorStore","jsx","_jsx","BlockParentSelector","selectBlock","firstParentClientId","isVisible","select","getBlockName","getBlockParents","getSelectedBlockClientId","getBlockEditingMode","hasBlockSupport","selectedBlockClientId","parents","_firstParentClientId","length","parentBlockName","_parentBlockType","blockInformation","nodeRef","showHoveredOrFocusedGestures","ref","highlightParent","className","children","onClick","label","title","showTooltip","icon"],"sources":["@wordpress/block-editor/src/components/block-parent-selector/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { getBlockType, store as blocksStore } from '@wordpress/blocks';\r\nimport { ToolbarButton } from '@wordpress/components';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useBlockDisplayInformation from '../use-block-display-information';\r\nimport BlockIcon from '../block-icon';\r\nimport { useShowHoveredOrFocusedGestures } from '../block-toolbar/utils';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\n/**\r\n * Block parent selector component, displaying the hierarchy of the\r\n * current block selection as a single icon to \"go up\" a level.\r\n *\r\n * @return {Component} Parent block selector.\r\n */\r\nexport default function BlockParentSelector() {\r\n\tconst { selectBlock } = useDispatch( blockEditorStore );\r\n\tconst { firstParentClientId, isVisible } = useSelect( ( select ) => {\r\n\t\tconst {\r\n\t\t\tgetBlockName,\r\n\t\t\tgetBlockParents,\r\n\t\t\tgetSelectedBlockClientId,\r\n\t\t\tgetBlockEditingMode,\r\n\t\t} = select( blockEditorStore );\r\n\t\tconst { hasBlockSupport } = select( blocksStore );\r\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\r\n\t\tconst parents = getBlockParents( selectedBlockClientId );\r\n\t\tconst _firstParentClientId = parents[ parents.length - 1 ];\r\n\t\tconst parentBlockName = getBlockName( _firstParentClientId );\r\n\t\tconst _parentBlockType = getBlockType( parentBlockName );\r\n\t\treturn {\r\n\t\t\tfirstParentClientId: _firstParentClientId,\r\n\t\t\tisVisible:\r\n\t\t\t\t_firstParentClientId &&\r\n\t\t\t\tgetBlockEditingMode( _firstParentClientId ) === 'default' &&\r\n\t\t\t\thasBlockSupport(\r\n\t\t\t\t\t_parentBlockType,\r\n\t\t\t\t\t'__experimentalParentSelector',\r\n\t\t\t\t\ttrue\r\n\t\t\t\t),\r\n\t\t};\r\n\t}, [] );\r\n\tconst blockInformation = useBlockDisplayInformation( firstParentClientId );\r\n\r\n\t// Allows highlighting the parent block outline when focusing or hovering\r\n\t// the parent block selector within the child.\r\n\tconst nodeRef = useRef();\r\n\tconst showHoveredOrFocusedGestures = useShowHoveredOrFocusedGestures( {\r\n\t\tref: nodeRef,\r\n\t\thighlightParent: true,\r\n\t} );\r\n\r\n\tif ( ! isVisible ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"block-editor-block-parent-selector\"\r\n\t\t\tkey={ firstParentClientId }\r\n\t\t\tref={ nodeRef }\r\n\t\t\t{ ...showHoveredOrFocusedGestures }\r\n\t\t>\r\n\t\t\t<ToolbarButton\r\n\t\t\t\tclassName=\"block-editor-block-parent-selector__button\"\r\n\t\t\t\tonClick={ () => selectBlock( firstParentClientId ) }\r\n\t\t\t\tlabel={ sprintf(\r\n\t\t\t\t\t/* translators: %s: Name of the block's parent. */\r\n\t\t\t\t\t__( 'Select parent block: %s' ),\r\n\t\t\t\t\tblockInformation?.title\r\n\t\t\t\t) }\r\n\t\t\t\tshowTooltip\r\n\t\t\t\ticon={ <BlockIcon icon={ blockInformation?.icon } /> }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,EAAEC,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACtE,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,MAAM,QAAQ,oBAAoB;;AAE3C;AACA;AACA;AACA,OAAOC,0BAA0B,MAAM,kCAAkC;AACzE,OAAOC,SAAS,MAAM,eAAe;AACrC,SAASC,+BAA+B,QAAQ,wBAAwB;AACxE,SAASV,KAAK,IAAIW,gBAAgB,QAAQ,aAAa;;AAEvD;AACA;AACA;AACA;AACA;AACA;AALA,SAAAC,GAAA,IAAAC,IAAA;AAMA,eAAe,SAASC,mBAAmBA,CAAA,EAAG;EAC7C,MAAM;IAAEC;EAAY,CAAC,GAAGX,WAAW,CAAEO,gBAAiB,CAAC;EACvD,MAAM;IAAEK,mBAAmB;IAAEC;EAAU,CAAC,GAAGd,SAAS,CAAIe,MAAM,IAAM;IACnE,MAAM;MACLC,YAAY;MACZC,eAAe;MACfC,wBAAwB;MACxBC;IACD,CAAC,GAAGJ,MAAM,CAAEP,gBAAiB,CAAC;IAC9B,MAAM;MAAEY;IAAgB,CAAC,GAAGL,MAAM,CAAEjB,WAAY,CAAC;IACjD,MAAMuB,qBAAqB,GAAGH,wBAAwB,CAAC,CAAC;IACxD,MAAMI,OAAO,GAAGL,eAAe,CAAEI,qBAAsB,CAAC;IACxD,MAAME,oBAAoB,GAAGD,OAAO,CAAEA,OAAO,CAACE,MAAM,GAAG,CAAC,CAAE;IAC1D,MAAMC,eAAe,GAAGT,YAAY,CAAEO,oBAAqB,CAAC;IAC5D,MAAMG,gBAAgB,GAAG9B,YAAY,CAAE6B,eAAgB,CAAC;IACxD,OAAO;MACNZ,mBAAmB,EAAEU,oBAAoB;MACzCT,SAAS,EACRS,oBAAoB,IACpBJ,mBAAmB,CAAEI,oBAAqB,CAAC,KAAK,SAAS,IACzDH,eAAe,CACdM,gBAAgB,EAChB,8BAA8B,EAC9B,IACD;IACF,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAMC,gBAAgB,GAAGtB,0BAA0B,CAAEQ,mBAAoB,CAAC;;EAE1E;EACA;EACA,MAAMe,OAAO,GAAGxB,MAAM,CAAC,CAAC;EACxB,MAAMyB,4BAA4B,GAAGtB,+BAA+B,CAAE;IACrEuB,GAAG,EAAEF,OAAO;IACZG,eAAe,EAAE;EAClB,CAAE,CAAC;EAEH,IAAK,CAAEjB,SAAS,EAAG;IAClB,OAAO,IAAI;EACZ;EAEA,oBACCJ,IAAA;IACCsB,SAAS,EAAC,oCAAoC;IAE9CF,GAAG,EAAGF,OAAS;IAAA,GACVC,4BAA4B;IAAAI,QAAA,eAEjCvB,IAAA,CAACX,aAAa;MACbiC,SAAS,EAAC,4CAA4C;MACtDE,OAAO,EAAGA,CAAA,KAAMtB,WAAW,CAAEC,mBAAoB,CAAG;MACpDsB,KAAK,EAAGhC,OAAO,EACd;MACAD,EAAE,CAAE,yBAA0B,CAAC,EAC/ByB,gBAAgB,EAAES,KACnB,CAAG;MACHC,WAAW;MACXC,IAAI,eAAG5B,IAAA,CAACJ,SAAS;QAACgC,IAAI,EAAGX,gBAAgB,EAAEW;MAAM,CAAE;IAAG,CACtD;EAAC,GAdIzB,mBAeF,CAAC;AAER","ignoreList":[]}