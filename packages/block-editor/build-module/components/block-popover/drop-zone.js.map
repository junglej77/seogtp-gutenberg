{"version":3,"names":["useSelect","useReducedMotion","__unstableMotion","motion","store","blockEditorStore","BlockPopoverCover","jsx","_jsx","animateVariants","hide","opacity","scaleY","show","exit","BlockDropZonePopover","__unstablePopoverSlot","__unstableContentRef","clientId","select","getBlockOrder","getBlockInsertionPoint","insertionPoint","order","rootClientId","length","index","reducedMotion","className","children","div","initial","animate"],"sources":["@wordpress/block-editor/src/components/block-popover/drop-zone.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useReducedMotion } from '@wordpress/compose';\r\nimport { __unstableMotion as motion } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\nimport BlockPopoverCover from './cover';\r\n\r\nconst animateVariants = {\r\n\thide: { opacity: 0, scaleY: 0.75 },\r\n\tshow: { opacity: 1, scaleY: 1 },\r\n\texit: { opacity: 0, scaleY: 0.9 },\r\n};\r\n\r\nfunction BlockDropZonePopover( {\r\n\t__unstablePopoverSlot,\r\n\t__unstableContentRef,\r\n} ) {\r\n\tconst { clientId } = useSelect( ( select ) => {\r\n\t\tconst { getBlockOrder, getBlockInsertionPoint } =\r\n\t\t\tselect( blockEditorStore );\r\n\t\tconst insertionPoint = getBlockInsertionPoint();\r\n\t\tconst order = getBlockOrder( insertionPoint.rootClientId );\r\n\r\n\t\tif ( ! order.length ) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tclientId: order[ insertionPoint.index ],\r\n\t\t};\r\n\t}, [] );\r\n\tconst reducedMotion = useReducedMotion();\r\n\r\n\treturn (\r\n\t\t<BlockPopoverCover\r\n\t\t\tclientId={ clientId }\r\n\t\t\t__unstablePopoverSlot={ __unstablePopoverSlot }\r\n\t\t\t__unstableContentRef={ __unstableContentRef }\r\n\t\t\tclassName=\"block-editor-block-popover__drop-zone\"\r\n\t\t>\r\n\t\t\t<motion.div\r\n\t\t\t\tdata-testid=\"block-popover-drop-zone\"\r\n\t\t\t\tinitial={\r\n\t\t\t\t\treducedMotion ? animateVariants.show : animateVariants.hide\r\n\t\t\t\t}\r\n\t\t\t\tanimate={ animateVariants.show }\r\n\t\t\t\texit={\r\n\t\t\t\t\treducedMotion ? animateVariants.show : animateVariants.exit\r\n\t\t\t\t}\r\n\t\t\t\tclassName=\"block-editor-block-popover__drop-zone-foreground\"\r\n\t\t\t/>\r\n\t\t</BlockPopoverCover>\r\n\t);\r\n}\r\n\r\nexport default BlockDropZonePopover;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,gBAAgB,IAAIC,MAAM,QAAQ,uBAAuB;;AAElE;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,OAAOC,iBAAiB,MAAM,SAAS;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExC,MAAMC,eAAe,GAAG;EACvBC,IAAI,EAAE;IAAEC,OAAO,EAAE,CAAC;IAAEC,MAAM,EAAE;EAAK,CAAC;EAClCC,IAAI,EAAE;IAAEF,OAAO,EAAE,CAAC;IAAEC,MAAM,EAAE;EAAE,CAAC;EAC/BE,IAAI,EAAE;IAAEH,OAAO,EAAE,CAAC;IAAEC,MAAM,EAAE;EAAI;AACjC,CAAC;AAED,SAASG,oBAAoBA,CAAE;EAC9BC,qBAAqB;EACrBC;AACD,CAAC,EAAG;EACH,MAAM;IAAEC;EAAS,CAAC,GAAGlB,SAAS,CAAImB,MAAM,IAAM;IAC7C,MAAM;MAAEC,aAAa;MAAEC;IAAuB,CAAC,GAC9CF,MAAM,CAAEd,gBAAiB,CAAC;IAC3B,MAAMiB,cAAc,GAAGD,sBAAsB,CAAC,CAAC;IAC/C,MAAME,KAAK,GAAGH,aAAa,CAAEE,cAAc,CAACE,YAAa,CAAC;IAE1D,IAAK,CAAED,KAAK,CAACE,MAAM,EAAG;MACrB,OAAO,CAAC,CAAC;IACV;IAEA,OAAO;MACNP,QAAQ,EAAEK,KAAK,CAAED,cAAc,CAACI,KAAK;IACtC,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAMC,aAAa,GAAG1B,gBAAgB,CAAC,CAAC;EAExC,oBACCO,IAAA,CAACF,iBAAiB;IACjBY,QAAQ,EAAGA,QAAU;IACrBF,qBAAqB,EAAGA,qBAAuB;IAC/CC,oBAAoB,EAAGA,oBAAsB;IAC7CW,SAAS,EAAC,uCAAuC;IAAAC,QAAA,eAEjDrB,IAAA,CAACL,MAAM,CAAC2B,GAAG;MACV,eAAY,yBAAyB;MACrCC,OAAO,EACNJ,aAAa,GAAGlB,eAAe,CAACI,IAAI,GAAGJ,eAAe,CAACC,IACvD;MACDsB,OAAO,EAAGvB,eAAe,CAACI,IAAM;MAChCC,IAAI,EACHa,aAAa,GAAGlB,eAAe,CAACI,IAAI,GAAGJ,eAAe,CAACK,IACvD;MACDc,SAAS,EAAC;IAAkD,CAC5D;EAAC,CACgB,CAAC;AAEtB;AAEA,eAAeb,oBAAoB","ignoreList":[]}