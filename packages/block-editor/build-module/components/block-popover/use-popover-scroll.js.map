{"version":3,"names":["useRefEffect","usePopoverScroll","scrollableRef","node","onWheel","event","deltaX","deltaY","current","scrollBy","options","passive","addEventListener","removeEventListener"],"sources":["@wordpress/block-editor/src/components/block-popover/use-popover-scroll.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useRefEffect } from '@wordpress/compose';\r\n\r\n/**\r\n * Allow scrolling \"through\" popovers over the canvas. This is only called for\r\n * as long as the pointer is over a popover. Do not use React events because it\r\n * will bubble through portals.\r\n *\r\n * @param {Object} scrollableRef\r\n */\r\nfunction usePopoverScroll( scrollableRef ) {\r\n\treturn useRefEffect(\r\n\t\t( node ) => {\r\n\t\t\tif ( ! scrollableRef ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfunction onWheel( event ) {\r\n\t\t\t\tconst { deltaX, deltaY } = event;\r\n\t\t\t\tscrollableRef.current.scrollBy( deltaX, deltaY );\r\n\t\t\t}\r\n\t\t\t// Tell the browser that we do not call event.preventDefault\r\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#improving_scrolling_performance_with_passive_listeners\r\n\t\t\tconst options = { passive: true };\r\n\t\t\tnode.addEventListener( 'wheel', onWheel, options );\r\n\t\t\treturn () => {\r\n\t\t\t\tnode.removeEventListener( 'wheel', onWheel, options );\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ scrollableRef ]\r\n\t);\r\n}\r\n\r\nexport default usePopoverScroll;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,QAAQ,oBAAoB;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,gBAAgBA,CAAEC,aAAa,EAAG;EAC1C,OAAOF,YAAY,CAChBG,IAAI,IAAM;IACX,IAAK,CAAED,aAAa,EAAG;MACtB;IACD;IAEA,SAASE,OAAOA,CAAEC,KAAK,EAAG;MACzB,MAAM;QAAEC,MAAM;QAAEC;MAAO,CAAC,GAAGF,KAAK;MAChCH,aAAa,CAACM,OAAO,CAACC,QAAQ,CAAEH,MAAM,EAAEC,MAAO,CAAC;IACjD;IACA;IACA;IACA,MAAMG,OAAO,GAAG;MAAEC,OAAO,EAAE;IAAK,CAAC;IACjCR,IAAI,CAACS,gBAAgB,CAAE,OAAO,EAAER,OAAO,EAAEM,OAAQ,CAAC;IAClD,OAAO,MAAM;MACZP,IAAI,CAACU,mBAAmB,CAAE,OAAO,EAAET,OAAO,EAAEM,OAAQ,CAAC;IACtD,CAAC;EACF,CAAC,EACD,CAAER,aAAa,CAChB,CAAC;AACF;AAEA,eAAeD,gBAAgB","ignoreList":[]}