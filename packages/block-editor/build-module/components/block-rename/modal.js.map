{"version":3,"names":["__experimentalHStack","HStack","__experimentalVStack","VStack","Button","TextControl","Modal","__","sprintf","useState","speak","isEmptyString","jsx","_jsx","jsxs","_jsxs","BlockRenameModal","blockName","originalBlockName","onClose","onSave","hasOverridesWarning","editedBlockName","setEditedBlockName","nameHasChanged","nameIsOriginal","nameIsEmpty","isNameValid","autoSelectInputText","event","target","select","handleSubmit","message","title","onRequestClose","overlayClassName","focusOnMount","size","children","onSubmit","e","preventDefault","spacing","__nextHasNoMarginBottom","__next40pxDefaultSize","value","label","help","undefined","placeholder","onChange","onFocus","justify","variant","onClick","type"],"sources":["@wordpress/block-editor/src/components/block-rename/modal.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n\tButton,\r\n\tTextControl,\r\n\tModal,\r\n} from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useState } from '@wordpress/element';\r\nimport { speak } from '@wordpress/a11y';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport isEmptyString from './is-empty-string';\r\n\r\nexport default function BlockRenameModal( {\r\n\tblockName,\r\n\toriginalBlockName,\r\n\tonClose,\r\n\tonSave,\r\n\t// Pattern Overrides is a WordPress-only feature but it also uses the Block Binding API.\r\n\t// Ideally this should not be inside the block editor package, but we keep it here for simplicity.\r\n\thasOverridesWarning,\r\n} ) {\r\n\tconst [ editedBlockName, setEditedBlockName ] = useState( blockName );\r\n\r\n\tconst nameHasChanged = editedBlockName !== blockName;\r\n\tconst nameIsOriginal = editedBlockName === originalBlockName;\r\n\tconst nameIsEmpty = isEmptyString( editedBlockName );\r\n\r\n\tconst isNameValid = nameHasChanged || nameIsOriginal;\r\n\r\n\tconst autoSelectInputText = ( event ) => event.target.select();\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tconst message =\r\n\t\t\tnameIsOriginal || nameIsEmpty\r\n\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t/* translators: %s: new name/label for the block */\r\n\t\t\t\t\t\t__( 'Block name reset to: \"%s\".' ),\r\n\t\t\t\t\t\teditedBlockName\r\n\t\t\t\t  )\r\n\t\t\t\t: sprintf(\r\n\t\t\t\t\t\t/* translators: %s: new name/label for the block */\r\n\t\t\t\t\t\t__( 'Block name changed to: \"%s\".' ),\r\n\t\t\t\t\t\teditedBlockName\r\n\t\t\t\t  );\r\n\r\n\t\t// Must be assertive to immediately announce change.\r\n\t\tspeak( message, 'assertive' );\r\n\t\tonSave( editedBlockName );\r\n\r\n\t\t// Immediate close avoids ability to hit save multiple times.\r\n\t\tonClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={ __( 'Rename' ) }\r\n\t\t\tonRequestClose={ onClose }\r\n\t\t\toverlayClassName=\"block-editor-block-rename-modal\"\r\n\t\t\tfocusOnMount=\"firstContentElement\"\r\n\t\t\tsize=\"small\"\r\n\t\t>\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={ ( e ) => {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tif ( ! isNameValid ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\thandleSubmit();\r\n\t\t\t\t} }\r\n\t\t\t>\r\n\t\t\t\t<VStack spacing=\"3\">\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tvalue={ editedBlockName }\r\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\r\n\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\thasOverridesWarning\r\n\t\t\t\t\t\t\t\t? __(\r\n\t\t\t\t\t\t\t\t\t\t'This block allows overrides. Changing the name can cause problems with content entered into instances of this pattern.'\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tplaceholder={ originalBlockName }\r\n\t\t\t\t\t\tonChange={ setEditedBlockName }\r\n\t\t\t\t\t\tonFocus={ autoSelectInputText }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<HStack justify=\"right\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\tonClick={ onClose }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\taria-disabled={ ! isNameValid }\r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Save' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</VStack>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}