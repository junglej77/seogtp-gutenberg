{"version":3,"names":["__","MenuItem","getBlockType","hasBlockSupport","useDispatch","useSelect","store","blockEditorStore","jsx","_jsx","noop","BlockModeToggle","clientId","onToggle","blockType","mode","isCodeEditingEnabled","select","getBlock","getBlockMode","getSettings","block","name","codeEditingEnabled","toggleBlockMode","label","onClick","children"],"sources":["@wordpress/block-editor/src/components/block-settings-menu/block-mode-toggle.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { MenuItem } from '@wordpress/components';\r\nimport { getBlockType, hasBlockSupport } from '@wordpress/blocks';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nconst noop = () => {};\r\n\r\nexport default function BlockModeToggle( { clientId, onToggle = noop } ) {\r\n\tconst { blockType, mode, isCodeEditingEnabled } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlock, getBlockMode, getSettings } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\t\t\tconst block = getBlock( clientId );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmode: getBlockMode( clientId ),\r\n\t\t\t\tblockType: block ? getBlockType( block.name ) : null,\r\n\t\t\t\tisCodeEditingEnabled: getSettings().codeEditingEnabled,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\tconst { toggleBlockMode } = useDispatch( blockEditorStore );\r\n\r\n\tif (\r\n\t\t! blockType ||\r\n\t\t! hasBlockSupport( blockType, 'html', true ) ||\r\n\t\t! isCodeEditingEnabled\r\n\t) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst label =\r\n\t\tmode === 'visual' ? __( 'Edit as HTML' ) : __( 'Edit visually' );\r\n\r\n\treturn (\r\n\t\t<MenuItem\r\n\t\t\tonClick={ () => {\r\n\t\t\t\ttoggleBlockMode( clientId );\r\n\t\t\t\tonToggle();\r\n\t\t\t} }\r\n\t\t>\r\n\t\t\t{ label }\r\n\t\t</MenuItem>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,YAAY,EAAEC,eAAe,QAAQ,mBAAmB;AACjE,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;;AAExD;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExD,MAAMC,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAErB,eAAe,SAASC,eAAeA,CAAE;EAAEC,QAAQ;EAAEC,QAAQ,GAAGH;AAAK,CAAC,EAAG;EACxE,MAAM;IAAEI,SAAS;IAAEC,IAAI;IAAEC;EAAqB,CAAC,GAAGX,SAAS,CACxDY,MAAM,IAAM;IACb,MAAM;MAAEC,QAAQ;MAAEC,YAAY;MAAEC;IAAY,CAAC,GAC5CH,MAAM,CAAEV,gBAAiB,CAAC;IAC3B,MAAMc,KAAK,GAAGH,QAAQ,CAAEN,QAAS,CAAC;IAElC,OAAO;MACNG,IAAI,EAAEI,YAAY,CAAEP,QAAS,CAAC;MAC9BE,SAAS,EAAEO,KAAK,GAAGnB,YAAY,CAAEmB,KAAK,CAACC,IAAK,CAAC,GAAG,IAAI;MACpDN,oBAAoB,EAAEI,WAAW,CAAC,CAAC,CAACG;IACrC,CAAC;EACF,CAAC,EACD,CAAEX,QAAQ,CACX,CAAC;EACD,MAAM;IAAEY;EAAgB,CAAC,GAAGpB,WAAW,CAAEG,gBAAiB,CAAC;EAE3D,IACC,CAAEO,SAAS,IACX,CAAEX,eAAe,CAAEW,SAAS,EAAE,MAAM,EAAE,IAAK,CAAC,IAC5C,CAAEE,oBAAoB,EACrB;IACD,OAAO,IAAI;EACZ;EAEA,MAAMS,KAAK,GACVV,IAAI,KAAK,QAAQ,GAAGf,EAAE,CAAE,cAAe,CAAC,GAAGA,EAAE,CAAE,eAAgB,CAAC;EAEjE,oBACCS,IAAA,CAACR,QAAQ;IACRyB,OAAO,EAAGA,CAAA,KAAM;MACfF,eAAe,CAAEZ,QAAS,CAAC;MAC3BC,QAAQ,CAAC,CAAC;IACX,CAAG;IAAAc,QAAA,EAEDF;EAAK,CACE,CAAC;AAEb","ignoreList":[]}