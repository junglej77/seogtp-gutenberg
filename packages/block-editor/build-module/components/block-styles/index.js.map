{"version":3,"names":["clsx","useState","debounce","useViewportMatch","Button","__experimentalTruncate","Truncate","Popover","BlockStylesPreviewPanel","useStylesForBlocks","jsx","_jsx","jsxs","_jsxs","noop","BlockStyles","clientId","onSwitch","onHoverClassName","onSelect","stylesToRender","activeStyle","genericPreviewBlock","className","previewClassName","hoveredStyle","setHoveredStyle","isMobileViewport","length","debouncedSetHoveredStyle","onSelectStylePreview","style","cancel","styleItemHandler","item","_item$name","name","children","map","buttonText","label","__next40pxDefaultSize","variant","onMouseEnter","onFocus","onMouseLeave","onBlur","onClick","numberOfLines","placement","offset","focusOnMount"],"sources":["D:/jungle/gutenberg/packages/block-editor/src/components/block-styles/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useState } from '@wordpress/element';\r\nimport { debounce, useViewportMatch } from '@wordpress/compose';\r\nimport {\r\n\tButton,\r\n\t__experimentalTruncate as Truncate,\r\n\tPopover,\r\n} from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BlockStylesPreviewPanel from './preview-panel';\r\nimport useStylesForBlocks from './use-styles-for-block';\r\n\r\nconst noop = () => {};\r\n\r\n// Block Styles component for the Settings Sidebar.\r\nfunction BlockStyles( { clientId, onSwitch = noop, onHoverClassName = noop } ) {\r\n\tconst {\r\n\t\tonSelect,\r\n\t\tstylesToRender,\r\n\t\tactiveStyle,\r\n\t\tgenericPreviewBlock,\r\n\t\tclassName: previewClassName,\r\n\t} = useStylesForBlocks( {\r\n\t\tclientId,\r\n\t\tonSwitch,\r\n\t} );\r\n\tconst [ hoveredStyle, setHoveredStyle ] = useState( null );\r\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\r\n\r\n\tif ( ! stylesToRender || stylesToRender.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst debouncedSetHoveredStyle = debounce( setHoveredStyle, 250 );\r\n\r\n\tconst onSelectStylePreview = ( style ) => {\r\n\t\tonSelect( style );\r\n\t\tonHoverClassName( null );\r\n\t\tsetHoveredStyle( null );\r\n\t\tdebouncedSetHoveredStyle.cancel();\r\n\t};\r\n\r\n\tconst styleItemHandler = ( item ) => {\r\n\t\tif ( hoveredStyle === item ) {\r\n\t\t\tdebouncedSetHoveredStyle.cancel();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdebouncedSetHoveredStyle( item );\r\n\t\tonHoverClassName( item?.name ?? null );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"block-editor-block-styles\">\r\n\t\t\t<div className=\"block-editor-block-styles__variants\">\r\n\t\t\t\t{ stylesToRender.map( ( style ) => {\r\n\t\t\t\t\tconst buttonText = style.label || style.name;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t\t'block-editor-block-styles__item',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'is-active':\r\n\t\t\t\t\t\t\t\t\t\tactiveStyle.name === style.name,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tkey={ style.name }\r\n\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\tlabel={ buttonText }\r\n\t\t\t\t\t\t\tonMouseEnter={ () => styleItemHandler( style ) }\r\n\t\t\t\t\t\t\tonFocus={ () => styleItemHandler( style ) }\r\n\t\t\t\t\t\t\tonMouseLeave={ () => styleItemHandler( null ) }\r\n\t\t\t\t\t\t\tonBlur={ () => styleItemHandler( null ) }\r\n\t\t\t\t\t\t\tonClick={ () => onSelectStylePreview( style ) }\r\n\t\t\t\t\t\t\taria-current={ activeStyle.name === style.name }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Truncate\r\n\t\t\t\t\t\t\t\tnumberOfLines={ 1 }\r\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-styles__item-text\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ buttonText }\r\n\t\t\t\t\t\t\t</Truncate>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t\t</div>\r\n\t\t\t{ hoveredStyle && ! isMobileViewport && (\r\n\t\t\t\t<Popover\r\n\t\t\t\t\tplacement=\"left-start\"\r\n\t\t\t\t\toffset={ 34 }\r\n\t\t\t\t\tfocusOnMount={ false }\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"block-editor-block-styles__preview-panel\"\r\n\t\t\t\t\t\tonMouseLeave={ () => styleItemHandler( null ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<BlockStylesPreviewPanel\r\n\t\t\t\t\t\t\tactiveStyle={ activeStyle }\r\n\t\t\t\t\t\t\tclassName={ previewClassName }\r\n\t\t\t\t\t\t\tgenericPreviewBlock={ genericPreviewBlock }\r\n\t\t\t\t\t\t\tstyle={ hoveredStyle }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Popover>\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default BlockStyles;\r\n"],"mappings":"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","ignoreList":[]}