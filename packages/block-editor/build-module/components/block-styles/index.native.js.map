{"version":3,"names":["ScrollView","store","blocksStore","useSelect","useDispatch","useMemo","_x","getActiveStyle","replaceActiveStyle","StylePreview","containerStyles","blockEditorStore","jsx","_jsx","EMPTY_ARRAY","BlockStyles","clientId","url","selector","select","getBlock","getBlockStyles","block","styles","name","className","attributes","updateBlockAttributes","renderedStyles","find","style","isDefault","label","mappedRenderedStyles","activeStyle","map","styleClassName","isActive","onStylePress","onPress","length","horizontal","showsHorizontalScrollIndicator","contentContainerStyle","content","children"],"sources":["@wordpress/block-editor/src/components/block-styles/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { ScrollView } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { _x } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { getActiveStyle, replaceActiveStyle } from './utils';\r\nimport StylePreview from './preview';\r\nimport containerStyles from './style.scss';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nconst EMPTY_ARRAY = [];\r\n\r\nfunction BlockStyles( { clientId, url } ) {\r\n\tconst selector = ( select ) => {\r\n\t\tconst { getBlock } = select( blockEditorStore );\r\n\t\tconst { getBlockStyles } = select( blocksStore );\r\n\t\tconst block = getBlock( clientId );\r\n\t\treturn {\r\n\t\t\tstyles: getBlockStyles( block?.name ) || EMPTY_ARRAY,\r\n\t\t\tclassName: block?.attributes?.className || '',\r\n\t\t};\r\n\t};\r\n\r\n\tconst { styles, className } = useSelect( selector, [ clientId ] );\r\n\r\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\r\n\r\n\tconst renderedStyles = styles?.find( ( style ) => style.isDefault )\r\n\t\t? styles\r\n\t\t: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'default',\r\n\t\t\t\t\tlabel: _x( 'Default', 'block style' ),\r\n\t\t\t\t\tisDefault: true,\r\n\t\t\t\t},\r\n\t\t\t\t...styles,\r\n\t\t  ];\r\n\r\n\tconst mappedRenderedStyles = useMemo( () => {\r\n\t\tconst activeStyle = getActiveStyle( renderedStyles, className );\r\n\r\n\t\treturn renderedStyles.map( ( style ) => {\r\n\t\t\tconst styleClassName = replaceActiveStyle(\r\n\t\t\t\tclassName,\r\n\t\t\t\tactiveStyle,\r\n\t\t\t\tstyle\r\n\t\t\t);\r\n\t\t\tconst isActive = activeStyle === style;\r\n\r\n\t\t\tconst onStylePress = () => {\r\n\t\t\t\tupdateBlockAttributes( clientId, {\r\n\t\t\t\t\tclassName: styleClassName,\r\n\t\t\t\t} );\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<StylePreview\r\n\t\t\t\t\tonPress={ onStylePress }\r\n\t\t\t\t\tisActive={ isActive }\r\n\t\t\t\t\tkey={ style.name }\r\n\t\t\t\t\tstyle={ style }\r\n\t\t\t\t\turl={ url }\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t} );\r\n\t}, [ renderedStyles, className, clientId ] );\r\n\r\n\tif ( ! styles || styles.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ScrollView\r\n\t\t\thorizontal\r\n\t\t\tshowsHorizontalScrollIndicator={ false }\r\n\t\t\tcontentContainerStyle={ containerStyles.content }\r\n\t\t>\r\n\t\t\t{ mappedRenderedStyles }\r\n\t\t</ScrollView>\r\n\t);\r\n}\r\n\r\nexport default BlockStyles;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,UAAU,QAAQ,cAAc;;AAEzC;AACA;AACA;AACA,SAASC,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,SAASC,cAAc,EAAEC,kBAAkB,QAAQ,SAAS;AAC5D,OAAOC,YAAY,MAAM,WAAW;AACpC,OAAOC,eAAe,MAAM,cAAc;AAC1C,SAAST,KAAK,IAAIU,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExD,MAAMC,WAAW,GAAG,EAAE;AAEtB,SAASC,WAAWA,CAAE;EAAEC,QAAQ;EAAEC;AAAI,CAAC,EAAG;EACzC,MAAMC,QAAQ,GAAKC,MAAM,IAAM;IAC9B,MAAM;MAAEC;IAAS,CAAC,GAAGD,MAAM,CAAER,gBAAiB,CAAC;IAC/C,MAAM;MAAEU;IAAe,CAAC,GAAGF,MAAM,CAAEjB,WAAY,CAAC;IAChD,MAAMoB,KAAK,GAAGF,QAAQ,CAAEJ,QAAS,CAAC;IAClC,OAAO;MACNO,MAAM,EAAEF,cAAc,CAAEC,KAAK,EAAEE,IAAK,CAAC,IAAIV,WAAW;MACpDW,SAAS,EAAEH,KAAK,EAAEI,UAAU,EAAED,SAAS,IAAI;IAC5C,CAAC;EACF,CAAC;EAED,MAAM;IAAEF,MAAM;IAAEE;EAAU,CAAC,GAAGtB,SAAS,CAAEe,QAAQ,EAAE,CAAEF,QAAQ,CAAG,CAAC;EAEjE,MAAM;IAAEW;EAAsB,CAAC,GAAGvB,WAAW,CAAEO,gBAAiB,CAAC;EAEjE,MAAMiB,cAAc,GAAGL,MAAM,EAAEM,IAAI,CAAIC,KAAK,IAAMA,KAAK,CAACC,SAAU,CAAC,GAChER,MAAM,GACN,CACA;IACCC,IAAI,EAAE,SAAS;IACfQ,KAAK,EAAE1B,EAAE,CAAE,SAAS,EAAE,aAAc,CAAC;IACrCyB,SAAS,EAAE;EACZ,CAAC,EACD,GAAGR,MAAM,CACR;EAEJ,MAAMU,oBAAoB,GAAG5B,OAAO,CAAE,MAAM;IAC3C,MAAM6B,WAAW,GAAG3B,cAAc,CAAEqB,cAAc,EAAEH,SAAU,CAAC;IAE/D,OAAOG,cAAc,CAACO,GAAG,CAAIL,KAAK,IAAM;MACvC,MAAMM,cAAc,GAAG5B,kBAAkB,CACxCiB,SAAS,EACTS,WAAW,EACXJ,KACD,CAAC;MACD,MAAMO,QAAQ,GAAGH,WAAW,KAAKJ,KAAK;MAEtC,MAAMQ,YAAY,GAAGA,CAAA,KAAM;QAC1BX,qBAAqB,CAAEX,QAAQ,EAAE;UAChCS,SAAS,EAAEW;QACZ,CAAE,CAAC;MACJ,CAAC;MAED,oBACCvB,IAAA,CAACJ,YAAY;QACZ8B,OAAO,EAAGD,YAAc;QACxBD,QAAQ,EAAGA,QAAU;QAErBP,KAAK,EAAGA,KAAO;QACfb,GAAG,EAAGA;MAAK,GAFLa,KAAK,CAACN,IAGZ,CAAC;IAEJ,CAAE,CAAC;EACJ,CAAC,EAAE,CAAEI,cAAc,EAAEH,SAAS,EAAET,QAAQ,CAAG,CAAC;EAE5C,IAAK,CAAEO,MAAM,IAAIA,MAAM,CAACiB,MAAM,KAAK,CAAC,EAAG;IACtC,OAAO,IAAI;EACZ;EAEA,oBACC3B,IAAA,CAACb,UAAU;IACVyC,UAAU;IACVC,8BAA8B,EAAG,KAAO;IACxCC,qBAAqB,EAAGjC,eAAe,CAACkC,OAAS;IAAAC,QAAA,EAE/CZ;EAAoB,CACX,CAAC;AAEf;AAEA,eAAelB,WAAW","ignoreList":[]}