{"version":3,"names":["View","TouchableWithoutFeedback","Text","Dimensions","Animated","Easing","Image","BottomSheet","useState","useEffect","useRef","usePreferredColorSchemeStyle","styles","jsx","_jsx","jsxs","_jsxs","MAX_ITEM_WIDTH","HALF_COLUMN","StylePreview","onPress","isActive","style","url","itemWidth","setItemWidth","label","name","opacity","Value","current","onLayout","columnsNum","Math","floor","getWidth","dimensionsChangeSubscription","addEventListener","remove","labelStyle","labelDark","animateOutline","setValue","timing","toValue","duration","useNativeDriver","easing","linear","start","innerOutlineStyle","innerOutline","innerOutlineDark","getOutline","outlineStyles","map","outlineStyle","index","children","container","width","imageWrapper","outline","image","source","uri","labelSelected"],"sources":["@wordpress/block-editor/src/components/block-styles/preview.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport {\r\n\tView,\r\n\tTouchableWithoutFeedback,\r\n\tText,\r\n\tDimensions,\r\n\tAnimated,\r\n\tEasing,\r\n\tImage,\r\n} from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { BottomSheet } from '@wordpress/components';\r\nimport { useState, useEffect, useRef } from '@wordpress/element';\r\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './style.scss';\r\n\r\nconst MAX_ITEM_WIDTH = 120;\r\nconst HALF_COLUMN = 0.5;\r\n\r\nfunction StylePreview( { onPress, isActive, style, url } ) {\r\n\tconst [ itemWidth, setItemWidth ] = useState( MAX_ITEM_WIDTH );\r\n\tconst { label, name } = style;\r\n\tconst opacity = useRef( new Animated.Value( 1 ) ).current;\r\n\r\n\tfunction onLayout() {\r\n\t\tconst columnsNum =\r\n\t\t\t// To indicate scroll availabilty, there is a need to display additional half the column.\r\n\t\t\tMath.floor( BottomSheet.getWidth() / MAX_ITEM_WIDTH ) + HALF_COLUMN;\r\n\t\tsetItemWidth( BottomSheet.getWidth() / columnsNum );\r\n\t}\r\n\r\n\tuseEffect( () => {\r\n\t\tonLayout();\r\n\t\tconst dimensionsChangeSubscription = Dimensions.addEventListener(\r\n\t\t\t'change',\r\n\t\t\tonLayout\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\tdimensionsChangeSubscription.remove();\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst labelStyle = usePreferredColorSchemeStyle(\r\n\t\tstyles.label,\r\n\t\tstyles.labelDark\r\n\t);\r\n\r\n\tconst animateOutline = () => {\r\n\t\topacity.setValue( 0 );\r\n\t\tAnimated.timing( opacity, {\r\n\t\t\ttoValue: 1,\r\n\t\t\tduration: 100,\r\n\t\t\tuseNativeDriver: true,\r\n\t\t\teasing: Easing.linear,\r\n\t\t} ).start();\r\n\t};\r\n\r\n\tconst innerOutlineStyle = usePreferredColorSchemeStyle(\r\n\t\tstyles.innerOutline,\r\n\t\tstyles.innerOutlineDark\r\n\t);\r\n\r\n\tconst getOutline = ( outlineStyles ) =>\r\n\t\toutlineStyles.map( ( outlineStyle, index ) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Animated.View\r\n\t\t\t\t\tstyle={ [ outlineStyle, { opacity }, styles[ name ] ] }\r\n\t\t\t\t\tkey={ index }\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t} );\r\n\r\n\treturn (\r\n\t\t<TouchableWithoutFeedback\r\n\t\t\tonPress={ () => {\r\n\t\t\t\tonPress();\r\n\t\t\t\tanimateOutline();\r\n\t\t\t} }\r\n\t\t>\r\n\t\t\t<View style={ [ styles.container, { width: itemWidth } ] }>\r\n\t\t\t\t<View style={ styles.imageWrapper }>\r\n\t\t\t\t\t{ isActive &&\r\n\t\t\t\t\t\tgetOutline( [ styles.outline, innerOutlineStyle ] ) }\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tstyle={ [ styles.image, styles[ name ] ] }\r\n\t\t\t\t\t\tsource={ { uri: url } }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tstyle={ [ labelStyle, isActive && styles.labelSelected ] }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ label }\r\n\t\t\t\t</Text>\r\n\t\t\t</View>\r\n\t\t</TouchableWithoutFeedback>\r\n\t);\r\n}\r\n\r\nexport default StylePreview;\r\n"],"mappings":"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","ignoreList":[]}