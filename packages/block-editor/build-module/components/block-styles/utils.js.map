{"version":3,"names":["TokenList","_x","getActiveStyle","styles","className","style","values","indexOf","potentialStyleName","substring","activeStyle","find","name","getDefaultStyle","replaceActiveStyle","newStyle","list","remove","add","value","getRenderedStyles","length","label","isDefault"],"sources":["@wordpress/block-editor/src/components/block-styles/utils.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport TokenList from '@wordpress/token-list';\r\nimport { _x } from '@wordpress/i18n';\r\n\r\n/**\r\n * Returns the active style from the given className.\r\n *\r\n * @param {Array}  styles    Block styles.\r\n * @param {string} className Class name\r\n *\r\n * @return {Object?} The active style.\r\n */\r\nexport function getActiveStyle( styles, className ) {\r\n\tfor ( const style of new TokenList( className ).values() ) {\r\n\t\tif ( style.indexOf( 'is-style-' ) === -1 ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tconst potentialStyleName = style.substring( 9 );\r\n\t\tconst activeStyle = styles?.find(\r\n\t\t\t( { name } ) => name === potentialStyleName\r\n\t\t);\r\n\t\tif ( activeStyle ) {\r\n\t\t\treturn activeStyle;\r\n\t\t}\r\n\t}\r\n\r\n\treturn getDefaultStyle( styles );\r\n}\r\n\r\n/**\r\n * Replaces the active style in the block's className.\r\n *\r\n * @param {string}  className   Class name.\r\n * @param {Object?} activeStyle The replaced style.\r\n * @param {Object}  newStyle    The replacing style.\r\n *\r\n * @return {string} The updated className.\r\n */\r\nexport function replaceActiveStyle( className, activeStyle, newStyle ) {\r\n\tconst list = new TokenList( className );\r\n\r\n\tif ( activeStyle ) {\r\n\t\tlist.remove( 'is-style-' + activeStyle.name );\r\n\t}\r\n\r\n\tlist.add( 'is-style-' + newStyle.name );\r\n\r\n\treturn list.value;\r\n}\r\n\r\n/**\r\n * Returns a collection of styles that can be represented on the frontend.\r\n * The function checks a style collection for a default style. If none is found, it adds one to\r\n * act as a fallback for when there is no active style applied to a block. The default item also serves\r\n * as a switch on the frontend to deactivate non-default styles.\r\n *\r\n * @param {Array} styles Block styles.\r\n *\r\n * @return {Array<Object?>}        The style collection.\r\n */\r\nexport function getRenderedStyles( styles ) {\r\n\tif ( ! styles || styles.length === 0 ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn getDefaultStyle( styles )\r\n\t\t? styles\r\n\t\t: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'default',\r\n\t\t\t\t\tlabel: _x( 'Default', 'block style' ),\r\n\t\t\t\t\tisDefault: true,\r\n\t\t\t\t},\r\n\t\t\t\t...styles,\r\n\t\t  ];\r\n}\r\n\r\n/**\r\n * Returns a style object from a collection of styles where that style object is the default block style.\r\n *\r\n * @param {Array} styles Block styles.\r\n *\r\n * @return {Object?}        The default style object, if found.\r\n */\r\nexport function getDefaultStyle( styles ) {\r\n\treturn styles?.find( ( style ) => style.isDefault );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,SAAS,MAAM,uBAAuB;AAC7C,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,cAAcA,CAAEC,MAAM,EAAEC,SAAS,EAAG;EACnD,KAAM,MAAMC,KAAK,IAAI,IAAIL,SAAS,CAAEI,SAAU,CAAC,CAACE,MAAM,CAAC,CAAC,EAAG;IAC1D,IAAKD,KAAK,CAACE,OAAO,CAAE,WAAY,CAAC,KAAK,CAAC,CAAC,EAAG;MAC1C;IACD;IAEA,MAAMC,kBAAkB,GAAGH,KAAK,CAACI,SAAS,CAAE,CAAE,CAAC;IAC/C,MAAMC,WAAW,GAAGP,MAAM,EAAEQ,IAAI,CAC/B,CAAE;MAAEC;IAAK,CAAC,KAAMA,IAAI,KAAKJ,kBAC1B,CAAC;IACD,IAAKE,WAAW,EAAG;MAClB,OAAOA,WAAW;IACnB;EACD;EAEA,OAAOG,eAAe,CAAEV,MAAO,CAAC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASW,kBAAkBA,CAAEV,SAAS,EAAEM,WAAW,EAAEK,QAAQ,EAAG;EACtE,MAAMC,IAAI,GAAG,IAAIhB,SAAS,CAAEI,SAAU,CAAC;EAEvC,IAAKM,WAAW,EAAG;IAClBM,IAAI,CAACC,MAAM,CAAE,WAAW,GAAGP,WAAW,CAACE,IAAK,CAAC;EAC9C;EAEAI,IAAI,CAACE,GAAG,CAAE,WAAW,GAAGH,QAAQ,CAACH,IAAK,CAAC;EAEvC,OAAOI,IAAI,CAACG,KAAK;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,iBAAiBA,CAAEjB,MAAM,EAAG;EAC3C,IAAK,CAAEA,MAAM,IAAIA,MAAM,CAACkB,MAAM,KAAK,CAAC,EAAG;IACtC,OAAO,EAAE;EACV;EAEA,OAAOR,eAAe,CAAEV,MAAO,CAAC,GAC7BA,MAAM,GACN,CACA;IACCS,IAAI,EAAE,SAAS;IACfU,KAAK,EAAErB,EAAE,CAAE,SAAS,EAAE,aAAc,CAAC;IACrCsB,SAAS,EAAE;EACZ,CAAC,EACD,GAAGpB,MAAM,CACR;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASU,eAAeA,CAAEV,MAAM,EAAG;EACzC,OAAOA,MAAM,EAAEQ,IAAI,CAAIN,KAAK,IAAMA,KAAK,CAACkB,SAAU,CAAC;AACpD","ignoreList":[]}