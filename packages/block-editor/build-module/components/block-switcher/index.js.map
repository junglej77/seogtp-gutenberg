{"version":3,"names":["__","_n","sprintf","_x","DropdownMenu","ToolbarButton","ToolbarGroup","ToolbarItem","__experimentalText","Text","MenuGroup","switchToBlockType","store","blocksStore","isReusableBlock","isTemplatePart","useSelect","useDispatch","copy","blockEditorStore","BlockIcon","BlockTransformationsMenu","useBlockVariationTransforms","BlockStylesMenu","PatternTransformationsMenu","useBlockDisplayTitle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BlockSwitcherDropdownMenuContents","onClose","clientIds","hasBlockStyles","canRemove","isUsingBindings","replaceBlocks","multiSelect","updateBlockAttributes","possibleBlockTransformations","patterns","blocks","select","getBlocksByClientId","getBlockRootClientId","getBlockTransformItems","__experimentalGetPatternTransformItems","rootClientId","Array","isArray","_blocks","blockVariationTransformations","selectForMultipleBlocks","insertedBlocks","length","clientId","onBlockTransform","name","newBlocks","onBlockVariationTransform","find","variationName","attributes","onPatternTransform","transformedBlocks","isSingleBlock","isTemplate","hasPossibleBlockTransformations","hasPossibleBlockVariationTransformations","hasPatternTransformation","hasBlockOrBlockVariationTransforms","hasContents","className","children","connectedBlockDescription","onSelect","possibleBlockVariationTransformations","onSelectVariation","hoveredBlock","onSwitch","BlockIndicator","icon","showTitle","blockTitle","showColors","BlockSwitcher","disabled","hasContentOnlyLocking","invalidBlocks","isReusable","getTemplateLock","getBlockAttributes","canRemoveBlocks","getBlockStyles","getBlockType","getActiveBlockVariation","some","block","firstBlockName","_isSingleBlockSelected","blockType","_icon","_hasTemplateLock","match","isSelectionOfSameType","Set","map","size","id","maximumLength","blockSwitcherLabel","hideDropdown","title","blockSwitcherDescription","toggleProps","label","popoverProps","placement","description","menuProps","orientation"],"sources":["@wordpress/block-editor/src/components/block-switcher/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _n, sprintf, _x } from '@wordpress/i18n';\r\nimport {\r\n\tDropdownMenu,\r\n\tToolbarButton,\r\n\tToolbarGroup,\r\n\tToolbarItem,\r\n\t__experimentalText as Text,\r\n\tMenuGroup,\r\n} from '@wordpress/components';\r\nimport {\r\n\tswitchToBlockType,\r\n\tstore as blocksStore,\r\n\tisReusableBlock,\r\n\tisTemplatePart,\r\n} from '@wordpress/blocks';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { copy } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\nimport BlockIcon from '../block-icon';\r\nimport BlockTransformationsMenu from './block-transformations-menu';\r\nimport { useBlockVariationTransforms } from './block-variation-transformations';\r\nimport BlockStylesMenu from './block-styles-menu';\r\nimport PatternTransformationsMenu from './pattern-transformations-menu';\r\nimport useBlockDisplayTitle from '../block-title/use-block-display-title';\r\n\r\nfunction BlockSwitcherDropdownMenuContents( {\r\n\tonClose,\r\n\tclientIds,\r\n\thasBlockStyles,\r\n\tcanRemove,\r\n\tisUsingBindings,\r\n} ) {\r\n\tconst { replaceBlocks, multiSelect, updateBlockAttributes } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\tconst { possibleBlockTransformations, patterns, blocks } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetBlocksByClientId,\r\n\t\t\t\tgetBlockRootClientId,\r\n\t\t\t\tgetBlockTransformItems,\r\n\t\t\t\t__experimentalGetPatternTransformItems,\r\n\t\t\t} = select( blockEditorStore );\r\n\t\t\tconst rootClientId = getBlockRootClientId(\r\n\t\t\t\tArray.isArray( clientIds ) ? clientIds[ 0 ] : clientIds\r\n\t\t\t);\r\n\t\t\tconst _blocks = getBlocksByClientId( clientIds );\r\n\t\t\treturn {\r\n\t\t\t\tblocks: _blocks,\r\n\t\t\t\tpossibleBlockTransformations: getBlockTransformItems(\r\n\t\t\t\t\t_blocks,\r\n\t\t\t\t\trootClientId\r\n\t\t\t\t),\r\n\t\t\t\tpatterns: __experimentalGetPatternTransformItems(\r\n\t\t\t\t\t_blocks,\r\n\t\t\t\t\trootClientId\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientIds ]\r\n\t);\r\n\tconst blockVariationTransformations = useBlockVariationTransforms( {\r\n\t\tclientIds,\r\n\t\tblocks,\r\n\t} );\r\n\tfunction selectForMultipleBlocks( insertedBlocks ) {\r\n\t\tif ( insertedBlocks.length > 1 ) {\r\n\t\t\tmultiSelect(\r\n\t\t\t\tinsertedBlocks[ 0 ].clientId,\r\n\t\t\t\tinsertedBlocks[ insertedBlocks.length - 1 ].clientId\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t// Simple block tranformation based on the `Block Transforms` API.\r\n\tfunction onBlockTransform( name ) {\r\n\t\tconst newBlocks = switchToBlockType( blocks, name );\r\n\t\treplaceBlocks( clientIds, newBlocks );\r\n\t\tselectForMultipleBlocks( newBlocks );\r\n\t}\r\n\tfunction onBlockVariationTransform( name ) {\r\n\t\tupdateBlockAttributes( blocks[ 0 ].clientId, {\r\n\t\t\t...blockVariationTransformations.find(\r\n\t\t\t\t( { name: variationName } ) => variationName === name\r\n\t\t\t).attributes,\r\n\t\t} );\r\n\t}\r\n\t// Pattern transformation through the `Patterns` API.\r\n\tfunction onPatternTransform( transformedBlocks ) {\r\n\t\treplaceBlocks( clientIds, transformedBlocks );\r\n\t\tselectForMultipleBlocks( transformedBlocks );\r\n\t}\r\n\t/**\r\n\t * The `isTemplate` check is a stopgap solution here.\r\n\t * Ideally, the Transforms API should handle this\r\n\t * by allowing to exclude blocks from wildcard transformations.\r\n\t */\r\n\tconst isSingleBlock = blocks.length === 1;\r\n\tconst isTemplate = isSingleBlock && isTemplatePart( blocks[ 0 ] );\r\n\tconst hasPossibleBlockTransformations =\r\n\t\t!! possibleBlockTransformations.length && canRemove && ! isTemplate;\r\n\tconst hasPossibleBlockVariationTransformations =\r\n\t\t!! blockVariationTransformations?.length;\r\n\tconst hasPatternTransformation = !! patterns?.length && canRemove;\r\n\tconst hasBlockOrBlockVariationTransforms =\r\n\t\thasPossibleBlockTransformations ||\r\n\t\thasPossibleBlockVariationTransformations;\r\n\tconst hasContents =\r\n\t\thasBlockStyles ||\r\n\t\thasBlockOrBlockVariationTransforms ||\r\n\t\thasPatternTransformation;\r\n\tif ( ! hasContents ) {\r\n\t\treturn (\r\n\t\t\t<p className=\"block-editor-block-switcher__no-transforms\">\r\n\t\t\t\t{ __( 'No transforms.' ) }\r\n\t\t\t</p>\r\n\t\t);\r\n\t}\r\n\r\n\tconst connectedBlockDescription = isSingleBlock\r\n\t\t? _x(\r\n\t\t\t\t'This block is connected.',\r\n\t\t\t\t'block toolbar button label and description'\r\n\t\t  )\r\n\t\t: _x(\r\n\t\t\t\t'These blocks are connected.',\r\n\t\t\t\t'block toolbar button label and description'\r\n\t\t  );\r\n\r\n\treturn (\r\n\t\t<div className=\"block-editor-block-switcher__container\">\r\n\t\t\t{ hasPatternTransformation && (\r\n\t\t\t\t<PatternTransformationsMenu\r\n\t\t\t\t\tblocks={ blocks }\r\n\t\t\t\t\tpatterns={ patterns }\r\n\t\t\t\t\tonSelect={ ( transformedBlocks ) => {\r\n\t\t\t\t\t\tonPatternTransform( transformedBlocks );\r\n\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ hasBlockOrBlockVariationTransforms && (\r\n\t\t\t\t<BlockTransformationsMenu\r\n\t\t\t\t\tclassName=\"block-editor-block-switcher__transforms__menugroup\"\r\n\t\t\t\t\tpossibleBlockTransformations={\r\n\t\t\t\t\t\tpossibleBlockTransformations\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpossibleBlockVariationTransformations={\r\n\t\t\t\t\t\tblockVariationTransformations\r\n\t\t\t\t\t}\r\n\t\t\t\t\tblocks={ blocks }\r\n\t\t\t\t\tonSelect={ ( name ) => {\r\n\t\t\t\t\t\tonBlockTransform( name );\r\n\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tonSelectVariation={ ( name ) => {\r\n\t\t\t\t\t\tonBlockVariationTransform( name );\r\n\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ hasBlockStyles && (\r\n\t\t\t\t<BlockStylesMenu\r\n\t\t\t\t\thoveredBlock={ blocks[ 0 ] }\r\n\t\t\t\t\tonSwitch={ onClose }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ isUsingBindings && (\r\n\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t<Text className=\"block-editor-block-switcher__binding-indicator\">\r\n\t\t\t\t\t\t{ connectedBlockDescription }\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</MenuGroup>\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst BlockIndicator = ( { icon, showTitle, blockTitle } ) => (\r\n\t<>\r\n\t\t<BlockIcon\r\n\t\t\tclassName=\"block-editor-block-switcher__toggle\"\r\n\t\t\ticon={ icon }\r\n\t\t\tshowColors\r\n\t\t/>\r\n\t\t{ showTitle && blockTitle && (\r\n\t\t\t<span className=\"block-editor-block-switcher__toggle-text\">\r\n\t\t\t\t{ blockTitle }\r\n\t\t\t</span>\r\n\t\t) }\r\n\t</>\r\n);\r\n\r\nexport const BlockSwitcher = ( { clientIds, disabled, isUsingBindings } ) => {\r\n\tconst {\r\n\t\thasContentOnlyLocking,\r\n\t\tcanRemove,\r\n\t\thasBlockStyles,\r\n\t\ticon,\r\n\t\tinvalidBlocks,\r\n\t\tisReusable,\r\n\t\tisTemplate,\r\n\t} = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetTemplateLock,\r\n\t\t\t\tgetBlocksByClientId,\r\n\t\t\t\tgetBlockAttributes,\r\n\t\t\t\tcanRemoveBlocks,\r\n\t\t\t} = select( blockEditorStore );\r\n\t\t\tconst { getBlockStyles, getBlockType, getActiveBlockVariation } =\r\n\t\t\t\tselect( blocksStore );\r\n\t\t\tconst _blocks = getBlocksByClientId( clientIds );\r\n\t\t\tif ( ! _blocks.length || _blocks.some( ( block ) => ! block ) ) {\r\n\t\t\t\treturn { invalidBlocks: true };\r\n\t\t\t}\r\n\t\t\tconst [ { name: firstBlockName } ] = _blocks;\r\n\t\t\tconst _isSingleBlockSelected = _blocks.length === 1;\r\n\t\t\tconst blockType = getBlockType( firstBlockName );\r\n\r\n\t\t\tlet _icon;\r\n\t\t\tlet _hasTemplateLock;\r\n\t\t\tif ( _isSingleBlockSelected ) {\r\n\t\t\t\tconst match = getActiveBlockVariation(\r\n\t\t\t\t\tfirstBlockName,\r\n\t\t\t\t\tgetBlockAttributes( clientIds[ 0 ] )\r\n\t\t\t\t);\r\n\t\t\t\t// Take into account active block variations.\r\n\t\t\t\t_icon = match?.icon || blockType.icon;\r\n\t\t\t\t_hasTemplateLock =\r\n\t\t\t\t\tgetTemplateLock( clientIds[ 0 ] ) === 'contentOnly';\r\n\t\t\t} else {\r\n\t\t\t\tconst isSelectionOfSameType =\r\n\t\t\t\t\tnew Set( _blocks.map( ( { name } ) => name ) ).size === 1;\r\n\t\t\t\t_hasTemplateLock = clientIds.some(\r\n\t\t\t\t\t( id ) => getTemplateLock( id ) === 'contentOnly'\r\n\t\t\t\t);\r\n\t\t\t\t// When selection consists of blocks of multiple types, display an\r\n\t\t\t\t// appropriate icon to communicate the non-uniformity.\r\n\t\t\t\t_icon = isSelectionOfSameType ? blockType.icon : copy;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcanRemove: canRemoveBlocks( clientIds ),\r\n\t\t\t\thasBlockStyles:\r\n\t\t\t\t\t_isSingleBlockSelected &&\r\n\t\t\t\t\t!! getBlockStyles( firstBlockName )?.length,\r\n\t\t\t\ticon: _icon,\r\n\t\t\t\tisReusable:\r\n\t\t\t\t\t_isSingleBlockSelected && isReusableBlock( _blocks[ 0 ] ),\r\n\t\t\t\tisTemplate:\r\n\t\t\t\t\t_isSingleBlockSelected && isTemplatePart( _blocks[ 0 ] ),\r\n\t\t\t\thasContentOnlyLocking: _hasTemplateLock,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientIds ]\r\n\t);\r\n\tconst blockTitle = useBlockDisplayTitle( {\r\n\t\tclientId: clientIds?.[ 0 ],\r\n\t\tmaximumLength: 35,\r\n\t} );\r\n\r\n\tif ( invalidBlocks ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst isSingleBlock = clientIds.length === 1;\r\n\tconst blockSwitcherLabel = isSingleBlock\r\n\t\t? blockTitle\r\n\t\t: __( 'Multiple blocks selected' );\r\n\r\n\tconst hideDropdown =\r\n\t\tdisabled ||\r\n\t\t( ! hasBlockStyles && ! canRemove ) ||\r\n\t\thasContentOnlyLocking;\r\n\r\n\tif ( hideDropdown ) {\r\n\t\treturn (\r\n\t\t\t<ToolbarGroup>\r\n\t\t\t\t<ToolbarButton\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t\tclassName=\"block-editor-block-switcher__no-switcher-icon\"\r\n\t\t\t\t\ttitle={ blockSwitcherLabel }\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<BlockIndicator\r\n\t\t\t\t\t\t\ticon={ icon }\r\n\t\t\t\t\t\t\tshowTitle={ isReusable || isTemplate }\r\n\t\t\t\t\t\t\tblockTitle={ blockTitle }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</ToolbarGroup>\r\n\t\t);\r\n\t}\r\n\r\n\tconst blockSwitcherDescription = isSingleBlock\r\n\t\t? __( 'Change block type or style' )\r\n\t\t: sprintf(\r\n\t\t\t\t/* translators: %d: number of blocks. */\r\n\t\t\t\t_n(\r\n\t\t\t\t\t'Change type of %d block',\r\n\t\t\t\t\t'Change type of %d blocks',\r\n\t\t\t\t\tclientIds.length\r\n\t\t\t\t),\r\n\t\t\t\tclientIds.length\r\n\t\t  );\r\n\treturn (\r\n\t\t<ToolbarGroup>\r\n\t\t\t<ToolbarItem>\r\n\t\t\t\t{ ( toggleProps ) => (\r\n\t\t\t\t\t<DropdownMenu\r\n\t\t\t\t\t\tclassName=\"block-editor-block-switcher\"\r\n\t\t\t\t\t\tlabel={ blockSwitcherLabel }\r\n\t\t\t\t\t\tpopoverProps={ {\r\n\t\t\t\t\t\t\tplacement: 'bottom-start',\r\n\t\t\t\t\t\t\tclassName: 'block-editor-block-switcher__popover',\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<BlockIndicator\r\n\t\t\t\t\t\t\t\ticon={ icon }\r\n\t\t\t\t\t\t\t\tshowTitle={ isReusable || isTemplate }\r\n\t\t\t\t\t\t\t\tblockTitle={ blockTitle }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttoggleProps={ {\r\n\t\t\t\t\t\t\tdescription: blockSwitcherDescription,\r\n\t\t\t\t\t\t\t...toggleProps,\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tmenuProps={ { orientation: 'both' } }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ ( { onClose } ) => (\r\n\t\t\t\t\t\t\t<BlockSwitcherDropdownMenuContents\r\n\t\t\t\t\t\t\t\tonClose={ onClose }\r\n\t\t\t\t\t\t\t\tclientIds={ clientIds }\r\n\t\t\t\t\t\t\t\thasBlockStyles={ hasBlockStyles }\r\n\t\t\t\t\t\t\t\tcanRemove={ canRemove }\r\n\t\t\t\t\t\t\t\tisUsingBindings={ isUsingBindings }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t) }\r\n\t\t\t</ToolbarItem>\r\n\t\t</ToolbarGroup>\r\n\t);\r\n};\r\n\r\nexport default BlockSwitcher;\r\n"],"mappings":"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","ignoreList":[]}