{"version":3,"names":["useSelect","isUnmodifiedDefaultBlock","store","blockEditorStore","useShowBlockTools","select","getSelectedBlockClientId","getFirstMultiSelectedBlockClientId","getBlock","getBlockMode","getSettings","hasMultiSelection","__unstableGetEditorMode","isTyping","clientId","block","editorMode","hasSelectedBlock","isEmptyDefaultBlock","_showEmptyBlockSideInserter","maybeShowBreadcrumb","isZoomOut","_showZoomOutToolbar","attributes","align","_showBlockToolbarPopover","hasFixedToolbar","showEmptyBlockSideInserter","showBreadcrumb","showBlockToolbarPopover","showZoomOutToolbar"],"sources":["@wordpress/block-editor/src/components/block-tools/use-show-block-tools.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { isUnmodifiedDefaultBlock } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\n/**\r\n * Source of truth for which block tools are showing in the block editor.\r\n *\r\n * @return {Object} Object of which block tools will be shown.\r\n */\r\nexport function useShowBlockTools() {\r\n\treturn useSelect( ( select ) => {\r\n\t\tconst {\r\n\t\t\tgetSelectedBlockClientId,\r\n\t\t\tgetFirstMultiSelectedBlockClientId,\r\n\t\t\tgetBlock,\r\n\t\t\tgetBlockMode,\r\n\t\t\tgetSettings,\r\n\t\t\thasMultiSelection,\r\n\t\t\t__unstableGetEditorMode,\r\n\t\t\tisTyping,\r\n\t\t} = select( blockEditorStore );\r\n\r\n\t\tconst clientId =\r\n\t\t\tgetSelectedBlockClientId() || getFirstMultiSelectedBlockClientId();\r\n\r\n\t\tconst block = getBlock( clientId );\r\n\t\tconst editorMode = __unstableGetEditorMode();\r\n\t\tconst hasSelectedBlock = !! clientId && !! block;\r\n\t\tconst isEmptyDefaultBlock =\r\n\t\t\thasSelectedBlock &&\r\n\t\t\tisUnmodifiedDefaultBlock( block ) &&\r\n\t\t\tgetBlockMode( clientId ) !== 'html';\r\n\t\tconst _showEmptyBlockSideInserter =\r\n\t\t\tclientId &&\r\n\t\t\t! isTyping() &&\r\n\t\t\teditorMode === 'edit' &&\r\n\t\t\tisEmptyDefaultBlock;\r\n\t\tconst maybeShowBreadcrumb =\r\n\t\t\thasSelectedBlock &&\r\n\t\t\t! hasMultiSelection() &&\r\n\t\t\teditorMode === 'navigation';\r\n\r\n\t\tconst isZoomOut = editorMode === 'zoom-out';\r\n\t\tconst _showZoomOutToolbar =\r\n\t\t\tisZoomOut &&\r\n\t\t\tblock?.attributes?.align === 'full' &&\r\n\t\t\t! _showEmptyBlockSideInserter &&\r\n\t\t\t! maybeShowBreadcrumb;\r\n\t\tconst _showBlockToolbarPopover =\r\n\t\t\t! _showZoomOutToolbar &&\r\n\t\t\t! getSettings().hasFixedToolbar &&\r\n\t\t\t! _showEmptyBlockSideInserter &&\r\n\t\t\thasSelectedBlock &&\r\n\t\t\t! isEmptyDefaultBlock &&\r\n\t\t\t! maybeShowBreadcrumb;\r\n\r\n\t\treturn {\r\n\t\t\tshowEmptyBlockSideInserter: _showEmptyBlockSideInserter,\r\n\t\t\tshowBreadcrumb:\r\n\t\t\t\t! _showEmptyBlockSideInserter && maybeShowBreadcrumb,\r\n\t\t\tshowBlockToolbarPopover: _showBlockToolbarPopover,\r\n\t\t\tshowZoomOutToolbar: _showZoomOutToolbar,\r\n\t\t};\r\n\t}, [] );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,wBAAwB,QAAQ,mBAAmB;;AAE5D;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;;AAEvD;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,iBAAiBA,CAAA,EAAG;EACnC,OAAOJ,SAAS,CAAIK,MAAM,IAAM;IAC/B,MAAM;MACLC,wBAAwB;MACxBC,kCAAkC;MAClCC,QAAQ;MACRC,YAAY;MACZC,WAAW;MACXC,iBAAiB;MACjBC,uBAAuB;MACvBC;IACD,CAAC,GAAGR,MAAM,CAAEF,gBAAiB,CAAC;IAE9B,MAAMW,QAAQ,GACbR,wBAAwB,CAAC,CAAC,IAAIC,kCAAkC,CAAC,CAAC;IAEnE,MAAMQ,KAAK,GAAGP,QAAQ,CAAEM,QAAS,CAAC;IAClC,MAAME,UAAU,GAAGJ,uBAAuB,CAAC,CAAC;IAC5C,MAAMK,gBAAgB,GAAG,CAAC,CAAEH,QAAQ,IAAI,CAAC,CAAEC,KAAK;IAChD,MAAMG,mBAAmB,GACxBD,gBAAgB,IAChBhB,wBAAwB,CAAEc,KAAM,CAAC,IACjCN,YAAY,CAAEK,QAAS,CAAC,KAAK,MAAM;IACpC,MAAMK,2BAA2B,GAChCL,QAAQ,IACR,CAAED,QAAQ,CAAC,CAAC,IACZG,UAAU,KAAK,MAAM,IACrBE,mBAAmB;IACpB,MAAME,mBAAmB,GACxBH,gBAAgB,IAChB,CAAEN,iBAAiB,CAAC,CAAC,IACrBK,UAAU,KAAK,YAAY;IAE5B,MAAMK,SAAS,GAAGL,UAAU,KAAK,UAAU;IAC3C,MAAMM,mBAAmB,GACxBD,SAAS,IACTN,KAAK,EAAEQ,UAAU,EAAEC,KAAK,KAAK,MAAM,IACnC,CAAEL,2BAA2B,IAC7B,CAAEC,mBAAmB;IACtB,MAAMK,wBAAwB,GAC7B,CAAEH,mBAAmB,IACrB,CAAEZ,WAAW,CAAC,CAAC,CAACgB,eAAe,IAC/B,CAAEP,2BAA2B,IAC7BF,gBAAgB,IAChB,CAAEC,mBAAmB,IACrB,CAAEE,mBAAmB;IAEtB,OAAO;MACNO,0BAA0B,EAAER,2BAA2B;MACvDS,cAAc,EACb,CAAET,2BAA2B,IAAIC,mBAAmB;MACrDS,uBAAuB,EAAEJ,wBAAwB;MACjDK,kBAAkB,EAAER;IACrB,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;AACR","ignoreList":[]}