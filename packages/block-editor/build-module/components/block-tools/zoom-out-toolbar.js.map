{"version":3,"names":["clsx","dragHandle","trash","edit","Button","ToolbarButton","useSelect","useDispatch","store","blocksStore","__","blockEditorStore","BlockDraggable","BlockMover","Shuffle","NavigableToolbar","jsx","_jsx","jsxs","_jsxs","ZoomOutToolbar","clientId","__unstableContentRef","selected","select","getBlock","hasBlockMovingClientId","getNextBlockClientId","getPreviousBlockClientId","canRemoveBlock","canMoveBlock","getBlockType","name","blockType","isBlockTemplatePart","isNextBlockTemplatePart","nextClientId","nextName","nextBlockType","isPrevBlockTemplatePart","prevClientId","prevName","prevBlockType","blockMovingMode","canRemove","canMove","removeBlock","__unstableSetEditorMode","classNames","showBlockDraggable","className","variant","orientation","children","clientIds","draggableProps","icon","label","iconSize","size","tabIndex","hideDragHandle","isBlockMoverUpButtonDisabled","isBlockMoverDownButtonDisabled","as","onClick","current","focus"],"sources":["@wordpress/block-editor/src/components/block-tools/zoom-out-toolbar.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { dragHandle, trash, edit } from '@wordpress/icons';\r\nimport { Button, ToolbarButton } from '@wordpress/components';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\nimport BlockDraggable from '../block-draggable';\r\nimport BlockMover from '../block-mover';\r\nimport Shuffle from '../block-toolbar/shuffle';\r\nimport NavigableToolbar from '../navigable-toolbar';\r\n\r\nexport default function ZoomOutToolbar( { clientId, __unstableContentRef } ) {\r\n\tconst selected = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetBlock,\r\n\t\t\t\thasBlockMovingClientId,\r\n\t\t\t\tgetNextBlockClientId,\r\n\t\t\t\tgetPreviousBlockClientId,\r\n\t\t\t\tcanRemoveBlock,\r\n\t\t\t\tcanMoveBlock,\r\n\t\t\t} = select( blockEditorStore );\r\n\t\t\tconst { getBlockType } = select( blocksStore );\r\n\t\t\tconst { name } = getBlock( clientId );\r\n\t\t\tconst blockType = getBlockType( name );\r\n\t\t\tconst isBlockTemplatePart =\r\n\t\t\t\tblockType?.name === 'core/template-part';\r\n\r\n\t\t\tlet isNextBlockTemplatePart = false;\r\n\t\t\tconst nextClientId = getNextBlockClientId();\r\n\t\t\tif ( nextClientId ) {\r\n\t\t\t\tconst { name: nextName } = getBlock( nextClientId );\r\n\t\t\t\tconst nextBlockType = getBlockType( nextName );\r\n\t\t\t\tisNextBlockTemplatePart =\r\n\t\t\t\t\tnextBlockType?.name === 'core/template-part';\r\n\t\t\t}\r\n\r\n\t\t\tlet isPrevBlockTemplatePart = false;\r\n\t\t\tconst prevClientId = getPreviousBlockClientId();\r\n\t\t\tif ( prevClientId ) {\r\n\t\t\t\tconst { name: prevName } = getBlock( prevClientId );\r\n\t\t\t\tconst prevBlockType = getBlockType( prevName );\r\n\t\t\t\tisPrevBlockTemplatePart =\r\n\t\t\t\t\tprevBlockType?.name === 'core/template-part';\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tblockMovingMode: hasBlockMovingClientId(),\r\n\t\t\t\tisBlockTemplatePart,\r\n\t\t\t\tisNextBlockTemplatePart,\r\n\t\t\t\tisPrevBlockTemplatePart,\r\n\t\t\t\tcanRemove: canRemoveBlock( clientId ),\r\n\t\t\t\tcanMove: canMoveBlock( clientId ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst {\r\n\t\tblockMovingMode,\r\n\t\tisBlockTemplatePart,\r\n\t\tisNextBlockTemplatePart,\r\n\t\tisPrevBlockTemplatePart,\r\n\t\tcanRemove,\r\n\t\tcanMove,\r\n\t} = selected;\r\n\r\n\tconst { removeBlock, __unstableSetEditorMode } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tconst classNames = clsx( 'zoom-out-toolbar', {\r\n\t\t'is-block-moving-mode': !! blockMovingMode,\r\n\t} );\r\n\r\n\tconst showBlockDraggable = canMove && ! isBlockTemplatePart;\r\n\r\n\treturn (\r\n\t\t<NavigableToolbar\r\n\t\t\tclassName={ classNames }\r\n\t\t\t/* translators: accessibility text for the block toolbar */\r\n\t\t\taria-label={ __( 'Block tools' ) }\r\n\t\t\t// The variant is applied as \"toolbar\" when undefined, which is the black border style of the dropdown from the toolbar popover.\r\n\t\t\tvariant=\"unstyled\"\r\n\t\t\torientation=\"vertical\"\r\n\t\t>\r\n\t\t\t{ showBlockDraggable && (\r\n\t\t\t\t<BlockDraggable clientIds={ [ clientId ] }>\r\n\t\t\t\t\t{ ( draggableProps ) => (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ticon={ dragHandle }\r\n\t\t\t\t\t\t\tclassName=\"block-selection-button_drag-handle zoom-out-toolbar-button\"\r\n\t\t\t\t\t\t\tlabel={ __( 'Drag' ) }\r\n\t\t\t\t\t\t\ticonSize={ 24 }\r\n\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\t// Should not be able to tab to drag handle as this\r\n\t\t\t\t\t\t\t// button can only be used with a pointer device.\r\n\t\t\t\t\t\t\ttabIndex=\"-1\"\r\n\t\t\t\t\t\t\t{ ...draggableProps }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</BlockDraggable>\r\n\t\t\t) }\r\n\t\t\t{ ! isBlockTemplatePart && (\r\n\t\t\t\t<BlockMover\r\n\t\t\t\t\tclientIds={ [ clientId ] }\r\n\t\t\t\t\thideDragHandle\r\n\t\t\t\t\tisBlockMoverUpButtonDisabled={ isPrevBlockTemplatePart }\r\n\t\t\t\t\tisBlockMoverDownButtonDisabled={ isNextBlockTemplatePart }\r\n\t\t\t\t\ticonSize={ 24 }\r\n\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ canMove && canRemove && (\r\n\t\t\t\t<Shuffle clientId={ clientId } as={ ToolbarButton } />\r\n\t\t\t) }\r\n\r\n\t\t\t{ ! isBlockTemplatePart && (\r\n\t\t\t\t<ToolbarButton\r\n\t\t\t\t\tclassName=\"zoom-out-toolbar-button\"\r\n\t\t\t\t\ticon={ edit }\r\n\t\t\t\t\tlabel={ __( 'Edit' ) }\r\n\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t__unstableSetEditorMode( 'edit' );\r\n\t\t\t\t\t\t__unstableContentRef.current?.focus();\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\r\n\t\t\t{ canRemove && ! isBlockTemplatePart && (\r\n\t\t\t\t<ToolbarButton\r\n\t\t\t\t\tclassName=\"zoom-out-toolbar-button\"\r\n\t\t\t\t\ticon={ trash }\r\n\t\t\t\t\tlabel={ __( 'Delete' ) }\r\n\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\tremoveBlock( clientId );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</NavigableToolbar>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}