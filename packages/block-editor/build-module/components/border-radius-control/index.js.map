{"version":3,"names":["BaseControl","RangeControl","__experimentalParseQuantityAndUnitFromRawValue","parseQuantityAndUnitFromRawValue","__experimentalUseCustomUnits","useCustomUnits","useState","__","AllInputControl","InputControls","LinkedButton","useSettings","getAllValue","getAllUnit","hasDefinedValues","hasMixedValues","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DEFAULT_VALUES","topLeft","undefined","topRight","bottomLeft","bottomRight","MIN_BORDER_RADIUS_VALUE","MAX_BORDER_RADIUS_VALUES","px","em","rem","BorderRadiusControl","onChange","values","isLinked","setIsLinked","selectedUnits","setSelectedUnits","flat","availableUnits","units","unit","unitConfig","find","item","value","step","allValue","toggleLinked","handleSliderChange","next","className","children","VisualLabel","as","min","__next40pxDefaultSize","label","hideLabelFromVision","max","initialPosition","withInputField","__nextHasNoMarginBottom","onClick"],"sources":["@wordpress/block-editor/src/components/border-radius-control/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tBaseControl,\r\n\tRangeControl,\r\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\r\n\t__experimentalUseCustomUnits as useCustomUnits,\r\n} from '@wordpress/components';\r\nimport { useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport AllInputControl from './all-input-control';\r\nimport InputControls from './input-controls';\r\nimport LinkedButton from './linked-button';\r\nimport { useSettings } from '../use-settings';\r\nimport {\r\n\tgetAllValue,\r\n\tgetAllUnit,\r\n\thasDefinedValues,\r\n\thasMixedValues,\r\n} from './utils';\r\n\r\nconst DEFAULT_VALUES = {\r\n\ttopLeft: undefined,\r\n\ttopRight: undefined,\r\n\tbottomLeft: undefined,\r\n\tbottomRight: undefined,\r\n};\r\nconst MIN_BORDER_RADIUS_VALUE = 0;\r\nconst MAX_BORDER_RADIUS_VALUES = {\r\n\tpx: 100,\r\n\tem: 20,\r\n\trem: 20,\r\n};\r\n\r\n/**\r\n * Control to display border radius options.\r\n *\r\n * @param {Object}   props          Component props.\r\n * @param {Function} props.onChange Callback to handle onChange.\r\n * @param {Object}   props.values   Border radius values.\r\n *\r\n * @return {Element}              Custom border radius control.\r\n */\r\nexport default function BorderRadiusControl( { onChange, values } ) {\r\n\tconst [ isLinked, setIsLinked ] = useState(\r\n\t\t! hasDefinedValues( values ) || ! hasMixedValues( values )\r\n\t);\r\n\r\n\t// Tracking selected units via internal state allows filtering of CSS unit\r\n\t// only values from being saved while maintaining preexisting unit selection\r\n\t// behaviour. Filtering CSS unit only values prevents invalid style values.\r\n\tconst [ selectedUnits, setSelectedUnits ] = useState( {\r\n\t\tflat:\r\n\t\t\ttypeof values === 'string'\r\n\t\t\t\t? parseQuantityAndUnitFromRawValue( values )[ 1 ]\r\n\t\t\t\t: undefined,\r\n\t\ttopLeft: parseQuantityAndUnitFromRawValue( values?.topLeft )[ 1 ],\r\n\t\ttopRight: parseQuantityAndUnitFromRawValue( values?.topRight )[ 1 ],\r\n\t\tbottomLeft: parseQuantityAndUnitFromRawValue( values?.bottomLeft )[ 1 ],\r\n\t\tbottomRight: parseQuantityAndUnitFromRawValue(\r\n\t\t\tvalues?.bottomRight\r\n\t\t)[ 1 ],\r\n\t} );\r\n\r\n\tconst [ availableUnits ] = useSettings( 'spacing.units' );\r\n\tconst units = useCustomUnits( {\r\n\t\tavailableUnits: availableUnits || [ 'px', 'em', 'rem' ],\r\n\t} );\r\n\r\n\tconst unit = getAllUnit( selectedUnits );\r\n\tconst unitConfig = units && units.find( ( item ) => item.value === unit );\r\n\tconst step = unitConfig?.step || 1;\r\n\r\n\tconst [ allValue ] = parseQuantityAndUnitFromRawValue(\r\n\t\tgetAllValue( values )\r\n\t);\r\n\r\n\tconst toggleLinked = () => setIsLinked( ! isLinked );\r\n\r\n\tconst handleSliderChange = ( next ) => {\r\n\t\tonChange( next !== undefined ? `${ next }${ unit }` : undefined );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<fieldset className=\"components-border-radius-control\">\r\n\t\t\t<BaseControl.VisualLabel as=\"legend\">\r\n\t\t\t\t{ __( 'Radius' ) }\r\n\t\t\t</BaseControl.VisualLabel>\r\n\t\t\t<div className=\"components-border-radius-control__wrapper\">\r\n\t\t\t\t{ isLinked ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<AllInputControl\r\n\t\t\t\t\t\t\tclassName=\"components-border-radius-control__unit-control\"\r\n\t\t\t\t\t\t\tvalues={ values }\r\n\t\t\t\t\t\t\tmin={ MIN_BORDER_RADIUS_VALUE }\r\n\t\t\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t\t\t\tselectedUnits={ selectedUnits }\r\n\t\t\t\t\t\t\tsetSelectedUnits={ setSelectedUnits }\r\n\t\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tlabel={ __( 'Border radius' ) }\r\n\t\t\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\t\t\tclassName=\"components-border-radius-control__range-control\"\r\n\t\t\t\t\t\t\tvalue={ allValue ?? '' }\r\n\t\t\t\t\t\t\tmin={ MIN_BORDER_RADIUS_VALUE }\r\n\t\t\t\t\t\t\tmax={ MAX_BORDER_RADIUS_VALUES[ unit ] }\r\n\t\t\t\t\t\t\tinitialPosition={ 0 }\r\n\t\t\t\t\t\t\twithInputField={ false }\r\n\t\t\t\t\t\t\tonChange={ handleSliderChange }\r\n\t\t\t\t\t\t\tstep={ step }\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<InputControls\r\n\t\t\t\t\t\tmin={ MIN_BORDER_RADIUS_VALUE }\r\n\t\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t\t\tselectedUnits={ selectedUnits }\r\n\t\t\t\t\t\tsetSelectedUnits={ setSelectedUnits }\r\n\t\t\t\t\t\tvalues={ values || DEFAULT_VALUES }\r\n\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<LinkedButton onClick={ toggleLinked } isLinked={ isLinked } />\r\n\t\t\t</div>\r\n\t\t</fieldset>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}