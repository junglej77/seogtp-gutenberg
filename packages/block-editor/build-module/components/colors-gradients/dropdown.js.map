{"version":3,"names":["clsx","Button","ColorIndicator","Dropdown","FlexItem","__experimentalDropdownContentWrapper","DropdownContentWrapper","__experimentalHStack","HStack","__experimentalToolsPanelItem","ToolsPanelItem","ColorGradientControl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WithToolsPanelItem","setting","children","panelId","props","clearValue","colorValue","onColorChange","gradientValue","onGradientChange","hasValue","label","onDeselect","isShownByDefault","undefined","className","resetAllFilter","LabeledColorIndicator","justify","title","renderToggle","settings","onToggle","isOpen","toggleProps","onClick","__next40pxDefaultSize","ColorGradientSettingsDropdown","colors","disableCustomColors","disableCustomGradients","enableAlpha","gradients","__experimentalIsRenderedInSidebar","popoverProps","placement","offset","shift","map","index","_setting$gradientValu","controlProps","clearable","showTitle","toggleSettings","renderContent","paddingSize"],"sources":["@wordpress/block-editor/src/components/colors-gradients/dropdown.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tButton,\r\n\tColorIndicator,\r\n\tDropdown,\r\n\tFlexItem,\r\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalToolsPanelItem as ToolsPanelItem,\r\n} from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport ColorGradientControl from './control';\r\n\r\n// When the `ColorGradientSettingsDropdown` controls are being rendered to a\r\n// `ToolsPanel` they must be wrapped in a `ToolsPanelItem`.\r\nconst WithToolsPanelItem = ( { setting, children, panelId, ...props } ) => {\r\n\tconst clearValue = () => {\r\n\t\tif ( setting.colorValue ) {\r\n\t\t\tsetting.onColorChange();\r\n\t\t} else if ( setting.gradientValue ) {\r\n\t\t\tsetting.onGradientChange();\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<ToolsPanelItem\r\n\t\t\thasValue={ () => {\r\n\t\t\t\treturn !! setting.colorValue || !! setting.gradientValue;\r\n\t\t\t} }\r\n\t\t\tlabel={ setting.label }\r\n\t\t\tonDeselect={ clearValue }\r\n\t\t\tisShownByDefault={\r\n\t\t\t\tsetting.isShownByDefault !== undefined\r\n\t\t\t\t\t? setting.isShownByDefault\r\n\t\t\t\t\t: true\r\n\t\t\t}\r\n\t\t\t{ ...props }\r\n\t\t\tclassName=\"block-editor-tools-panel-color-gradient-settings__item\"\r\n\t\t\tpanelId={ panelId }\r\n\t\t\t// Pass resetAllFilter if supplied due to rendering via SlotFill\r\n\t\t\t// into parent ToolsPanel.\r\n\t\t\tresetAllFilter={ setting.resetAllFilter }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</ToolsPanelItem>\r\n\t);\r\n};\r\n\r\nconst LabeledColorIndicator = ( { colorValue, label } ) => (\r\n\t<HStack justify=\"flex-start\">\r\n\t\t<ColorIndicator\r\n\t\t\tclassName=\"block-editor-panel-color-gradient-settings__color-indicator\"\r\n\t\t\tcolorValue={ colorValue }\r\n\t\t/>\r\n\t\t<FlexItem\r\n\t\t\tclassName=\"block-editor-panel-color-gradient-settings__color-name\"\r\n\t\t\ttitle={ label }\r\n\t\t>\r\n\t\t\t{ label }\r\n\t\t</FlexItem>\r\n\t</HStack>\r\n);\r\n\r\n// Renders a color dropdown's toggle as an `Item` if it is within an `ItemGroup`\r\n// or as a `Button` if it isn't e.g. the controls are being rendered in\r\n// a `ToolsPanel`.\r\nconst renderToggle =\r\n\t( settings ) =>\r\n\t( { onToggle, isOpen } ) => {\r\n\t\tconst { colorValue, label } = settings;\r\n\r\n\t\tconst toggleProps = {\r\n\t\t\tonClick: onToggle,\r\n\t\t\tclassName: clsx(\r\n\t\t\t\t'block-editor-panel-color-gradient-settings__dropdown',\r\n\t\t\t\t{ 'is-open': isOpen }\r\n\t\t\t),\r\n\t\t\t'aria-expanded': isOpen,\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<Button\r\n\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t{ ...toggleProps }\r\n\t\t\t>\r\n\t\t\t\t<LabeledColorIndicator\r\n\t\t\t\t\tcolorValue={ colorValue }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t/>\r\n\t\t\t</Button>\r\n\t\t);\r\n\t};\r\n\r\n// Renders a collection of color controls as dropdowns. Depending upon the\r\n// context in which these dropdowns are being rendered, they may be wrapped\r\n// in an `ItemGroup` with each dropdown's toggle as an `Item`, or alternatively,\r\n// the may be individually wrapped in a `ToolsPanelItem` with the toggle as\r\n// a regular `Button`.\r\n//\r\n// For more context see: https://github.com/WordPress/gutenberg/pull/40084\r\nexport default function ColorGradientSettingsDropdown( {\r\n\tcolors,\r\n\tdisableCustomColors,\r\n\tdisableCustomGradients,\r\n\tenableAlpha,\r\n\tgradients,\r\n\tsettings,\r\n\t__experimentalIsRenderedInSidebar,\r\n\t...props\r\n} ) {\r\n\tlet popoverProps;\r\n\tif ( __experimentalIsRenderedInSidebar ) {\r\n\t\tpopoverProps = {\r\n\t\t\tplacement: 'left-start',\r\n\t\t\toffset: 36,\r\n\t\t\tshift: true,\r\n\t\t};\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ settings.map( ( setting, index ) => {\r\n\t\t\t\tconst controlProps = {\r\n\t\t\t\t\tclearable: false,\r\n\t\t\t\t\tcolorValue: setting.colorValue,\r\n\t\t\t\t\tcolors,\r\n\t\t\t\t\tdisableCustomColors,\r\n\t\t\t\t\tdisableCustomGradients,\r\n\t\t\t\t\tenableAlpha,\r\n\t\t\t\t\tgradientValue: setting.gradientValue,\r\n\t\t\t\t\tgradients,\r\n\t\t\t\t\tlabel: setting.label,\r\n\t\t\t\t\tonColorChange: setting.onColorChange,\r\n\t\t\t\t\tonGradientChange: setting.onGradientChange,\r\n\t\t\t\t\tshowTitle: false,\r\n\t\t\t\t\t__experimentalIsRenderedInSidebar,\r\n\t\t\t\t\t...setting,\r\n\t\t\t\t};\r\n\t\t\t\tconst toggleSettings = {\r\n\t\t\t\t\tcolorValue: setting.gradientValue ?? setting.colorValue,\r\n\t\t\t\t\tlabel: setting.label,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\tsetting && (\r\n\t\t\t\t\t\t// If not in an `ItemGroup` wrap the dropdown in a\r\n\t\t\t\t\t\t// `ToolsPanelItem`\r\n\t\t\t\t\t\t<WithToolsPanelItem\r\n\t\t\t\t\t\t\tkey={ index }\r\n\t\t\t\t\t\t\tsetting={ setting }\r\n\t\t\t\t\t\t\t{ ...props }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\t\t\t\tclassName=\"block-editor-tools-panel-color-gradient-settings__dropdown\"\r\n\t\t\t\t\t\t\t\trenderToggle={ renderToggle( toggleSettings ) }\r\n\t\t\t\t\t\t\t\trenderContent={ () => (\r\n\t\t\t\t\t\t\t\t\t<DropdownContentWrapper paddingSize=\"none\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-panel-color-gradient-settings__dropdown-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ColorGradientControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...controlProps }\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</DropdownContentWrapper>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</WithToolsPanelItem>\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}