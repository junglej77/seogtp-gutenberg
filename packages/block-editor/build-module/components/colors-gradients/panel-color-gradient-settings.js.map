{"version":3,"names":["clsx","__experimentalSpacer","Spacer","__experimentalToolsPanel","ToolsPanel","useRegistry","useInstanceId","ColorGradientSettingsDropdown","useColorsAndGradientsPalettes","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","colorsAndGradientKeys","PanelColorGradientSettingsInner","className","colors","gradients","disableCustomColors","disableCustomGradients","children","settings","title","showTitle","__experimentalIsRenderedInSidebar","enableAlpha","panelId","batch","length","every","setting","undefined","label","resetAll","forEach","colorValue","gradientValue","onColorChange","onGradientChange","__experimentalFirstVisibleItemClass","__experimentalLastVisibleItemClass","marginY","PanelColorGradientSettingsSelect","props","colorGradientSettings","PanelColorGradientSettings","key","hasOwnProperty"],"sources":["@wordpress/block-editor/src/components/colors-gradients/panel-color-gradient-settings.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalSpacer as Spacer,\r\n\t__experimentalToolsPanel as ToolsPanel,\r\n} from '@wordpress/components';\r\nimport { useRegistry } from '@wordpress/data';\r\nimport { useInstanceId } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport ColorGradientSettingsDropdown from './dropdown';\r\nimport useColorsAndGradientsPalettes from './use-multiple-origin-colors-and-gradients';\r\n\r\nconst colorsAndGradientKeys = [\r\n\t'colors',\r\n\t'disableCustomColors',\r\n\t'gradients',\r\n\t'disableCustomGradients',\r\n];\r\n\r\nexport const PanelColorGradientSettingsInner = ( {\r\n\tclassName,\r\n\tcolors,\r\n\tgradients,\r\n\tdisableCustomColors,\r\n\tdisableCustomGradients,\r\n\tchildren,\r\n\tsettings,\r\n\ttitle,\r\n\tshowTitle = true,\r\n\t__experimentalIsRenderedInSidebar,\r\n\tenableAlpha,\r\n} ) => {\r\n\tconst panelId = useInstanceId( PanelColorGradientSettingsInner );\r\n\tconst { batch } = useRegistry();\r\n\tif (\r\n\t\t( ! colors || colors.length === 0 ) &&\r\n\t\t( ! gradients || gradients.length === 0 ) &&\r\n\t\tdisableCustomColors &&\r\n\t\tdisableCustomGradients &&\r\n\t\tsettings?.every(\r\n\t\t\t( setting ) =>\r\n\t\t\t\t( ! setting.colors || setting.colors.length === 0 ) &&\r\n\t\t\t\t( ! setting.gradients || setting.gradients.length === 0 ) &&\r\n\t\t\t\t( setting.disableCustomColors === undefined ||\r\n\t\t\t\t\tsetting.disableCustomColors ) &&\r\n\t\t\t\t( setting.disableCustomGradients === undefined ||\r\n\t\t\t\t\tsetting.disableCustomGradients )\r\n\t\t)\r\n\t) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ToolsPanel\r\n\t\t\tclassName={ clsx(\r\n\t\t\t\t'block-editor-panel-color-gradient-settings',\r\n\t\t\t\tclassName\r\n\t\t\t) }\r\n\t\t\tlabel={ showTitle ? title : undefined }\r\n\t\t\tresetAll={ () => {\r\n\t\t\t\tbatch( () => {\r\n\t\t\t\t\tsettings.forEach(\r\n\t\t\t\t\t\t( {\r\n\t\t\t\t\t\t\tcolorValue,\r\n\t\t\t\t\t\t\tgradientValue,\r\n\t\t\t\t\t\t\tonColorChange,\r\n\t\t\t\t\t\t\tonGradientChange,\r\n\t\t\t\t\t\t} ) => {\r\n\t\t\t\t\t\t\tif ( colorValue ) {\r\n\t\t\t\t\t\t\t\tonColorChange();\r\n\t\t\t\t\t\t\t} else if ( gradientValue ) {\r\n\t\t\t\t\t\t\t\tonGradientChange();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} );\r\n\t\t\t} }\r\n\t\t\tpanelId={ panelId }\r\n\t\t\t__experimentalFirstVisibleItemClass=\"first\"\r\n\t\t\t__experimentalLastVisibleItemClass=\"last\"\r\n\t\t>\r\n\t\t\t<ColorGradientSettingsDropdown\r\n\t\t\t\tsettings={ settings }\r\n\t\t\t\tpanelId={ panelId }\r\n\t\t\t\t{ ...{\r\n\t\t\t\t\tcolors,\r\n\t\t\t\t\tgradients,\r\n\t\t\t\t\tdisableCustomColors,\r\n\t\t\t\t\tdisableCustomGradients,\r\n\t\t\t\t\t__experimentalIsRenderedInSidebar,\r\n\t\t\t\t\tenableAlpha,\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t\t{ !! children && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Spacer marginY={ 4 } /> { children }\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</ToolsPanel>\r\n\t);\r\n};\r\n\r\nconst PanelColorGradientSettingsSelect = ( props ) => {\r\n\tconst colorGradientSettings = useColorsAndGradientsPalettes();\r\n\treturn (\r\n\t\t<PanelColorGradientSettingsInner\r\n\t\t\t{ ...{ ...colorGradientSettings, ...props } }\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst PanelColorGradientSettings = ( props ) => {\r\n\tif (\r\n\t\tcolorsAndGradientKeys.every( ( key ) => props.hasOwnProperty( key ) )\r\n\t) {\r\n\t\treturn <PanelColorGradientSettingsInner { ...props } />;\r\n\t}\r\n\treturn <PanelColorGradientSettingsSelect { ...props } />;\r\n};\r\n\r\nexport default PanelColorGradientSettings;\r\n"],"mappings":"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","ignoreList":[]}