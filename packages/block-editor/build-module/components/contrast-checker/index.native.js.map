{"version":3,"names":["Text","View","colord","extend","namesPlugin","a11yPlugin","speak","__","useEffect","usePreferredColorSchemeStyle","Icon","warning","styles","jsx","_jsx","jsxs","_jsxs","ContrastCheckerMessage","colordBackgroundColor","colordTextColor","backgroundColor","textColor","msgStyle","msg","brightness","iconStyle","style","children","icon","ContrastChecker","fallbackBackgroundColor","fallbackTextColor","fontSize","isLargeText","hasTransparency","alpha","isReadable","level","size"],"sources":["@wordpress/block-editor/src/components/contrast-checker/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { Text, View } from 'react-native';\r\nimport { colord, extend } from 'colord';\r\nimport namesPlugin from 'colord/plugins/names';\r\nimport a11yPlugin from 'colord/plugins/a11y';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { speak } from '@wordpress/a11y';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useEffect } from '@wordpress/element';\r\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\r\nimport { Icon, warning } from '@wordpress/icons';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './style.scss';\r\n\r\nextend( [ namesPlugin, a11yPlugin ] );\r\n\r\nfunction ContrastCheckerMessage( {\r\n\tcolordBackgroundColor,\r\n\tcolordTextColor,\r\n\tbackgroundColor,\r\n\ttextColor,\r\n\tmsgStyle,\r\n} ) {\r\n\tconst msg =\r\n\t\tcolordBackgroundColor.brightness() < colordTextColor.brightness()\r\n\t\t\t? __(\r\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a darker background color and/or a brighter text color.'\r\n\t\t\t  )\r\n\t\t\t: __(\r\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a brighter background color and/or a darker text color.'\r\n\t\t\t  );\r\n\r\n\t// Note: The `Notice` component can speak messages via its `spokenMessage`\r\n\t// prop, but the contrast checker requires granular control over when the\r\n\t// announcements are made. Notably, the message will be re-announced if a\r\n\t// new color combination is selected and the contrast is still insufficient.\r\n\tuseEffect( () => {\r\n\t\tspeak( __( 'This color combination may be hard for people to read.' ) );\r\n\t}, [ backgroundColor, textColor ] );\r\n\r\n\tconst iconStyle = usePreferredColorSchemeStyle(\r\n\t\tstyles[ 'block-editor-contrast-checker__icon' ],\r\n\t\tstyles[ 'block-editor-contrast-checker__icon-dark' ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<View style={ styles[ 'block-editor-contrast-checker' ] }>\r\n\t\t\t<Icon style={ iconStyle } icon={ warning } />\r\n\t\t\t<Text style={ msgStyle }>{ msg }</Text>\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nfunction ContrastChecker( {\r\n\tbackgroundColor,\r\n\tfallbackBackgroundColor,\r\n\tfallbackTextColor,\r\n\tfontSize, // font size value in pixels\r\n\tisLargeText,\r\n\ttextColor,\r\n} ) {\r\n\tconst msgStyle = usePreferredColorSchemeStyle(\r\n\t\tstyles[ 'block-editor-contrast-checker__notice' ],\r\n\t\tstyles[ 'block-editor-contrast-checker__notice-dark' ]\r\n\t);\r\n\r\n\tif (\r\n\t\t! ( backgroundColor || fallbackBackgroundColor ) ||\r\n\t\t! ( textColor || fallbackTextColor )\r\n\t) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst colordBackgroundColor = colord(\r\n\t\tbackgroundColor || fallbackBackgroundColor\r\n\t);\r\n\tconst colordTextColor = colord( textColor || fallbackTextColor );\r\n\r\n\tconst hasTransparency =\r\n\t\tcolordBackgroundColor.alpha() !== 1 || colordTextColor.alpha() !== 1;\r\n\r\n\tif (\r\n\t\thasTransparency ||\r\n\t\tcolordTextColor.isReadable( colordBackgroundColor, {\r\n\t\t\tlevel: 'AA',\r\n\t\t\tsize:\r\n\t\t\t\tisLargeText || ( isLargeText !== false && fontSize >= 24 )\r\n\t\t\t\t\t? 'large'\r\n\t\t\t\t\t: 'small',\r\n\t\t} )\r\n\t) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ContrastCheckerMessage\r\n\t\t\tbackgroundColor={ backgroundColor }\r\n\t\t\ttextColor={ textColor }\r\n\t\t\tcolordBackgroundColor={ colordBackgroundColor }\r\n\t\t\tcolordTextColor={ colordTextColor }\r\n\t\t\tmsgStyle={ msgStyle }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default ContrastChecker;\r\n"],"mappings":"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","ignoreList":[]}