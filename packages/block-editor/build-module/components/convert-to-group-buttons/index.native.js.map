{"version":3,"names":["__","_x","switchToBlockType","useDispatch","store","noticesStore","blockEditorStore","useConvertToGroupButtonProps","useConvertToGroupButtons","clientIds","onUngroup","blocksSelection","groupingBlockName","replaceBlocks","createSuccessNotice","onConvertToGroup","newBlocks","onConvertFromGroup","innerBlocks","length","attributes","group","id","label","value","onSelect","ungroup"],"sources":["@wordpress/block-editor/src/components/convert-to-group-buttons/index.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport { switchToBlockType } from '@wordpress/blocks';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\nimport useConvertToGroupButtonProps from './use-convert-to-group-button-props';\r\n\r\nfunction useConvertToGroupButtons( {\r\n\tclientIds,\r\n\tonUngroup,\r\n\tblocksSelection,\r\n\tgroupingBlockName,\r\n} ) {\r\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\r\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\r\n\tconst onConvertToGroup = () => {\r\n\t\t// Activate the `transform` on the Grouping Block which does the conversion.\r\n\t\tconst newBlocks = switchToBlockType(\r\n\t\t\tblocksSelection,\r\n\t\t\tgroupingBlockName\r\n\t\t);\r\n\t\tif ( newBlocks ) {\r\n\t\t\treplaceBlocks( clientIds, newBlocks );\r\n\t\t}\r\n\t};\r\n\r\n\tconst onConvertFromGroup = () => {\r\n\t\tlet innerBlocks = blocksSelection[ 0 ].innerBlocks;\r\n\t\tif ( ! innerBlocks.length ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif ( onUngroup ) {\r\n\t\t\tinnerBlocks = onUngroup(\r\n\t\t\t\tblocksSelection[ 0 ].attributes,\r\n\t\t\t\tblocksSelection[ 0 ].innerBlocks\r\n\t\t\t);\r\n\t\t}\r\n\t\treplaceBlocks( clientIds, innerBlocks );\r\n\t};\r\n\r\n\treturn {\r\n\t\tgroup: {\r\n\t\t\tid: 'groupButtonOption',\r\n\t\t\tlabel: _x( 'Group', 'verb' ),\r\n\t\t\tvalue: 'groupButtonOption',\r\n\t\t\tonSelect: () => {\r\n\t\t\t\tonConvertToGroup();\r\n\t\t\t\tcreateSuccessNotice(\r\n\t\t\t\t\t// translators: displayed right after the block is grouped\r\n\t\t\t\t\t__( 'Block grouped' )\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\tungroup: {\r\n\t\t\tid: 'ungroupButtonOption',\r\n\t\t\tlabel: _x(\r\n\t\t\t\t'Ungroup',\r\n\t\t\t\t'Ungrouping blocks from within a grouping block back into individual blocks within the Editor'\r\n\t\t\t),\r\n\t\t\tvalue: 'ungroupButtonOption',\r\n\t\t\tonSelect: () => {\r\n\t\t\t\tonConvertFromGroup();\r\n\t\t\t\tcreateSuccessNotice(\r\n\t\t\t\t\t// translators: displayed right after the block is ungrouped.\r\n\t\t\t\t\t__( 'Block ungrouped' )\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n}\r\n\r\nexport { useConvertToGroupButtons, useConvertToGroupButtonProps };\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,EAAEC,EAAE,QAAQ,iBAAiB;AACxC,SAASC,iBAAiB,QAAQ,mBAAmB;AACrD,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,KAAK,IAAIC,YAAY,QAAQ,oBAAoB;;AAE1D;AACA;AACA;AACA,SAASD,KAAK,IAAIE,gBAAgB,QAAQ,aAAa;AACvD,OAAOC,4BAA4B,MAAM,qCAAqC;AAE9E,SAASC,wBAAwBA,CAAE;EAClCC,SAAS;EACTC,SAAS;EACTC,eAAe;EACfC;AACD,CAAC,EAAG;EACH,MAAM;IAAEC;EAAc,CAAC,GAAGV,WAAW,CAAEG,gBAAiB,CAAC;EACzD,MAAM;IAAEQ;EAAoB,CAAC,GAAGX,WAAW,CAAEE,YAAa,CAAC;EAC3D,MAAMU,gBAAgB,GAAGA,CAAA,KAAM;IAC9B;IACA,MAAMC,SAAS,GAAGd,iBAAiB,CAClCS,eAAe,EACfC,iBACD,CAAC;IACD,IAAKI,SAAS,EAAG;MAChBH,aAAa,CAAEJ,SAAS,EAAEO,SAAU,CAAC;IACtC;EACD,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAChC,IAAIC,WAAW,GAAGP,eAAe,CAAE,CAAC,CAAE,CAACO,WAAW;IAClD,IAAK,CAAEA,WAAW,CAACC,MAAM,EAAG;MAC3B;IACD;IACA,IAAKT,SAAS,EAAG;MAChBQ,WAAW,GAAGR,SAAS,CACtBC,eAAe,CAAE,CAAC,CAAE,CAACS,UAAU,EAC/BT,eAAe,CAAE,CAAC,CAAE,CAACO,WACtB,CAAC;IACF;IACAL,aAAa,CAAEJ,SAAS,EAAES,WAAY,CAAC;EACxC,CAAC;EAED,OAAO;IACNG,KAAK,EAAE;MACNC,EAAE,EAAE,mBAAmB;MACvBC,KAAK,EAAEtB,EAAE,CAAE,OAAO,EAAE,MAAO,CAAC;MAC5BuB,KAAK,EAAE,mBAAmB;MAC1BC,QAAQ,EAAEA,CAAA,KAAM;QACfV,gBAAgB,CAAC,CAAC;QAClBD,mBAAmB;QAClB;QACAd,EAAE,CAAE,eAAgB,CACrB,CAAC;MACF;IACD,CAAC;IACD0B,OAAO,EAAE;MACRJ,EAAE,EAAE,qBAAqB;MACzBC,KAAK,EAAEtB,EAAE,CACR,SAAS,EACT,8FACD,CAAC;MACDuB,KAAK,EAAE,qBAAqB;MAC5BC,QAAQ,EAAEA,CAAA,KAAM;QACfR,kBAAkB,CAAC,CAAC;QACpBH,mBAAmB;QAClB;QACAd,EAAE,CAAE,iBAAkB,CACvB,CAAC;MACF;IACD;EACD,CAAC;AACF;AAEA,SAASQ,wBAAwB,EAAED,4BAA4B","ignoreList":[]}