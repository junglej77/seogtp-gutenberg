{"version":3,"names":["_x","__","dateI18n","humanTimeDiff","useState","createInterpolateElement","TextControl","ExternalLink","VisuallyHidden","ToggleControl","__experimentalVStack","VStack","CustomSelectControl","jsx","_jsx","jsxs","_jsxs","exampleDate","Date","setDate","setMonth","getMonth","DateFormatPicker","format","defaultFormat","onChange","className","children","as","__nextHasNoMarginBottom","label","help","checked","NonDefaultControls","_suggestedOptions$fin","suggestedFormats","Set","suggestedOptions","map","suggestedFormat","index","key","name","customOption","hint","isCustom","setIsCustom","some","option","__next40pxDefaultSize","options","value","find","selectedItem","hideLabelFromVision","Link","href"],"sources":["@wordpress/block-editor/src/components/date-format-picker/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { _x, __ } from '@wordpress/i18n';\r\nimport { dateI18n, humanTimeDiff } from '@wordpress/date';\r\nimport { useState, createInterpolateElement } from '@wordpress/element';\r\nimport {\r\n\tTextControl,\r\n\tExternalLink,\r\n\tVisuallyHidden,\r\n\tToggleControl,\r\n\t__experimentalVStack as VStack,\r\n\tCustomSelectControl,\r\n} from '@wordpress/components';\r\n\r\n// So that we illustrate the different formats in the dropdown properly, show a date that is\r\n// somwhat recent, has a day greater than 12, and a month with more than three letters.\r\nconst exampleDate = new Date();\r\nexampleDate.setDate( 20 );\r\nexampleDate.setMonth( exampleDate.getMonth() - 3 );\r\nif ( exampleDate.getMonth() === 4 ) {\r\n\t// May has three letters, so use March.\r\n\texampleDate.setMonth( 3 );\r\n}\r\n\r\n/**\r\n * The `DateFormatPicker` component renders controls that let the user choose a\r\n * _date format_. That is, how they want their dates to be formatted.\r\n *\r\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/date-format-picker/README.md\r\n *\r\n * @param {Object}                          props\r\n * @param {string|null}                     props.format        The selected date\r\n *                                                              format. If\r\n *                                                              `null`,\r\n *                                                              _Default_ is\r\n *                                                              selected.\r\n * @param {string}                          props.defaultFormat The date format that\r\n *                                                              will be used if the\r\n *                                                              user selects\r\n *                                                              'Default'.\r\n * @param {( format: string|null ) => void} props.onChange      Called when a\r\n *                                                              selection is\r\n *                                                              made. If `null`,\r\n *                                                              _Default_ is\r\n *                                                              selected.\r\n */\r\nexport default function DateFormatPicker( {\r\n\tformat,\r\n\tdefaultFormat,\r\n\tonChange,\r\n} ) {\r\n\treturn (\r\n\t\t<fieldset className=\"block-editor-date-format-picker\">\r\n\t\t\t<VisuallyHidden as=\"legend\">{ __( 'Date format' ) }</VisuallyHidden>\r\n\t\t\t<ToggleControl\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\tlabel={ __( 'Default format' ) }\r\n\t\t\t\thelp={ `${ __( 'Example:' ) }  ${ dateI18n(\r\n\t\t\t\t\tdefaultFormat,\r\n\t\t\t\t\texampleDate\r\n\t\t\t\t) }` }\r\n\t\t\t\tchecked={ ! format }\r\n\t\t\t\tonChange={ ( checked ) =>\r\n\t\t\t\t\tonChange( checked ? null : defaultFormat )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{ format && (\r\n\t\t\t\t<NonDefaultControls format={ format } onChange={ onChange } />\r\n\t\t\t) }\r\n\t\t</fieldset>\r\n\t);\r\n}\r\n\r\nfunction NonDefaultControls( { format, onChange } ) {\r\n\t// Suggest a short format, medium format, long format, and a standardised\r\n\t// (YYYY-MM-DD) format. The short, medium, and long formats are localised as\r\n\t// different languages have different ways of writing these. For example, 'F\r\n\t// j, Y' (April 20, 2022) in American English (en_US) is 'j. F Y' (20. April\r\n\t// 2022) in German (de). The resultant array is de-duplicated as some\r\n\t// languages will use the same format string for short, medium, and long\r\n\t// formats.\r\n\tconst suggestedFormats = [\r\n\t\t...new Set( [\r\n\t\t\t/* translators: See https://www.php.net/manual/datetime.format.php */\r\n\t\t\t'Y-m-d',\r\n\t\t\t/* translators: See https://www.php.net/manual/datetime.format.php */\r\n\t\t\t_x( 'n/j/Y', 'short date format' ),\r\n\t\t\t/* translators: See https://www.php.net/manual/datetime.format.php */\r\n\t\t\t_x( 'n/j/Y g:i A', 'short date format with time' ),\r\n\t\t\t/* translators: See https://www.php.net/manual/datetime.format.php */\r\n\t\t\t_x( 'M j, Y', 'medium date format' ),\r\n\t\t\t/* translators: See https://www.php.net/manual/datetime.format.php */\r\n\t\t\t_x( 'M j, Y g:i A', 'medium date format with time' ),\r\n\t\t\t/* translators: See https://www.php.net/manual/datetime.format.php */\r\n\t\t\t_x( 'F j, Y', 'long date format' ),\r\n\t\t\t/* translators: See https://www.php.net/manual/datetime.format.php */\r\n\t\t\t_x( 'M j', 'short date format without the year' ),\r\n\t\t] ),\r\n\t];\r\n\r\n\tconst suggestedOptions = [\r\n\t\t...suggestedFormats.map( ( suggestedFormat, index ) => ( {\r\n\t\t\tkey: `suggested-${ index }`,\r\n\t\t\tname: dateI18n( suggestedFormat, exampleDate ),\r\n\t\t\tformat: suggestedFormat,\r\n\t\t} ) ),\r\n\t\t{\r\n\t\t\tkey: 'human-diff',\r\n\t\t\tname: humanTimeDiff( exampleDate ),\r\n\t\t\tformat: 'human-diff',\r\n\t\t},\r\n\t];\r\n\r\n\tconst customOption = {\r\n\t\tkey: 'custom',\r\n\t\tname: __( 'Custom' ),\r\n\t\tclassName:\r\n\t\t\t'block-editor-date-format-picker__custom-format-select-control__custom-option',\r\n\t\thint: __( 'Enter your own date format' ),\r\n\t};\r\n\r\n\tconst [ isCustom, setIsCustom ] = useState(\r\n\t\t() =>\r\n\t\t\t!! format &&\r\n\t\t\t! suggestedOptions.some( ( option ) => option.format === format )\r\n\t);\r\n\r\n\treturn (\r\n\t\t<VStack>\r\n\t\t\t<CustomSelectControl\r\n\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\tlabel={ __( 'Choose a format' ) }\r\n\t\t\t\toptions={ [ ...suggestedOptions, customOption ] }\r\n\t\t\t\tvalue={\r\n\t\t\t\t\tisCustom\r\n\t\t\t\t\t\t? customOption\r\n\t\t\t\t\t\t: suggestedOptions.find(\r\n\t\t\t\t\t\t\t\t( option ) => option.format === format\r\n\t\t\t\t\t\t  ) ?? customOption\r\n\t\t\t\t}\r\n\t\t\t\tonChange={ ( { selectedItem } ) => {\r\n\t\t\t\t\tif ( selectedItem === customOption ) {\r\n\t\t\t\t\t\tsetIsCustom( true );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetIsCustom( false );\r\n\t\t\t\t\t\tonChange( selectedItem.format );\r\n\t\t\t\t\t}\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t\t{ isCustom && (\r\n\t\t\t\t<TextControl\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Custom format' ) }\r\n\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\thelp={ createInterpolateElement(\r\n\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t'Enter a date or time <Link>format string</Link>.'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tLink: (\r\n\t\t\t\t\t\t\t\t<ExternalLink\r\n\t\t\t\t\t\t\t\t\thref={ __(\r\n\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/customize-date-and-time-format/'\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tvalue={ format }\r\n\t\t\t\t\tonChange={ ( value ) => onChange( value ) }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</VStack>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}