{"version":3,"names":["clsx","__","decodeEntities","useSelect","useDispatch","ENTER","SPACE","Inserter","store","blockEditorStore","jsx","_jsx","jsxs","_jsxs","ZWNBSP","DefaultBlockAppender","rootClientId","showPrompt","isLocked","placeholder","isManualGrid","select","getBlockCount","getSettings","getTemplateLock","getBlockAttributes","isEmpty","bodyPlaceholder","layout","isManualPlacement","insertDefaultBlock","startTyping","value","onAppend","undefined","className","children","tabIndex","role","onKeyDown","event","keyCode","onClick","onFocus","position","isAppender","__experimentalIsQuick"],"sources":["@wordpress/block-editor/src/components/default-block-appender/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { ENTER, SPACE } from '@wordpress/keycodes';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Inserter from '../inserter';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\n/**\r\n * Zero width non-breaking space, used as padding for the paragraph when it is\r\n * empty.\r\n */\r\nexport const ZWNBSP = '\\ufeff';\r\n\r\nexport default function DefaultBlockAppender( { rootClientId } ) {\r\n\tconst { showPrompt, isLocked, placeholder, isManualGrid } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetBlockCount,\r\n\t\t\t\tgetSettings,\r\n\t\t\t\tgetTemplateLock,\r\n\t\t\t\tgetBlockAttributes,\r\n\t\t\t} = select( blockEditorStore );\r\n\r\n\t\t\tconst isEmpty = ! getBlockCount( rootClientId );\r\n\t\t\tconst { bodyPlaceholder } = getSettings();\r\n\r\n\t\t\treturn {\r\n\t\t\t\tshowPrompt: isEmpty,\r\n\t\t\t\tisLocked: !! getTemplateLock( rootClientId ),\r\n\t\t\t\tplaceholder: bodyPlaceholder,\r\n\t\t\t\tisManualGrid:\r\n\t\t\t\t\tgetBlockAttributes( rootClientId )?.layout\r\n\t\t\t\t\t\t?.isManualPlacement,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ rootClientId ]\r\n\t);\r\n\r\n\tconst { insertDefaultBlock, startTyping } = useDispatch( blockEditorStore );\r\n\r\n\tif ( isLocked || isManualGrid ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst value =\r\n\t\tdecodeEntities( placeholder ) || __( 'Type / to choose a block' );\r\n\r\n\tconst onAppend = () => {\r\n\t\tinsertDefaultBlock( undefined, rootClientId );\r\n\t\tstartTyping();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tdata-root-client-id={ rootClientId || '' }\r\n\t\t\tclassName={ clsx( 'block-editor-default-block-appender', {\r\n\t\t\t\t'has-visible-prompt': showPrompt,\r\n\t\t\t} ) }\r\n\t\t>\r\n\t\t\t<p\r\n\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\t// We want this element to be styled as a paragraph by themes.\r\n\t\t\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\r\n\t\t\t\trole=\"button\"\r\n\t\t\t\taria-label={ __( 'Add default block' ) }\r\n\t\t\t\t// A wrapping container for this one already has the wp-block className.\r\n\t\t\t\tclassName=\"block-editor-default-block-appender__content\"\r\n\t\t\t\tonKeyDown={ ( event ) => {\r\n\t\t\t\t\tif ( ENTER === event.keyCode || SPACE === event.keyCode ) {\r\n\t\t\t\t\t\tonAppend();\r\n\t\t\t\t\t}\r\n\t\t\t\t} }\r\n\t\t\t\tonClick={ () => onAppend() }\r\n\t\t\t\tonFocus={ () => {\r\n\t\t\t\t\tif ( showPrompt ) {\r\n\t\t\t\t\t\tonAppend();\r\n\t\t\t\t\t}\r\n\t\t\t\t} }\r\n\t\t\t>\r\n\t\t\t\t{ showPrompt ? value : ZWNBSP }\r\n\t\t\t</p>\r\n\t\t\t<Inserter\r\n\t\t\t\trootClientId={ rootClientId }\r\n\t\t\t\tposition=\"bottom right\"\r\n\t\t\t\tisAppender\r\n\t\t\t\t__experimentalIsQuick\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,KAAK,EAAEC,KAAK,QAAQ,qBAAqB;;AAElD;AACA;AACA;AACA,OAAOC,QAAQ,MAAM,aAAa;AAClC,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;;AAEvD;AACA;AACA;AACA;AAHA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAIA,OAAO,MAAMC,MAAM,GAAG,QAAQ;AAE9B,eAAe,SAASC,oBAAoBA,CAAE;EAAEC;AAAa,CAAC,EAAG;EAChE,MAAM;IAAEC,UAAU;IAAEC,QAAQ;IAAEC,WAAW;IAAEC;EAAa,CAAC,GAAGjB,SAAS,CAClEkB,MAAM,IAAM;IACb,MAAM;MACLC,aAAa;MACbC,WAAW;MACXC,eAAe;MACfC;IACD,CAAC,GAAGJ,MAAM,CAAEZ,gBAAiB,CAAC;IAE9B,MAAMiB,OAAO,GAAG,CAAEJ,aAAa,CAAEN,YAAa,CAAC;IAC/C,MAAM;MAAEW;IAAgB,CAAC,GAAGJ,WAAW,CAAC,CAAC;IAEzC,OAAO;MACNN,UAAU,EAAES,OAAO;MACnBR,QAAQ,EAAE,CAAC,CAAEM,eAAe,CAAER,YAAa,CAAC;MAC5CG,WAAW,EAAEQ,eAAe;MAC5BP,YAAY,EACXK,kBAAkB,CAAET,YAAa,CAAC,EAAEY,MAAM,EACvCC;IACL,CAAC;EACF,CAAC,EACD,CAAEb,YAAY,CACf,CAAC;EAED,MAAM;IAAEc,kBAAkB;IAAEC;EAAY,CAAC,GAAG3B,WAAW,CAAEK,gBAAiB,CAAC;EAE3E,IAAKS,QAAQ,IAAIE,YAAY,EAAG;IAC/B,OAAO,IAAI;EACZ;EAEA,MAAMY,KAAK,GACV9B,cAAc,CAAEiB,WAAY,CAAC,IAAIlB,EAAE,CAAE,0BAA2B,CAAC;EAElE,MAAMgC,QAAQ,GAAGA,CAAA,KAAM;IACtBH,kBAAkB,CAAEI,SAAS,EAAElB,YAAa,CAAC;IAC7Ce,WAAW,CAAC,CAAC;EACd,CAAC;EAED,oBACClB,KAAA;IACC,uBAAsBG,YAAY,IAAI,EAAI;IAC1CmB,SAAS,EAAGnC,IAAI,CAAE,qCAAqC,EAAE;MACxD,oBAAoB,EAAEiB;IACvB,CAAE,CAAG;IAAAmB,QAAA,gBAELzB,IAAA;MACC0B,QAAQ,EAAC;MACT;MACA;MAAA;MACAC,IAAI,EAAC,QAAQ;MACb,cAAarC,EAAE,CAAE,mBAAoB;MACrC;MAAA;MACAkC,SAAS,EAAC,8CAA8C;MACxDI,SAAS,EAAKC,KAAK,IAAM;QACxB,IAAKnC,KAAK,KAAKmC,KAAK,CAACC,OAAO,IAAInC,KAAK,KAAKkC,KAAK,CAACC,OAAO,EAAG;UACzDR,QAAQ,CAAC,CAAC;QACX;MACD,CAAG;MACHS,OAAO,EAAGA,CAAA,KAAMT,QAAQ,CAAC,CAAG;MAC5BU,OAAO,EAAGA,CAAA,KAAM;QACf,IAAK1B,UAAU,EAAG;UACjBgB,QAAQ,CAAC,CAAC;QACX;MACD,CAAG;MAAAG,QAAA,EAEDnB,UAAU,GAAGe,KAAK,GAAGlB;IAAM,CAC3B,CAAC,eACJH,IAAA,CAACJ,QAAQ;MACRS,YAAY,EAAGA,YAAc;MAC7B4B,QAAQ,EAAC,cAAc;MACvBC,UAAU;MACVC,qBAAqB;IAAA,CACrB,CAAC;EAAA,CACE,CAAC;AAER","ignoreList":[]}