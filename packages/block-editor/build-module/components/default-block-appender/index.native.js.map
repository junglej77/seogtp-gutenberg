{"version":3,"names":["Pressable","View","__","RichText","compose","decodeEntities","withSelect","withDispatch","getDefaultBlockName","BlockInsertionPoint","styles","store","blockEditorStore","jsx","_jsx","hitSlop","top","bottom","left","right","noop","DefaultBlockAppender","baseGlobalStyles","isLocked","isVisible","onAppend","placeholder","containerStyle","showSeparator","blockGlobalStyles","blocks","fontSize","lineHeight","typography","textStyles","undefined","value","appenderStyles","blockHolder","onPress","children","style","pointerEvents","onChange","tagName","select","ownProps","getBlockCount","getBlockName","getSettings","isBlockValid","getTemplateLock","isEmpty","rootClientId","isLastBlockDefault","lastBlockClientId","isLastBlockValid","globalStylesBaseStyles","__experimentalGlobalStylesBaseStyles","dispatch","insertDefaultBlock","startTyping"],"sources":["@wordpress/block-editor/src/components/default-block-appender/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { Pressable, View } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { RichText } from '@wordpress/block-editor';\r\nimport { compose } from '@wordpress/compose';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { withSelect, withDispatch } from '@wordpress/data';\r\nimport { getDefaultBlockName } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BlockInsertionPoint from '../block-list/insertion-point';\r\nimport styles from './style.scss';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nconst hitSlop = { top: 22, bottom: 22, left: 22, right: 22 };\r\nconst noop = () => {};\r\n\r\nexport function DefaultBlockAppender( {\r\n\tbaseGlobalStyles,\r\n\tisLocked,\r\n\tisVisible,\r\n\tonAppend,\r\n\tplaceholder,\r\n\tcontainerStyle,\r\n\tshowSeparator,\r\n} ) {\r\n\tif ( isLocked || ! isVisible ) {\r\n\t\treturn null;\r\n\t}\r\n\tconst blockGlobalStyles = baseGlobalStyles?.blocks?.[ 'core/paragraph' ];\r\n\tconst { fontSize, lineHeight } = blockGlobalStyles?.typography || {};\r\n\r\n\tconst textStyles = blockGlobalStyles?.typography\r\n\t\t? {\r\n\t\t\t\t...( fontSize && { fontSize } ),\r\n\t\t\t\t...( lineHeight && { lineHeight } ),\r\n\t\t  }\r\n\t\t: undefined;\r\n\r\n\tconst value =\r\n\t\ttypeof placeholder === 'string'\r\n\t\t\t? decodeEntities( placeholder )\r\n\t\t\t: __( 'Start writingâ€¦' );\r\n\r\n\tconst appenderStyles = [\r\n\t\tstyles.blockHolder,\r\n\t\tshowSeparator && containerStyle,\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Pressable onPress={ onAppend } hitSlop={ hitSlop }>\r\n\t\t\t<View style={ appenderStyles } pointerEvents=\"box-only\">\r\n\t\t\t\t{ showSeparator ? (\r\n\t\t\t\t\t<BlockInsertionPoint />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\tplaceholder={ value }\r\n\t\t\t\t\t\tonChange={ noop }\r\n\t\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\t\tstyle={ textStyles }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</View>\r\n\t\t</Pressable>\r\n\t);\r\n}\r\n\r\nexport default compose(\r\n\twithSelect( ( select, ownProps ) => {\r\n\t\tconst {\r\n\t\t\tgetBlockCount,\r\n\t\t\tgetBlockName,\r\n\t\t\tgetSettings,\r\n\t\t\tisBlockValid,\r\n\t\t\tgetTemplateLock,\r\n\t\t} = select( blockEditorStore );\r\n\r\n\t\tconst isEmpty = ! getBlockCount( ownProps.rootClientId );\r\n\t\tconst isLastBlockDefault =\r\n\t\t\tgetBlockName( ownProps.lastBlockClientId ) ===\r\n\t\t\tgetDefaultBlockName();\r\n\t\tconst isLastBlockValid = isBlockValid( ownProps.lastBlockClientId );\r\n\t\tconst globalStylesBaseStyles =\r\n\t\t\tgetSettings()?.__experimentalGlobalStylesBaseStyles;\r\n\r\n\t\treturn {\r\n\t\t\tbaseGlobalStyles: globalStylesBaseStyles,\r\n\t\t\tisVisible: isEmpty || ! isLastBlockDefault || ! isLastBlockValid,\r\n\t\t\tisLocked: !! getTemplateLock( ownProps.rootClientId ),\r\n\t\t};\r\n\t} ),\r\n\twithDispatch( ( dispatch, ownProps ) => {\r\n\t\tconst { insertDefaultBlock, startTyping } =\r\n\t\t\tdispatch( blockEditorStore );\r\n\r\n\t\treturn {\r\n\t\t\tonAppend() {\r\n\t\t\t\tconst { rootClientId } = ownProps;\r\n\r\n\t\t\t\tinsertDefaultBlock( undefined, rootClientId );\r\n\t\t\t\tstartTyping();\r\n\t\t\t},\r\n\t\t};\r\n\t} )\r\n)( DefaultBlockAppender );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,EAAEC,IAAI,QAAQ,cAAc;;AAE9C;AACA;AACA;AACA,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,UAAU,EAAEC,YAAY,QAAQ,iBAAiB;AAC1D,SAASC,mBAAmB,QAAQ,mBAAmB;;AAEvD;AACA;AACA;AACA,OAAOC,mBAAmB,MAAM,+BAA+B;AAC/D,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExD,MAAMC,OAAO,GAAG;EAAEC,GAAG,EAAE,EAAE;EAAEC,MAAM,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAG,CAAC;AAC5D,MAAMC,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAErB,OAAO,SAASC,oBAAoBA,CAAE;EACrCC,gBAAgB;EAChBC,QAAQ;EACRC,SAAS;EACTC,QAAQ;EACRC,WAAW;EACXC,cAAc;EACdC;AACD,CAAC,EAAG;EACH,IAAKL,QAAQ,IAAI,CAAEC,SAAS,EAAG;IAC9B,OAAO,IAAI;EACZ;EACA,MAAMK,iBAAiB,GAAGP,gBAAgB,EAAEQ,MAAM,GAAI,gBAAgB,CAAE;EACxE,MAAM;IAAEC,QAAQ;IAAEC;EAAW,CAAC,GAAGH,iBAAiB,EAAEI,UAAU,IAAI,CAAC,CAAC;EAEpE,MAAMC,UAAU,GAAGL,iBAAiB,EAAEI,UAAU,GAC7C;IACA,IAAKF,QAAQ,IAAI;MAAEA;IAAS,CAAC,CAAE;IAC/B,IAAKC,UAAU,IAAI;MAAEA;IAAW,CAAC;EACjC,CAAC,GACDG,SAAS;EAEZ,MAAMC,KAAK,GACV,OAAOV,WAAW,KAAK,QAAQ,GAC5BrB,cAAc,CAAEqB,WAAY,CAAC,GAC7BxB,EAAE,CAAE,gBAAiB,CAAC;EAE1B,MAAMmC,cAAc,GAAG,CACtB3B,MAAM,CAAC4B,WAAW,EAClBV,aAAa,IAAID,cAAc,CAC/B;EAED,oBACCb,IAAA,CAACd,SAAS;IAACuC,OAAO,EAAGd,QAAU;IAACV,OAAO,EAAGA,OAAS;IAAAyB,QAAA,eAClD1B,IAAA,CAACb,IAAI;MAACwC,KAAK,EAAGJ,cAAgB;MAACK,aAAa,EAAC,UAAU;MAAAF,QAAA,EACpDZ,aAAa,gBACdd,IAAA,CAACL,mBAAmB,IAAE,CAAC,gBAEvBK,IAAA,CAACX,QAAQ;QACRuB,WAAW,EAAGU,KAAO;QACrBO,QAAQ,EAAGvB,IAAM;QACjBwB,OAAO,EAAC,GAAG;QACXH,KAAK,EAAGP;MAAY,CACpB;IACD,CACI;EAAC,CACG,CAAC;AAEd;AAEA,eAAe9B,OAAO,CACrBE,UAAU,CAAE,CAAEuC,MAAM,EAAEC,QAAQ,KAAM;EACnC,MAAM;IACLC,aAAa;IACbC,YAAY;IACZC,WAAW;IACXC,YAAY;IACZC;EACD,CAAC,GAAGN,MAAM,CAAEjC,gBAAiB,CAAC;EAE9B,MAAMwC,OAAO,GAAG,CAAEL,aAAa,CAAED,QAAQ,CAACO,YAAa,CAAC;EACxD,MAAMC,kBAAkB,GACvBN,YAAY,CAAEF,QAAQ,CAACS,iBAAkB,CAAC,KAC1C/C,mBAAmB,CAAC,CAAC;EACtB,MAAMgD,gBAAgB,GAAGN,YAAY,CAAEJ,QAAQ,CAACS,iBAAkB,CAAC;EACnE,MAAME,sBAAsB,GAC3BR,WAAW,CAAC,CAAC,EAAES,oCAAoC;EAEpD,OAAO;IACNpC,gBAAgB,EAAEmC,sBAAsB;IACxCjC,SAAS,EAAE4B,OAAO,IAAI,CAAEE,kBAAkB,IAAI,CAAEE,gBAAgB;IAChEjC,QAAQ,EAAE,CAAC,CAAE4B,eAAe,CAAEL,QAAQ,CAACO,YAAa;EACrD,CAAC;AACF,CAAE,CAAC,EACH9C,YAAY,CAAE,CAAEoD,QAAQ,EAAEb,QAAQ,KAAM;EACvC,MAAM;IAAEc,kBAAkB;IAAEC;EAAY,CAAC,GACxCF,QAAQ,CAAE/C,gBAAiB,CAAC;EAE7B,OAAO;IACNa,QAAQA,CAAA,EAAG;MACV,MAAM;QAAE4B;MAAa,CAAC,GAAGP,QAAQ;MAEjCc,kBAAkB,CAAEzB,SAAS,EAAEkB,YAAa,CAAC;MAC7CQ,WAAW,CAAC,CAAC;IACd;EACD,CAAC;AACF,CAAE,CACH,CAAC,CAAExC,oBAAqB,CAAC","ignoreList":[]}