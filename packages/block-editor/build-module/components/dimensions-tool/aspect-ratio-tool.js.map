{"version":3,"names":["SelectControl","__experimentalToolsPanelItem","ToolsPanelItem","__","_x","useSettings","jsx","_jsx","AspectRatioTool","panelId","value","onChange","options","defaultValue","hasValue","isShownByDefault","displayValue","defaultRatios","themeRatios","showDefaultRatios","themeOptions","map","name","ratio","label","defaultOptions","aspectRatioOptions","disabled","hidden","onDeselect","undefined","children","size","__nextHasNoMarginBottom"],"sources":["@wordpress/block-editor/src/components/dimensions-tool/aspect-ratio-tool.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tSelectControl,\r\n\t__experimentalToolsPanelItem as ToolsPanelItem,\r\n} from '@wordpress/components';\r\nimport { __, _x } from '@wordpress/i18n';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useSettings } from '../use-settings';\r\n\r\n/**\r\n * @typedef {import('@wordpress/components/build-types/select-control/types').SelectControlProps} SelectControlProps\r\n */\r\n\r\n/**\r\n * @callback AspectRatioToolPropsOnChange\r\n * @param {string} [value] New aspect ratio value.\r\n * @return {void} No return.\r\n */\r\n\r\n/**\r\n * @typedef {Object} AspectRatioToolProps\r\n * @property {string}                       [panelId]          ID of the panel this tool is associated with.\r\n * @property {string}                       [value]            Current aspect ratio value.\r\n * @property {AspectRatioToolPropsOnChange} [onChange]         Callback to update the aspect ratio value.\r\n * @property {SelectControlProps[]}         [options]          Aspect ratio options.\r\n * @property {string}                       [defaultValue]     Default aspect ratio value.\r\n * @property {boolean}                      [isShownByDefault] Whether the tool is shown by default.\r\n */\r\n\r\nexport default function AspectRatioTool( {\r\n\tpanelId,\r\n\tvalue,\r\n\tonChange = () => {},\r\n\toptions,\r\n\tdefaultValue = 'auto',\r\n\thasValue,\r\n\tisShownByDefault = true,\r\n} ) {\r\n\t// Match the CSS default so if the value is used directly in CSS it will look correct in the control.\r\n\tconst displayValue = value ?? 'auto';\r\n\r\n\tconst [ defaultRatios, themeRatios, showDefaultRatios ] = useSettings(\r\n\t\t'dimensions.aspectRatios.default',\r\n\t\t'dimensions.aspectRatios.theme',\r\n\t\t'dimensions.defaultAspectRatios'\r\n\t);\r\n\r\n\tconst themeOptions = themeRatios?.map( ( { name, ratio } ) => ( {\r\n\t\tlabel: name,\r\n\t\tvalue: ratio,\r\n\t} ) );\r\n\r\n\tconst defaultOptions = defaultRatios?.map( ( { name, ratio } ) => ( {\r\n\t\tlabel: name,\r\n\t\tvalue: ratio,\r\n\t} ) );\r\n\r\n\tconst aspectRatioOptions = [\r\n\t\t{\r\n\t\t\tlabel: _x(\r\n\t\t\t\t'Original',\r\n\t\t\t\t'Aspect ratio option for dimensions control'\r\n\t\t\t),\r\n\t\t\tvalue: 'auto',\r\n\t\t},\r\n\t\t...( showDefaultRatios ? defaultOptions : [] ),\r\n\t\t...( themeOptions ? themeOptions : [] ),\r\n\t\t{\r\n\t\t\tlabel: _x( 'Custom', 'Aspect ratio option for dimensions control' ),\r\n\t\t\tvalue: 'custom',\r\n\t\t\tdisabled: true,\r\n\t\t\thidden: true,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<ToolsPanelItem\r\n\t\t\thasValue={\r\n\t\t\t\thasValue ? hasValue : () => displayValue !== defaultValue\r\n\t\t\t}\r\n\t\t\tlabel={ __( 'Aspect ratio' ) }\r\n\t\t\tonDeselect={ () => onChange( undefined ) }\r\n\t\t\tisShownByDefault={ isShownByDefault }\r\n\t\t\tpanelId={ panelId }\r\n\t\t>\r\n\t\t\t<SelectControl\r\n\t\t\t\tlabel={ __( 'Aspect ratio' ) }\r\n\t\t\t\tvalue={ displayValue }\r\n\t\t\t\toptions={ options ?? aspectRatioOptions }\r\n\t\t\t\tonChange={ onChange }\r\n\t\t\t\tsize=\"__unstable-large\"\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t</ToolsPanelItem>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,aAAa,EACbC,4BAA4B,IAAIC,cAAc,QACxC,uBAAuB;AAC9B,SAASC,EAAE,EAAEC,EAAE,QAAQ,iBAAiB;AACxC;AACA;AACA;AACA,SAASC,WAAW,QAAQ,iBAAiB;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA,SAAAC,GAAA,IAAAC,IAAA;AAUA,eAAe,SAASC,eAAeA,CAAE;EACxCC,OAAO;EACPC,KAAK;EACLC,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAC;EACnBC,OAAO;EACPC,YAAY,GAAG,MAAM;EACrBC,QAAQ;EACRC,gBAAgB,GAAG;AACpB,CAAC,EAAG;EACH;EACA,MAAMC,YAAY,GAAGN,KAAK,aAALA,KAAK,cAALA,KAAK,GAAI,MAAM;EAEpC,MAAM,CAAEO,aAAa,EAAEC,WAAW,EAAEC,iBAAiB,CAAE,GAAGd,WAAW,CACpE,iCAAiC,EACjC,+BAA+B,EAC/B,gCACD,CAAC;EAED,MAAMe,YAAY,GAAGF,WAAW,EAAEG,GAAG,CAAE,CAAE;IAAEC,IAAI;IAAEC;EAAM,CAAC,MAAQ;IAC/DC,KAAK,EAAEF,IAAI;IACXZ,KAAK,EAAEa;EACR,CAAC,CAAG,CAAC;EAEL,MAAME,cAAc,GAAGR,aAAa,EAAEI,GAAG,CAAE,CAAE;IAAEC,IAAI;IAAEC;EAAM,CAAC,MAAQ;IACnEC,KAAK,EAAEF,IAAI;IACXZ,KAAK,EAAEa;EACR,CAAC,CAAG,CAAC;EAEL,MAAMG,kBAAkB,GAAG,CAC1B;IACCF,KAAK,EAAEpB,EAAE,CACR,UAAU,EACV,4CACD,CAAC;IACDM,KAAK,EAAE;EACR,CAAC,EACD,IAAKS,iBAAiB,GAAGM,cAAc,GAAG,EAAE,CAAE,EAC9C,IAAKL,YAAY,GAAGA,YAAY,GAAG,EAAE,CAAE,EACvC;IACCI,KAAK,EAAEpB,EAAE,CAAE,QAAQ,EAAE,4CAA6C,CAAC;IACnEM,KAAK,EAAE,QAAQ;IACfiB,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE;EACT,CAAC,CACD;EAED,oBACCrB,IAAA,CAACL,cAAc;IACdY,QAAQ,EACPA,QAAQ,GAAGA,QAAQ,GAAG,MAAME,YAAY,KAAKH,YAC7C;IACDW,KAAK,EAAGrB,EAAE,CAAE,cAAe,CAAG;IAC9B0B,UAAU,EAAGA,CAAA,KAAMlB,QAAQ,CAAEmB,SAAU,CAAG;IAC1Cf,gBAAgB,EAAGA,gBAAkB;IACrCN,OAAO,EAAGA,OAAS;IAAAsB,QAAA,eAEnBxB,IAAA,CAACP,aAAa;MACbwB,KAAK,EAAGrB,EAAE,CAAE,cAAe,CAAG;MAC9BO,KAAK,EAAGM,YAAc;MACtBJ,OAAO,EAAGA,OAAO,aAAPA,OAAO,cAAPA,OAAO,GAAIc,kBAAoB;MACzCf,QAAQ,EAAGA,QAAU;MACrBqB,IAAI,EAAC,kBAAkB;MACvBC,uBAAuB;IAAA,CACvB;EAAC,CACa,CAAC;AAEnB","ignoreList":[]}