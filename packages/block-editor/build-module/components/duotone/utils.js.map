{"version":3,"names":["colord","getValuesFromColors","colors","values","r","g","b","a","forEach","color","rgbColor","toRgb","push","getDuotoneUnsetStylesheet","selector","getDuotoneStylesheet","id","getDuotoneFilter","join"],"sources":["@wordpress/block-editor/src/components/duotone/utils.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { colord } from 'colord';\r\n\r\n/**\r\n * Convert a list of colors to an object of R, G, and B values.\r\n *\r\n * @param {string[]} colors Array of RBG color strings.\r\n *\r\n * @return {Object} R, G, and B values.\r\n */\r\nexport function getValuesFromColors( colors = [] ) {\r\n\tconst values = { r: [], g: [], b: [], a: [] };\r\n\r\n\tcolors.forEach( ( color ) => {\r\n\t\tconst rgbColor = colord( color ).toRgb();\r\n\t\tvalues.r.push( rgbColor.r / 255 );\r\n\t\tvalues.g.push( rgbColor.g / 255 );\r\n\t\tvalues.b.push( rgbColor.b / 255 );\r\n\t\tvalues.a.push( rgbColor.a );\r\n\t} );\r\n\r\n\treturn values;\r\n}\r\n\r\n/**\r\n * Stylesheet for disabling a global styles duotone filter.\r\n *\r\n * @param {string} selector Selector to disable the filter for.\r\n *\r\n * @return {string} Filter none style.\r\n */\r\nexport function getDuotoneUnsetStylesheet( selector ) {\r\n\treturn `${ selector }{filter:none}`;\r\n}\r\n\r\n/**\r\n * SVG and stylesheet needed for rendering the duotone filter.\r\n *\r\n * @param {string} selector Selector to apply the filter to.\r\n * @param {string} id       Unique id for this duotone filter.\r\n *\r\n * @return {string} Duotone filter style.\r\n */\r\nexport function getDuotoneStylesheet( selector, id ) {\r\n\treturn `${ selector }{filter:url(#${ id })}`;\r\n}\r\n\r\n/**\r\n * The SVG part of the duotone filter.\r\n *\r\n * @param {string}   id     Unique id for this duotone filter.\r\n * @param {string[]} colors Color strings from dark to light.\r\n *\r\n * @return {string} Duotone SVG.\r\n */\r\nexport function getDuotoneFilter( id, colors ) {\r\n\tconst values = getValuesFromColors( colors );\r\n\treturn `\r\n<svg\r\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\tviewBox=\"0 0 0 0\"\r\n\twidth=\"0\"\r\n\theight=\"0\"\r\n\tfocusable=\"false\"\r\n\trole=\"none\"\r\n\taria-hidden=\"true\"\r\n\tstyle=\"visibility: hidden; position: absolute; left: -9999px; overflow: hidden;\"\r\n>\r\n\t<defs>\r\n\t\t<filter id=\"${ id }\">\r\n\t\t\t<!--\r\n\t\t\t\tUse sRGB instead of linearRGB so transparency looks correct.\r\n\t\t\t\tUse perceptual brightness to convert to grayscale.\r\n\t\t\t-->\r\n\t\t\t<feColorMatrix color-interpolation-filters=\"sRGB\" type=\"matrix\" values=\" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 \"></feColorMatrix>\r\n\t\t\t<!-- Use sRGB instead of linearRGB to be consistent with how CSS gradients work. -->\r\n\t\t\t<feComponentTransfer color-interpolation-filters=\"sRGB\">\r\n\t\t\t\t<feFuncR type=\"table\" tableValues=\"${ values.r.join( ' ' ) }\"></feFuncR>\r\n\t\t\t\t<feFuncG type=\"table\" tableValues=\"${ values.g.join( ' ' ) }\"></feFuncG>\r\n\t\t\t\t<feFuncB type=\"table\" tableValues=\"${ values.b.join( ' ' ) }\"></feFuncB>\r\n\t\t\t\t<feFuncA type=\"table\" tableValues=\"${ values.a.join( ' ' ) }\"></feFuncA>\r\n\t\t\t</feComponentTransfer>\r\n\t\t\t<!-- Re-mask the image with the original transparency since the feColorMatrix above loses that information. -->\r\n\t\t\t<feComposite in2=\"SourceGraphic\" operator=\"in\"></feComposite>\r\n\t\t</filter>\r\n\t</defs>\r\n</svg>`;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,QAAQ,QAAQ;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,mBAAmBA,CAAEC,MAAM,GAAG,EAAE,EAAG;EAClD,MAAMC,MAAM,GAAG;IAAEC,CAAC,EAAE,EAAE;IAAEC,CAAC,EAAE,EAAE;IAAEC,CAAC,EAAE,EAAE;IAAEC,CAAC,EAAE;EAAG,CAAC;EAE7CL,MAAM,CAACM,OAAO,CAAIC,KAAK,IAAM;IAC5B,MAAMC,QAAQ,GAAGV,MAAM,CAAES,KAAM,CAAC,CAACE,KAAK,CAAC,CAAC;IACxCR,MAAM,CAACC,CAAC,CAACQ,IAAI,CAAEF,QAAQ,CAACN,CAAC,GAAG,GAAI,CAAC;IACjCD,MAAM,CAACE,CAAC,CAACO,IAAI,CAAEF,QAAQ,CAACL,CAAC,GAAG,GAAI,CAAC;IACjCF,MAAM,CAACG,CAAC,CAACM,IAAI,CAAEF,QAAQ,CAACJ,CAAC,GAAG,GAAI,CAAC;IACjCH,MAAM,CAACI,CAAC,CAACK,IAAI,CAAEF,QAAQ,CAACH,CAAE,CAAC;EAC5B,CAAE,CAAC;EAEH,OAAOJ,MAAM;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASU,yBAAyBA,CAAEC,QAAQ,EAAG;EACrD,OAAQ,GAAGA,QAAU,eAAc;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,oBAAoBA,CAAED,QAAQ,EAAEE,EAAE,EAAG;EACpD,OAAQ,GAAGF,QAAU,gBAAgBE,EAAI,IAAG;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAAED,EAAE,EAAEd,MAAM,EAAG;EAC9C,MAAMC,MAAM,GAAGF,mBAAmB,CAAEC,MAAO,CAAC;EAC5C,OAAQ;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAiBc,EAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAA0Cb,MAAM,CAACC,CAAC,CAACc,IAAI,CAAE,GAAI,CAAG;AAChE,yCAA0Cf,MAAM,CAACE,CAAC,CAACa,IAAI,CAAE,GAAI,CAAG;AAChE,yCAA0Cf,MAAM,CAACG,CAAC,CAACY,IAAI,CAAE,GAAI,CAAG;AAChE,yCAA0Cf,MAAM,CAACI,CAAC,CAACW,IAAI,CAAE,GAAI,CAAG;AAChE;AACA;AACA;AACA;AACA;AACA,OAAO;AACP","ignoreList":[]}