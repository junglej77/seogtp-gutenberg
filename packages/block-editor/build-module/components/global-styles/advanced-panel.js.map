{"version":3,"names":["TextareaControl","Notice","__experimentalVStack","VStack","useState","__","default","transformStyles","jsx","_jsx","jsxs","_jsxs","AdvancedPanel","value","onChange","inheritedValue","cssError","setCSSError","customCSS","css","handleOnChange","newValue","transformed","handleOnBlur","event","target","spacing","children","status","onRemove","label","__nextHasNoMarginBottom","onBlur","className","spellCheck"],"sources":["@wordpress/block-editor/src/components/global-styles/advanced-panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tTextareaControl,\r\n\tNotice,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components';\r\nimport { useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { default as transformStyles } from '../../utils/transform-styles';\r\n\r\nexport default function AdvancedPanel( {\r\n\tvalue,\r\n\tonChange,\r\n\tinheritedValue = value,\r\n} ) {\r\n\t// Custom CSS\r\n\tconst [ cssError, setCSSError ] = useState( null );\r\n\tconst customCSS = inheritedValue?.css;\r\n\tfunction handleOnChange( newValue ) {\r\n\t\tonChange( {\r\n\t\t\t...value,\r\n\t\t\tcss: newValue,\r\n\t\t} );\r\n\t\tif ( cssError ) {\r\n\t\t\t// Check if the new value is valid CSS, and pass a wrapping selector\r\n\t\t\t// to ensure that `transformStyles` validates the CSS. Note that the\r\n\t\t\t// wrapping selector here is not used in the actual output of any styles.\r\n\t\t\tconst [ transformed ] = transformStyles(\r\n\t\t\t\t[ { css: newValue } ],\r\n\t\t\t\t'.for-validation-only'\r\n\t\t\t);\r\n\t\t\tif ( transformed ) {\r\n\t\t\t\tsetCSSError( null );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction handleOnBlur( event ) {\r\n\t\tif ( ! event?.target?.value ) {\r\n\t\t\tsetCSSError( null );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check if the new value is valid CSS, and pass a wrapping selector\r\n\t\t// to ensure that `transformStyles` validates the CSS. Note that the\r\n\t\t// wrapping selector here is not used in the actual output of any styles.\r\n\t\tconst [ transformed ] = transformStyles(\r\n\t\t\t[ { css: event.target.value } ],\r\n\t\t\t'.for-validation-only'\r\n\t\t);\r\n\r\n\t\tsetCSSError(\r\n\t\t\ttransformed === null\r\n\t\t\t\t? __( 'There is an error with your CSS structure.' )\r\n\t\t\t\t: null\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<VStack spacing={ 3 }>\r\n\t\t\t{ cssError && (\r\n\t\t\t\t<Notice status=\"error\" onRemove={ () => setCSSError( null ) }>\r\n\t\t\t\t\t{ cssError }\r\n\t\t\t\t</Notice>\r\n\t\t\t) }\r\n\t\t\t<TextareaControl\r\n\t\t\t\tlabel={ __( 'Additional CSS' ) }\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\tvalue={ customCSS }\r\n\t\t\t\tonChange={ ( newValue ) => handleOnChange( newValue ) }\r\n\t\t\t\tonBlur={ handleOnBlur }\r\n\t\t\t\tclassName=\"block-editor-global-styles-advanced-panel__custom-css-input\"\r\n\t\t\t\tspellCheck={ false }\r\n\t\t\t/>\r\n\t\t</VStack>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,eAAe,EACfC,MAAM,EACNC,oBAAoB,IAAIC,MAAM,QACxB,uBAAuB;AAC9B,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,SAASC,OAAO,IAAIC,eAAe,QAAQ,8BAA8B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE1E,eAAe,SAASC,aAAaA,CAAE;EACtCC,KAAK;EACLC,QAAQ;EACRC,cAAc,GAAGF;AAClB,CAAC,EAAG;EACH;EACA,MAAM,CAAEG,QAAQ,EAAEC,WAAW,CAAE,GAAGb,QAAQ,CAAE,IAAK,CAAC;EAClD,MAAMc,SAAS,GAAGH,cAAc,EAAEI,GAAG;EACrC,SAASC,cAAcA,CAAEC,QAAQ,EAAG;IACnCP,QAAQ,CAAE;MACT,GAAGD,KAAK;MACRM,GAAG,EAAEE;IACN,CAAE,CAAC;IACH,IAAKL,QAAQ,EAAG;MACf;MACA;MACA;MACA,MAAM,CAAEM,WAAW,CAAE,GAAGf,eAAe,CACtC,CAAE;QAAEY,GAAG,EAAEE;MAAS,CAAC,CAAE,EACrB,sBACD,CAAC;MACD,IAAKC,WAAW,EAAG;QAClBL,WAAW,CAAE,IAAK,CAAC;MACpB;IACD;EACD;EACA,SAASM,YAAYA,CAAEC,KAAK,EAAG;IAC9B,IAAK,CAAEA,KAAK,EAAEC,MAAM,EAAEZ,KAAK,EAAG;MAC7BI,WAAW,CAAE,IAAK,CAAC;MACnB;IACD;;IAEA;IACA;IACA;IACA,MAAM,CAAEK,WAAW,CAAE,GAAGf,eAAe,CACtC,CAAE;MAAEY,GAAG,EAAEK,KAAK,CAACC,MAAM,CAACZ;IAAM,CAAC,CAAE,EAC/B,sBACD,CAAC;IAEDI,WAAW,CACVK,WAAW,KAAK,IAAI,GACjBjB,EAAE,CAAE,4CAA6C,CAAC,GAClD,IACJ,CAAC;EACF;EAEA,oBACCM,KAAA,CAACR,MAAM;IAACuB,OAAO,EAAG,CAAG;IAAAC,QAAA,GAClBX,QAAQ,iBACTP,IAAA,CAACR,MAAM;MAAC2B,MAAM,EAAC,OAAO;MAACC,QAAQ,EAAGA,CAAA,KAAMZ,WAAW,CAAE,IAAK,CAAG;MAAAU,QAAA,EAC1DX;IAAQ,CACH,CACR,eACDP,IAAA,CAACT,eAAe;MACf8B,KAAK,EAAGzB,EAAE,CAAE,gBAAiB,CAAG;MAChC0B,uBAAuB;MACvBlB,KAAK,EAAGK,SAAW;MACnBJ,QAAQ,EAAKO,QAAQ,IAAMD,cAAc,CAAEC,QAAS,CAAG;MACvDW,MAAM,EAAGT,YAAc;MACvBU,SAAS,EAAC,6DAA6D;MACvEC,UAAU,EAAG;IAAO,CACpB,CAAC;EAAA,CACK,CAAC;AAEX","ignoreList":[]}