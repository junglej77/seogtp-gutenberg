{"version":3,"names":["__","__experimentalVStack","VStack","__experimentalHeading","Heading","__experimentalHStack","HStack","__experimentalDropdownContentWrapper","DropdownContentWrapper","Button","FlexItem","Dropdown","Composite","useMemo","shadow","shadowIcon","Icon","check","clsx","jsx","_jsx","jsxs","_jsxs","EMPTY_ARRAY","ShadowPopoverContainer","onShadowChange","settings","shadows","useShadowPresets","className","children","spacing","level","ShadowPresets","presets","activeShadow","onSelect","__next40pxDefaultSize","variant","onClick","undefined","role","map","name","slug","ShadowIndicator","label","isActive","type","Item","render","unset","style","boxShadow","showTooltip","icon","ShadowPopover","popoverProps","placement","offset","shift","renderToggle","renderShadowToggle","renderContent","paddingSize","onToggle","isOpen","toggleProps","justify","size","_settings$shadow$pres","defaultPresetsEnabled","defaultPresets","default","defaultShadows","theme","themeShadows","custom","customShadows","unsetShadow","shadowPresets","length","unshift"],"sources":["@wordpress/block-editor/src/components/global-styles/shadow-panel-components.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\t__experimentalVStack as VStack,\r\n\t__experimentalHeading as Heading,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\r\n\tButton,\r\n\tFlexItem,\r\n\tDropdown,\r\n\tComposite,\r\n} from '@wordpress/components';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { shadow as shadowIcon, Icon, check } from '@wordpress/icons';\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * Shared reference to an empty array for cases where it is important to avoid\r\n * returning a new array reference on every invocation.\r\n *\r\n * @type {Array}\r\n */\r\nconst EMPTY_ARRAY = [];\r\n\r\nexport function ShadowPopoverContainer( { shadow, onShadowChange, settings } ) {\r\n\tconst shadows = useShadowPresets( settings );\r\n\r\n\treturn (\r\n\t\t<div className=\"block-editor-global-styles__shadow-popover-container\">\r\n\t\t\t<VStack spacing={ 4 }>\r\n\t\t\t\t<Heading level={ 5 }>{ __( 'Drop shadow' ) }</Heading>\r\n\t\t\t\t<ShadowPresets\r\n\t\t\t\t\tpresets={ shadows }\r\n\t\t\t\t\tactiveShadow={ shadow }\r\n\t\t\t\t\tonSelect={ onShadowChange }\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"block-editor-global-styles__clear-shadow\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\tonClick={ () => onShadowChange( undefined ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Clear' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</VStack>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function ShadowPresets( { presets, activeShadow, onSelect } ) {\r\n\treturn ! presets ? null : (\r\n\t\t<Composite\r\n\t\t\trole=\"listbox\"\r\n\t\t\tclassName=\"block-editor-global-styles__shadow__list\"\r\n\t\t\taria-label={ __( 'Drop shadows' ) }\r\n\t\t>\r\n\t\t\t{ presets.map( ( { name, slug, shadow } ) => (\r\n\t\t\t\t<ShadowIndicator\r\n\t\t\t\t\tkey={ slug }\r\n\t\t\t\t\tlabel={ name }\r\n\t\t\t\t\tisActive={ shadow === activeShadow }\r\n\t\t\t\t\ttype={ slug === 'unset' ? 'unset' : 'preset' }\r\n\t\t\t\t\tonSelect={ () =>\r\n\t\t\t\t\t\tonSelect( shadow === activeShadow ? undefined : shadow )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tshadow={ shadow }\r\n\t\t\t\t/>\r\n\t\t\t) ) }\r\n\t\t</Composite>\r\n\t);\r\n}\r\n\r\nexport function ShadowIndicator( { type, label, isActive, onSelect, shadow } ) {\r\n\treturn (\r\n\t\t<Composite.Item\r\n\t\t\trole=\"option\"\r\n\t\t\taria-label={ label }\r\n\t\t\taria-selected={ isActive }\r\n\t\t\tclassName={ clsx( 'block-editor-global-styles__shadow__item', {\r\n\t\t\t\t'is-active': isActive,\r\n\t\t\t} ) }\r\n\t\t\trender={\r\n\t\t\t\t<Button\r\n\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t'block-editor-global-styles__shadow-indicator',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tunset: type === 'unset',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tonClick={ onSelect }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\tstyle={ { boxShadow: shadow } }\r\n\t\t\t\t\tshowTooltip\r\n\t\t\t\t>\r\n\t\t\t\t\t{ isActive && <Icon icon={ check } /> }\r\n\t\t\t\t</Button>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport function ShadowPopover( { shadow, onShadowChange, settings } ) {\r\n\tconst popoverProps = {\r\n\t\tplacement: 'left-start',\r\n\t\toffset: 36,\r\n\t\tshift: true,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\tpopoverProps={ popoverProps }\r\n\t\t\tclassName=\"block-editor-global-styles__shadow-dropdown\"\r\n\t\t\trenderToggle={ renderShadowToggle() }\r\n\t\t\trenderContent={ () => (\r\n\t\t\t\t<DropdownContentWrapper paddingSize=\"medium\">\r\n\t\t\t\t\t<ShadowPopoverContainer\r\n\t\t\t\t\t\tshadow={ shadow }\r\n\t\t\t\t\t\tonShadowChange={ onShadowChange }\r\n\t\t\t\t\t\tsettings={ settings }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DropdownContentWrapper>\r\n\t\t\t) }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction renderShadowToggle() {\r\n\treturn ( { onToggle, isOpen } ) => {\r\n\t\tconst toggleProps = {\r\n\t\t\tonClick: onToggle,\r\n\t\t\tclassName: clsx( { 'is-open': isOpen } ),\r\n\t\t\t'aria-expanded': isOpen,\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<Button\r\n\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t{ ...toggleProps }\r\n\t\t\t>\r\n\t\t\t\t<HStack justify=\"flex-start\">\r\n\t\t\t\t\t<Icon\r\n\t\t\t\t\t\tclassName=\"block-editor-global-styles__toggle-icon\"\r\n\t\t\t\t\t\ticon={ shadowIcon }\r\n\t\t\t\t\t\tsize={ 24 }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FlexItem>{ __( 'Drop shadow' ) }</FlexItem>\r\n\t\t\t\t</HStack>\r\n\t\t\t</Button>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nexport function useShadowPresets( settings ) {\r\n\treturn useMemo( () => {\r\n\t\tif ( ! settings?.shadow ) {\r\n\t\t\treturn EMPTY_ARRAY;\r\n\t\t}\r\n\r\n\t\tconst defaultPresetsEnabled = settings?.shadow?.defaultPresets;\r\n\t\tconst {\r\n\t\t\tdefault: defaultShadows,\r\n\t\t\ttheme: themeShadows,\r\n\t\t\tcustom: customShadows,\r\n\t\t} = settings?.shadow?.presets ?? {};\r\n\t\tconst unsetShadow = {\r\n\t\t\tname: __( 'Unset' ),\r\n\t\t\tslug: 'unset',\r\n\t\t\tshadow: 'none',\r\n\t\t};\r\n\r\n\t\tconst shadowPresets = [\r\n\t\t\t...( ( defaultPresetsEnabled && defaultShadows ) || EMPTY_ARRAY ),\r\n\t\t\t...( themeShadows || EMPTY_ARRAY ),\r\n\t\t\t...( customShadows || EMPTY_ARRAY ),\r\n\t\t];\r\n\t\tif ( shadowPresets.length ) {\r\n\t\t\tshadowPresets.unshift( unsetShadow );\r\n\t\t}\r\n\r\n\t\treturn shadowPresets;\r\n\t}, [ settings ] );\r\n}\r\n"],"mappings":"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","ignoreList":[]}