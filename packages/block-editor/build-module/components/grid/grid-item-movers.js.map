{"version":3,"names":["clsx","__","isRTL","VisuallyHidden","ToolbarButton","ToolbarGroup","chevronLeft","chevronUp","chevronDown","chevronRight","useDispatch","useInstanceId","BlockControls","useGetNumberOfBlocksBeforeCell","store","blockEditorStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GridItemMovers","layout","parentLayout","onChange","gridClientId","blockClientId","_layout$columnStart","_layout$rowStart","_layout$columnSpan","_layout$rowSpan","moveBlocksToPosition","__unstableMarkNextChangeAsNotPersistent","columnStart","rowStart","columnSpan","rowSpan","columnEnd","rowEnd","columnCount","rowCount","getNumberOfBlocksBeforeCell","group","children","className","GridItemMover","icon","label","description","isDisabled","onClick","instanceId","descriptionId","disabled","accessibleWhenDisabled","id"],"sources":["@wordpress/block-editor/src/components/grid/grid-item-movers.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __, isRTL } from '@wordpress/i18n';\r\nimport {\r\n\tVisuallyHidden,\r\n\tToolbarButton,\r\n\tToolbarGroup,\r\n} from '@wordpress/components';\r\nimport {\r\n\tchevronLeft,\r\n\tchevronUp,\r\n\tchevronDown,\r\n\tchevronRight,\r\n} from '@wordpress/icons';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { useInstanceId } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BlockControls from '../block-controls';\r\nimport { useGetNumberOfBlocksBeforeCell } from './use-get-number-of-blocks-before-cell';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nexport function GridItemMovers( {\r\n\tlayout,\r\n\tparentLayout,\r\n\tonChange,\r\n\tgridClientId,\r\n\tblockClientId,\r\n} ) {\r\n\tconst { moveBlocksToPosition, __unstableMarkNextChangeAsNotPersistent } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tconst columnStart = layout?.columnStart ?? 1;\r\n\tconst rowStart = layout?.rowStart ?? 1;\r\n\tconst columnSpan = layout?.columnSpan ?? 1;\r\n\tconst rowSpan = layout?.rowSpan ?? 1;\r\n\tconst columnEnd = columnStart + columnSpan - 1;\r\n\tconst rowEnd = rowStart + rowSpan - 1;\r\n\tconst columnCount = parentLayout?.columnCount;\r\n\tconst rowCount = parentLayout?.rowCount;\r\n\r\n\tconst getNumberOfBlocksBeforeCell = useGetNumberOfBlocksBeforeCell(\r\n\t\tgridClientId,\r\n\t\tcolumnCount\r\n\t);\r\n\r\n\treturn (\r\n\t\t<BlockControls group=\"parent\">\r\n\t\t\t<ToolbarGroup className=\"block-editor-grid-item-mover__move-button-container\">\r\n\t\t\t\t<div className=\"block-editor-grid-item-mover__move-horizontal-button-container is-left\">\r\n\t\t\t\t\t<GridItemMover\r\n\t\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\r\n\t\t\t\t\t\tlabel={ __( 'Move left' ) }\r\n\t\t\t\t\t\tdescription={ __( 'Move left' ) }\r\n\t\t\t\t\t\tisDisabled={ columnStart <= 1 }\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\tcolumnStart: columnStart - 1,\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\t\t\t\t\tmoveBlocksToPosition(\r\n\t\t\t\t\t\t\t\t[ blockClientId ],\r\n\t\t\t\t\t\t\t\tgridClientId,\r\n\t\t\t\t\t\t\t\tgridClientId,\r\n\t\t\t\t\t\t\t\tgetNumberOfBlocksBeforeCell(\r\n\t\t\t\t\t\t\t\t\tcolumnStart - 1,\r\n\t\t\t\t\t\t\t\t\trowStart\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"block-editor-grid-item-mover__move-vertical-button-container\">\r\n\t\t\t\t\t<GridItemMover\r\n\t\t\t\t\t\tclassName=\"is-up-button\"\r\n\t\t\t\t\t\ticon={ chevronUp }\r\n\t\t\t\t\t\tlabel={ __( 'Move up' ) }\r\n\t\t\t\t\t\tdescription={ __( 'Move up' ) }\r\n\t\t\t\t\t\tisDisabled={ rowStart <= 1 }\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\trowStart: rowStart - 1,\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\t\t\t\t\tmoveBlocksToPosition(\r\n\t\t\t\t\t\t\t\t[ blockClientId ],\r\n\t\t\t\t\t\t\t\tgridClientId,\r\n\t\t\t\t\t\t\t\tgridClientId,\r\n\t\t\t\t\t\t\t\tgetNumberOfBlocksBeforeCell(\r\n\t\t\t\t\t\t\t\t\tcolumnStart,\r\n\t\t\t\t\t\t\t\t\trowStart - 1\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<GridItemMover\r\n\t\t\t\t\t\tclassName=\"is-down-button\"\r\n\t\t\t\t\t\ticon={ chevronDown }\r\n\t\t\t\t\t\tlabel={ __( 'Move down' ) }\r\n\t\t\t\t\t\tdescription={ __( 'Move down' ) }\r\n\t\t\t\t\t\tisDisabled={ rowCount && rowEnd >= rowCount }\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\trowStart: rowStart + 1,\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\t\t\t\t\tmoveBlocksToPosition(\r\n\t\t\t\t\t\t\t\t[ blockClientId ],\r\n\t\t\t\t\t\t\t\tgridClientId,\r\n\t\t\t\t\t\t\t\tgridClientId,\r\n\t\t\t\t\t\t\t\tgetNumberOfBlocksBeforeCell(\r\n\t\t\t\t\t\t\t\t\tcolumnStart,\r\n\t\t\t\t\t\t\t\t\trowStart + 1\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"block-editor-grid-item-mover__move-horizontal-button-container is-right\">\r\n\t\t\t\t\t<GridItemMover\r\n\t\t\t\t\t\ticon={ isRTL() ? chevronLeft : chevronRight }\r\n\t\t\t\t\t\tlabel={ __( 'Move right' ) }\r\n\t\t\t\t\t\tdescription={ __( 'Move right' ) }\r\n\t\t\t\t\t\tisDisabled={ columnCount && columnEnd >= columnCount }\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\tcolumnStart: columnStart + 1,\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\t\t\t\t\tmoveBlocksToPosition(\r\n\t\t\t\t\t\t\t\t[ blockClientId ],\r\n\t\t\t\t\t\t\t\tgridClientId,\r\n\t\t\t\t\t\t\t\tgridClientId,\r\n\t\t\t\t\t\t\t\tgetNumberOfBlocksBeforeCell(\r\n\t\t\t\t\t\t\t\t\tcolumnStart + 1,\r\n\t\t\t\t\t\t\t\t\trowStart\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</ToolbarGroup>\r\n\t\t</BlockControls>\r\n\t);\r\n}\r\n\r\nfunction GridItemMover( {\r\n\tclassName,\r\n\ticon,\r\n\tlabel,\r\n\tisDisabled,\r\n\tonClick,\r\n\tdescription,\r\n} ) {\r\n\tconst instanceId = useInstanceId( GridItemMover );\r\n\tconst descriptionId = `block-editor-grid-item-mover-button__description-${ instanceId }`;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ToolbarButton\r\n\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t'block-editor-grid-item-mover-button',\r\n\t\t\t\t\tclassName\r\n\t\t\t\t) }\r\n\t\t\t\ticon={ icon }\r\n\t\t\t\tlabel={ label }\r\n\t\t\t\taria-describedby={ descriptionId }\r\n\t\t\t\tonClick={ isDisabled ? null : onClick }\r\n\t\t\t\tdisabled={ isDisabled }\r\n\t\t\t\taccessibleWhenDisabled\r\n\t\t\t/>\r\n\t\t\t<VisuallyHidden id={ descriptionId }>\r\n\t\t\t\t{ description }\r\n\t\t\t</VisuallyHidden>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SAASC,EAAE,EAAEC,KAAK,QAAQ,iBAAiB;AAC3C,SACCC,cAAc,EACdC,aAAa,EACbC,YAAY,QACN,uBAAuB;AAC9B,SACCC,WAAW,EACXC,SAAS,EACTC,WAAW,EACXC,YAAY,QACN,kBAAkB;AACzB,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,aAAa,QAAQ,oBAAoB;;AAElD;AACA;AACA;AACA,OAAOC,aAAa,MAAM,mBAAmB;AAC7C,SAASC,8BAA8B,QAAQ,wCAAwC;AACvF,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAExD,OAAO,SAASC,cAAcA,CAAE;EAC/BC,MAAM;EACNC,YAAY;EACZC,QAAQ;EACRC,YAAY;EACZC;AACD,CAAC,EAAG;EAAA,IAAAC,mBAAA,EAAAC,gBAAA,EAAAC,kBAAA,EAAAC,eAAA;EACH,MAAM;IAAEC,oBAAoB;IAAEC;EAAwC,CAAC,GACtEvB,WAAW,CAAEK,gBAAiB,CAAC;EAEhC,MAAMmB,WAAW,IAAAN,mBAAA,GAAGL,MAAM,EAAEW,WAAW,cAAAN,mBAAA,cAAAA,mBAAA,GAAI,CAAC;EAC5C,MAAMO,QAAQ,IAAAN,gBAAA,GAAGN,MAAM,EAAEY,QAAQ,cAAAN,gBAAA,cAAAA,gBAAA,GAAI,CAAC;EACtC,MAAMO,UAAU,IAAAN,kBAAA,GAAGP,MAAM,EAAEa,UAAU,cAAAN,kBAAA,cAAAA,kBAAA,GAAI,CAAC;EAC1C,MAAMO,OAAO,IAAAN,eAAA,GAAGR,MAAM,EAAEc,OAAO,cAAAN,eAAA,cAAAA,eAAA,GAAI,CAAC;EACpC,MAAMO,SAAS,GAAGJ,WAAW,GAAGE,UAAU,GAAG,CAAC;EAC9C,MAAMG,MAAM,GAAGJ,QAAQ,GAAGE,OAAO,GAAG,CAAC;EACrC,MAAMG,WAAW,GAAGhB,YAAY,EAAEgB,WAAW;EAC7C,MAAMC,QAAQ,GAAGjB,YAAY,EAAEiB,QAAQ;EAEvC,MAAMC,2BAA2B,GAAG7B,8BAA8B,CACjEa,YAAY,EACZc,WACD,CAAC;EAED,oBACCvB,IAAA,CAACL,aAAa;IAAC+B,KAAK,EAAC,QAAQ;IAAAC,QAAA,eAC5BzB,KAAA,CAACd,YAAY;MAACwC,SAAS,EAAC,qDAAqD;MAAAD,QAAA,gBAC5E3B,IAAA;QAAK4B,SAAS,EAAC,wEAAwE;QAAAD,QAAA,eACtF3B,IAAA,CAAC6B,aAAa;UACbC,IAAI,EAAG7C,KAAK,CAAC,CAAC,GAAGO,YAAY,GAAGH,WAAa;UAC7C0C,KAAK,EAAG/C,EAAE,CAAE,WAAY,CAAG;UAC3BgD,WAAW,EAAGhD,EAAE,CAAE,WAAY,CAAG;UACjCiD,UAAU,EAAGhB,WAAW,IAAI,CAAG;UAC/BiB,OAAO,EAAGA,CAAA,KAAM;YACf1B,QAAQ,CAAE;cACTS,WAAW,EAAEA,WAAW,GAAG;YAC5B,CAAE,CAAC;YACHD,uCAAuC,CAAC,CAAC;YACzCD,oBAAoB,CACnB,CAAEL,aAAa,CAAE,EACjBD,YAAY,EACZA,YAAY,EACZgB,2BAA2B,CAC1BR,WAAW,GAAG,CAAC,EACfC,QACD,CACD,CAAC;UACF;QAAG,CACH;MAAC,CACE,CAAC,eACNhB,KAAA;QAAK0B,SAAS,EAAC,8DAA8D;QAAAD,QAAA,gBAC5E3B,IAAA,CAAC6B,aAAa;UACbD,SAAS,EAAC,cAAc;UACxBE,IAAI,EAAGxC,SAAW;UAClByC,KAAK,EAAG/C,EAAE,CAAE,SAAU,CAAG;UACzBgD,WAAW,EAAGhD,EAAE,CAAE,SAAU,CAAG;UAC/BiD,UAAU,EAAGf,QAAQ,IAAI,CAAG;UAC5BgB,OAAO,EAAGA,CAAA,KAAM;YACf1B,QAAQ,CAAE;cACTU,QAAQ,EAAEA,QAAQ,GAAG;YACtB,CAAE,CAAC;YACHF,uCAAuC,CAAC,CAAC;YACzCD,oBAAoB,CACnB,CAAEL,aAAa,CAAE,EACjBD,YAAY,EACZA,YAAY,EACZgB,2BAA2B,CAC1BR,WAAW,EACXC,QAAQ,GAAG,CACZ,CACD,CAAC;UACF;QAAG,CACH,CAAC,eACFlB,IAAA,CAAC6B,aAAa;UACbD,SAAS,EAAC,gBAAgB;UAC1BE,IAAI,EAAGvC,WAAa;UACpBwC,KAAK,EAAG/C,EAAE,CAAE,WAAY,CAAG;UAC3BgD,WAAW,EAAGhD,EAAE,CAAE,WAAY,CAAG;UACjCiD,UAAU,EAAGT,QAAQ,IAAIF,MAAM,IAAIE,QAAU;UAC7CU,OAAO,EAAGA,CAAA,KAAM;YACf1B,QAAQ,CAAE;cACTU,QAAQ,EAAEA,QAAQ,GAAG;YACtB,CAAE,CAAC;YACHF,uCAAuC,CAAC,CAAC;YACzCD,oBAAoB,CACnB,CAAEL,aAAa,CAAE,EACjBD,YAAY,EACZA,YAAY,EACZgB,2BAA2B,CAC1BR,WAAW,EACXC,QAAQ,GAAG,CACZ,CACD,CAAC;UACF;QAAG,CACH,CAAC;MAAA,CACE,CAAC,eACNlB,IAAA;QAAK4B,SAAS,EAAC,yEAAyE;QAAAD,QAAA,eACvF3B,IAAA,CAAC6B,aAAa;UACbC,IAAI,EAAG7C,KAAK,CAAC,CAAC,GAAGI,WAAW,GAAGG,YAAc;UAC7CuC,KAAK,EAAG/C,EAAE,CAAE,YAAa,CAAG;UAC5BgD,WAAW,EAAGhD,EAAE,CAAE,YAAa,CAAG;UAClCiD,UAAU,EAAGV,WAAW,IAAIF,SAAS,IAAIE,WAAa;UACtDW,OAAO,EAAGA,CAAA,KAAM;YACf1B,QAAQ,CAAE;cACTS,WAAW,EAAEA,WAAW,GAAG;YAC5B,CAAE,CAAC;YACHD,uCAAuC,CAAC,CAAC;YACzCD,oBAAoB,CACnB,CAAEL,aAAa,CAAE,EACjBD,YAAY,EACZA,YAAY,EACZgB,2BAA2B,CAC1BR,WAAW,GAAG,CAAC,EACfC,QACD,CACD,CAAC;UACF;QAAG,CACH;MAAC,CACE,CAAC;IAAA,CACO;EAAC,CACD,CAAC;AAElB;AAEA,SAASW,aAAaA,CAAE;EACvBD,SAAS;EACTE,IAAI;EACJC,KAAK;EACLE,UAAU;EACVC,OAAO;EACPF;AACD,CAAC,EAAG;EACH,MAAMG,UAAU,GAAGzC,aAAa,CAAEmC,aAAc,CAAC;EACjD,MAAMO,aAAa,GAAI,oDAAoDD,UAAY,EAAC;EACxF,oBACCjC,KAAA,CAAAE,SAAA;IAAAuB,QAAA,gBACC3B,IAAA,CAACb,aAAa;MACbyC,SAAS,EAAG7C,IAAI,CACf,qCAAqC,EACrC6C,SACD,CAAG;MACHE,IAAI,EAAGA,IAAM;MACbC,KAAK,EAAGA,KAAO;MACf,oBAAmBK,aAAe;MAClCF,OAAO,EAAGD,UAAU,GAAG,IAAI,GAAGC,OAAS;MACvCG,QAAQ,EAAGJ,UAAY;MACvBK,sBAAsB;IAAA,CACtB,CAAC,eACFtC,IAAA,CAACd,cAAc;MAACqD,EAAE,EAAGH,aAAe;MAAAT,QAAA,EACjCK;IAAW,CACE,CAAC;EAAA,CAChB,CAAC;AAEL","ignoreList":[]}