{"version":3,"names":["useNavigation","useRoute","StyleSheet","__","Icon","check","chevronRight","usePreferredColorSchemeStyle","BottomSheet","PanelBody","styles","blockSettingsScreens","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_CUSTOM","LinkDestination","children","isSelected","label","onPress","value","valueStyle","optionIcon","optionIconDark","Cell","icon","iconStyle","flatten","unselectedOptionIcon","leftAlign","separatorType","ImageLinkDestinationsScreen","props","navigation","route","url","inputValue","imageUrl","attachmentPageUrl","linkDestination","params","goToLinkPicker","navigate","linkPicker","setLinkDestination","newLinkDestination","newUrl","settings","text","NavBar","BackButton","goBack","Heading","undefined","placeholderTextColor"],"sources":["@wordpress/block-editor/src/components/image-link-destinations/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { useNavigation, useRoute } from '@react-navigation/native';\r\nimport { StyleSheet } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Icon, check, chevronRight } from '@wordpress/icons';\r\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\r\nimport { BottomSheet, PanelBody } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './style.native.scss';\r\nimport { blockSettingsScreens } from '../block-settings';\r\n\r\nconst LINK_DESTINATION_NONE = 'none';\r\nconst LINK_DESTINATION_MEDIA = 'media';\r\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\r\nconst LINK_DESTINATION_CUSTOM = 'custom';\r\n\r\nfunction LinkDestination( {\r\n\tchildren,\r\n\tisSelected,\r\n\tlabel,\r\n\tonPress,\r\n\tvalue,\r\n\tvalueStyle,\r\n} ) {\r\n\tconst optionIcon = usePreferredColorSchemeStyle(\r\n\t\tstyles.optionIcon,\r\n\t\tstyles.optionIconDark\r\n\t);\r\n\r\n\treturn (\r\n\t\t<BottomSheet.Cell\r\n\t\t\ticon={ check }\r\n\t\t\ticonStyle={ StyleSheet.flatten( [\r\n\t\t\t\toptionIcon,\r\n\t\t\t\t! isSelected && styles.unselectedOptionIcon,\r\n\t\t\t] ) }\r\n\t\t\tlabel={ label }\r\n\t\t\tleftAlign\r\n\t\t\tonPress={ onPress }\r\n\t\t\tvalue={ value }\r\n\t\t\tvalueStyle={ valueStyle }\r\n\t\t\tseparatorType=\"leftMargin\"\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</BottomSheet.Cell>\r\n\t);\r\n}\r\n\r\nfunction ImageLinkDestinationsScreen( props ) {\r\n\tconst navigation = useNavigation();\r\n\tconst route = useRoute();\r\n\tconst { url = '' } = props;\r\n\tconst {\r\n\t\tinputValue = url,\r\n\t\timageUrl,\r\n\t\tattachmentPageUrl,\r\n\t\tlinkDestination,\r\n\t} = route.params || {};\r\n\r\n\tfunction goToLinkPicker() {\r\n\t\tnavigation.navigate( blockSettingsScreens.linkPicker, {\r\n\t\t\tinputValue:\r\n\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM ? inputValue : '',\r\n\t\t} );\r\n\t}\r\n\r\n\tconst setLinkDestination = ( newLinkDestination ) => () => {\r\n\t\tlet newUrl;\r\n\t\tswitch ( newLinkDestination ) {\r\n\t\t\tcase LINK_DESTINATION_MEDIA:\r\n\t\t\t\tnewUrl = imageUrl;\r\n\t\t\t\tbreak;\r\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\r\n\t\t\t\tnewUrl = attachmentPageUrl;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tnewUrl = '';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tnavigation.navigate( blockSettingsScreens.settings, {\r\n\t\t\t// The `inputValue` name is reused from LinkPicker, as it helps avoid\r\n\t\t\t// bugs from stale values remaining in the React Navigation route\r\n\t\t\t// parameters.\r\n\t\t\tinputValue: newUrl,\r\n\t\t\t// Clear link text value that may be set from LinkPicker.\r\n\t\t\ttext: '',\r\n\t\t} );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BottomSheet.NavBar>\r\n\t\t\t\t<BottomSheet.NavBar.BackButton onPress={ navigation.goBack } />\r\n\t\t\t\t<BottomSheet.NavBar.Heading>\r\n\t\t\t\t\t{ __( 'Link To' ) }\r\n\t\t\t\t</BottomSheet.NavBar.Heading>\r\n\t\t\t</BottomSheet.NavBar>\r\n\t\t\t<PanelBody>\r\n\t\t\t\t<LinkDestination\r\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_NONE }\r\n\t\t\t\t\tlabel={ __( 'None' ) }\r\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_NONE ) }\r\n\t\t\t\t/>\r\n\t\t\t\t<LinkDestination\r\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_MEDIA }\r\n\t\t\t\t\tlabel={ __( 'Media File' ) }\r\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_MEDIA ) }\r\n\t\t\t\t/>\r\n\t\t\t\t{ !! attachmentPageUrl && (\r\n\t\t\t\t\t<LinkDestination\r\n\t\t\t\t\t\tisSelected={\r\n\t\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_ATTACHMENT\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={ __( 'Attachment Page' ) }\r\n\t\t\t\t\t\tonPress={ setLinkDestination(\r\n\t\t\t\t\t\t\tLINK_DESTINATION_ATTACHMENT\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<LinkDestination\r\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_CUSTOM }\r\n\t\t\t\t\tlabel={ __( 'Custom URL' ) }\r\n\t\t\t\t\tonPress={ goToLinkPicker }\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\r\n\t\t\t\t\t\t\t? inputValue\r\n\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalueStyle={\r\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\r\n\t\t\t\t\t\t\t? undefined\r\n\t\t\t\t\t\t\t: styles.placeholderTextColor\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon icon={ chevronRight }></Icon>\r\n\t\t\t\t</LinkDestination>\r\n\t\t\t</PanelBody>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ImageLinkDestinationsScreen;\r\n"],"mappings":"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","ignoreList":[]}