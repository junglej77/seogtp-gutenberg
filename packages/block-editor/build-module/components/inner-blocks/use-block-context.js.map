{"version":3,"names":["store","blocksStore","useSelect","blockEditorStore","useBlockContext","clientId","select","block","getBlock","undefined","blockType","getBlockType","name","Object","keys","providesContext","length","fromEntries","entries","map","contextName","attributeName","attributes"],"sources":["@wordpress/block-editor/src/components/inner-blocks/use-block-context.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\n/**\r\n * Returns a context object for a given block.\r\n *\r\n * @param {string} clientId The block client ID.\r\n *\r\n * @return {Record<string,*>} Context value.\r\n */\r\nexport default function useBlockContext( clientId ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst block = select( blockEditorStore ).getBlock( clientId );\r\n\t\t\tif ( ! block ) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\r\n\t\t\tconst blockType = select( blocksStore ).getBlockType( block.name );\r\n\t\t\tif ( ! blockType ) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\r\n\t\t\tif ( Object.keys( blockType.providesContext ).length === 0 ) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\r\n\t\t\treturn Object.fromEntries(\r\n\t\t\t\tObject.entries( blockType.providesContext ).map(\r\n\t\t\t\t\t( [ contextName, attributeName ] ) => [\r\n\t\t\t\t\t\tcontextName,\r\n\t\t\t\t\t\tblock.attributes[ attributeName ],\r\n\t\t\t\t\t]\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASF,KAAK,IAAIG,gBAAgB,QAAQ,aAAa;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,eAAeA,CAAEC,QAAQ,EAAG;EACnD,OAAOH,SAAS,CACbI,MAAM,IAAM;IACb,MAAMC,KAAK,GAAGD,MAAM,CAAEH,gBAAiB,CAAC,CAACK,QAAQ,CAAEH,QAAS,CAAC;IAC7D,IAAK,CAAEE,KAAK,EAAG;MACd,OAAOE,SAAS;IACjB;IAEA,MAAMC,SAAS,GAAGJ,MAAM,CAAEL,WAAY,CAAC,CAACU,YAAY,CAAEJ,KAAK,CAACK,IAAK,CAAC;IAClE,IAAK,CAAEF,SAAS,EAAG;MAClB,OAAOD,SAAS;IACjB;IAEA,IAAKI,MAAM,CAACC,IAAI,CAAEJ,SAAS,CAACK,eAAgB,CAAC,CAACC,MAAM,KAAK,CAAC,EAAG;MAC5D,OAAOP,SAAS;IACjB;IAEA,OAAOI,MAAM,CAACI,WAAW,CACxBJ,MAAM,CAACK,OAAO,CAAER,SAAS,CAACK,eAAgB,CAAC,CAACI,GAAG,CAC9C,CAAE,CAAEC,WAAW,EAAEC,aAAa,CAAE,KAAM,CACrCD,WAAW,EACXb,KAAK,CAACe,UAAU,CAAED,aAAa,CAAE,CAEnC,CACD,CAAC;EACF,CAAC,EACD,CAAEhB,QAAQ,CACX,CAAC;AACF","ignoreList":[]}