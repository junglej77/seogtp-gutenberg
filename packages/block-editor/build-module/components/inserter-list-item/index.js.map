{"version":3,"names":["clsx","useMemo","useRef","memo","createBlock","createBlocksFromInnerBlocksTemplate","isReusableBlock","isTemplatePart","__experimentalTruncate","Truncate","ENTER","isAppleOS","BlockIcon","InserterListboxItem","InserterDraggableBlocks","jsx","_jsx","jsxs","_jsxs","InserterListItem","className","isFirst","item","onSelect","onHover","isDraggable","props","isDraggingRef","itemIconStyle","icon","backgroundColor","background","color","foreground","blocks","name","initialAttributes","innerBlocks","isSynced","syncStatus","isEnabled","isDisabled","children","draggable","onDragStart","onDragEnd","event","current","disabled","onClick","preventDefault","metaKey","ctrlKey","onKeyDown","keyCode","onMouseEnter","onMouseLeave","style","showColors","numberOfLines","title"],"sources":["@wordpress/block-editor/src/components/inserter-list-item/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo, useRef, memo } from '@wordpress/element';\r\nimport {\r\n\tcreateBlock,\r\n\tcreateBlocksFromInnerBlocksTemplate,\r\n\tisReusableBlock,\r\n\tisTemplatePart,\r\n} from '@wordpress/blocks';\r\nimport { __experimentalTruncate as Truncate } from '@wordpress/components';\r\nimport { ENTER, isAppleOS } from '@wordpress/keycodes';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BlockIcon from '../block-icon';\r\nimport { InserterListboxItem } from '../inserter-listbox';\r\nimport InserterDraggableBlocks from '../inserter-draggable-blocks';\r\n\r\nfunction InserterListItem( {\r\n\tclassName,\r\n\tisFirst,\r\n\titem,\r\n\tonSelect,\r\n\tonHover,\r\n\tisDraggable,\r\n\t...props\r\n} ) {\r\n\tconst isDraggingRef = useRef( false );\r\n\tconst itemIconStyle = item.icon\r\n\t\t? {\r\n\t\t\t\tbackgroundColor: item.icon.background,\r\n\t\t\t\tcolor: item.icon.foreground,\r\n\t\t  }\r\n\t\t: {};\r\n\tconst blocks = useMemo(\r\n\t\t() => [\r\n\t\t\tcreateBlock(\r\n\t\t\t\titem.name,\r\n\t\t\t\titem.initialAttributes,\r\n\t\t\t\tcreateBlocksFromInnerBlocksTemplate( item.innerBlocks )\r\n\t\t\t),\r\n\t\t],\r\n\t\t[ item.name, item.initialAttributes, item.innerBlocks ]\r\n\t);\r\n\r\n\tconst isSynced =\r\n\t\t( isReusableBlock( item ) && item.syncStatus !== 'unsynced' ) ||\r\n\t\tisTemplatePart( item );\r\n\r\n\treturn (\r\n\t\t<InserterDraggableBlocks\r\n\t\t\tisEnabled={ isDraggable && ! item.isDisabled }\r\n\t\t\tblocks={ blocks }\r\n\t\t\ticon={ item.icon }\r\n\t\t>\r\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t'block-editor-block-types-list__list-item',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'is-synced': isSynced,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tdraggable={ draggable }\r\n\t\t\t\t\tonDragStart={ ( event ) => {\r\n\t\t\t\t\t\tisDraggingRef.current = true;\r\n\t\t\t\t\t\tif ( onDragStart ) {\r\n\t\t\t\t\t\t\tonHover( null );\r\n\t\t\t\t\t\t\tonDragStart( event );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tonDragEnd={ ( event ) => {\r\n\t\t\t\t\t\tisDraggingRef.current = false;\r\n\t\t\t\t\t\tif ( onDragEnd ) {\r\n\t\t\t\t\t\t\tonDragEnd( event );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t<InserterListboxItem\r\n\t\t\t\t\t\tisFirst={ isFirst }\r\n\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t'block-editor-block-types-list__item',\r\n\t\t\t\t\t\t\tclassName\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tdisabled={ item.isDisabled }\r\n\t\t\t\t\t\tonClick={ ( event ) => {\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tonSelect(\r\n\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\tisAppleOS() ? event.metaKey : event.ctrlKey\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tonHover( null );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\r\n\t\t\t\t\t\t\tconst { keyCode } = event;\r\n\t\t\t\t\t\t\tif ( keyCode === ENTER ) {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\tonSelect(\r\n\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\tisAppleOS() ? event.metaKey : event.ctrlKey\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tonHover( null );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tonMouseEnter={ () => {\r\n\t\t\t\t\t\t\tif ( isDraggingRef.current ) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonHover( item );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tonMouseLeave={ () => onHover( null ) }\r\n\t\t\t\t\t\t{ ...props }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"block-editor-block-types-list__item-icon\"\r\n\t\t\t\t\t\t\tstyle={ itemIconStyle }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<BlockIcon icon={ item.icon } showColors />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"block-editor-block-types-list__item-title\">\r\n\t\t\t\t\t\t\t<Truncate numberOfLines={ 3 }>\r\n\t\t\t\t\t\t\t\t{ item.title }\r\n\t\t\t\t\t\t\t</Truncate>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</InserterListboxItem>\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t</InserterDraggableBlocks>\r\n\t);\r\n}\r\n\r\nexport default memo( InserterListItem );\r\n"],"mappings":"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","ignoreList":[]}