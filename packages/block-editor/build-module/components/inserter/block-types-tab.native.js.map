{"version":3,"names":["useMemo","__","BlockTypesList","useClipboardBlock","useBlockTypeImpressions","createInserterSection","filterInserterItems","useBlockTypesState","jsx","_jsx","getBlockNamespace","item","name","split","BlockTypesTab","onSelect","rootClientId","listProps","rawBlockTypes","collections","clipboardBlock","filteredBlockTypes","blockTypes","items","trackBlockTypeSelected","handleSelect","args","collectionSections","result","Object","keys","forEach","namespace","data","filter","length","push","key","metadata","icon","title","sections","label"],"sources":["@wordpress/block-editor/src/components/inserter/block-types-tab.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BlockTypesList from '../block-types-list';\r\nimport useClipboardBlock from './hooks/use-clipboard-block';\r\nimport useBlockTypeImpressions from './hooks/use-block-type-impressions';\r\nimport { createInserterSection, filterInserterItems } from './utils';\r\nimport useBlockTypesState from './hooks/use-block-types-state';\r\n\r\nconst getBlockNamespace = ( item ) => item.name.split( '/' )[ 0 ];\r\n\r\nfunction BlockTypesTab( { onSelect, rootClientId, listProps } ) {\r\n\tconst [ rawBlockTypes, , collections ] = useBlockTypesState(\r\n\t\trootClientId,\r\n\t\tonSelect,\r\n\t\ttrue\r\n\t);\r\n\tconst clipboardBlock = useClipboardBlock( rootClientId );\r\n\tconst filteredBlockTypes = filterInserterItems( rawBlockTypes );\r\n\tconst blockTypes = clipboardBlock\r\n\t\t? [ clipboardBlock, ...filteredBlockTypes ]\r\n\t\t: filteredBlockTypes;\r\n\tconst { items, trackBlockTypeSelected } =\r\n\t\tuseBlockTypeImpressions( blockTypes );\r\n\r\n\tconst handleSelect = ( ...args ) => {\r\n\t\ttrackBlockTypeSelected( ...args );\r\n\t\tonSelect( ...args );\r\n\t};\r\n\r\n\tconst collectionSections = useMemo( () => {\r\n\t\tconst result = [];\r\n\t\tObject.keys( collections ).forEach( ( namespace ) => {\r\n\t\t\tconst data = items.filter(\r\n\t\t\t\t( item ) => getBlockNamespace( item ) === namespace\r\n\t\t\t);\r\n\t\t\tif ( data.length > 0 ) {\r\n\t\t\t\tresult.push(\r\n\t\t\t\t\tcreateInserterSection( {\r\n\t\t\t\t\t\tkey: `collection-${ namespace }`,\r\n\t\t\t\t\t\tmetadata: {\r\n\t\t\t\t\t\t\ticon: collections[ namespace ].icon,\r\n\t\t\t\t\t\t\ttitle: collections[ namespace ].title,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titems: data,\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\treturn result;\r\n\t}, [ items, collections ] );\r\n\r\n\tconst sections = [\r\n\t\tcreateInserterSection( { key: 'default', items } ),\r\n\t\t...collectionSections,\r\n\t];\r\n\r\n\treturn (\r\n\t\t<BlockTypesList\r\n\t\t\tname=\"Blocks\"\r\n\t\t\tsections={ sections }\r\n\t\t\tonSelect={ handleSelect }\r\n\t\t\tlistProps={ listProps }\r\n\t\t\tlabel={ __( 'Blocks menu' ) }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default BlockTypesTab;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,OAAOC,cAAc,MAAM,qBAAqB;AAChD,OAAOC,iBAAiB,MAAM,6BAA6B;AAC3D,OAAOC,uBAAuB,MAAM,oCAAoC;AACxE,SAASC,qBAAqB,EAAEC,mBAAmB,QAAQ,SAAS;AACpE,OAAOC,kBAAkB,MAAM,+BAA+B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE/D,MAAMC,iBAAiB,GAAKC,IAAI,IAAMA,IAAI,CAACC,IAAI,CAACC,KAAK,CAAE,GAAI,CAAC,CAAE,CAAC,CAAE;AAEjE,SAASC,aAAaA,CAAE;EAAEC,QAAQ;EAAEC,YAAY;EAAEC;AAAU,CAAC,EAAG;EAC/D,MAAM,CAAEC,aAAa,GAAIC,WAAW,CAAE,GAAGZ,kBAAkB,CAC1DS,YAAY,EACZD,QAAQ,EACR,IACD,CAAC;EACD,MAAMK,cAAc,GAAGjB,iBAAiB,CAAEa,YAAa,CAAC;EACxD,MAAMK,kBAAkB,GAAGf,mBAAmB,CAAEY,aAAc,CAAC;EAC/D,MAAMI,UAAU,GAAGF,cAAc,GAC9B,CAAEA,cAAc,EAAE,GAAGC,kBAAkB,CAAE,GACzCA,kBAAkB;EACrB,MAAM;IAAEE,KAAK;IAAEC;EAAuB,CAAC,GACtCpB,uBAAuB,CAAEkB,UAAW,CAAC;EAEtC,MAAMG,YAAY,GAAGA,CAAE,GAAGC,IAAI,KAAM;IACnCF,sBAAsB,CAAE,GAAGE,IAAK,CAAC;IACjCX,QAAQ,CAAE,GAAGW,IAAK,CAAC;EACpB,CAAC;EAED,MAAMC,kBAAkB,GAAG3B,OAAO,CAAE,MAAM;IACzC,MAAM4B,MAAM,GAAG,EAAE;IACjBC,MAAM,CAACC,IAAI,CAAEX,WAAY,CAAC,CAACY,OAAO,CAAIC,SAAS,IAAM;MACpD,MAAMC,IAAI,GAAGV,KAAK,CAACW,MAAM,CACtBvB,IAAI,IAAMD,iBAAiB,CAAEC,IAAK,CAAC,KAAKqB,SAC3C,CAAC;MACD,IAAKC,IAAI,CAACE,MAAM,GAAG,CAAC,EAAG;QACtBP,MAAM,CAACQ,IAAI,CACV/B,qBAAqB,CAAE;UACtBgC,GAAG,EAAG,cAAcL,SAAW,EAAC;UAChCM,QAAQ,EAAE;YACTC,IAAI,EAAEpB,WAAW,CAAEa,SAAS,CAAE,CAACO,IAAI;YACnCC,KAAK,EAAErB,WAAW,CAAEa,SAAS,CAAE,CAACQ;UACjC,CAAC;UACDjB,KAAK,EAAEU;QACR,CAAE,CACH,CAAC;MACF;IACD,CAAE,CAAC;IAEH,OAAOL,MAAM;EACd,CAAC,EAAE,CAAEL,KAAK,EAAEJ,WAAW,CAAG,CAAC;EAE3B,MAAMsB,QAAQ,GAAG,CAChBpC,qBAAqB,CAAE;IAAEgC,GAAG,EAAE,SAAS;IAAEd;EAAM,CAAE,CAAC,EAClD,GAAGI,kBAAkB,CACrB;EAED,oBACClB,IAAA,CAACP,cAAc;IACdU,IAAI,EAAC,QAAQ;IACb6B,QAAQ,EAAGA,QAAU;IACrB1B,QAAQ,EAAGU,YAAc;IACzBR,SAAS,EAAGA,SAAW;IACvByB,KAAK,EAAGzC,EAAE,CAAE,aAAc;EAAG,CAC7B,CAAC;AAEJ;AAEA,eAAea,aAAa","ignoreList":[]}