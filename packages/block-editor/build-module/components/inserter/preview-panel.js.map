{"version":3,"names":["isReusableBlock","createBlock","getBlockFromExample","useMemo","__","BlockCard","BlockPreview","jsx","_jsx","jsxs","_jsxs","InserterPreviewPanel","item","_example$viewportWidt","name","title","icon","description","initialAttributes","example","isReusable","blocks","attributes","innerBlocks","previewHeight","sidebarWidth","viewportWidth","scale","minHeight","className","children","additionalStyles","css","Math","round"],"sources":["@wordpress/block-editor/src/components/inserter/preview-panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tisReusableBlock,\r\n\tcreateBlock,\r\n\tgetBlockFromExample,\r\n} from '@wordpress/blocks';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BlockCard from '../block-card';\r\nimport BlockPreview from '../block-preview';\r\n\r\nfunction InserterPreviewPanel( { item } ) {\r\n\tconst { name, title, icon, description, initialAttributes, example } = item;\r\n\tconst isReusable = isReusableBlock( item );\r\n\tconst blocks = useMemo( () => {\r\n\t\tif ( ! example ) {\r\n\t\t\treturn createBlock( name, initialAttributes );\r\n\t\t}\r\n\t\treturn getBlockFromExample( name, {\r\n\t\t\tattributes: {\r\n\t\t\t\t...example.attributes,\r\n\t\t\t\t...initialAttributes,\r\n\t\t\t},\r\n\t\t\tinnerBlocks: example.innerBlocks,\r\n\t\t} );\r\n\t}, [ name, example, initialAttributes ] );\r\n\t// Same as height of BlockPreviewPanel.\r\n\tconst previewHeight = 144;\r\n\tconst sidebarWidth = 280;\r\n\tconst viewportWidth = example?.viewportWidth ?? 500;\r\n\tconst scale = sidebarWidth / viewportWidth;\r\n\tconst minHeight =\r\n\t\tscale !== 0 && scale < 1 && previewHeight\r\n\t\t\t? previewHeight / scale\r\n\t\t\t: previewHeight;\r\n\r\n\treturn (\r\n\t\t<div className=\"block-editor-inserter__preview-container\">\r\n\t\t\t<div className=\"block-editor-inserter__preview\">\r\n\t\t\t\t{ isReusable || example ? (\r\n\t\t\t\t\t<div className=\"block-editor-inserter__preview-content\">\r\n\t\t\t\t\t\t<BlockPreview\r\n\t\t\t\t\t\t\tblocks={ blocks }\r\n\t\t\t\t\t\t\tviewportWidth={ viewportWidth }\r\n\t\t\t\t\t\t\tminHeight={ previewHeight }\r\n\t\t\t\t\t\t\tadditionalStyles={\r\n\t\t\t\t\t\t\t\t//We want this CSS to be in sync with the one in BlockPreviewPanel.\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcss: `\r\n\t\t\t\t\t\t\t\t\t\tbody { \r\n\t\t\t\t\t\t\t\t\t\t\tpadding: 24px;\r\n\t\t\t\t\t\t\t\t\t\t\tmin-height:${ Math.round( minHeight ) }px;\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay:flex;\r\n\t\t\t\t\t\t\t\t\t\t\talign-items:center;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t.is-root-container { width: 100%; }\r\n\t\t\t\t\t\t\t\t\t`,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"block-editor-inserter__preview-content-missing\">\r\n\t\t\t\t\t\t{ __( 'No preview available.' ) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t\t{ ! isReusable && (\r\n\t\t\t\t<BlockCard\r\n\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\ticon={ icon }\r\n\t\t\t\t\tdescription={ description }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default InserterPreviewPanel;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,eAAe,EACfC,WAAW,EACXC,mBAAmB,QACb,mBAAmB;AAC1B,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,OAAOC,SAAS,MAAM,eAAe;AACrC,OAAOC,YAAY,MAAM,kBAAkB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE5C,SAASC,oBAAoBA,CAAE;EAAEC;AAAK,CAAC,EAAG;EAAA,IAAAC,qBAAA;EACzC,MAAM;IAAEC,IAAI;IAAEC,KAAK;IAAEC,IAAI;IAAEC,WAAW;IAAEC,iBAAiB;IAAEC;EAAQ,CAAC,GAAGP,IAAI;EAC3E,MAAMQ,UAAU,GAAGpB,eAAe,CAAEY,IAAK,CAAC;EAC1C,MAAMS,MAAM,GAAGlB,OAAO,CAAE,MAAM;IAC7B,IAAK,CAAEgB,OAAO,EAAG;MAChB,OAAOlB,WAAW,CAAEa,IAAI,EAAEI,iBAAkB,CAAC;IAC9C;IACA,OAAOhB,mBAAmB,CAAEY,IAAI,EAAE;MACjCQ,UAAU,EAAE;QACX,GAAGH,OAAO,CAACG,UAAU;QACrB,GAAGJ;MACJ,CAAC;MACDK,WAAW,EAAEJ,OAAO,CAACI;IACtB,CAAE,CAAC;EACJ,CAAC,EAAE,CAAET,IAAI,EAAEK,OAAO,EAAED,iBAAiB,CAAG,CAAC;EACzC;EACA,MAAMM,aAAa,GAAG,GAAG;EACzB,MAAMC,YAAY,GAAG,GAAG;EACxB,MAAMC,aAAa,IAAAb,qBAAA,GAAGM,OAAO,EAAEO,aAAa,cAAAb,qBAAA,cAAAA,qBAAA,GAAI,GAAG;EACnD,MAAMc,KAAK,GAAGF,YAAY,GAAGC,aAAa;EAC1C,MAAME,SAAS,GACdD,KAAK,KAAK,CAAC,IAAIA,KAAK,GAAG,CAAC,IAAIH,aAAa,GACtCA,aAAa,GAAGG,KAAK,GACrBH,aAAa;EAEjB,oBACCd,KAAA;IAAKmB,SAAS,EAAC,0CAA0C;IAAAC,QAAA,gBACxDtB,IAAA;MAAKqB,SAAS,EAAC,gCAAgC;MAAAC,QAAA,EAC5CV,UAAU,IAAID,OAAO,gBACtBX,IAAA;QAAKqB,SAAS,EAAC,wCAAwC;QAAAC,QAAA,eACtDtB,IAAA,CAACF,YAAY;UACZe,MAAM,EAAGA,MAAQ;UACjBK,aAAa,EAAGA,aAAe;UAC/BE,SAAS,EAAGJ,aAAe;UAC3BO,gBAAgB;UACf;UACA,CACC;YACCC,GAAG,EAAG;AAChB;AACA;AACA,wBAAyBC,IAAI,CAACC,KAAK,CAAEN,SAAU,CAAG;AAClD;AACA;AACA;AACA;AACA;UACS,CAAC;QAEF,CACD;MAAC,CACE,CAAC,gBAENpB,IAAA;QAAKqB,SAAS,EAAC,gDAAgD;QAAAC,QAAA,EAC5D1B,EAAE,CAAE,uBAAwB;MAAC,CAC3B;IACL,CACG,CAAC,EACJ,CAAEgB,UAAU,iBACbZ,IAAA,CAACH,SAAS;MACTU,KAAK,EAAGA,KAAO;MACfC,IAAI,EAAGA,IAAM;MACbC,WAAW,EAAGA;IAAa,CAC3B,CACD;EAAA,CACG,CAAC;AAER;AAEA,eAAeN,oBAAoB","ignoreList":[]}