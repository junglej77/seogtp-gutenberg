{"version":3,"names":["useSelect","__","useMemo","searchItems","BlockTypesList","InserterNoResults","store","blockEditorStore","useBlockTypeImpressions","createInserterSection","filterInserterItems","jsx","_jsx","InserterSearchResults","filterValue","onSelect","listProps","rootClientId","isFullScreen","inserterItems","select","items","getInserterItems","blockTypes","availableItems","allowReusable","trackBlockTypeSelected","length","handleSelect","args","name","initialNumToRender","sections","key","label"],"sources":["@wordpress/block-editor/src/components/inserter/search-results.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { searchItems } from './search-items';\r\nimport BlockTypesList from '../block-types-list';\r\nimport InserterNoResults from './no-results';\r\nimport { store as blockEditorStore } from '../../store';\r\nimport useBlockTypeImpressions from './hooks/use-block-type-impressions';\r\nimport { createInserterSection, filterInserterItems } from './utils';\r\n\r\nfunction InserterSearchResults( {\r\n\tfilterValue,\r\n\tonSelect,\r\n\tlistProps,\r\n\trootClientId,\r\n\tisFullScreen,\r\n} ) {\r\n\tconst { inserterItems } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst items =\r\n\t\t\t\tselect( blockEditorStore ).getInserterItems( rootClientId );\r\n\r\n\t\t\treturn { inserterItems: items };\r\n\t\t},\r\n\t\t[ rootClientId ]\r\n\t);\r\n\r\n\tconst blockTypes = useMemo( () => {\r\n\t\tconst availableItems = filterInserterItems( inserterItems, {\r\n\t\t\tallowReusable: true,\r\n\t\t} );\r\n\r\n\t\treturn searchItems( availableItems, filterValue );\r\n\t}, [ inserterItems, filterValue ] );\r\n\r\n\tconst { items, trackBlockTypeSelected } =\r\n\t\tuseBlockTypeImpressions( blockTypes );\r\n\r\n\tif ( ! items || items?.length === 0 ) {\r\n\t\treturn <InserterNoResults />;\r\n\t}\r\n\r\n\tconst handleSelect = ( ...args ) => {\r\n\t\ttrackBlockTypeSelected( ...args );\r\n\t\tonSelect( ...args );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<BlockTypesList\r\n\t\t\tname=\"Blocks\"\r\n\t\t\tinitialNumToRender={ isFullScreen ? 10 : 3 }\r\n\t\t\tsections={ [ createInserterSection( { key: 'search', items } ) ] }\r\n\t\t\tonSelect={ handleSelect }\r\n\t\t\tlistProps={ listProps }\r\n\t\t\tlabel={ __( 'Blocks' ) }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default InserterSearchResults;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,OAAO,QAAQ,oBAAoB;;AAE5C;AACA;AACA;AACA,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,OAAOC,cAAc,MAAM,qBAAqB;AAChD,OAAOC,iBAAiB,MAAM,cAAc;AAC5C,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,OAAOC,uBAAuB,MAAM,oCAAoC;AACxE,SAASC,qBAAqB,EAAEC,mBAAmB,QAAQ,SAAS;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAErE,SAASC,qBAAqBA,CAAE;EAC/BC,WAAW;EACXC,QAAQ;EACRC,SAAS;EACTC,YAAY;EACZC;AACD,CAAC,EAAG;EACH,MAAM;IAAEC;EAAc,CAAC,GAAGnB,SAAS,CAChCoB,MAAM,IAAM;IACb,MAAMC,KAAK,GACVD,MAAM,CAAEb,gBAAiB,CAAC,CAACe,gBAAgB,CAAEL,YAAa,CAAC;IAE5D,OAAO;MAAEE,aAAa,EAAEE;IAAM,CAAC;EAChC,CAAC,EACD,CAAEJ,YAAY,CACf,CAAC;EAED,MAAMM,UAAU,GAAGrB,OAAO,CAAE,MAAM;IACjC,MAAMsB,cAAc,GAAGd,mBAAmB,CAAES,aAAa,EAAE;MAC1DM,aAAa,EAAE;IAChB,CAAE,CAAC;IAEH,OAAOtB,WAAW,CAAEqB,cAAc,EAAEV,WAAY,CAAC;EAClD,CAAC,EAAE,CAAEK,aAAa,EAAEL,WAAW,CAAG,CAAC;EAEnC,MAAM;IAAEO,KAAK;IAAEK;EAAuB,CAAC,GACtClB,uBAAuB,CAAEe,UAAW,CAAC;EAEtC,IAAK,CAAEF,KAAK,IAAIA,KAAK,EAAEM,MAAM,KAAK,CAAC,EAAG;IACrC,oBAAOf,IAAA,CAACP,iBAAiB,IAAE,CAAC;EAC7B;EAEA,MAAMuB,YAAY,GAAGA,CAAE,GAAGC,IAAI,KAAM;IACnCH,sBAAsB,CAAE,GAAGG,IAAK,CAAC;IACjCd,QAAQ,CAAE,GAAGc,IAAK,CAAC;EACpB,CAAC;EAED,oBACCjB,IAAA,CAACR,cAAc;IACd0B,IAAI,EAAC,QAAQ;IACbC,kBAAkB,EAAGb,YAAY,GAAG,EAAE,GAAG,CAAG;IAC5Cc,QAAQ,EAAG,CAAEvB,qBAAqB,CAAE;MAAEwB,GAAG,EAAE,QAAQ;MAAEZ;IAAM,CAAE,CAAC,CAAI;IAClEN,QAAQ,EAAGa,YAAc;IACzBZ,SAAS,EAAGA,SAAW;IACvBkB,KAAK,EAAGjC,EAAE,CAAE,QAAS;EAAG,CACxB,CAAC;AAEJ;AAEA,eAAeY,qBAAqB","ignoreList":[]}