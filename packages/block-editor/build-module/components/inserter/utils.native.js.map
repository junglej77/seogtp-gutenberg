{"version":3,"names":["REUSABLE_BLOCKS_CATEGORY","ALLOWED_EMBED_VARIATIONS","blockAllowed","block","onlyReusable","allowReusable","id","category","isReusable","includes","filterInserterItems","items","filter","createInserterSection","key","metadata","Error","data","list"],"sources":["@wordpress/block-editor/src/components/inserter/utils.native.js"],"sourcesContent":["const REUSABLE_BLOCKS_CATEGORY = 'reusable';\r\nconst ALLOWED_EMBED_VARIATIONS = [\r\n\t'core/embed',\r\n\t'core/embed/youtube',\r\n\t'core/embed/twitter',\r\n\t'core/embed/wordpress',\r\n\t'core/embed/instagram',\r\n\t'core/embed/vimeo',\r\n];\r\n\r\nexport function blockAllowed( block, { onlyReusable, allowReusable } ) {\r\n\tconst { id, category } = block;\r\n\tconst isReusable = category === REUSABLE_BLOCKS_CATEGORY;\r\n\r\n\tif ( onlyReusable ) {\r\n\t\treturn isReusable;\r\n\t}\r\n\r\n\tif ( isReusable ) {\r\n\t\treturn allowReusable;\r\n\t}\r\n\t// We don't want to show all possible embed variations\r\n\t// as different blocks in the inserter. We'll only show a\r\n\t// few popular ones.\r\n\treturn category !== 'embed' || ALLOWED_EMBED_VARIATIONS.includes( id );\r\n}\r\n\r\nexport function filterInserterItems(\r\n\titems,\r\n\t{ onlyReusable = false, allowReusable = false } = {}\r\n) {\r\n\treturn items.filter( ( block ) =>\r\n\t\tblockAllowed( block, { onlyReusable, allowReusable } )\r\n\t);\r\n}\r\n\r\nexport function createInserterSection( { key, metadata = {}, items } ) {\r\n\tif ( ! key ) {\r\n\t\tthrow new Error( 'A unique key for the section must be provided.' );\r\n\t}\r\n\r\n\treturn {\r\n\t\tmetadata,\r\n\t\tdata: [ { key, list: items } ],\r\n\t};\r\n}\r\n"],"mappings":"AAAA,MAAMA,wBAAwB,GAAG,UAAU;AAC3C,MAAMC,wBAAwB,GAAG,CAChC,YAAY,EACZ,oBAAoB,EACpB,oBAAoB,EACpB,sBAAsB,EACtB,sBAAsB,EACtB,kBAAkB,CAClB;AAED,OAAO,SAASC,YAAYA,CAAEC,KAAK,EAAE;EAAEC,YAAY;EAAEC;AAAc,CAAC,EAAG;EACtE,MAAM;IAAEC,EAAE;IAAEC;EAAS,CAAC,GAAGJ,KAAK;EAC9B,MAAMK,UAAU,GAAGD,QAAQ,KAAKP,wBAAwB;EAExD,IAAKI,YAAY,EAAG;IACnB,OAAOI,UAAU;EAClB;EAEA,IAAKA,UAAU,EAAG;IACjB,OAAOH,aAAa;EACrB;EACA;EACA;EACA;EACA,OAAOE,QAAQ,KAAK,OAAO,IAAIN,wBAAwB,CAACQ,QAAQ,CAAEH,EAAG,CAAC;AACvE;AAEA,OAAO,SAASI,mBAAmBA,CAClCC,KAAK,EACL;EAAEP,YAAY,GAAG,KAAK;EAAEC,aAAa,GAAG;AAAM,CAAC,GAAG,CAAC,CAAC,EACnD;EACD,OAAOM,KAAK,CAACC,MAAM,CAAIT,KAAK,IAC3BD,YAAY,CAAEC,KAAK,EAAE;IAAEC,YAAY;IAAEC;EAAc,CAAE,CACtD,CAAC;AACF;AAEA,OAAO,SAASQ,qBAAqBA,CAAE;EAAEC,GAAG;EAAEC,QAAQ,GAAG,CAAC,CAAC;EAAEJ;AAAM,CAAC,EAAG;EACtE,IAAK,CAAEG,GAAG,EAAG;IACZ,MAAM,IAAIE,KAAK,CAAE,gDAAiD,CAAC;EACpE;EAEA,OAAO;IACND,QAAQ;IACRE,IAAI,EAAE,CAAE;MAAEH,GAAG;MAAEI,IAAI,EAAEP;IAAM,CAAC;EAC7B,CAAC;AACF","ignoreList":[]}