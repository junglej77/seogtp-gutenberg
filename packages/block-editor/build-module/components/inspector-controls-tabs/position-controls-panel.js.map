{"version":3,"names":["PanelBody","__experimentalUseSlotFills","useSlotFills","useSelect","useLayoutEffect","useState","__","InspectorControlsGroups","default","InspectorControls","store","blockEditorStore","jsx","_jsx","PositionControlsPanel","initialOpen","setInitialOpen","multiSelectedBlocks","select","getBlocksByClientId","getSelectedBlockClientIds","clientIds","undefined","some","attributes","style","position","type","className","title","children","Slot","group","PositionControls","fills","__unstableName","hasFills","Boolean","length"],"sources":["D:/jungle/gutenberg/packages/block-editor/src/components/inspector-controls-tabs/position-controls-panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tPanelBody,\r\n\t__experimentalUseSlotFills as useSlotFills,\r\n} from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useLayoutEffect, useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport InspectorControlsGroups from '../inspector-controls/groups';\r\nimport { default as InspectorControls } from '../inspector-controls';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nconst PositionControlsPanel = () => {\r\n\tconst [ initialOpen, setInitialOpen ] = useState();\r\n\r\n\t// Determine whether the panel should be expanded.\r\n\tconst { multiSelectedBlocks } = useSelect( ( select ) => {\r\n\t\tconst { getBlocksByClientId, getSelectedBlockClientIds } =\r\n\t\t\tselect( blockEditorStore );\r\n\t\tconst clientIds = getSelectedBlockClientIds();\r\n\t\treturn {\r\n\t\t\tmultiSelectedBlocks: getBlocksByClientId( clientIds ),\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tuseLayoutEffect( () => {\r\n\t\t// If any selected block has a position set, open the panel by default.\r\n\t\t// The first block's value will still be used within the control though.\r\n\t\tif ( initialOpen === undefined ) {\r\n\t\t\tsetInitialOpen(\r\n\t\t\t\tmultiSelectedBlocks.some(\r\n\t\t\t\t\t( { attributes } ) => !! attributes?.style?.position?.type\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t}, [ initialOpen, multiSelectedBlocks, setInitialOpen ] );\r\n\r\n\treturn (\r\n\t\t<PanelBody\r\n\t\t\tclassName=\"block-editor-block-inspector__position\"\r\n\t\t\ttitle={ __( 'Position' ) }\r\n\t\t\tinitialOpen={ initialOpen ?? false }\r\n\t\t>\r\n\t\t\t<InspectorControls.Slot group=\"position\" />\r\n\t\t</PanelBody>\r\n\t);\r\n};\r\n\r\nconst PositionControls = () => {\r\n\tconst fills = useSlotFills(\r\n\t\tInspectorControlsGroups.position.Slot.__unstableName\r\n\t);\r\n\tconst hasFills = Boolean( fills && fills.length );\r\n\r\n\tif ( ! hasFills ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn <PositionControlsPanel />;\r\n};\r\n\r\nexport default PositionControls;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,SAAS,EACTC,0BAA0B,IAAIC,YAAY,QACpC,uBAAuB;AAC9B,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,eAAe,EAAEC,QAAQ,QAAQ,oBAAoB;AAC9D,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,OAAOC,uBAAuB,MAAM,8BAA8B;AAClE,SAASC,OAAO,IAAIC,iBAAiB,QAAQ,uBAAuB;AACpE,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExD,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EACnC,MAAM,CAAEC,WAAW,EAAEC,cAAc,CAAE,GAAGX,QAAQ,CAAC,CAAC;;EAElD;EACA,MAAM;IAAEY;EAAoB,CAAC,GAAGd,SAAS,CAAIe,MAAM,IAAM;IACxD,MAAM;MAAEC,mBAAmB;MAAEC;IAA0B,CAAC,GACvDF,MAAM,CAAEP,gBAAiB,CAAC;IAC3B,MAAMU,SAAS,GAAGD,yBAAyB,CAAC,CAAC;IAC7C,OAAO;MACNH,mBAAmB,EAAEE,mBAAmB,CAAEE,SAAU;IACrD,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEPjB,eAAe,CAAE,MAAM;IACtB;IACA;IACA,IAAKW,WAAW,KAAKO,SAAS,EAAG;MAChCN,cAAc,CACbC,mBAAmB,CAACM,IAAI,CACvB,CAAE;QAAEC;MAAW,CAAC,KAAM,CAAC,CAAEA,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,IACvD,CACD,CAAC;IACF;EACD,CAAC,EAAE,CAAEZ,WAAW,EAAEE,mBAAmB,EAAED,cAAc,CAAG,CAAC;EAEzD,oBACCH,IAAA,CAACb,SAAS;IACT4B,SAAS,EAAC,wCAAwC;IAClDC,KAAK,EAAGvB,EAAE,CAAE,UAAW,CAAG;IAC1BS,WAAW,EAAGA,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAI,KAAO;IAAAe,QAAA,eAEpCjB,IAAA,CAACJ,iBAAiB,CAACsB,IAAI;MAACC,KAAK,EAAC;IAAU,CAAE;EAAC,CACjC,CAAC;AAEd,CAAC;AAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC9B,MAAMC,KAAK,GAAGhC,YAAY,CACzBK,uBAAuB,CAACmB,QAAQ,CAACK,IAAI,CAACI,cACvC,CAAC;EACD,MAAMC,QAAQ,GAAGC,OAAO,CAAEH,KAAK,IAAIA,KAAK,CAACI,MAAO,CAAC;EAEjD,IAAK,CAAEF,QAAQ,EAAG;IACjB,OAAO,IAAI;EACZ;EAEA,oBAAOvB,IAAA,CAACC,qBAAqB,IAAE,CAAC;AACjC,CAAC;AAED,eAAemB,gBAAgB","ignoreList":[]}