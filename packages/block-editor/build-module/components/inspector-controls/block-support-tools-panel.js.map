{"version":3,"names":["__experimentalToolsPanel","ToolsPanel","useDispatch","useSelect","useCallback","store","blockEditorStore","cleanEmptyObject","useToolsPanelDropdownMenuProps","jsx","_jsx","BlockSupportToolsPanel","children","group","label","updateBlockAttributes","getBlockAttributes","getMultiSelectedBlockClientIds","getSelectedBlockClientId","hasMultiSelection","dropdownMenuProps","panelId","resetAll","resetFilters","newAttributes","clientIds","forEach","clientId","style","newBlockAttributes","resetFilter","className","hasInnerWrapper","shouldRenderPlaceholderItems","__experimentalFirstVisibleItemClass","__experimentalLastVisibleItemClass"],"sources":["@wordpress/block-editor/src/components/inspector-controls/block-support-tools-panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __experimentalToolsPanel as ToolsPanel } from '@wordpress/components';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { useCallback } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\nimport { cleanEmptyObject } from '../../hooks/utils';\r\nimport { useToolsPanelDropdownMenuProps } from '../global-styles/utils';\r\n\r\nexport default function BlockSupportToolsPanel( { children, group, label } ) {\r\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\r\n\tconst {\r\n\t\tgetBlockAttributes,\r\n\t\tgetMultiSelectedBlockClientIds,\r\n\t\tgetSelectedBlockClientId,\r\n\t\thasMultiSelection,\r\n\t} = useSelect( blockEditorStore );\r\n\tconst dropdownMenuProps = useToolsPanelDropdownMenuProps();\r\n\tconst panelId = getSelectedBlockClientId();\r\n\tconst resetAll = useCallback(\r\n\t\t( resetFilters = [] ) => {\r\n\t\t\tconst newAttributes = {};\r\n\r\n\t\t\tconst clientIds = hasMultiSelection()\r\n\t\t\t\t? getMultiSelectedBlockClientIds()\r\n\t\t\t\t: [ panelId ];\r\n\r\n\t\t\tclientIds.forEach( ( clientId ) => {\r\n\t\t\t\tconst { style } = getBlockAttributes( clientId );\r\n\t\t\t\tlet newBlockAttributes = { style };\r\n\r\n\t\t\t\tresetFilters.forEach( ( resetFilter ) => {\r\n\t\t\t\t\tnewBlockAttributes = {\r\n\t\t\t\t\t\t...newBlockAttributes,\r\n\t\t\t\t\t\t...resetFilter( newBlockAttributes ),\r\n\t\t\t\t\t};\r\n\t\t\t\t} );\r\n\r\n\t\t\t\t// Enforce a cleaned style object.\r\n\t\t\t\tnewBlockAttributes = {\r\n\t\t\t\t\t...newBlockAttributes,\r\n\t\t\t\t\tstyle: cleanEmptyObject( newBlockAttributes.style ),\r\n\t\t\t\t};\r\n\r\n\t\t\t\tnewAttributes[ clientId ] = newBlockAttributes;\r\n\t\t\t} );\r\n\r\n\t\t\tupdateBlockAttributes( clientIds, newAttributes, true );\r\n\t\t},\r\n\t\t[\r\n\t\t\tgetBlockAttributes,\r\n\t\t\tgetMultiSelectedBlockClientIds,\r\n\t\t\thasMultiSelection,\r\n\t\t\tpanelId,\r\n\t\t\tupdateBlockAttributes,\r\n\t\t]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<ToolsPanel\r\n\t\t\tclassName={ `${ group }-block-support-panel` }\r\n\t\t\tlabel={ label }\r\n\t\t\tresetAll={ resetAll }\r\n\t\t\tkey={ panelId }\r\n\t\t\tpanelId={ panelId }\r\n\t\t\thasInnerWrapper\r\n\t\t\tshouldRenderPlaceholderItems // Required to maintain fills ordering.\r\n\t\t\t__experimentalFirstVisibleItemClass=\"first\"\r\n\t\t\t__experimentalLastVisibleItemClass=\"last\"\r\n\t\t\tdropdownMenuProps={ dropdownMenuProps }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</ToolsPanel>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,wBAAwB,IAAIC,UAAU,QAAQ,uBAAuB;AAC9E,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,WAAW,QAAQ,oBAAoB;;AAEhD;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,SAASC,gBAAgB,QAAQ,mBAAmB;AACpD,SAASC,8BAA8B,QAAQ,wBAAwB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExE,eAAe,SAASC,sBAAsBA,CAAE;EAAEC,QAAQ;EAAEC,KAAK;EAAEC;AAAM,CAAC,EAAG;EAC5E,MAAM;IAAEC;EAAsB,CAAC,GAAGb,WAAW,CAAEI,gBAAiB,CAAC;EACjE,MAAM;IACLU,kBAAkB;IAClBC,8BAA8B;IAC9BC,wBAAwB;IACxBC;EACD,CAAC,GAAGhB,SAAS,CAAEG,gBAAiB,CAAC;EACjC,MAAMc,iBAAiB,GAAGZ,8BAA8B,CAAC,CAAC;EAC1D,MAAMa,OAAO,GAAGH,wBAAwB,CAAC,CAAC;EAC1C,MAAMI,QAAQ,GAAGlB,WAAW,CAC3B,CAAEmB,YAAY,GAAG,EAAE,KAAM;IACxB,MAAMC,aAAa,GAAG,CAAC,CAAC;IAExB,MAAMC,SAAS,GAAGN,iBAAiB,CAAC,CAAC,GAClCF,8BAA8B,CAAC,CAAC,GAChC,CAAEI,OAAO,CAAE;IAEdI,SAAS,CAACC,OAAO,CAAIC,QAAQ,IAAM;MAClC,MAAM;QAAEC;MAAM,CAAC,GAAGZ,kBAAkB,CAAEW,QAAS,CAAC;MAChD,IAAIE,kBAAkB,GAAG;QAAED;MAAM,CAAC;MAElCL,YAAY,CAACG,OAAO,CAAII,WAAW,IAAM;QACxCD,kBAAkB,GAAG;UACpB,GAAGA,kBAAkB;UACrB,GAAGC,WAAW,CAAED,kBAAmB;QACpC,CAAC;MACF,CAAE,CAAC;;MAEH;MACAA,kBAAkB,GAAG;QACpB,GAAGA,kBAAkB;QACrBD,KAAK,EAAErB,gBAAgB,CAAEsB,kBAAkB,CAACD,KAAM;MACnD,CAAC;MAEDJ,aAAa,CAAEG,QAAQ,CAAE,GAAGE,kBAAkB;IAC/C,CAAE,CAAC;IAEHd,qBAAqB,CAAEU,SAAS,EAAED,aAAa,EAAE,IAAK,CAAC;EACxD,CAAC,EACD,CACCR,kBAAkB,EAClBC,8BAA8B,EAC9BE,iBAAiB,EACjBE,OAAO,EACPN,qBAAqB,CAEvB,CAAC;EAED,oBACCL,IAAA,CAACT,UAAU;IACV8B,SAAS,EAAI,GAAGlB,KAAO,sBAAuB;IAC9CC,KAAK,EAAGA,KAAO;IACfQ,QAAQ,EAAGA,QAAU;IAErBD,OAAO,EAAGA,OAAS;IACnBW,eAAe;IACfC,4BAA4B,OAAC;IAAA;IAC7BC,mCAAmC,EAAC,OAAO;IAC3CC,kCAAkC,EAAC,MAAM;IACzCf,iBAAiB,EAAGA,iBAAmB;IAAAR,QAAA,EAErCA;EAAQ,GARJS,OASK,CAAC;AAEf","ignoreList":[]}