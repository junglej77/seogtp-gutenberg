{"version":3,"names":["__experimentalStyleProvider","StyleProvider","__experimentalToolsPanelContext","ToolsPanelContext","warning","deprecated","useEffect","useContext","useBlockEditContext","mayDisplayControlsKey","groups","jsx","_jsx","InspectorControlsFill","children","group","__experimentalGroup","resetAllFilter","since","version","alternative","context","Fill","globalThis","SCRIPT_DEBUG","document","fillProps","ToolsPanelInspectorControl","RegisterResetAll","registerResetAllFilter","deregisterResetAllFilter","forwardedContext","innerMarkup","reduce","inner","Provider","props"],"sources":["@wordpress/block-editor/src/components/inspector-controls/fill.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalStyleProvider as StyleProvider,\r\n\t__experimentalToolsPanelContext as ToolsPanelContext,\r\n} from '@wordpress/components';\r\nimport warning from '@wordpress/warning';\r\nimport deprecated from '@wordpress/deprecated';\r\nimport { useEffect, useContext } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tuseBlockEditContext,\r\n\tmayDisplayControlsKey,\r\n} from '../block-edit/context';\r\nimport groups from './groups';\r\n\r\nexport default function InspectorControlsFill( {\r\n\tchildren,\r\n\tgroup = 'default',\r\n\t__experimentalGroup,\r\n\tresetAllFilter,\r\n} ) {\r\n\tif ( __experimentalGroup ) {\r\n\t\tdeprecated(\r\n\t\t\t'`__experimentalGroup` property in `InspectorControlsFill`',\r\n\t\t\t{\r\n\t\t\t\tsince: '6.2',\r\n\t\t\t\tversion: '6.4',\r\n\t\t\t\talternative: '`group`',\r\n\t\t\t}\r\n\t\t);\r\n\t\tgroup = __experimentalGroup;\r\n\t}\r\n\r\n\tconst context = useBlockEditContext();\r\n\tconst Fill = groups[ group ]?.Fill;\r\n\tif ( ! Fill ) {\r\n\t\twarning( `Unknown InspectorControls group \"${ group }\" provided.` );\r\n\t\treturn null;\r\n\t}\r\n\tif ( ! context[ mayDisplayControlsKey ] ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<StyleProvider document={ document }>\r\n\t\t\t<Fill>\r\n\t\t\t\t{ ( fillProps ) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ToolsPanelInspectorControl\r\n\t\t\t\t\t\t\tfillProps={ fillProps }\r\n\t\t\t\t\t\t\tchildren={ children }\r\n\t\t\t\t\t\t\tresetAllFilter={ resetAllFilter }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} }\r\n\t\t\t</Fill>\r\n\t\t</StyleProvider>\r\n\t);\r\n}\r\n\r\nfunction RegisterResetAll( { resetAllFilter, children } ) {\r\n\tconst { registerResetAllFilter, deregisterResetAllFilter } =\r\n\t\tuseContext( ToolsPanelContext );\r\n\tuseEffect( () => {\r\n\t\tif (\r\n\t\t\tresetAllFilter &&\r\n\t\t\tregisterResetAllFilter &&\r\n\t\t\tderegisterResetAllFilter\r\n\t\t) {\r\n\t\t\tregisterResetAllFilter( resetAllFilter );\r\n\t\t\treturn () => {\r\n\t\t\t\tderegisterResetAllFilter( resetAllFilter );\r\n\t\t\t};\r\n\t\t}\r\n\t}, [ resetAllFilter, registerResetAllFilter, deregisterResetAllFilter ] );\r\n\treturn children;\r\n}\r\n\r\nfunction ToolsPanelInspectorControl( { children, resetAllFilter, fillProps } ) {\r\n\t// `fillProps.forwardedContext` is an array of context provider entries, provided by slot,\r\n\t// that should wrap the fill markup.\r\n\tconst { forwardedContext = [] } = fillProps;\r\n\r\n\t// Children passed to InspectorControlsFill will not have\r\n\t// access to any React Context whose Provider is part of\r\n\t// the InspectorControlsSlot tree. So we re-create the\r\n\t// Provider in this subtree.\r\n\tconst innerMarkup = (\r\n\t\t<RegisterResetAll resetAllFilter={ resetAllFilter }>\r\n\t\t\t{ children }\r\n\t\t</RegisterResetAll>\r\n\t);\r\n\treturn forwardedContext.reduce(\r\n\t\t( inner, [ Provider, props ] ) => (\r\n\t\t\t<Provider { ...props }>{ inner }</Provider>\r\n\t\t),\r\n\t\tinnerMarkup\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,2BAA2B,IAAIC,aAAa,EAC5CC,+BAA+B,IAAIC,iBAAiB,QAC9C,uBAAuB;AAC9B,OAAOC,OAAO,MAAM,oBAAoB;AACxC,OAAOC,UAAU,MAAM,uBAAuB;AAC9C,SAASC,SAAS,EAAEC,UAAU,QAAQ,oBAAoB;;AAE1D;AACA;AACA;AACA,SACCC,mBAAmB,EACnBC,qBAAqB,QACf,uBAAuB;AAC9B,OAAOC,MAAM,MAAM,UAAU;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE9B,eAAe,SAASC,qBAAqBA,CAAE;EAC9CC,QAAQ;EACRC,KAAK,GAAG,SAAS;EACjBC,mBAAmB;EACnBC;AACD,CAAC,EAAG;EACH,IAAKD,mBAAmB,EAAG;IAC1BX,UAAU,CACT,2DAA2D,EAC3D;MACCa,KAAK,EAAE,KAAK;MACZC,OAAO,EAAE,KAAK;MACdC,WAAW,EAAE;IACd,CACD,CAAC;IACDL,KAAK,GAAGC,mBAAmB;EAC5B;EAEA,MAAMK,OAAO,GAAGb,mBAAmB,CAAC,CAAC;EACrC,MAAMc,IAAI,GAAGZ,MAAM,CAAEK,KAAK,CAAE,EAAEO,IAAI;EAClC,IAAK,CAAEA,IAAI,EAAG;IACbC,UAAA,CAAAC,YAAA,YAAApB,OAAO,CAAG,oCAAoCW,KAAO,aAAa,CAAC;IACnE,OAAO,IAAI;EACZ;EACA,IAAK,CAAEM,OAAO,CAAEZ,qBAAqB,CAAE,EAAG;IACzC,OAAO,IAAI;EACZ;EAEA,oBACCG,IAAA,CAACX,aAAa;IAACwB,QAAQ,EAAGA,QAAU;IAAAX,QAAA,eACnCF,IAAA,CAACU,IAAI;MAAAR,QAAA,EACAY,SAAS,IAAM;QAClB,oBACCd,IAAA,CAACe,0BAA0B;UAC1BD,SAAS,EAAGA,SAAW;UACvBZ,QAAQ,EAAGA,QAAU;UACrBG,cAAc,EAAGA;QAAgB,CACjC,CAAC;MAEJ;IAAC,CACI;EAAC,CACO,CAAC;AAElB;AAEA,SAASW,gBAAgBA,CAAE;EAAEX,cAAc;EAAEH;AAAS,CAAC,EAAG;EACzD,MAAM;IAAEe,sBAAsB;IAAEC;EAAyB,CAAC,GACzDvB,UAAU,CAAEJ,iBAAkB,CAAC;EAChCG,SAAS,CAAE,MAAM;IAChB,IACCW,cAAc,IACdY,sBAAsB,IACtBC,wBAAwB,EACvB;MACDD,sBAAsB,CAAEZ,cAAe,CAAC;MACxC,OAAO,MAAM;QACZa,wBAAwB,CAAEb,cAAe,CAAC;MAC3C,CAAC;IACF;EACD,CAAC,EAAE,CAAEA,cAAc,EAAEY,sBAAsB,EAAEC,wBAAwB,CAAG,CAAC;EACzE,OAAOhB,QAAQ;AAChB;AAEA,SAASa,0BAA0BA,CAAE;EAAEb,QAAQ;EAAEG,cAAc;EAAES;AAAU,CAAC,EAAG;EAC9E;EACA;EACA,MAAM;IAAEK,gBAAgB,GAAG;EAAG,CAAC,GAAGL,SAAS;;EAE3C;EACA;EACA;EACA;EACA,MAAMM,WAAW,gBAChBpB,IAAA,CAACgB,gBAAgB;IAACX,cAAc,EAAGA,cAAgB;IAAAH,QAAA,EAChDA;EAAQ,CACO,CAClB;EACD,OAAOiB,gBAAgB,CAACE,MAAM,CAC7B,CAAEC,KAAK,EAAE,CAAEC,QAAQ,EAAEC,KAAK,CAAE,kBAC3BxB,IAAA,CAACuB,QAAQ;IAAA,GAAMC,KAAK;IAAAtB,QAAA,EAAKoB;EAAK,CAAY,CAC1C,EACDF,WACD,CAAC;AACF","ignoreList":[]}