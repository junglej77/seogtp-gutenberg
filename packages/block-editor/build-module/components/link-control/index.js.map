{"version":3,"names":["clsx","Button","Spinner","Notice","TextControl","__experimentalHStack","HStack","__","useRef","useState","useEffect","focus","ENTER","isShallowEqualObjects","useSelect","useDispatch","store","preferencesStore","keyboardReturn","LinkControlSettingsDrawer","LinkControlSearchInput","LinkPreview","LinkSettings","useCreatePage","useInternalValue","ViewerFill","DEFAULT_LINK_SETTINGS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","noop","PREFERENCE_SCOPE","PREFERENCE_KEY","LinkControl","searchInputPlaceholder","value","settings","onChange","onRemove","onCancel","noDirectEntry","showSuggestions","showInitialSuggestions","forceIsEditingLink","createSuggestion","withCreateSuggestion","inputValue","propInputValue","suggestionsQuery","noURLSuggestion","createSuggestionButtonText","hasRichPreviews","hasTextControl","renderControlBottom","undefined","settingsOpen","setSettingsOpen","advancedSettingsPreference","select","_prefsStore$get","prefsStore","get","set","setPreference","setSettingsOpenWithPreference","prefVal","isSettingsOpen","isMountingRef","wrapperNode","textInputRef","isEndingEditWithFocusRef","settingsKeys","map","id","internalControlValue","setInternalControlValue","setInternalURLInputValue","setInternalTextInputValue","createSetInternalSettingValueHandler","valueHasChanges","isEditingLink","setIsEditingLink","url","createPage","isCreatingPage","errorMessage","current","nextFocusTarget","focusable","find","hasLinkValue","trim","length","stopEditing","contains","ownerDocument","activeElement","handleSelectSuggestion","updatedValue","nonSettingsChanges","Object","keys","reduce","acc","key","includes","title","handleSubmit","currentUrlInputValue","handleSubmitWithEnter","event","keyCode","currentInputIsEmpty","preventDefault","resetInternalValues","handleCancel","stopPropagation","shownUnlinkControl","showActions","showTextControl","isEditing","isDisabled","showSettings","tabIndex","ref","className","children","__nextHasNoMarginBottom","label","onKeyDown","size","currentLink","placeholder","onCreateSuggestion","onSelect","allowDirectEntry","withURLSuggestion","hideLabelFromVision","__next40pxDefaultSize","onClick","icon","status","isDismissible","onEditClick","hasUnlinkControl","justify","variant"],"sources":["@wordpress/block-editor/src/components/link-control/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tButton,\r\n\tSpinner,\r\n\tNotice,\r\n\tTextControl,\r\n\t__experimentalHStack as HStack,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useRef, useState, useEffect } from '@wordpress/element';\r\nimport { focus } from '@wordpress/dom';\r\nimport { ENTER } from '@wordpress/keycodes';\r\nimport { isShallowEqualObjects } from '@wordpress/is-shallow-equal';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { store as preferencesStore } from '@wordpress/preferences';\r\nimport { keyboardReturn } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport LinkControlSettingsDrawer from './settings-drawer';\r\nimport LinkControlSearchInput from './search-input';\r\nimport LinkPreview from './link-preview';\r\nimport LinkSettings from './settings';\r\nimport useCreatePage from './use-create-page';\r\nimport useInternalValue from './use-internal-value';\r\nimport { ViewerFill } from './viewer-slot';\r\nimport { DEFAULT_LINK_SETTINGS } from './constants';\r\n\r\n/**\r\n * Default properties associated with a link control value.\r\n *\r\n * @typedef WPLinkControlDefaultValue\r\n *\r\n * @property {string}   url           Link URL.\r\n * @property {string=}  title         Link title.\r\n * @property {boolean=} opensInNewTab Whether link should open in a new browser\r\n *                                    tab. This value is only assigned if not\r\n *                                    providing a custom `settings` prop.\r\n */\r\n\r\n/* eslint-disable jsdoc/valid-types */\r\n/**\r\n * Custom settings values associated with a link.\r\n *\r\n * @typedef {{[setting:string]:any}} WPLinkControlSettingsValue\r\n */\r\n/* eslint-enable */\r\n\r\n/**\r\n * Custom settings values associated with a link.\r\n *\r\n * @typedef WPLinkControlSetting\r\n *\r\n * @property {string} id    Identifier to use as property for setting value.\r\n * @property {string} title Human-readable label to show in user interface.\r\n */\r\n\r\n/**\r\n * Properties associated with a link control value, composed as a union of the\r\n * default properties and any custom settings values.\r\n *\r\n * @typedef {WPLinkControlDefaultValue&WPLinkControlSettingsValue} WPLinkControlValue\r\n */\r\n\r\n/** @typedef {(nextValue:WPLinkControlValue)=>void} WPLinkControlOnChangeProp */\r\n\r\n/**\r\n * Properties associated with a search suggestion used within the LinkControl.\r\n *\r\n * @typedef WPLinkControlSuggestion\r\n *\r\n * @property {string} id    Identifier to use to uniquely identify the suggestion.\r\n * @property {string} type  Identifies the type of the suggestion (eg: `post`,\r\n *                          `page`, `url`...etc)\r\n * @property {string} title Human-readable label to show in user interface.\r\n * @property {string} url   A URL for the suggestion.\r\n */\r\n\r\n/** @typedef {(title:string)=>WPLinkControlSuggestion} WPLinkControlCreateSuggestionProp */\r\n\r\n/**\r\n * @typedef WPLinkControlProps\r\n *\r\n * @property {(WPLinkControlSetting[])=}  settings                   An array of settings objects. Each object will used to\r\n *                                                                   render a `ToggleControl` for that setting.\r\n * @property {boolean=}                   forceIsEditingLink         If passed as either `true` or `false`, controls the\r\n *                                                                   internal editing state of the component to respective\r\n *                                                                   show or not show the URL input field.\r\n * @property {WPLinkControlValue=}        value                      Current link value.\r\n * @property {WPLinkControlOnChangeProp=} onChange                   Value change handler, called with the updated value if\r\n *                                                                   the user selects a new link or updates settings.\r\n * @property {boolean=}                   noDirectEntry              Whether to allow turning a URL-like search query directly into a link.\r\n * @property {boolean=}                   showSuggestions            Whether to present suggestions when typing the URL.\r\n * @property {boolean=}                   showInitialSuggestions     Whether to present initial suggestions immediately.\r\n * @property {boolean=}                   withCreateSuggestion       Whether to allow creation of link value from suggestion.\r\n * @property {Object=}                    suggestionsQuery           Query parameters to pass along to wp.blockEditor.__experimentalFetchLinkSuggestions.\r\n * @property {boolean=}                   noURLSuggestion            Whether to add a fallback suggestion which treats the search query as a URL.\r\n * @property {boolean=}                   hasTextControl             Whether to add a text field to the UI to update the value.title.\r\n * @property {string|Function|undefined}  createSuggestionButtonText The text to use in the button that calls createSuggestion.\r\n * @property {Function}                   renderControlBottom        Optional controls to be rendered at the bottom of the component.\r\n */\r\n\r\nconst noop = () => {};\r\n\r\nconst PREFERENCE_SCOPE = 'core/block-editor';\r\nconst PREFERENCE_KEY = 'linkControlSettingsDrawer';\r\n\r\n/**\r\n * Renders a link control. A link control is a controlled input which maintains\r\n * a value associated with a link (HTML anchor element) and relevant settings\r\n * for how that link is expected to behave.\r\n *\r\n * @param {WPLinkControlProps} props Component props.\r\n */\r\nfunction LinkControl( {\r\n\tsearchInputPlaceholder,\r\n\tvalue,\r\n\tsettings = DEFAULT_LINK_SETTINGS,\r\n\tonChange = noop,\r\n\tonRemove,\r\n\tonCancel,\r\n\tnoDirectEntry = false,\r\n\tshowSuggestions = true,\r\n\tshowInitialSuggestions,\r\n\tforceIsEditingLink,\r\n\tcreateSuggestion,\r\n\twithCreateSuggestion,\r\n\tinputValue: propInputValue = '',\r\n\tsuggestionsQuery = {},\r\n\tnoURLSuggestion = false,\r\n\tcreateSuggestionButtonText,\r\n\thasRichPreviews = false,\r\n\thasTextControl = false,\r\n\trenderControlBottom = null,\r\n} ) {\r\n\tif ( withCreateSuggestion === undefined && createSuggestion ) {\r\n\t\twithCreateSuggestion = true;\r\n\t}\r\n\r\n\tconst [ settingsOpen, setSettingsOpen ] = useState( false );\r\n\r\n\tconst { advancedSettingsPreference } = useSelect( ( select ) => {\r\n\t\tconst prefsStore = select( preferencesStore );\r\n\r\n\t\treturn {\r\n\t\t\tadvancedSettingsPreference:\r\n\t\t\t\tprefsStore.get( PREFERENCE_SCOPE, PREFERENCE_KEY ) ?? false,\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst { set: setPreference } = useDispatch( preferencesStore );\r\n\r\n\t/**\r\n\t * Sets the open/closed state of the Advanced Settings Drawer,\r\n\t * optionlly persisting the state to the user's preferences.\r\n\t *\r\n\t * Note that Block Editor components can be consumed by non-WordPress\r\n\t * environments which may not have preferences setup.\r\n\t * Therefore a local state is also  used as a fallback.\r\n\t *\r\n\t * @param {boolean} prefVal the open/closed state of the Advanced Settings Drawer.\r\n\t */\r\n\tconst setSettingsOpenWithPreference = ( prefVal ) => {\r\n\t\tif ( setPreference ) {\r\n\t\t\tsetPreference( PREFERENCE_SCOPE, PREFERENCE_KEY, prefVal );\r\n\t\t}\r\n\t\tsetSettingsOpen( prefVal );\r\n\t};\r\n\r\n\t// Block Editor components can be consumed by non-WordPress environments\r\n\t// which may not have these preferences setup.\r\n\t// Therefore a local state is used as a fallback.\r\n\tconst isSettingsOpen = advancedSettingsPreference || settingsOpen;\r\n\r\n\tconst isMountingRef = useRef( true );\r\n\tconst wrapperNode = useRef();\r\n\tconst textInputRef = useRef();\r\n\tconst isEndingEditWithFocusRef = useRef( false );\r\n\r\n\tconst settingsKeys = settings.map( ( { id } ) => id );\r\n\r\n\tconst [\r\n\t\tinternalControlValue,\r\n\t\tsetInternalControlValue,\r\n\t\tsetInternalURLInputValue,\r\n\t\tsetInternalTextInputValue,\r\n\t\tcreateSetInternalSettingValueHandler,\r\n\t] = useInternalValue( value );\r\n\r\n\tconst valueHasChanges =\r\n\t\tvalue && ! isShallowEqualObjects( internalControlValue, value );\r\n\r\n\tconst [ isEditingLink, setIsEditingLink ] = useState(\r\n\t\tforceIsEditingLink !== undefined\r\n\t\t\t? forceIsEditingLink\r\n\t\t\t: ! value || ! value.url\r\n\t);\r\n\r\n\tconst { createPage, isCreatingPage, errorMessage } =\r\n\t\tuseCreatePage( createSuggestion );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( forceIsEditingLink === undefined ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetIsEditingLink( forceIsEditingLink );\r\n\t}, [ forceIsEditingLink ] );\r\n\r\n\tuseEffect( () => {\r\n\t\t// We don't auto focus into the Link UI on mount\r\n\t\t// because otherwise using the keyboard to select text\r\n\t\t// *within* the link format is not possible.\r\n\t\tif ( isMountingRef.current ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Scenario - when:\r\n\t\t// - switching between editable and non editable LinkControl\r\n\t\t// - clicking on a link\r\n\t\t// ...then move focus to the *first* element to avoid focus loss\r\n\t\t// and to ensure focus is *within* the Link UI.\r\n\t\tconst nextFocusTarget =\r\n\t\t\tfocus.focusable.find( wrapperNode.current )[ 0 ] ||\r\n\t\t\twrapperNode.current;\r\n\r\n\t\tnextFocusTarget.focus();\r\n\r\n\t\tisEndingEditWithFocusRef.current = false;\r\n\t}, [ isEditingLink, isCreatingPage ] );\r\n\r\n\t// The component mounting reference is maintained separately\r\n\t// to correctly reset values in `StrictMode`.\r\n\tuseEffect( () => {\r\n\t\tisMountingRef.current = false;\r\n\r\n\t\treturn () => {\r\n\t\t\tisMountingRef.current = true;\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst hasLinkValue = value?.url?.trim()?.length > 0;\r\n\r\n\t/**\r\n\t * Cancels editing state and marks that focus may need to be restored after\r\n\t * the next render, if focus was within the wrapper when editing finished.\r\n\t */\r\n\tconst stopEditing = () => {\r\n\t\tisEndingEditWithFocusRef.current = !! wrapperNode.current?.contains(\r\n\t\t\twrapperNode.current.ownerDocument.activeElement\r\n\t\t);\r\n\r\n\t\tsetIsEditingLink( false );\r\n\t};\r\n\r\n\tconst handleSelectSuggestion = ( updatedValue ) => {\r\n\t\t// Suggestions may contains \"settings\" values (e.g. `opensInNewTab`)\r\n\t\t// which should not overide any existing settings values set by the\r\n\t\t// user. This filters out any settings values from the suggestion.\r\n\t\tconst nonSettingsChanges = Object.keys( updatedValue ).reduce(\r\n\t\t\t( acc, key ) => {\r\n\t\t\t\tif ( ! settingsKeys.includes( key ) ) {\r\n\t\t\t\t\tacc[ key ] = updatedValue[ key ];\r\n\t\t\t\t}\r\n\t\t\t\treturn acc;\r\n\t\t\t},\r\n\t\t\t{}\r\n\t\t);\r\n\r\n\t\tonChange( {\r\n\t\t\t...internalControlValue,\r\n\t\t\t...nonSettingsChanges,\r\n\t\t\t// As title is not a setting, it must be manually applied\r\n\t\t\t// in such a way as to preserve the users changes over\r\n\t\t\t// any \"title\" value provided by the \"suggestion\".\r\n\t\t\ttitle: internalControlValue?.title || updatedValue?.title,\r\n\t\t} );\r\n\r\n\t\tstopEditing();\r\n\t};\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tif ( valueHasChanges ) {\r\n\t\t\t// Submit the original value with new stored values applied\r\n\t\t\t// on top. URL is a special case as it may also be a prop.\r\n\t\t\tonChange( {\r\n\t\t\t\t...value,\r\n\t\t\t\t...internalControlValue,\r\n\t\t\t\turl: currentUrlInputValue,\r\n\t\t\t} );\r\n\t\t}\r\n\t\tstopEditing();\r\n\t};\r\n\r\n\tconst handleSubmitWithEnter = ( event ) => {\r\n\t\tconst { keyCode } = event;\r\n\r\n\t\tif (\r\n\t\t\tkeyCode === ENTER &&\r\n\t\t\t! currentInputIsEmpty // Disallow submitting empty values.\r\n\t\t) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\thandleSubmit();\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetInternalValues = () => {\r\n\t\tsetInternalControlValue( value );\r\n\t};\r\n\r\n\tconst handleCancel = ( event ) => {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\t// Ensure that any unsubmitted input changes are reset.\r\n\t\tresetInternalValues();\r\n\r\n\t\tif ( hasLinkValue ) {\r\n\t\t\t// If there is a link then exist editing mode and show preview.\r\n\t\t\tstopEditing();\r\n\t\t} else {\r\n\t\t\t// If there is no link value, then remove the link entirely.\r\n\t\t\tonRemove?.();\r\n\t\t}\r\n\r\n\t\tonCancel?.();\r\n\t};\r\n\r\n\tconst currentUrlInputValue =\r\n\t\tpropInputValue || internalControlValue?.url || '';\r\n\r\n\tconst currentInputIsEmpty = ! currentUrlInputValue?.trim()?.length;\r\n\r\n\tconst shownUnlinkControl =\r\n\t\tonRemove && value && ! isEditingLink && ! isCreatingPage;\r\n\r\n\tconst showActions = isEditingLink && hasLinkValue;\r\n\r\n\t// Only show text control once a URL value has been committed\r\n\t// and it isn't just empty whitespace.\r\n\t// See https://github.com/WordPress/gutenberg/pull/33849/#issuecomment-932194927.\r\n\tconst showTextControl = hasLinkValue && hasTextControl;\r\n\r\n\tconst isEditing = ( isEditingLink || ! value ) && ! isCreatingPage;\r\n\tconst isDisabled = ! valueHasChanges || currentInputIsEmpty;\r\n\tconst showSettings = !! settings?.length && isEditingLink && hasLinkValue;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\ttabIndex={ -1 }\r\n\t\t\tref={ wrapperNode }\r\n\t\t\tclassName=\"block-editor-link-control\"\r\n\t\t>\r\n\t\t\t{ isCreatingPage && (\r\n\t\t\t\t<div className=\"block-editor-link-control__loading\">\r\n\t\t\t\t\t<Spinner /> { __( 'Creating' ) }â€¦\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\r\n\t\t\t{ isEditing && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={ clsx( {\r\n\t\t\t\t\t\t\t'block-editor-link-control__search-input-wrapper': true,\r\n\t\t\t\t\t\t\t'has-text-control': showTextControl,\r\n\t\t\t\t\t\t\t'has-actions': showActions,\r\n\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ showTextControl && (\r\n\t\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\tref={ textInputRef }\r\n\t\t\t\t\t\t\t\tclassName=\"block-editor-link-control__field block-editor-link-control__text-content\"\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Text' ) }\r\n\t\t\t\t\t\t\t\tvalue={ internalControlValue?.title }\r\n\t\t\t\t\t\t\t\tonChange={ setInternalTextInputValue }\r\n\t\t\t\t\t\t\t\tonKeyDown={ handleSubmitWithEnter }\r\n\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t<LinkControlSearchInput\r\n\t\t\t\t\t\t\tcurrentLink={ value }\r\n\t\t\t\t\t\t\tclassName=\"block-editor-link-control__field block-editor-link-control__search-input\"\r\n\t\t\t\t\t\t\tplaceholder={ searchInputPlaceholder }\r\n\t\t\t\t\t\t\tvalue={ currentUrlInputValue }\r\n\t\t\t\t\t\t\twithCreateSuggestion={ withCreateSuggestion }\r\n\t\t\t\t\t\t\tonCreateSuggestion={ createPage }\r\n\t\t\t\t\t\t\tonChange={ setInternalURLInputValue }\r\n\t\t\t\t\t\t\tonSelect={ handleSelectSuggestion }\r\n\t\t\t\t\t\t\tshowInitialSuggestions={ showInitialSuggestions }\r\n\t\t\t\t\t\t\tallowDirectEntry={ ! noDirectEntry }\r\n\t\t\t\t\t\t\tshowSuggestions={ showSuggestions }\r\n\t\t\t\t\t\t\tsuggestionsQuery={ suggestionsQuery }\r\n\t\t\t\t\t\t\twithURLSuggestion={ ! noURLSuggestion }\r\n\t\t\t\t\t\t\tcreateSuggestionButtonText={\r\n\t\t\t\t\t\t\t\tcreateSuggestionButtonText\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\thideLabelFromVision={ ! showTextControl }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{ ! showActions && (\r\n\t\t\t\t\t\t\t<div className=\"block-editor-link-control__search-enter\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\t\tonClick={ isDisabled ? noop : handleSubmit }\r\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Submit' ) }\r\n\t\t\t\t\t\t\t\t\ticon={ keyboardReturn }\r\n\t\t\t\t\t\t\t\t\tclassName=\"block-editor-link-control__search-submit\"\r\n\t\t\t\t\t\t\t\t\taria-disabled={ isDisabled }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{ errorMessage && (\r\n\t\t\t\t\t\t<Notice\r\n\t\t\t\t\t\t\tclassName=\"block-editor-link-control__search-error\"\r\n\t\t\t\t\t\t\tstatus=\"error\"\r\n\t\t\t\t\t\t\tisDismissible={ false }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ errorMessage }\r\n\t\t\t\t\t\t</Notice>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\r\n\t\t\t{ value && ! isEditingLink && ! isCreatingPage && (\r\n\t\t\t\t<LinkPreview\r\n\t\t\t\t\tkey={ value?.url } // force remount when URL changes to avoid race conditions for rich previews\r\n\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\tonEditClick={ () => setIsEditingLink( true ) }\r\n\t\t\t\t\thasRichPreviews={ hasRichPreviews }\r\n\t\t\t\t\thasUnlinkControl={ shownUnlinkControl }\r\n\t\t\t\t\tonRemove={ () => {\r\n\t\t\t\t\t\tonRemove();\r\n\t\t\t\t\t\tsetIsEditingLink( true );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\r\n\t\t\t{ showSettings && (\r\n\t\t\t\t<div className=\"block-editor-link-control__tools\">\r\n\t\t\t\t\t{ ! currentInputIsEmpty && (\r\n\t\t\t\t\t\t<LinkControlSettingsDrawer\r\n\t\t\t\t\t\t\tsettingsOpen={ isSettingsOpen }\r\n\t\t\t\t\t\t\tsetSettingsOpen={ setSettingsOpenWithPreference }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LinkSettings\r\n\t\t\t\t\t\t\t\tvalue={ internalControlValue }\r\n\t\t\t\t\t\t\t\tsettings={ settings }\r\n\t\t\t\t\t\t\t\tonChange={ createSetInternalSettingValueHandler(\r\n\t\t\t\t\t\t\t\t\tsettingsKeys\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</LinkControlSettingsDrawer>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\r\n\t\t\t{ showActions && (\r\n\t\t\t\t<HStack\r\n\t\t\t\t\tjustify=\"right\"\r\n\t\t\t\t\tclassName=\"block-editor-link-control__search-actions\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\tonClick={ handleCancel }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Cancel' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\tonClick={ isDisabled ? noop : handleSubmit }\r\n\t\t\t\t\t\tclassName=\"block-editor-link-control__search-submit\"\r\n\t\t\t\t\t\taria-disabled={ isDisabled }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Save' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</HStack>\r\n\t\t\t) }\r\n\r\n\t\t\t{ ! isCreatingPage && renderControlBottom && renderControlBottom() }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nLinkControl.ViewerFill = ViewerFill;\r\nLinkControl.DEFAULT_LINK_SETTINGS = DEFAULT_LINK_SETTINGS;\r\n\r\nexport default LinkControl;\r\n"],"mappings":"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","ignoreList":[]}