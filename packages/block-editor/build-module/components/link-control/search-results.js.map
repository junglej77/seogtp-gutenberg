{"version":3,"names":["__","sprintf","VisuallyHidden","MenuGroup","clsx","LinkControlSearchCreate","LinkControlSearchItem","CREATE_TYPE","LINK_ENTRY_TYPES","jsx","_jsx","jsxs","_jsxs","LinkControlSearchResults","instanceId","withCreateSuggestion","currentInputValue","handleSuggestionClick","suggestionsListProps","buildSuggestionItemProps","suggestions","selectedSuggestion","isLoading","isInitialSuggestions","createSuggestionButtonText","suggestionsQuery","resultsListClasses","isSingleDirectEntryResult","length","includes","type","shouldShowCreateSuggestion","shouldShowSuggestionsTypes","searchResultsLabelId","labelText","searchResultsLabel","id","children","className","map","suggestion","index","searchTerm","buttonText","onClick","itemProps","isSelected","isURL","shouldShowType","isFrontPage","isBlogHome"],"sources":["@wordpress/block-editor/src/components/link-control/search-results.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { VisuallyHidden, MenuGroup } from '@wordpress/components';\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport LinkControlSearchCreate from './search-create-button';\r\nimport LinkControlSearchItem from './search-item';\r\nimport { CREATE_TYPE, LINK_ENTRY_TYPES } from './constants';\r\n\r\nexport default function LinkControlSearchResults( {\r\n\tinstanceId,\r\n\twithCreateSuggestion,\r\n\tcurrentInputValue,\r\n\thandleSuggestionClick,\r\n\tsuggestionsListProps,\r\n\tbuildSuggestionItemProps,\r\n\tsuggestions,\r\n\tselectedSuggestion,\r\n\tisLoading,\r\n\tisInitialSuggestions,\r\n\tcreateSuggestionButtonText,\r\n\tsuggestionsQuery,\r\n} ) {\r\n\tconst resultsListClasses = clsx(\r\n\t\t'block-editor-link-control__search-results',\r\n\t\t{\r\n\t\t\t'is-loading': isLoading,\r\n\t\t}\r\n\t);\r\n\r\n\tconst isSingleDirectEntryResult =\r\n\t\tsuggestions.length === 1 &&\r\n\t\tLINK_ENTRY_TYPES.includes( suggestions[ 0 ].type );\r\n\tconst shouldShowCreateSuggestion =\r\n\t\twithCreateSuggestion &&\r\n\t\t! isSingleDirectEntryResult &&\r\n\t\t! isInitialSuggestions;\r\n\t// If the query has a specified type, then we can skip showing them in the result. See #24839.\r\n\tconst shouldShowSuggestionsTypes = ! suggestionsQuery?.type;\r\n\r\n\t// According to guidelines aria-label should be added if the label\r\n\t// itself is not visible.\r\n\t// See: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role\r\n\tconst searchResultsLabelId = `block-editor-link-control-search-results-label-${ instanceId }`;\r\n\tconst labelText = isInitialSuggestions\r\n\t\t? __( 'Suggestions' )\r\n\t\t: sprintf(\r\n\t\t\t\t/* translators: %s: search term. */\r\n\t\t\t\t__( 'Search results for \"%s\"' ),\r\n\t\t\t\tcurrentInputValue\r\n\t\t  );\r\n\tconst searchResultsLabel = (\r\n\t\t<VisuallyHidden id={ searchResultsLabelId }>\r\n\t\t\t{ labelText }\r\n\t\t</VisuallyHidden>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"block-editor-link-control__search-results-wrapper\">\r\n\t\t\t{ searchResultsLabel }\r\n\t\t\t<div\r\n\t\t\t\t{ ...suggestionsListProps }\r\n\t\t\t\tclassName={ resultsListClasses }\r\n\t\t\t\taria-labelledby={ searchResultsLabelId }\r\n\t\t\t>\r\n\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t{ suggestions.map( ( suggestion, index ) => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tshouldShowCreateSuggestion &&\r\n\t\t\t\t\t\t\tCREATE_TYPE === suggestion.type\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<LinkControlSearchCreate\r\n\t\t\t\t\t\t\t\t\tsearchTerm={ currentInputValue }\r\n\t\t\t\t\t\t\t\t\tbuttonText={ createSuggestionButtonText }\r\n\t\t\t\t\t\t\t\t\tonClick={ () =>\r\n\t\t\t\t\t\t\t\t\t\thandleSuggestionClick( suggestion )\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// Intentionally only using `type` here as\r\n\t\t\t\t\t\t\t\t\t// the constant is enough to uniquely\r\n\t\t\t\t\t\t\t\t\t// identify the single \"CREATE\" suggestion.\r\n\t\t\t\t\t\t\t\t\tkey={ suggestion.type }\r\n\t\t\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\r\n\t\t\t\t\t\t\t\t\t\tsuggestion,\r\n\t\t\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If we're not handling \"Create\" suggestions above then\r\n\t\t\t\t\t\t// we don't want them in the main results so exit early.\r\n\t\t\t\t\t\tif ( CREATE_TYPE === suggestion.type ) {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<LinkControlSearchItem\r\n\t\t\t\t\t\t\t\tkey={ `${ suggestion.id }-${ suggestion.type }` }\r\n\t\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\r\n\t\t\t\t\t\t\t\t\tsuggestion,\r\n\t\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\tsuggestion={ suggestion }\r\n\t\t\t\t\t\t\t\tindex={ index }\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\thandleSuggestionClick( suggestion );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\r\n\t\t\t\t\t\t\t\tisURL={ LINK_ENTRY_TYPES.includes(\r\n\t\t\t\t\t\t\t\t\tsuggestion.type\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\tsearchTerm={ currentInputValue }\r\n\t\t\t\t\t\t\t\tshouldShowType={ shouldShowSuggestionsTypes }\r\n\t\t\t\t\t\t\t\tisFrontPage={ suggestion?.isFrontPage }\r\n\t\t\t\t\t\t\t\tisBlogHome={ suggestion?.isBlogHome }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t</MenuGroup>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}