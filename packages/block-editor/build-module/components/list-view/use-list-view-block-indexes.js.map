{"version":3,"names":["useMemo","useListViewBlockIndexes","blocks","blockIndexes","indexes","currentGlobalIndex","traverseBlocks","blockList","forEach","block","clientId","innerBlocks","length"],"sources":["@wordpress/block-editor/src/components/list-view/use-list-view-block-indexes.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo } from '@wordpress/element';\r\n\r\nexport default function useListViewBlockIndexes( blocks ) {\r\n\tconst blockIndexes = useMemo( () => {\r\n\t\tconst indexes = {};\r\n\r\n\t\tlet currentGlobalIndex = 0;\r\n\r\n\t\tconst traverseBlocks = ( blockList ) => {\r\n\t\t\tblockList.forEach( ( block ) => {\r\n\t\t\t\tindexes[ block.clientId ] = currentGlobalIndex;\r\n\t\t\t\tcurrentGlobalIndex++;\r\n\r\n\t\t\t\tif ( block.innerBlocks.length > 0 ) {\r\n\t\t\t\t\ttraverseBlocks( block.innerBlocks );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t};\r\n\r\n\t\ttraverseBlocks( blocks );\r\n\r\n\t\treturn indexes;\r\n\t}, [ blocks ] );\r\n\r\n\treturn blockIndexes;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,OAAO,QAAQ,oBAAoB;AAE5C,eAAe,SAASC,uBAAuBA,CAAEC,MAAM,EAAG;EACzD,MAAMC,YAAY,GAAGH,OAAO,CAAE,MAAM;IACnC,MAAMI,OAAO,GAAG,CAAC,CAAC;IAElB,IAAIC,kBAAkB,GAAG,CAAC;IAE1B,MAAMC,cAAc,GAAKC,SAAS,IAAM;MACvCA,SAAS,CAACC,OAAO,CAAIC,KAAK,IAAM;QAC/BL,OAAO,CAAEK,KAAK,CAACC,QAAQ,CAAE,GAAGL,kBAAkB;QAC9CA,kBAAkB,EAAE;QAEpB,IAAKI,KAAK,CAACE,WAAW,CAACC,MAAM,GAAG,CAAC,EAAG;UACnCN,cAAc,CAAEG,KAAK,CAACE,WAAY,CAAC;QACpC;MACD,CAAE,CAAC;IACJ,CAAC;IAEDL,cAAc,CAAEJ,MAAO,CAAC;IAExB,OAAOE,OAAO;EACf,CAAC,EAAE,CAAEF,MAAM,CAAG,CAAC;EAEf,OAAOC,YAAY;AACpB","ignoreList":[]}