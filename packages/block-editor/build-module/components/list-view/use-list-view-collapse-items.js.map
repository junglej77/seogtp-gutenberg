{"version":3,"names":["useEffect","useSelect","store","blockEditorStore","unlock","useListViewCollapseItems","collapseAll","expand","expandedBlock","getBlockParents","select","_getBlockParents","getExpandedBlock","blockParents"],"sources":["@wordpress/block-editor/src/components/list-view/use-list-view-collapse-items.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nexport default function useListViewCollapseItems( { collapseAll, expand } ) {\r\n\tconst { expandedBlock, getBlockParents } = useSelect( ( select ) => {\r\n\t\tconst { getBlockParents: _getBlockParents, getExpandedBlock } = unlock(\r\n\t\t\tselect( blockEditorStore )\r\n\t\t);\r\n\t\treturn {\r\n\t\t\texpandedBlock: getExpandedBlock(),\r\n\t\t\tgetBlockParents: _getBlockParents,\r\n\t\t};\r\n\t}, [] );\r\n\r\n\t// Collapse all but the specified block when the expanded block client Id changes.\r\n\tuseEffect( () => {\r\n\t\tif ( expandedBlock ) {\r\n\t\t\tconst blockParents = getBlockParents( expandedBlock, false );\r\n\t\t\t// Collapse all blocks and expand the block's parents.\r\n\t\t\tcollapseAll();\r\n\t\t\texpand( blockParents );\r\n\t\t}\r\n\t}, [ collapseAll, expand, expandedBlock, getBlockParents ] );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,SAASC,MAAM,QAAQ,mBAAmB;AAE1C,eAAe,SAASC,wBAAwBA,CAAE;EAAEC,WAAW;EAAEC;AAAO,CAAC,EAAG;EAC3E,MAAM;IAAEC,aAAa;IAAEC;EAAgB,CAAC,GAAGR,SAAS,CAAIS,MAAM,IAAM;IACnE,MAAM;MAAED,eAAe,EAAEE,gBAAgB;MAAEC;IAAiB,CAAC,GAAGR,MAAM,CACrEM,MAAM,CAAEP,gBAAiB,CAC1B,CAAC;IACD,OAAO;MACNK,aAAa,EAAEI,gBAAgB,CAAC,CAAC;MACjCH,eAAe,EAAEE;IAClB,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;;EAEP;EACAX,SAAS,CAAE,MAAM;IAChB,IAAKQ,aAAa,EAAG;MACpB,MAAMK,YAAY,GAAGJ,eAAe,CAAED,aAAa,EAAE,KAAM,CAAC;MAC5D;MACAF,WAAW,CAAC,CAAC;MACbC,MAAM,CAAEM,YAAa,CAAC;IACvB;EACD,CAAC,EAAE,CAAEP,WAAW,EAAEC,MAAM,EAAEC,aAAa,EAAEC,eAAe,CAAG,CAAC;AAC7D","ignoreList":[]}