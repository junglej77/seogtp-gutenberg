{"version":3,"names":["getScrollContainer","useLayoutEffect","useListViewScrollIntoView","isSelected","selectedClientIds","rowItemRef","isSingleSelection","length","current","scrollContainer","ownerDocument","windowScroll","body","documentElement","rowRect","getBoundingClientRect","scrollContainerRect","top","bottom","scrollIntoView"],"sources":["@wordpress/block-editor/src/components/list-view/use-list-view-scroll-into-view.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { getScrollContainer } from '@wordpress/dom';\r\nimport { useLayoutEffect } from '@wordpress/element';\r\n\r\nexport default function useListViewScrollIntoView( {\r\n\tisSelected,\r\n\tselectedClientIds,\r\n\trowItemRef,\r\n} ) {\r\n\tconst isSingleSelection = selectedClientIds.length === 1;\r\n\r\n\tuseLayoutEffect( () => {\r\n\t\t// Skip scrolling into view if this particular block isn't selected,\r\n\t\t// or if more than one block is selected overall. This is to avoid\r\n\t\t// scrolling the view in a multi selection where the user has intentionally\r\n\t\t// selected multiple blocks within the list view, but the initially\r\n\t\t// selected block may be out of view.\r\n\t\tif ( ! isSelected || ! isSingleSelection || ! rowItemRef.current ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst scrollContainer = getScrollContainer( rowItemRef.current );\r\n\t\tconst { ownerDocument } = rowItemRef.current;\r\n\r\n\t\tconst windowScroll =\r\n\t\t\tscrollContainer === ownerDocument.body ||\r\n\t\t\tscrollContainer === ownerDocument.documentElement;\r\n\r\n\t\t// If the there is no scroll container, of if the scroll container is the window,\r\n\t\t// do not scroll into view, as the block is already in view.\r\n\t\tif ( windowScroll || ! scrollContainer ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst rowRect = rowItemRef.current.getBoundingClientRect();\r\n\t\tconst scrollContainerRect = scrollContainer.getBoundingClientRect();\r\n\r\n\t\t// If the selected block is not currently visible, scroll to it.\r\n\t\tif (\r\n\t\t\trowRect.top < scrollContainerRect.top ||\r\n\t\t\trowRect.bottom > scrollContainerRect.bottom\r\n\t\t) {\r\n\t\t\trowItemRef.current.scrollIntoView();\r\n\t\t}\r\n\t}, [ isSelected, isSingleSelection, rowItemRef ] );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,kBAAkB,QAAQ,gBAAgB;AACnD,SAASC,eAAe,QAAQ,oBAAoB;AAEpD,eAAe,SAASC,yBAAyBA,CAAE;EAClDC,UAAU;EACVC,iBAAiB;EACjBC;AACD,CAAC,EAAG;EACH,MAAMC,iBAAiB,GAAGF,iBAAiB,CAACG,MAAM,KAAK,CAAC;EAExDN,eAAe,CAAE,MAAM;IACtB;IACA;IACA;IACA;IACA;IACA,IAAK,CAAEE,UAAU,IAAI,CAAEG,iBAAiB,IAAI,CAAED,UAAU,CAACG,OAAO,EAAG;MAClE;IACD;IAEA,MAAMC,eAAe,GAAGT,kBAAkB,CAAEK,UAAU,CAACG,OAAQ,CAAC;IAChE,MAAM;MAAEE;IAAc,CAAC,GAAGL,UAAU,CAACG,OAAO;IAE5C,MAAMG,YAAY,GACjBF,eAAe,KAAKC,aAAa,CAACE,IAAI,IACtCH,eAAe,KAAKC,aAAa,CAACG,eAAe;;IAElD;IACA;IACA,IAAKF,YAAY,IAAI,CAAEF,eAAe,EAAG;MACxC;IACD;IAEA,MAAMK,OAAO,GAAGT,UAAU,CAACG,OAAO,CAACO,qBAAqB,CAAC,CAAC;IAC1D,MAAMC,mBAAmB,GAAGP,eAAe,CAACM,qBAAqB,CAAC,CAAC;;IAEnE;IACA,IACCD,OAAO,CAACG,GAAG,GAAGD,mBAAmB,CAACC,GAAG,IACrCH,OAAO,CAACI,MAAM,GAAGF,mBAAmB,CAACE,MAAM,EAC1C;MACDb,UAAU,CAACG,OAAO,CAACW,cAAc,CAAC,CAAC;IACpC;EACD,CAAC,EAAE,CAAEhB,UAAU,EAAEG,iBAAiB,EAAED,UAAU,CAAG,CAAC;AACnD","ignoreList":[]}