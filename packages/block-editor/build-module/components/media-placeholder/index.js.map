{"version":3,"names":["clsx","Button","FormFileUpload","Placeholder","DropZone","withFilters","__","useState","useEffect","useSelect","keyboardReturn","pasteHandler","deprecated","MediaUpload","MediaUploadCheck","URLPopover","store","blockEditorStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","noop","InsertFromURLPopover","src","onChange","onSubmit","onClose","popoverAnchor","anchor","children","className","type","placeholder","value","__next40pxDefaultSize","icon","label","URLSelectionUI","onChangeSrc","onSelectURL","setPopoverAnchor","isURLInputVisible","setIsURLInputVisible","openURLInput","closeURLInput","focus","onSubmitSrc","event","preventDefault","onClick","isPressed","variant","ref","MediaPlaceholder","allowedTypes","labels","mediaPreview","notices","isAppender","accept","addToGallery","multiple","handleUpload","disableDropZone","disableMediaButtons","onError","onSelect","onCancel","onToggleFeaturedImage","onDoubleClick","onFilesPreUpload","onHTMLDrop","deprecatedOnHTMLDrop","mediaLibraryButton","style","since","version","mediaUpload","select","getSettings","setSrc","_value$src","onlyAllowsImages","length","every","allowedType","startsWith","target","onFilesUpload","files","setMedia","lastMediaPassed","newMedia","filteredMedia","filter","item","id","some","Number","urlSlug","url","includes","concat","map","media","cutOffIndex","lastIndexOf","slice","filesList","onFileChange","handleBlocksDrop","blocks","Array","isArray","recursivelyFindMediaFromBlocks","_blocks","flatMap","block","name","attributes","innerBlocks","mediaBlocks","uploadedMediaList","Promise","all","resolve","reject","window","fetch","then","response","blob","additionalData","title","alt_text","alt","caption","catch","err","HTML","onUpload","defaultRenderPlaceholder","content","instructions","undefined","typesAllowed","firstAllowedType","isOneType","isAudio","isImage","isVideo","placeholderClassName","preview","renderPlaceholder","renderDropZone","onFilesDrop","renderCancelLink","renderUrlSelectionUI","renderFeaturedImageToggle","renderMediaUploadChecked","defaultButton","open","libraryButton","uploadMediaLibraryButton","gallery","mode","render","openFileDialog","fallback"],"sources":["@wordpress/block-editor/src/components/media-placeholder/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tButton,\r\n\tFormFileUpload,\r\n\tPlaceholder,\r\n\tDropZone,\r\n\twithFilters,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { keyboardReturn } from '@wordpress/icons';\r\nimport { pasteHandler } from '@wordpress/blocks';\r\nimport deprecated from '@wordpress/deprecated';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport MediaUpload from '../media-upload';\r\nimport MediaUploadCheck from '../media-upload/check';\r\nimport URLPopover from '../url-popover';\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nconst noop = () => {};\r\n\r\nconst InsertFromURLPopover = ( {\r\n\tsrc,\r\n\tonChange,\r\n\tonSubmit,\r\n\tonClose,\r\n\tpopoverAnchor,\r\n} ) => (\r\n\t<URLPopover anchor={ popoverAnchor } onClose={ onClose }>\r\n\t\t<form\r\n\t\t\tclassName=\"block-editor-media-placeholder__url-input-form\"\r\n\t\t\tonSubmit={ onSubmit }\r\n\t\t>\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"block-editor-media-placeholder__url-input-field\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\taria-label={ __( 'URL' ) }\r\n\t\t\t\tplaceholder={ __( 'Paste or type URL' ) }\r\n\t\t\t\tonChange={ onChange }\r\n\t\t\t\tvalue={ src }\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\tclassName=\"block-editor-media-placeholder__url-input-submit-button\"\r\n\t\t\t\ticon={ keyboardReturn }\r\n\t\t\t\tlabel={ __( 'Apply' ) }\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t/>\r\n\t\t</form>\r\n\t</URLPopover>\r\n);\r\n\r\nconst URLSelectionUI = ( { src, onChangeSrc, onSelectURL } ) => {\r\n\t// Use internal state instead of a ref to make sure that the component\r\n\t// re-renders when the popover's anchor updates.\r\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\r\n\tconst [ isURLInputVisible, setIsURLInputVisible ] = useState( false );\r\n\r\n\tconst openURLInput = () => {\r\n\t\tsetIsURLInputVisible( true );\r\n\t};\r\n\tconst closeURLInput = () => {\r\n\t\tsetIsURLInputVisible( false );\r\n\t\tpopoverAnchor?.focus();\r\n\t};\r\n\r\n\tconst onSubmitSrc = ( event ) => {\r\n\t\tevent.preventDefault();\r\n\t\tif ( src && onSelectURL ) {\r\n\t\t\tonSelectURL( src );\r\n\t\t\tcloseURLInput();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"block-editor-media-placeholder__url-input-container\">\r\n\t\t\t<Button\r\n\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\tclassName=\"block-editor-media-placeholder__button\"\r\n\t\t\t\tonClick={ openURLInput }\r\n\t\t\t\tisPressed={ isURLInputVisible }\r\n\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\taria-haspopup=\"dialog\"\r\n\t\t\t\tref={ setPopoverAnchor }\r\n\t\t\t>\r\n\t\t\t\t{ __( 'Insert from URL' ) }\r\n\t\t\t</Button>\r\n\t\t\t{ isURLInputVisible && (\r\n\t\t\t\t<InsertFromURLPopover\r\n\t\t\t\t\tsrc={ src }\r\n\t\t\t\t\tonChange={ onChangeSrc }\r\n\t\t\t\t\tonSubmit={ onSubmitSrc }\r\n\t\t\t\t\tonClose={ closeURLInput }\r\n\t\t\t\t\tpopoverAnchor={ popoverAnchor }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport function MediaPlaceholder( {\r\n\tvalue = {},\r\n\tallowedTypes,\r\n\tclassName,\r\n\ticon,\r\n\tlabels = {},\r\n\tmediaPreview,\r\n\tnotices,\r\n\tisAppender,\r\n\taccept,\r\n\taddToGallery,\r\n\tmultiple = false,\r\n\thandleUpload = true,\r\n\tdisableDropZone,\r\n\tdisableMediaButtons,\r\n\tonError,\r\n\tonSelect,\r\n\tonCancel,\r\n\tonSelectURL,\r\n\tonToggleFeaturedImage,\r\n\tonDoubleClick,\r\n\tonFilesPreUpload = noop,\r\n\tonHTMLDrop: deprecatedOnHTMLDrop,\r\n\tchildren,\r\n\tmediaLibraryButton,\r\n\tplaceholder,\r\n\tstyle,\r\n} ) {\r\n\tif ( deprecatedOnHTMLDrop ) {\r\n\t\tdeprecated( 'wp.blockEditor.MediaPlaceholder onHTMLDrop prop', {\r\n\t\t\tsince: '6.2',\r\n\t\t\tversion: '6.4',\r\n\t\t} );\r\n\t}\r\n\r\n\tconst mediaUpload = useSelect( ( select ) => {\r\n\t\tconst { getSettings } = select( blockEditorStore );\r\n\t\treturn getSettings().mediaUpload;\r\n\t}, [] );\r\n\tconst [ src, setSrc ] = useState( '' );\r\n\r\n\tuseEffect( () => {\r\n\t\tsetSrc( value?.src ?? '' );\r\n\t}, [ value?.src ] );\r\n\r\n\tconst onlyAllowsImages = () => {\r\n\t\tif ( ! allowedTypes || allowedTypes.length === 0 ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn allowedTypes.every(\r\n\t\t\t( allowedType ) =>\r\n\t\t\t\tallowedType === 'image' || allowedType.startsWith( 'image/' )\r\n\t\t);\r\n\t};\r\n\r\n\tconst onChangeSrc = ( event ) => {\r\n\t\tsetSrc( event.target.value );\r\n\t};\r\n\r\n\tconst onFilesUpload = ( files ) => {\r\n\t\tif (\r\n\t\t\t! handleUpload ||\r\n\t\t\t( typeof handleUpload === 'function' && ! handleUpload( files ) )\r\n\t\t) {\r\n\t\t\treturn onSelect( files );\r\n\t\t}\r\n\t\tonFilesPreUpload( files );\r\n\t\tlet setMedia;\r\n\t\tif ( multiple ) {\r\n\t\t\tif ( addToGallery ) {\r\n\t\t\t\t// Since the setMedia function runs multiple times per upload group\r\n\t\t\t\t// and is passed newMedia containing every item in its group each time, we must\r\n\t\t\t\t// filter out whatever this upload group had previously returned to the\r\n\t\t\t\t// gallery before adding and returning the image array with replacement newMedia\r\n\t\t\t\t// values.\r\n\r\n\t\t\t\t// Define an array to store urls from newMedia between subsequent function calls.\r\n\t\t\t\tlet lastMediaPassed = [];\r\n\t\t\t\tsetMedia = ( newMedia ) => {\r\n\t\t\t\t\t// Remove any images this upload group is responsible for (lastMediaPassed).\r\n\t\t\t\t\t// Their replacements are contained in newMedia.\r\n\t\t\t\t\tconst filteredMedia = ( value ?? [] ).filter( ( item ) => {\r\n\t\t\t\t\t\t// If Item has id, only remove it if lastMediaPassed has an item with that id.\r\n\t\t\t\t\t\tif ( item.id ) {\r\n\t\t\t\t\t\t\treturn ! lastMediaPassed.some(\r\n\t\t\t\t\t\t\t\t// Be sure to convert to number for comparison.\r\n\t\t\t\t\t\t\t\t( { id } ) => Number( id ) === Number( item.id )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Compare transient images via .includes since gallery may append extra info onto the url.\r\n\t\t\t\t\t\treturn ! lastMediaPassed.some( ( { urlSlug } ) =>\r\n\t\t\t\t\t\t\titem.url.includes( urlSlug )\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} );\r\n\t\t\t\t\t// Return the filtered media array along with newMedia.\r\n\t\t\t\t\tonSelect( filteredMedia.concat( newMedia ) );\r\n\t\t\t\t\t// Reset lastMediaPassed and set it with ids and urls from newMedia.\r\n\t\t\t\t\tlastMediaPassed = newMedia.map( ( media ) => {\r\n\t\t\t\t\t\t// Add everything up to '.fileType' to compare via .includes.\r\n\t\t\t\t\t\tconst cutOffIndex = media.url.lastIndexOf( '.' );\r\n\t\t\t\t\t\tconst urlSlug = media.url.slice( 0, cutOffIndex );\r\n\t\t\t\t\t\treturn { id: media.id, urlSlug };\r\n\t\t\t\t\t} );\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tsetMedia = onSelect;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetMedia = ( [ media ] ) => onSelect( media );\r\n\t\t}\r\n\t\tmediaUpload( {\r\n\t\t\tallowedTypes,\r\n\t\t\tfilesList: files,\r\n\t\t\tonFileChange: setMedia,\r\n\t\t\tonError,\r\n\t\t} );\r\n\t};\r\n\r\n\tasync function handleBlocksDrop( blocks ) {\r\n\t\tif ( ! blocks || ! Array.isArray( blocks ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfunction recursivelyFindMediaFromBlocks( _blocks ) {\r\n\t\t\treturn _blocks.flatMap( ( block ) =>\r\n\t\t\t\t( block.name === 'core/image' ||\r\n\t\t\t\t\tblock.name === 'core/audio' ||\r\n\t\t\t\t\tblock.name === 'core/video' ) &&\r\n\t\t\t\tblock.attributes.url\r\n\t\t\t\t\t? [ block ]\r\n\t\t\t\t\t: recursivelyFindMediaFromBlocks( block.innerBlocks )\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst mediaBlocks = recursivelyFindMediaFromBlocks( blocks );\r\n\r\n\t\tif ( ! mediaBlocks.length ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst uploadedMediaList = await Promise.all(\r\n\t\t\tmediaBlocks.map( ( block ) =>\r\n\t\t\t\tblock.attributes.id\r\n\t\t\t\t\t? block.attributes\r\n\t\t\t\t\t: new Promise( ( resolve, reject ) => {\r\n\t\t\t\t\t\t\twindow\r\n\t\t\t\t\t\t\t\t.fetch( block.attributes.url )\r\n\t\t\t\t\t\t\t\t.then( ( response ) => response.blob() )\r\n\t\t\t\t\t\t\t\t.then( ( blob ) =>\r\n\t\t\t\t\t\t\t\t\tmediaUpload( {\r\n\t\t\t\t\t\t\t\t\t\tfilesList: [ blob ],\r\n\t\t\t\t\t\t\t\t\t\tadditionalData: {\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: block.attributes.title,\r\n\t\t\t\t\t\t\t\t\t\t\talt_text: block.attributes.alt,\r\n\t\t\t\t\t\t\t\t\t\t\tcaption: block.attributes.caption,\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tonFileChange: ( [ media ] ) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif ( media.id ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( media );\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tallowedTypes,\r\n\t\t\t\t\t\t\t\t\t\tonError: reject,\r\n\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.catch( () => resolve( block.attributes.url ) );\r\n\t\t\t\t\t  } )\r\n\t\t\t)\r\n\t\t).catch( ( err ) => onError( err ) );\r\n\r\n\t\tif ( multiple ) {\r\n\t\t\tonSelect( uploadedMediaList );\r\n\t\t} else {\r\n\t\t\tonSelect( uploadedMediaList[ 0 ] );\r\n\t\t}\r\n\t}\r\n\r\n\tasync function onHTMLDrop( HTML ) {\r\n\t\tconst blocks = pasteHandler( { HTML } );\r\n\t\treturn await handleBlocksDrop( blocks );\r\n\t}\r\n\r\n\tconst onUpload = ( event ) => {\r\n\t\tonFilesUpload( event.target.files );\r\n\t};\r\n\r\n\tconst defaultRenderPlaceholder = ( content ) => {\r\n\t\tlet { instructions, title } = labels;\r\n\r\n\t\tif ( ! mediaUpload && ! onSelectURL ) {\r\n\t\t\tinstructions = __(\r\n\t\t\t\t'To edit this block, you need permission to upload media.'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif ( instructions === undefined || title === undefined ) {\r\n\t\t\tconst typesAllowed = allowedTypes ?? [];\r\n\r\n\t\t\tconst [ firstAllowedType ] = typesAllowed;\r\n\t\t\tconst isOneType = 1 === typesAllowed.length;\r\n\t\t\tconst isAudio = isOneType && 'audio' === firstAllowedType;\r\n\t\t\tconst isImage = isOneType && 'image' === firstAllowedType;\r\n\t\t\tconst isVideo = isOneType && 'video' === firstAllowedType;\r\n\r\n\t\t\tif ( instructions === undefined && mediaUpload ) {\r\n\t\t\t\tinstructions = __(\r\n\t\t\t\t\t'Upload a media file or pick one from your media library.'\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif ( isAudio ) {\r\n\t\t\t\t\tinstructions = __(\r\n\t\t\t\t\t\t'Upload or drag an audio file here, or pick one from your library.'\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if ( isImage ) {\r\n\t\t\t\t\tinstructions = __(\r\n\t\t\t\t\t\t'Upload or drag an image file here, or pick one from your library.'\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if ( isVideo ) {\r\n\t\t\t\t\tinstructions = __(\r\n\t\t\t\t\t\t'Upload or drag a video file here, or pick one from your library.'\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( title === undefined ) {\r\n\t\t\t\ttitle = __( 'Media' );\r\n\r\n\t\t\t\tif ( isAudio ) {\r\n\t\t\t\t\ttitle = __( 'Audio' );\r\n\t\t\t\t} else if ( isImage ) {\r\n\t\t\t\t\ttitle = __( 'Image' );\r\n\t\t\t\t} else if ( isVideo ) {\r\n\t\t\t\t\ttitle = __( 'Video' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst placeholderClassName = clsx(\r\n\t\t\t'block-editor-media-placeholder',\r\n\t\t\tclassName,\r\n\t\t\t{\r\n\t\t\t\t'is-appender': isAppender,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<Placeholder\r\n\t\t\t\ticon={ icon }\r\n\t\t\t\tlabel={ title }\r\n\t\t\t\tinstructions={ instructions }\r\n\t\t\t\tclassName={ placeholderClassName }\r\n\t\t\t\tnotices={ notices }\r\n\t\t\t\tonDoubleClick={ onDoubleClick }\r\n\t\t\t\tpreview={ mediaPreview }\r\n\t\t\t\tstyle={ style }\r\n\t\t\t>\r\n\t\t\t\t{ content }\r\n\t\t\t\t{ children }\r\n\t\t\t</Placeholder>\r\n\t\t);\r\n\t};\r\n\tconst renderPlaceholder = placeholder ?? defaultRenderPlaceholder;\r\n\r\n\tconst renderDropZone = () => {\r\n\t\tif ( disableDropZone ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<DropZone onFilesDrop={ onFilesUpload } onHTMLDrop={ onHTMLDrop } />\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderCancelLink = () => {\r\n\t\treturn (\r\n\t\t\tonCancel && (\r\n\t\t\t\t<Button\r\n\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\tclassName=\"block-editor-media-placeholder__cancel-button\"\r\n\t\t\t\t\ttitle={ __( 'Cancel' ) }\r\n\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\tonClick={ onCancel }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Cancel' ) }\r\n\t\t\t\t</Button>\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderUrlSelectionUI = () => {\r\n\t\treturn (\r\n\t\t\tonSelectURL && (\r\n\t\t\t\t<URLSelectionUI\r\n\t\t\t\t\tsrc={ src }\r\n\t\t\t\t\tonChangeSrc={ onChangeSrc }\r\n\t\t\t\t\tonSelectURL={ onSelectURL }\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderFeaturedImageToggle = () => {\r\n\t\treturn (\r\n\t\t\tonToggleFeaturedImage && (\r\n\t\t\t\t<div className=\"block-editor-media-placeholder__url-input-container\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\tclassName=\"block-editor-media-placeholder__button\"\r\n\t\t\t\t\t\tonClick={ onToggleFeaturedImage }\r\n\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Use featured image' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderMediaUploadChecked = () => {\r\n\t\tconst defaultButton = ( { open } ) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Button\r\n\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\topen();\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Media Library' ) }\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t};\r\n\t\tconst libraryButton = mediaLibraryButton ?? defaultButton;\r\n\t\tconst uploadMediaLibraryButton = (\r\n\t\t\t<MediaUpload\r\n\t\t\t\taddToGallery={ addToGallery }\r\n\t\t\t\tgallery={ multiple && onlyAllowsImages() }\r\n\t\t\t\tmultiple={ multiple }\r\n\t\t\t\tonSelect={ onSelect }\r\n\t\t\t\tallowedTypes={ allowedTypes }\r\n\t\t\t\tmode=\"browse\"\r\n\t\t\t\tvalue={\r\n\t\t\t\t\tArray.isArray( value )\r\n\t\t\t\t\t\t? value.map( ( { id } ) => id )\r\n\t\t\t\t\t\t: value.id\r\n\t\t\t\t}\r\n\t\t\t\trender={ libraryButton }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tif ( mediaUpload && isAppender ) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{ renderDropZone() }\r\n\t\t\t\t\t<FormFileUpload\r\n\t\t\t\t\t\tonChange={ onUpload }\r\n\t\t\t\t\t\taccept={ accept }\r\n\t\t\t\t\t\tmultiple={ !! multiple }\r\n\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\r\n\t\t\t\t\t\t\tconst content = (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__button',\r\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__upload-button'\r\n\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\tonClick={ openFileDialog }\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t{ uploadMediaLibraryButton }\r\n\t\t\t\t\t\t\t\t\t{ renderUrlSelectionUI() }\r\n\t\t\t\t\t\t\t\t\t{ renderFeaturedImageToggle() }\r\n\t\t\t\t\t\t\t\t\t{ renderCancelLink() }\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\treturn renderPlaceholder( content );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif ( mediaUpload ) {\r\n\t\t\tconst content = (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{ renderDropZone() }\r\n\t\t\t\t\t<FormFileUpload\r\n\t\t\t\t\t\trender={ ( { openFileDialog } ) => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\tonClick={ openFileDialog }\r\n\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__button',\r\n\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__upload-button'\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tonChange={ onUpload }\r\n\t\t\t\t\t\taccept={ accept }\r\n\t\t\t\t\t\tmultiple={ !! multiple }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ uploadMediaLibraryButton }\r\n\t\t\t\t\t{ renderUrlSelectionUI() }\r\n\t\t\t\t\t{ renderFeaturedImageToggle() }\r\n\t\t\t\t\t{ renderCancelLink() }\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t\treturn renderPlaceholder( content );\r\n\t\t}\r\n\r\n\t\treturn renderPlaceholder( uploadMediaLibraryButton );\r\n\t};\r\n\r\n\tif ( disableMediaButtons ) {\r\n\t\treturn <MediaUploadCheck>{ renderDropZone() }</MediaUploadCheck>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<MediaUploadCheck\r\n\t\t\tfallback={ renderPlaceholder( renderUrlSelectionUI() ) }\r\n\t\t>\r\n\t\t\t{ renderMediaUploadChecked() }\r\n\t\t</MediaUploadCheck>\r\n\t);\r\n}\r\n\r\n/**\r\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/media-placeholder/README.md\r\n */\r\nexport default withFilters( 'editor.MediaPlaceholder' )( MediaPlaceholder );\r\n"],"mappings":"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","ignoreList":[]}