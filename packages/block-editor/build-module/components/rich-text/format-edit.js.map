{"version":3,"names":["getActiveFormat","getActiveObject","useContext","useMemo","BlockContext","jsx","_jsx","createElement","_createElement","DEFAULT_BLOCK_CONTEXT","usesContextKey","Symbol","Edit","onChange","onFocus","value","forwardedRef","settings","name","edit","EditFunction","usesContext","blockContext","context","Object","fromEntries","entries","filter","key","includes","activeFormat","isActive","undefined","activeObject","isObjectActive","type","activeAttributes","attributes","activeObjectAttributes","contentRef","FormatEdit","formatTypes","props","map"],"sources":["@wordpress/block-editor/src/components/rich-text/format-edit.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { getActiveFormat, getActiveObject } from '@wordpress/rich-text';\r\nimport { useContext, useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BlockContext from '../block-context';\r\n\r\nconst DEFAULT_BLOCK_CONTEXT = {};\r\n\r\nexport const usesContextKey = Symbol( 'usesContext' );\r\n\r\nfunction Edit( { onChange, onFocus, value, forwardedRef, settings } ) {\r\n\tconst {\r\n\t\tname,\r\n\t\tedit: EditFunction,\r\n\t\t[ usesContextKey ]: usesContext,\r\n\t} = settings;\r\n\r\n\tconst blockContext = useContext( BlockContext );\r\n\r\n\t// Assign context values using the block type's declared context needs.\r\n\tconst context = useMemo( () => {\r\n\t\treturn usesContext\r\n\t\t\t? Object.fromEntries(\r\n\t\t\t\t\tObject.entries( blockContext ).filter( ( [ key ] ) =>\r\n\t\t\t\t\t\tusesContext.includes( key )\r\n\t\t\t\t\t)\r\n\t\t\t  )\r\n\t\t\t: DEFAULT_BLOCK_CONTEXT;\r\n\t}, [ usesContext, blockContext ] );\r\n\r\n\tif ( ! EditFunction ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst activeFormat = getActiveFormat( value, name );\r\n\tconst isActive = activeFormat !== undefined;\r\n\tconst activeObject = getActiveObject( value );\r\n\tconst isObjectActive =\r\n\t\tactiveObject !== undefined && activeObject.type === name;\r\n\r\n\treturn (\r\n\t\t<EditFunction\r\n\t\t\tkey={ name }\r\n\t\t\tisActive={ isActive }\r\n\t\t\tactiveAttributes={ isActive ? activeFormat.attributes || {} : {} }\r\n\t\t\tisObjectActive={ isObjectActive }\r\n\t\t\tactiveObjectAttributes={\r\n\t\t\t\tisObjectActive ? activeObject.attributes || {} : {}\r\n\t\t\t}\r\n\t\t\tvalue={ value }\r\n\t\t\tonChange={ onChange }\r\n\t\t\tonFocus={ onFocus }\r\n\t\t\tcontentRef={ forwardedRef }\r\n\t\t\tcontext={ context }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default function FormatEdit( { formatTypes, ...props } ) {\r\n\treturn formatTypes.map( ( settings ) => (\r\n\t\t<Edit settings={ settings } { ...props } key={ settings.name } />\r\n\t) );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,eAAe,EAAEC,eAAe,QAAQ,sBAAsB;AACvE,SAASC,UAAU,EAAEC,OAAO,QAAQ,oBAAoB;;AAExD;AACA;AACA;AACA,OAAOC,YAAY,MAAM,kBAAkB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,aAAA,IAAAC,cAAA;AAE5C,MAAMC,qBAAqB,GAAG,CAAC,CAAC;AAEhC,OAAO,MAAMC,cAAc,GAAGC,MAAM,CAAE,aAAc,CAAC;AAErD,SAASC,IAAIA,CAAE;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,KAAK;EAAEC,YAAY;EAAEC;AAAS,CAAC,EAAG;EACrE,MAAM;IACLC,IAAI;IACJC,IAAI,EAAEC,YAAY;IAClB,CAAEV,cAAc,GAAIW;EACrB,CAAC,GAAGJ,QAAQ;EAEZ,MAAMK,YAAY,GAAGpB,UAAU,CAAEE,YAAa,CAAC;;EAE/C;EACA,MAAMmB,OAAO,GAAGpB,OAAO,CAAE,MAAM;IAC9B,OAAOkB,WAAW,GACfG,MAAM,CAACC,WAAW,CAClBD,MAAM,CAACE,OAAO,CAAEJ,YAAa,CAAC,CAACK,MAAM,CAAE,CAAE,CAAEC,GAAG,CAAE,KAC/CP,WAAW,CAACQ,QAAQ,CAAED,GAAI,CAC3B,CACA,CAAC,GACDnB,qBAAqB;EACzB,CAAC,EAAE,CAAEY,WAAW,EAAEC,YAAY,CAAG,CAAC;EAElC,IAAK,CAAEF,YAAY,EAAG;IACrB,OAAO,IAAI;EACZ;EAEA,MAAMU,YAAY,GAAG9B,eAAe,CAAEe,KAAK,EAAEG,IAAK,CAAC;EACnD,MAAMa,QAAQ,GAAGD,YAAY,KAAKE,SAAS;EAC3C,MAAMC,YAAY,GAAGhC,eAAe,CAAEc,KAAM,CAAC;EAC7C,MAAMmB,cAAc,GACnBD,YAAY,KAAKD,SAAS,IAAIC,YAAY,CAACE,IAAI,KAAKjB,IAAI;EAEzD,oBACCZ,IAAA,CAACc,YAAY;IAEZW,QAAQ,EAAGA,QAAU;IACrBK,gBAAgB,EAAGL,QAAQ,GAAGD,YAAY,CAACO,UAAU,IAAI,CAAC,CAAC,GAAG,CAAC,CAAG;IAClEH,cAAc,EAAGA,cAAgB;IACjCI,sBAAsB,EACrBJ,cAAc,GAAGD,YAAY,CAACI,UAAU,IAAI,CAAC,CAAC,GAAG,CAAC,CAClD;IACDtB,KAAK,EAAGA,KAAO;IACfF,QAAQ,EAAGA,QAAU;IACrBC,OAAO,EAAGA,OAAS;IACnByB,UAAU,EAAGvB,YAAc;IAC3BO,OAAO,EAAGA;EAAS,GAXbL,IAYN,CAAC;AAEJ;AAEA,eAAe,SAASsB,UAAUA,CAAE;EAAEC,WAAW;EAAE,GAAGC;AAAM,CAAC,EAAG;EAC/D,OAAOD,WAAW,CAACE,GAAG,CAAI1B,QAAQ,iBACjCT,cAAA,CAACI,IAAI;IAACK,QAAQ,EAAGA,QAAU;IAAA,GAAMyB,KAAK;IAAGd,GAAG,EAAGX,QAAQ,CAACC;EAAM,CAAE,CAC/D,CAAC;AACJ","ignoreList":[]}