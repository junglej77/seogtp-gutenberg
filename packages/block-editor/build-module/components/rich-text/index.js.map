{"version":3,"names":["clsx","useRef","useCallback","forwardRef","createContext","useContext","useDispatch","useRegistry","useSelect","useMergeRefs","useInstanceId","__unstableUseRichText","useRichText","removeFormat","Popover","store","blocksStore","deprecated","__","sprintf","useBlockEditorAutocompleteProps","useBlockEditContext","blockBindingsKey","isPreviewModeKey","FormatToolbarContainer","blockEditorStore","useMarkPersistent","useFormatTypes","useEventListeners","FormatEdit","getAllowedFormats","Content","valueToHTMLString","withDeprecations","unlock","canBindBlock","BlockContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","keyboardShortcutContext","inputEventContext","instanceIdKey","Symbol","removeNativeProps","props","__unstableMobileNoFocusOnMount","deleteEnter","placeholderTextColor","textAlign","selectionColor","tagsToEliminate","disableEditingMenu","fontSize","fontFamily","fontWeight","fontStyle","minWidth","maxWidth","disableSuggestions","disableAutocorrection","restProps","RichTextWrapper","children","tagName","value","adjustedValue","onChange","adjustedOnChange","isSelected","originalIsSelected","multiline","inlineToolbar","wrapperClassName","autocompleters","onReplace","placeholder","allowedFormats","withoutInteractiveFormatting","onRemove","onMerge","onSplit","__unstableOnSplitAtEnd","onSplitAtEnd","__unstableOnSplitAtDoubleLineEnd","onSplitAtDoubleLineEnd","identifier","preserveWhiteSpace","__unstablePastePlainText","pastePlainText","__unstableEmbedURLOnPaste","__unstableDisableFormats","disableFormats","disableLineBreaks","__unstableAllowPrefixTransformations","readOnly","forwardedRef","since","alternative","instanceId","anchorRef","context","clientId","isBlockSelected","name","blockName","blockBindings","blockContext","selector","select","getSelectionStart","getSelectionEnd","selectionStart","selectionEnd","undefined","attributeKey","offset","disableBoundBlock","bindingsPlaceholder","relatedBinding","getBlockBindingsSource","blockBindingsSource","source","_disableBoundBlock","canUserEditValue","args","_bindingsPlaceholder","key","label","length","shouldDisableEditing","getBlockRootClientId","selectionChange","adjustedAllowedFormats","hasFormats","onSelectionChange","start","end","selection","unset","baseSelection","formatTypes","prepareHandlers","valueHandlers","changeHandlers","dependencies","addEditorOnlyFormats","reduce","accumulator","fn","text","formats","removeEditorOnlyFormats","forEach","formatType","__experimentalCreatePrepareEditableTree","addInvisibleFormats","getValue","ref","richTextRef","html","__unstableFormats","__unstableText","Object","values","changeHandler","__unstableIsSelected","__unstableDependencies","__unstableAfterParse","__unstableBeforeSerialize","__unstableAddInvisibleFormats","autocompleteProps","completers","record","keyboardShortcuts","Set","inputEvents","onFocus","element","current","parentElement","isContentEditable","focus","registry","TagName","Provider","__unstableSlotNameProvider","inline","editableContentElement","role","contentEditable","suppressContentEditableWarning","className","tabIndex","PrivateRichText","isEmpty","PublicForwardedRichTextContainer","isPreviewMode","Tag","contentProps","dangerouslySetInnerHTML","__html","RichTextShortcut","RichTextToolbarButton","__unstableRichTextInputEvent"],"sources":["@wordpress/block-editor/src/components/rich-text/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tuseRef,\r\n\tuseCallback,\r\n\tforwardRef,\r\n\tcreateContext,\r\n\tuseContext,\r\n} from '@wordpress/element';\r\nimport { useDispatch, useRegistry, useSelect } from '@wordpress/data';\r\nimport { useMergeRefs, useInstanceId } from '@wordpress/compose';\r\nimport {\r\n\t__unstableUseRichText as useRichText,\r\n\tremoveFormat,\r\n} from '@wordpress/rich-text';\r\nimport { Popover } from '@wordpress/components';\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport deprecated from '@wordpress/deprecated';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useBlockEditorAutocompleteProps } from '../autocomplete';\r\nimport { useBlockEditContext } from '../block-edit';\r\nimport { blockBindingsKey, isPreviewModeKey } from '../block-edit/context';\r\nimport FormatToolbarContainer from './format-toolbar-container';\r\nimport { store as blockEditorStore } from '../../store';\r\nimport { useMarkPersistent } from './use-mark-persistent';\r\nimport { useFormatTypes } from './use-format-types';\r\nimport { useEventListeners } from './event-listeners';\r\nimport FormatEdit from './format-edit';\r\nimport { getAllowedFormats } from './utils';\r\nimport { Content, valueToHTMLString } from './content';\r\nimport { withDeprecations } from './with-deprecations';\r\nimport { unlock } from '../../lock-unlock';\r\nimport { canBindBlock } from '../../hooks/use-bindings-attributes';\r\nimport BlockContext from '../block-context';\r\n\r\nexport const keyboardShortcutContext = createContext();\r\nexport const inputEventContext = createContext();\r\n\r\nconst instanceIdKey = Symbol( 'instanceId' );\r\n\r\n/**\r\n * Removes props used for the native version of RichText so that they are not\r\n * passed to the DOM element and log warnings.\r\n *\r\n * @param {Object} props Props to filter.\r\n *\r\n * @return {Object} Filtered props.\r\n */\r\nfunction removeNativeProps( props ) {\r\n\tconst {\r\n\t\t__unstableMobileNoFocusOnMount,\r\n\t\tdeleteEnter,\r\n\t\tplaceholderTextColor,\r\n\t\ttextAlign,\r\n\t\tselectionColor,\r\n\t\ttagsToEliminate,\r\n\t\tdisableEditingMenu,\r\n\t\tfontSize,\r\n\t\tfontFamily,\r\n\t\tfontWeight,\r\n\t\tfontStyle,\r\n\t\tminWidth,\r\n\t\tmaxWidth,\r\n\t\tdisableSuggestions,\r\n\t\tdisableAutocorrection,\r\n\t\t...restProps\r\n\t} = props;\r\n\treturn restProps;\r\n}\r\n\r\nexport function RichTextWrapper(\r\n\t{\r\n\t\tchildren,\r\n\t\ttagName = 'div',\r\n\t\tvalue: adjustedValue = '',\r\n\t\tonChange: adjustedOnChange,\r\n\t\tisSelected: originalIsSelected,\r\n\t\tmultiline,\r\n\t\tinlineToolbar,\r\n\t\twrapperClassName,\r\n\t\tautocompleters,\r\n\t\tonReplace,\r\n\t\tplaceholder,\r\n\t\tallowedFormats,\r\n\t\twithoutInteractiveFormatting,\r\n\t\tonRemove,\r\n\t\tonMerge,\r\n\t\tonSplit,\r\n\t\t__unstableOnSplitAtEnd: onSplitAtEnd,\r\n\t\t__unstableOnSplitAtDoubleLineEnd: onSplitAtDoubleLineEnd,\r\n\t\tidentifier,\r\n\t\tpreserveWhiteSpace,\r\n\t\t__unstablePastePlainText: pastePlainText,\r\n\t\t__unstableEmbedURLOnPaste,\r\n\t\t__unstableDisableFormats: disableFormats,\r\n\t\tdisableLineBreaks,\r\n\t\t__unstableAllowPrefixTransformations,\r\n\t\treadOnly,\r\n\t\t...props\r\n\t},\r\n\tforwardedRef\r\n) {\r\n\tprops = removeNativeProps( props );\r\n\r\n\tif ( onSplit ) {\r\n\t\tdeprecated( 'wp.blockEditor.RichText onSplit prop', {\r\n\t\t\tsince: '6.4',\r\n\t\t\talternative: 'block.json support key: \"splitting\"',\r\n\t\t} );\r\n\t}\r\n\r\n\tconst instanceId = useInstanceId( RichTextWrapper );\r\n\tconst anchorRef = useRef();\r\n\tconst context = useBlockEditContext();\r\n\tconst { clientId, isSelected: isBlockSelected, name: blockName } = context;\r\n\tconst blockBindings = context[ blockBindingsKey ];\r\n\tconst blockContext = useContext( BlockContext );\r\n\tconst selector = ( select ) => {\r\n\t\t// Avoid subscribing to the block editor store if the block is not\r\n\t\t// selected.\r\n\t\tif ( ! isBlockSelected ) {\r\n\t\t\treturn { isSelected: false };\r\n\t\t}\r\n\r\n\t\tconst { getSelectionStart, getSelectionEnd } =\r\n\t\t\tselect( blockEditorStore );\r\n\t\tconst selectionStart = getSelectionStart();\r\n\t\tconst selectionEnd = getSelectionEnd();\r\n\r\n\t\tlet isSelected;\r\n\r\n\t\tif ( originalIsSelected === undefined ) {\r\n\t\t\tisSelected =\r\n\t\t\t\tselectionStart.clientId === clientId &&\r\n\t\t\t\tselectionEnd.clientId === clientId &&\r\n\t\t\t\t( identifier\r\n\t\t\t\t\t? selectionStart.attributeKey === identifier\r\n\t\t\t\t\t: selectionStart[ instanceIdKey ] === instanceId );\r\n\t\t} else if ( originalIsSelected ) {\r\n\t\t\tisSelected = selectionStart.clientId === clientId;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tselectionStart: isSelected ? selectionStart.offset : undefined,\r\n\t\t\tselectionEnd: isSelected ? selectionEnd.offset : undefined,\r\n\t\t\tisSelected,\r\n\t\t};\r\n\t};\r\n\tconst { selectionStart, selectionEnd, isSelected } = useSelect( selector, [\r\n\t\tclientId,\r\n\t\tidentifier,\r\n\t\tinstanceId,\r\n\t\toriginalIsSelected,\r\n\t\tisBlockSelected,\r\n\t] );\r\n\r\n\tconst { disableBoundBlock, bindingsPlaceholder } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tif (\r\n\t\t\t\t! blockBindings?.[ identifier ] ||\r\n\t\t\t\t! canBindBlock( blockName )\r\n\t\t\t) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\r\n\t\t\tconst relatedBinding = blockBindings[ identifier ];\r\n\t\t\tconst { getBlockBindingsSource } = unlock( select( blocksStore ) );\r\n\t\t\tconst blockBindingsSource = getBlockBindingsSource(\r\n\t\t\t\trelatedBinding.source\r\n\t\t\t);\r\n\r\n\t\t\tconst _disableBoundBlock =\r\n\t\t\t\t! blockBindingsSource?.canUserEditValue?.( {\r\n\t\t\t\t\tselect,\r\n\t\t\t\t\tcontext: blockContext,\r\n\t\t\t\t\targs: relatedBinding.args,\r\n\t\t\t\t} );\r\n\r\n\t\t\tconst _bindingsPlaceholder = _disableBoundBlock\r\n\t\t\t\t? relatedBinding?.args?.key || blockBindingsSource?.label\r\n\t\t\t\t: sprintf(\r\n\t\t\t\t\t\t/* translators: %s: source label or key */\r\n\t\t\t\t\t\t__( 'Add %s' ),\r\n\t\t\t\t\t\trelatedBinding?.args?.key || blockBindingsSource?.label\r\n\t\t\t\t  );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tdisableBoundBlock: _disableBoundBlock,\r\n\t\t\t\tbindingsPlaceholder:\r\n\t\t\t\t\t( ! adjustedValue || adjustedValue.length === 0 ) &&\r\n\t\t\t\t\t_bindingsPlaceholder,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ blockBindings, identifier, blockName, blockContext, adjustedValue ]\r\n\t);\r\n\r\n\tconst shouldDisableEditing = readOnly || disableBoundBlock;\r\n\r\n\tconst { getSelectionStart, getSelectionEnd, getBlockRootClientId } =\r\n\t\tuseSelect( blockEditorStore );\r\n\tconst { selectionChange } = useDispatch( blockEditorStore );\r\n\tconst adjustedAllowedFormats = getAllowedFormats( {\r\n\t\tallowedFormats,\r\n\t\tdisableFormats,\r\n\t} );\r\n\tconst hasFormats =\r\n\t\t! adjustedAllowedFormats || adjustedAllowedFormats.length > 0;\r\n\r\n\tconst onSelectionChange = useCallback(\r\n\t\t( start, end ) => {\r\n\t\t\tconst selection = {};\r\n\t\t\tconst unset = start === undefined && end === undefined;\r\n\r\n\t\t\tconst baseSelection = {\r\n\t\t\t\tclientId,\r\n\t\t\t\t[ identifier ? 'attributeKey' : instanceIdKey ]: identifier\r\n\t\t\t\t\t? identifier\r\n\t\t\t\t\t: instanceId,\r\n\t\t\t};\r\n\r\n\t\t\tif ( typeof start === 'number' || unset ) {\r\n\t\t\t\t// If we are only setting the start (or the end below), which\r\n\t\t\t\t// means a partial selection, and we're not updating a selection\r\n\t\t\t\t// with the same client ID, abort. This means the selected block\r\n\t\t\t\t// is a parent block.\r\n\t\t\t\tif (\r\n\t\t\t\t\tend === undefined &&\r\n\t\t\t\t\tgetBlockRootClientId( clientId ) !==\r\n\t\t\t\t\t\tgetBlockRootClientId( getSelectionEnd().clientId )\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tselection.start = {\r\n\t\t\t\t\t...baseSelection,\r\n\t\t\t\t\toffset: start,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof end === 'number' || unset ) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tstart === undefined &&\r\n\t\t\t\t\tgetBlockRootClientId( clientId ) !==\r\n\t\t\t\t\t\tgetBlockRootClientId( getSelectionStart().clientId )\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tselection.end = {\r\n\t\t\t\t\t...baseSelection,\r\n\t\t\t\t\toffset: end,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tselectionChange( selection );\r\n\t\t},\r\n\t\t[\r\n\t\t\tclientId,\r\n\t\t\tgetBlockRootClientId,\r\n\t\t\tgetSelectionEnd,\r\n\t\t\tgetSelectionStart,\r\n\t\t\tidentifier,\r\n\t\t\tinstanceId,\r\n\t\t\tselectionChange,\r\n\t\t]\r\n\t);\r\n\r\n\tconst {\r\n\t\tformatTypes,\r\n\t\tprepareHandlers,\r\n\t\tvalueHandlers,\r\n\t\tchangeHandlers,\r\n\t\tdependencies,\r\n\t} = useFormatTypes( {\r\n\t\tclientId,\r\n\t\tidentifier,\r\n\t\twithoutInteractiveFormatting,\r\n\t\tallowedFormats: adjustedAllowedFormats,\r\n\t} );\r\n\r\n\tfunction addEditorOnlyFormats( value ) {\r\n\t\treturn valueHandlers.reduce(\r\n\t\t\t( accumulator, fn ) => fn( accumulator, value.text ),\r\n\t\t\tvalue.formats\r\n\t\t);\r\n\t}\r\n\r\n\tfunction removeEditorOnlyFormats( value ) {\r\n\t\tformatTypes.forEach( ( formatType ) => {\r\n\t\t\t// Remove formats created by prepareEditableTree, because they are editor only.\r\n\t\t\tif ( formatType.__experimentalCreatePrepareEditableTree ) {\r\n\t\t\t\tvalue = removeFormat(\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t\tformatType.name,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tvalue.text.length\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\treturn value.formats;\r\n\t}\r\n\r\n\tfunction addInvisibleFormats( value ) {\r\n\t\treturn prepareHandlers.reduce(\r\n\t\t\t( accumulator, fn ) => fn( accumulator, value.text ),\r\n\t\t\tvalue.formats\r\n\t\t);\r\n\t}\r\n\r\n\tconst {\r\n\t\tvalue,\r\n\t\tgetValue,\r\n\t\tonChange,\r\n\t\tref: richTextRef,\r\n\t} = useRichText( {\r\n\t\tvalue: adjustedValue,\r\n\t\tonChange( html, { __unstableFormats, __unstableText } ) {\r\n\t\t\tadjustedOnChange( html );\r\n\t\t\tObject.values( changeHandlers ).forEach( ( changeHandler ) => {\r\n\t\t\t\tchangeHandler( __unstableFormats, __unstableText );\r\n\t\t\t} );\r\n\t\t},\r\n\t\tselectionStart,\r\n\t\tselectionEnd,\r\n\t\tonSelectionChange,\r\n\t\tplaceholder: bindingsPlaceholder || placeholder,\r\n\t\t__unstableIsSelected: isSelected,\r\n\t\t__unstableDisableFormats: disableFormats,\r\n\t\tpreserveWhiteSpace,\r\n\t\t__unstableDependencies: [ ...dependencies, tagName ],\r\n\t\t__unstableAfterParse: addEditorOnlyFormats,\r\n\t\t__unstableBeforeSerialize: removeEditorOnlyFormats,\r\n\t\t__unstableAddInvisibleFormats: addInvisibleFormats,\r\n\t} );\r\n\tconst autocompleteProps = useBlockEditorAutocompleteProps( {\r\n\t\tonReplace,\r\n\t\tcompleters: autocompleters,\r\n\t\trecord: value,\r\n\t\tonChange,\r\n\t} );\r\n\r\n\tuseMarkPersistent( { html: adjustedValue, value } );\r\n\r\n\tconst keyboardShortcuts = useRef( new Set() );\r\n\tconst inputEvents = useRef( new Set() );\r\n\r\n\tfunction onFocus() {\r\n\t\tlet element = anchorRef.current;\r\n\r\n\t\tif ( ! element ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Writing flow might be editable, so we should make sure focus goes to\r\n\t\t// the root editable element.\r\n\t\twhile ( element.parentElement?.isContentEditable ) {\r\n\t\t\telement = element.parentElement;\r\n\t\t}\r\n\r\n\t\telement.focus();\r\n\t}\r\n\r\n\tconst registry = useRegistry();\r\n\tconst TagName = tagName;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ isSelected && (\r\n\t\t\t\t<keyboardShortcutContext.Provider value={ keyboardShortcuts }>\r\n\t\t\t\t\t<inputEventContext.Provider value={ inputEvents }>\r\n\t\t\t\t\t\t<Popover.__unstableSlotNameProvider value=\"__unstable-block-tools-after\">\r\n\t\t\t\t\t\t\t{ children &&\r\n\t\t\t\t\t\t\t\tchildren( { value, onChange, onFocus } ) }\r\n\r\n\t\t\t\t\t\t\t<FormatEdit\r\n\t\t\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t\t\t\t\tonFocus={ onFocus }\r\n\t\t\t\t\t\t\t\tformatTypes={ formatTypes }\r\n\t\t\t\t\t\t\t\tforwardedRef={ anchorRef }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Popover.__unstableSlotNameProvider>\r\n\t\t\t\t\t</inputEventContext.Provider>\r\n\t\t\t\t</keyboardShortcutContext.Provider>\r\n\t\t\t) }\r\n\t\t\t{ isSelected && hasFormats && (\r\n\t\t\t\t<FormatToolbarContainer\r\n\t\t\t\t\tinline={ inlineToolbar }\r\n\t\t\t\t\teditableContentElement={ anchorRef.current }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t<TagName\r\n\t\t\t\t// Overridable props.\r\n\t\t\t\trole=\"textbox\"\r\n\t\t\t\taria-multiline={ ! disableLineBreaks }\r\n\t\t\t\taria-readonly={ shouldDisableEditing }\r\n\t\t\t\t{ ...props }\r\n\t\t\t\taria-label={\r\n\t\t\t\t\tbindingsPlaceholder || props[ 'aria-label' ] || placeholder\r\n\t\t\t\t}\r\n\t\t\t\t{ ...autocompleteProps }\r\n\t\t\t\tref={ useMergeRefs( [\r\n\t\t\t\t\t// Rich text ref must be first because its focus listener\r\n\t\t\t\t\t// must be set up before any other ref calls .focus() on\r\n\t\t\t\t\t// mount.\r\n\t\t\t\t\trichTextRef,\r\n\t\t\t\t\tforwardedRef,\r\n\t\t\t\t\tautocompleteProps.ref,\r\n\t\t\t\t\tprops.ref,\r\n\t\t\t\t\tuseEventListeners( {\r\n\t\t\t\t\t\tregistry,\r\n\t\t\t\t\t\tgetValue,\r\n\t\t\t\t\t\tonChange,\r\n\t\t\t\t\t\t__unstableAllowPrefixTransformations,\r\n\t\t\t\t\t\tformatTypes,\r\n\t\t\t\t\t\tonReplace,\r\n\t\t\t\t\t\tselectionChange,\r\n\t\t\t\t\t\tisSelected,\r\n\t\t\t\t\t\tdisableFormats,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\ttagName,\r\n\t\t\t\t\t\tonSplit,\r\n\t\t\t\t\t\t__unstableEmbedURLOnPaste,\r\n\t\t\t\t\t\tpastePlainText,\r\n\t\t\t\t\t\tonMerge,\r\n\t\t\t\t\t\tonRemove,\r\n\t\t\t\t\t\tremoveEditorOnlyFormats,\r\n\t\t\t\t\t\tdisableLineBreaks,\r\n\t\t\t\t\t\tonSplitAtEnd,\r\n\t\t\t\t\t\tonSplitAtDoubleLineEnd,\r\n\t\t\t\t\t\tkeyboardShortcuts,\r\n\t\t\t\t\t\tinputEvents,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t\tanchorRef,\r\n\t\t\t\t] ) }\r\n\t\t\t\tcontentEditable={ ! shouldDisableEditing }\r\n\t\t\t\tsuppressContentEditableWarning\r\n\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t'block-editor-rich-text__editable',\r\n\t\t\t\t\tprops.className,\r\n\t\t\t\t\t'rich-text'\r\n\t\t\t\t) }\r\n\t\t\t\t// Setting tabIndex to 0 is unnecessary, the element is already\r\n\t\t\t\t// focusable because it's contentEditable. This also fixes a\r\n\t\t\t\t// Safari bug where it's not possible to Shift+Click multi\r\n\t\t\t\t// select blocks when Shift Clicking into an element with\r\n\t\t\t\t// tabIndex because Safari will focus the element. However,\r\n\t\t\t\t// Safari will correctly ignore nested contentEditable elements.\r\n\t\t\t\ttabIndex={\r\n\t\t\t\t\tprops.tabIndex === 0 && ! shouldDisableEditing\r\n\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t: props.tabIndex\r\n\t\t\t\t}\r\n\t\t\t\tdata-wp-block-attribute-key={ identifier }\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\n// This is the private API for the RichText component.\r\n// It allows access to all props, not just the public ones.\r\nexport const PrivateRichText = withDeprecations(\r\n\tforwardRef( RichTextWrapper )\r\n);\r\n\r\nPrivateRichText.Content = Content;\r\nPrivateRichText.isEmpty = ( value ) => {\r\n\treturn ! value || value.length === 0;\r\n};\r\n\r\n// This is the public API for the RichText component.\r\n// We wrap the PrivateRichText component to hide some props from the public API.\r\n/**\r\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/rich-text/README.md\r\n */\r\nconst PublicForwardedRichTextContainer = forwardRef( ( props, ref ) => {\r\n\tconst context = useBlockEditContext();\r\n\tconst isPreviewMode = context[ isPreviewModeKey ];\r\n\r\n\tif ( isPreviewMode ) {\r\n\t\t// Remove all non-content props.\r\n\t\tconst {\r\n\t\t\tchildren,\r\n\t\t\ttagName: Tag = 'div',\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\tisSelected,\r\n\t\t\tmultiline,\r\n\t\t\tinlineToolbar,\r\n\t\t\twrapperClassName,\r\n\t\t\tautocompleters,\r\n\t\t\tonReplace,\r\n\t\t\tplaceholder,\r\n\t\t\tallowedFormats,\r\n\t\t\twithoutInteractiveFormatting,\r\n\t\t\tonRemove,\r\n\t\t\tonMerge,\r\n\t\t\tonSplit,\r\n\t\t\t__unstableOnSplitAtEnd,\r\n\t\t\t__unstableOnSplitAtDoubleLineEnd,\r\n\t\t\tidentifier,\r\n\t\t\tpreserveWhiteSpace,\r\n\t\t\t__unstablePastePlainText,\r\n\t\t\t__unstableEmbedURLOnPaste,\r\n\t\t\t__unstableDisableFormats,\r\n\t\t\tdisableLineBreaks,\r\n\t\t\t__unstableAllowPrefixTransformations,\r\n\t\t\treadOnly,\r\n\t\t\t...contentProps\r\n\t\t} = removeNativeProps( props );\r\n\t\treturn (\r\n\t\t\t<Tag\r\n\t\t\t\t{ ...contentProps }\r\n\t\t\t\tdangerouslySetInnerHTML={ {\r\n\t\t\t\t\t__html: valueToHTMLString( value, multiline ),\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn <PrivateRichText ref={ ref } { ...props } readOnly={ false } />;\r\n} );\r\n\r\nPublicForwardedRichTextContainer.Content = Content;\r\nPublicForwardedRichTextContainer.isEmpty = ( value ) => {\r\n\treturn ! value || value.length === 0;\r\n};\r\n\r\nexport default PublicForwardedRichTextContainer;\r\nexport { RichTextShortcut } from './shortcut';\r\nexport { RichTextToolbarButton } from './toolbar-button';\r\nexport { __unstableRichTextInputEvent } from './input-event';\r\n"],"mappings":"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","ignoreList":[]}