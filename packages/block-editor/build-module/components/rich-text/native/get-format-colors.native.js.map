{"version":3,"names":["getColorObjectByAttributeValues","FORMAT_TYPE","REGEX_TO_MATCH","getFormatColors","formats","colors","newFormats","slice","forEach","format","currentFormat","type","className","attributes","class","split","currentClass","match","colorSlug","colorObject","currentStyles","style","color","indexOf","join"],"sources":["@wordpress/block-editor/src/components/rich-text/native/get-format-colors.native.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { getColorObjectByAttributeValues } from '../../../components/colors';\r\n\r\nconst FORMAT_TYPE = 'core/text-color';\r\nconst REGEX_TO_MATCH = /^has-(.*)-color$/;\r\n\r\nexport function getFormatColors( formats, colors ) {\r\n\tconst newFormats = formats.slice();\r\n\r\n\t// We are looping through a sparse array where empty indices will be\r\n\t// skipped.\r\n\tnewFormats.forEach( ( format ) => {\r\n\t\tformat.forEach( ( currentFormat ) => {\r\n\t\t\tif ( currentFormat?.type === FORMAT_TYPE ) {\r\n\t\t\t\tconst className = currentFormat?.attributes?.class;\r\n\r\n\t\t\t\tclassName?.split( ' ' ).forEach( ( currentClass ) => {\r\n\t\t\t\t\tconst match = currentClass.match( REGEX_TO_MATCH );\r\n\t\t\t\t\tif ( match ) {\r\n\t\t\t\t\t\tconst [ , colorSlug ] =\r\n\t\t\t\t\t\t\tcurrentClass.match( REGEX_TO_MATCH );\r\n\t\t\t\t\t\tconst colorObject = getColorObjectByAttributeValues(\r\n\t\t\t\t\t\t\tcolors,\r\n\t\t\t\t\t\t\tcolorSlug\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tconst currentStyles = currentFormat?.attributes?.style;\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tcolorObject?.color &&\r\n\t\t\t\t\t\t\t( ! currentStyles ||\r\n\t\t\t\t\t\t\t\tcurrentStyles?.indexOf( colorObject.color ) ===\r\n\t\t\t\t\t\t\t\t\t-1 )\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tcurrentFormat.attributes.style = [\r\n\t\t\t\t\t\t\t\t`color: ${ colorObject.color }`,\r\n\t\t\t\t\t\t\t\tcurrentStyles,\r\n\t\t\t\t\t\t\t].join( ';' );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\t} );\r\n\r\n\treturn newFormats;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,+BAA+B,QAAQ,4BAA4B;AAE5E,MAAMC,WAAW,GAAG,iBAAiB;AACrC,MAAMC,cAAc,GAAG,kBAAkB;AAEzC,OAAO,SAASC,eAAeA,CAAEC,OAAO,EAAEC,MAAM,EAAG;EAClD,MAAMC,UAAU,GAAGF,OAAO,CAACG,KAAK,CAAC,CAAC;;EAElC;EACA;EACAD,UAAU,CAACE,OAAO,CAAIC,MAAM,IAAM;IACjCA,MAAM,CAACD,OAAO,CAAIE,aAAa,IAAM;MACpC,IAAKA,aAAa,EAAEC,IAAI,KAAKV,WAAW,EAAG;QAC1C,MAAMW,SAAS,GAAGF,aAAa,EAAEG,UAAU,EAAEC,KAAK;QAElDF,SAAS,EAAEG,KAAK,CAAE,GAAI,CAAC,CAACP,OAAO,CAAIQ,YAAY,IAAM;UACpD,MAAMC,KAAK,GAAGD,YAAY,CAACC,KAAK,CAAEf,cAAe,CAAC;UAClD,IAAKe,KAAK,EAAG;YACZ,MAAM,GAAIC,SAAS,CAAE,GACpBF,YAAY,CAACC,KAAK,CAAEf,cAAe,CAAC;YACrC,MAAMiB,WAAW,GAAGnB,+BAA+B,CAClDK,MAAM,EACNa,SACD,CAAC;YACD,MAAME,aAAa,GAAGV,aAAa,EAAEG,UAAU,EAAEQ,KAAK;YACtD,IACCF,WAAW,EAAEG,KAAK,KAChB,CAAEF,aAAa,IAChBA,aAAa,EAAEG,OAAO,CAAEJ,WAAW,CAACG,KAAM,CAAC,KAC1C,CAAC,CAAC,CAAE,EACL;cACDZ,aAAa,CAACG,UAAU,CAACQ,KAAK,GAAG,CAC/B,UAAUF,WAAW,CAACG,KAAO,EAAC,EAC/BF,aAAa,CACb,CAACI,IAAI,CAAE,GAAI,CAAC;YACd;UACD;QACD,CAAE,CAAC;MACJ;IACD,CAAE,CAAC;EACJ,CAAE,CAAC;EAEH,OAAOlB,UAAU;AAClB","ignoreList":[]}