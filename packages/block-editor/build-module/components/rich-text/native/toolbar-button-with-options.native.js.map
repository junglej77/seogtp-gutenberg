{"version":3,"names":["Picker","ToolbarGroup","ToolbarButton","useRef","Icon","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ToolbarButtonWithOptions","options","picker","presentPicker","current","onValueSelected","selectedValue","selectedOption","find","op","value","onClick","length","firstOption","enablePicker","children","title","icon","onLongPress","undefined","ref","onChange","hideCancelButton"],"sources":["@wordpress/block-editor/src/components/rich-text/native/toolbar-button-with-options.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { Picker, ToolbarGroup, ToolbarButton } from '@wordpress/components';\r\nimport { useRef } from '@wordpress/element';\r\nimport { Icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Toolbar button component that, upon a long press, opens a Picker\r\n * to allow selecting from among multiple options.\r\n *\r\n * @param {Object} props         Component props.\r\n * @param {Object} props.options Options to pick from.\r\n */\r\nfunction ToolbarButtonWithOptions( { options } ) {\r\n\tconst picker = useRef();\r\n\r\n\tfunction presentPicker() {\r\n\t\tif ( picker.current ) {\r\n\t\t\tpicker.current.presentPicker();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onValueSelected( selectedValue ) {\r\n\t\tconst selectedOption = options.find(\r\n\t\t\t( op ) => op.value === selectedValue\r\n\t\t);\r\n\t\tif ( selectedOption ) {\r\n\t\t\tselectedOption.onClick();\r\n\t\t}\r\n\t}\r\n\r\n\tif ( ! options || options.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\tconst firstOption = options[ 0 ];\r\n\tconst enablePicker = options.length > 1;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ToolbarGroup>\r\n\t\t\t\t<ToolbarButton\r\n\t\t\t\t\ttitle={ firstOption.title }\r\n\t\t\t\t\ticon={ <Icon icon={ firstOption.icon } /> }\r\n\t\t\t\t\tonClick={ firstOption.onClick }\r\n\t\t\t\t\tonLongPress={ enablePicker ? presentPicker : undefined }\r\n\t\t\t\t/>\r\n\t\t\t</ToolbarGroup>\r\n\t\t\t{ enablePicker && (\r\n\t\t\t\t<Picker\r\n\t\t\t\t\tref={ picker }\r\n\t\t\t\t\toptions={ options }\r\n\t\t\t\t\tonChange={ onValueSelected }\r\n\t\t\t\t\thideCancelButton\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ToolbarButtonWithOptions;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,YAAY,EAAEC,aAAa,QAAQ,uBAAuB;AAC3E,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,IAAI,QAAQ,kBAAkB;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AANA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAOA,SAASC,wBAAwBA,CAAE;EAAEC;AAAQ,CAAC,EAAG;EAChD,MAAMC,MAAM,GAAGV,MAAM,CAAC,CAAC;EAEvB,SAASW,aAAaA,CAAA,EAAG;IACxB,IAAKD,MAAM,CAACE,OAAO,EAAG;MACrBF,MAAM,CAACE,OAAO,CAACD,aAAa,CAAC,CAAC;IAC/B;EACD;EAEA,SAASE,eAAeA,CAAEC,aAAa,EAAG;IACzC,MAAMC,cAAc,GAAGN,OAAO,CAACO,IAAI,CAChCC,EAAE,IAAMA,EAAE,CAACC,KAAK,KAAKJ,aACxB,CAAC;IACD,IAAKC,cAAc,EAAG;MACrBA,cAAc,CAACI,OAAO,CAAC,CAAC;IACzB;EACD;EAEA,IAAK,CAAEV,OAAO,IAAIA,OAAO,CAACW,MAAM,KAAK,CAAC,EAAG;IACxC,OAAO,IAAI;EACZ;EACA,MAAMC,WAAW,GAAGZ,OAAO,CAAE,CAAC,CAAE;EAChC,MAAMa,YAAY,GAAGb,OAAO,CAACW,MAAM,GAAG,CAAC;EAEvC,oBACCb,KAAA,CAAAF,SAAA;IAAAkB,QAAA,gBACCpB,IAAA,CAACL,YAAY;MAAAyB,QAAA,eACZpB,IAAA,CAACJ,aAAa;QACbyB,KAAK,EAAGH,WAAW,CAACG,KAAO;QAC3BC,IAAI,eAAGtB,IAAA,CAACF,IAAI;UAACwB,IAAI,EAAGJ,WAAW,CAACI;QAAM,CAAE,CAAG;QAC3CN,OAAO,EAAGE,WAAW,CAACF,OAAS;QAC/BO,WAAW,EAAGJ,YAAY,GAAGX,aAAa,GAAGgB;MAAW,CACxD;IAAC,CACW,CAAC,EACbL,YAAY,iBACbnB,IAAA,CAACN,MAAM;MACN+B,GAAG,EAAGlB,MAAQ;MACdD,OAAO,EAAGA,OAAS;MACnBoB,QAAQ,EAAGhB,eAAiB;MAC5BiB,gBAAgB;IAAA,CAChB,CACD;EAAA,CACA,CAAC;AAEL;AAEA,eAAetB,wBAAwB","ignoreList":[]}