{"version":3,"names":["__","sidesAll","sidesBottom","sidesHorizontal","sidesLeft","sidesRight","sidesTop","sidesVertical","RANGE_CONTROL_MAX_SIZE","ALL_SIDES","DEFAULT_VALUES","top","undefined","right","bottom","left","ICONS","custom","axial","horizontal","vertical","LABELS","default","mixed","VIEWS","isValueSpacingPreset","value","includes","getCustomValueFromPreset","spacingSizes","slug","getSpacingPresetSlug","spacingSize","find","size","String","getPresetValueFromCustomValue","spacingMatch","getSpacingPresetCssVar","match","getSliderValueFromPreset","presetValue","parseFloat","sliderValue","findIndex","NaN","mode","arr","sort","a","b","filter","v","length","pop","getAllRawValue","values","Object","isValuesMixed","sides","Set","isValuesDefined","hasAxisSupport","axis","hasHorizontalSupport","hasVerticalSupport","getSupportedMenuItems","menuItems","label","icon","numberOfIndividualSides","forEach","side","hasBalancedSidesSupport","counts","getInitialView","sideValues","Boolean","hasMatchingAxialValues","hasNoValuesAndBalancedSides","entries","some","key"],"sources":["@wordpress/block-editor/src/components/spacing-sizes-control/utils.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tsidesAll,\r\n\tsidesBottom,\r\n\tsidesHorizontal,\r\n\tsidesLeft,\r\n\tsidesRight,\r\n\tsidesTop,\r\n\tsidesVertical,\r\n} from '@wordpress/icons';\r\n\r\nexport const RANGE_CONTROL_MAX_SIZE = 8;\r\n\r\nexport const ALL_SIDES = [ 'top', 'right', 'bottom', 'left' ];\r\n\r\nexport const DEFAULT_VALUES = {\r\n\ttop: undefined,\r\n\tright: undefined,\r\n\tbottom: undefined,\r\n\tleft: undefined,\r\n};\r\n\r\nexport const ICONS = {\r\n\tcustom: sidesAll,\r\n\taxial: sidesAll,\r\n\thorizontal: sidesHorizontal,\r\n\tvertical: sidesVertical,\r\n\ttop: sidesTop,\r\n\tright: sidesRight,\r\n\tbottom: sidesBottom,\r\n\tleft: sidesLeft,\r\n};\r\n\r\nexport const LABELS = {\r\n\tdefault: __( 'Spacing control' ),\r\n\ttop: __( 'Top' ),\r\n\tbottom: __( 'Bottom' ),\r\n\tleft: __( 'Left' ),\r\n\tright: __( 'Right' ),\r\n\tmixed: __( 'Mixed' ),\r\n\tvertical: __( 'Vertical' ),\r\n\thorizontal: __( 'Horizontal' ),\r\n\taxial: __( 'Horizontal & vertical' ),\r\n\tcustom: __( 'Custom' ),\r\n};\r\n\r\nexport const VIEWS = {\r\n\taxial: 'axial',\r\n\ttop: 'top',\r\n\tright: 'right',\r\n\tbottom: 'bottom',\r\n\tleft: 'left',\r\n\tcustom: 'custom',\r\n};\r\n\r\n/**\r\n * Checks is given value is a spacing preset.\r\n *\r\n * @param {string} value Value to check\r\n *\r\n * @return {boolean} Return true if value is string in format var:preset|spacing|.\r\n */\r\nexport function isValueSpacingPreset( value ) {\r\n\tif ( ! value?.includes ) {\r\n\t\treturn false;\r\n\t}\r\n\treturn value === '0' || value.includes( 'var:preset|spacing|' );\r\n}\r\n\r\n/**\r\n * Converts a spacing preset into a custom value.\r\n *\r\n * @param {string} value        Value to convert\r\n * @param {Array}  spacingSizes Array of the current spacing preset objects\r\n *\r\n * @return {string} Mapping of the spacing preset to its equivalent custom value.\r\n */\r\nexport function getCustomValueFromPreset( value, spacingSizes ) {\r\n\tif ( ! isValueSpacingPreset( value ) ) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tconst slug = getSpacingPresetSlug( value );\r\n\tconst spacingSize = spacingSizes.find(\r\n\t\t( size ) => String( size.slug ) === slug\r\n\t);\r\n\r\n\treturn spacingSize?.size;\r\n}\r\n\r\n/**\r\n * Converts a custom value to preset value if one can be found.\r\n *\r\n * Returns value as-is if no match is found.\r\n *\r\n * @param {string} value        Value to convert\r\n * @param {Array}  spacingSizes Array of the current spacing preset objects\r\n *\r\n * @return {string} The preset value if it can be found.\r\n */\r\nexport function getPresetValueFromCustomValue( value, spacingSizes ) {\r\n\t// Return value as-is if it is undefined or is already a preset, or '0';\r\n\tif ( ! value || isValueSpacingPreset( value ) || value === '0' ) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tconst spacingMatch = spacingSizes.find(\r\n\t\t( size ) => String( size.size ) === String( value )\r\n\t);\r\n\r\n\tif ( spacingMatch?.slug ) {\r\n\t\treturn `var:preset|spacing|${ spacingMatch.slug }`;\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\n/**\r\n * Converts a spacing preset into a custom value.\r\n *\r\n * @param {string} value Value to convert.\r\n *\r\n * @return {string | undefined} CSS var string for given spacing preset value.\r\n */\r\nexport function getSpacingPresetCssVar( value ) {\r\n\tif ( ! value ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst slug = value.match( /var:preset\\|spacing\\|(.+)/ );\r\n\r\n\tif ( ! slug ) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\treturn `var(--wp--preset--spacing--${ slug[ 1 ] })`;\r\n}\r\n\r\n/**\r\n * Returns the slug section of the given spacing preset string.\r\n *\r\n * @param {string} value Value to extract slug from.\r\n *\r\n * @return {string|undefined} The int value of the slug from given spacing preset.\r\n */\r\nexport function getSpacingPresetSlug( value ) {\r\n\tif ( ! value ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( value === '0' || value === 'default' ) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tconst slug = value.match( /var:preset\\|spacing\\|(.+)/ );\r\n\r\n\treturn slug ? slug[ 1 ] : undefined;\r\n}\r\n\r\n/**\r\n * Converts spacing preset value into a Range component value .\r\n *\r\n * @param {string} presetValue  Value to convert to Range value.\r\n * @param {Array}  spacingSizes Array of current spacing preset value objects.\r\n *\r\n * @return {number} The int value for use in Range control.\r\n */\r\nexport function getSliderValueFromPreset( presetValue, spacingSizes ) {\r\n\tif ( presetValue === undefined ) {\r\n\t\treturn 0;\r\n\t}\r\n\tconst slug =\r\n\t\tparseFloat( presetValue, 10 ) === 0\r\n\t\t\t? '0'\r\n\t\t\t: getSpacingPresetSlug( presetValue );\r\n\tconst sliderValue = spacingSizes.findIndex( ( spacingSize ) => {\r\n\t\treturn String( spacingSize.slug ) === slug;\r\n\t} );\r\n\r\n\t// Returning NaN rather than undefined as undefined makes range control thumb sit in center\r\n\treturn sliderValue !== -1 ? sliderValue : NaN;\r\n}\r\n\r\n/**\r\n * Gets an items with the most occurrence within an array\r\n * https://stackoverflow.com/a/20762713\r\n *\r\n * @param {Array<any>} arr Array of items to check.\r\n * @return {any} The item with the most occurrences.\r\n */\r\nfunction mode( arr ) {\r\n\treturn arr\r\n\t\t.sort(\r\n\t\t\t( a, b ) =>\r\n\t\t\t\tarr.filter( ( v ) => v === a ).length -\r\n\t\t\t\tarr.filter( ( v ) => v === b ).length\r\n\t\t)\r\n\t\t.pop();\r\n}\r\n\r\n/**\r\n * Gets the 'all' input value from values data.\r\n *\r\n * @param {Object} values Box spacing values\r\n *\r\n * @return {string} The most common value from all sides of box.\r\n */\r\nexport function getAllRawValue( values = {} ) {\r\n\treturn mode( Object.values( values ) );\r\n}\r\n\r\n/**\r\n * Checks to determine if values are mixed.\r\n *\r\n * @param {Object} values Box values.\r\n * @param {Array}  sides  Sides that values relate to.\r\n *\r\n * @return {boolean} Whether values are mixed.\r\n */\r\nexport function isValuesMixed( values = {}, sides = ALL_SIDES ) {\r\n\treturn (\r\n\t\t( Object.values( values ).length >= 1 &&\r\n\t\t\tObject.values( values ).length < sides.length ) ||\r\n\t\tnew Set( Object.values( values ) ).size > 1\r\n\t);\r\n}\r\n\r\n/**\r\n * Checks to determine if values are defined.\r\n *\r\n * @param {Object} values Box values.\r\n *\r\n * @return {boolean} Whether values are defined.\r\n */\r\nexport function isValuesDefined( values ) {\r\n\tif ( values === undefined || values === null ) {\r\n\t\treturn false;\r\n\t}\r\n\treturn Object.values( values ).filter( ( value ) => !! value ).length > 0;\r\n}\r\n\r\n/**\r\n * Determines whether a particular axis has support. If no axis is\r\n * specified, this function checks if either axis is supported.\r\n *\r\n * @param {Array}  sides Supported sides.\r\n * @param {string} axis  Which axis to check.\r\n *\r\n * @return {boolean} Whether there is support for the specified axis or both axes.\r\n */\r\nexport function hasAxisSupport( sides, axis ) {\r\n\tif ( ! sides || ! sides.length ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst hasHorizontalSupport =\r\n\t\tsides.includes( 'horizontal' ) ||\r\n\t\t( sides.includes( 'left' ) && sides.includes( 'right' ) );\r\n\r\n\tconst hasVerticalSupport =\r\n\t\tsides.includes( 'vertical' ) ||\r\n\t\t( sides.includes( 'top' ) && sides.includes( 'bottom' ) );\r\n\r\n\tif ( axis === 'horizontal' ) {\r\n\t\treturn hasHorizontalSupport;\r\n\t}\r\n\r\n\tif ( axis === 'vertical' ) {\r\n\t\treturn hasVerticalSupport;\r\n\t}\r\n\r\n\treturn hasHorizontalSupport || hasVerticalSupport;\r\n}\r\n\r\n/**\r\n * Determines which menu options should be included in the SidePicker.\r\n *\r\n * @param {Array} sides Supported sides.\r\n *\r\n * @return {Object} Menu options with each option containing label & icon.\r\n */\r\nexport function getSupportedMenuItems( sides ) {\r\n\tif ( ! sides || ! sides.length ) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tconst menuItems = {};\r\n\r\n\t// Determine the primary \"side\" menu options.\r\n\tconst hasHorizontalSupport = hasAxisSupport( sides, 'horizontal' );\r\n\tconst hasVerticalSupport = hasAxisSupport( sides, 'vertical' );\r\n\r\n\tif ( hasHorizontalSupport && hasVerticalSupport ) {\r\n\t\tmenuItems.axial = { label: LABELS.axial, icon: ICONS.axial };\r\n\t} else if ( hasHorizontalSupport ) {\r\n\t\tmenuItems.axial = { label: LABELS.horizontal, icon: ICONS.horizontal };\r\n\t} else if ( hasVerticalSupport ) {\r\n\t\tmenuItems.axial = { label: LABELS.vertical, icon: ICONS.vertical };\r\n\t}\r\n\r\n\t// Track whether we have any individual sides so we can omit the custom\r\n\t// option if required.\r\n\tlet numberOfIndividualSides = 0;\r\n\r\n\tALL_SIDES.forEach( ( side ) => {\r\n\t\tif ( sides.includes( side ) ) {\r\n\t\t\tnumberOfIndividualSides += 1;\r\n\t\t\tmenuItems[ side ] = {\r\n\t\t\t\tlabel: LABELS[ side ],\r\n\t\t\t\ticon: ICONS[ side ],\r\n\t\t\t};\r\n\t\t}\r\n\t} );\r\n\r\n\t// Add custom item if there are enough sides to warrant a separated view.\r\n\tif ( numberOfIndividualSides > 1 ) {\r\n\t\tmenuItems.custom = { label: LABELS.custom, icon: ICONS.custom };\r\n\t}\r\n\r\n\treturn menuItems;\r\n}\r\n\r\n/**\r\n * Checks if the supported sides are balanced for each axis.\r\n * - Horizontal - both left and right sides are supported.\r\n * - Vertical - both top and bottom are supported.\r\n *\r\n * @param {Array} sides The supported sides which may be axes as well.\r\n *\r\n * @return {boolean} Whether or not the supported sides are balanced.\r\n */\r\nexport function hasBalancedSidesSupport( sides = [] ) {\r\n\tconst counts = { top: 0, right: 0, bottom: 0, left: 0 };\r\n\tsides.forEach( ( side ) => ( counts[ side ] += 1 ) );\r\n\r\n\treturn (\r\n\t\t( counts.top + counts.bottom ) % 2 === 0 &&\r\n\t\t( counts.left + counts.right ) % 2 === 0\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines which view the SpacingSizesControl should default to on its\r\n * first render; Axial, Custom, or Single side.\r\n *\r\n * @param {Object} values Current side values.\r\n * @param {Array}  sides  Supported sides.\r\n *\r\n * @return {string} View to display.\r\n */\r\nexport function getInitialView( values = {}, sides ) {\r\n\tconst { top, right, bottom, left } = values;\r\n\tconst sideValues = [ top, right, bottom, left ].filter( Boolean );\r\n\r\n\t// Axial ( Horizontal & vertical ).\r\n\t// - Has axial side support\r\n\t// - Has axial side values which match\r\n\t// - Has no values and the supported sides are balanced\r\n\tconst hasMatchingAxialValues =\r\n\t\ttop === bottom && left === right && ( !! top || !! left );\r\n\tconst hasNoValuesAndBalancedSides =\r\n\t\t! sideValues.length && hasBalancedSidesSupport( sides );\r\n\r\n\tif (\r\n\t\thasAxisSupport( sides ) &&\r\n\t\t( hasMatchingAxialValues || hasNoValuesAndBalancedSides )\r\n\t) {\r\n\t\treturn VIEWS.axial;\r\n\t}\r\n\r\n\t// Single side.\r\n\t// - Ensure the side returned is the first side that has a value.\r\n\tif ( sideValues.length === 1 ) {\r\n\t\tlet side;\r\n\r\n\t\tObject.entries( values ).some( ( [ key, value ] ) => {\r\n\t\t\tside = key;\r\n\t\t\treturn value !== undefined;\r\n\t\t} );\r\n\r\n\t\treturn side;\r\n\t}\r\n\r\n\t// Only single side supported and no value defined.\r\n\tif ( sides?.length === 1 && ! sideValues.length ) {\r\n\t\treturn sides[ 0 ];\r\n\t}\r\n\r\n\t// Default to the Custom (separated sides) view.\r\n\treturn VIEWS.custom;\r\n}\r\n"],"mappings":"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","ignoreList":[]}