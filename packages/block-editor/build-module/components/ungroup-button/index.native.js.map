{"version":3,"names":["store","blocksStore","ToolbarGroup","ToolbarButton","__","withSelect","withDispatch","compose","ungroup","blockEditorStore","jsx","_jsx","noop","EMPTY_BLOCKS_LIST","UngroupButton","onConvertFromGroup","isUngroupable","children","title","icon","onClick","select","getSelectedBlockClientId","getBlock","getGroupingBlockName","selectedId","selectedBlock","groupingBlockName","innerBlocks","length","name","clientId","dispatch","onToggle","replaceBlocks"],"sources":["@wordpress/block-editor/src/components/ungroup-button/index.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport { ToolbarGroup, ToolbarButton } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { withSelect, withDispatch } from '@wordpress/data';\r\nimport { compose } from '@wordpress/compose';\r\nimport { ungroup } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\nconst noop = () => {};\r\nconst EMPTY_BLOCKS_LIST = [];\r\n\r\nexport function UngroupButton( { onConvertFromGroup, isUngroupable = false } ) {\r\n\tif ( ! isUngroupable ) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<ToolbarGroup>\r\n\t\t\t<ToolbarButton\r\n\t\t\t\ttitle={ __( 'Ungroup' ) }\r\n\t\t\t\ticon={ ungroup }\r\n\t\t\t\tonClick={ onConvertFromGroup }\r\n\t\t\t/>\r\n\t\t</ToolbarGroup>\r\n\t);\r\n}\r\n\r\nexport default compose( [\r\n\twithSelect( ( select ) => {\r\n\t\tconst { getSelectedBlockClientId, getBlock } =\r\n\t\t\tselect( blockEditorStore );\r\n\r\n\t\tconst { getGroupingBlockName } = select( blocksStore );\r\n\r\n\t\tconst selectedId = getSelectedBlockClientId();\r\n\t\tconst selectedBlock = getBlock( selectedId );\r\n\r\n\t\tconst groupingBlockName = getGroupingBlockName();\r\n\r\n\t\tconst isUngroupable =\r\n\t\t\tselectedBlock &&\r\n\t\t\tselectedBlock.innerBlocks &&\r\n\t\t\tselectedBlock.innerBlocks.length > 0 &&\r\n\t\t\tselectedBlock.name === groupingBlockName;\r\n\r\n\t\tconst innerBlocks = isUngroupable\r\n\t\t\t? selectedBlock.innerBlocks\r\n\t\t\t: EMPTY_BLOCKS_LIST;\r\n\r\n\t\treturn {\r\n\t\t\tisUngroupable,\r\n\t\t\tclientId: selectedId,\r\n\t\t\tinnerBlocks,\r\n\t\t};\r\n\t} ),\r\n\twithDispatch( ( dispatch, { clientId, innerBlocks, onToggle = noop } ) => {\r\n\t\tconst { replaceBlocks } = dispatch( blockEditorStore );\r\n\r\n\t\treturn {\r\n\t\t\tonConvertFromGroup() {\r\n\t\t\t\tif ( ! innerBlocks.length ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treplaceBlocks( clientId, innerBlocks );\r\n\r\n\t\t\t\tonToggle();\r\n\t\t\t},\r\n\t\t};\r\n\t} ),\r\n] )( UngroupButton );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,YAAY,EAAEC,aAAa,QAAQ,uBAAuB;AACnE,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,UAAU,EAAEC,YAAY,QAAQ,iBAAiB;AAC1D,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,OAAO,QAAQ,kBAAkB;;AAE1C;AACA;AACA;AACA,SAASR,KAAK,IAAIS,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExD,MAAMC,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AACrB,MAAMC,iBAAiB,GAAG,EAAE;AAE5B,OAAO,SAASC,aAAaA,CAAE;EAAEC,kBAAkB;EAAEC,aAAa,GAAG;AAAM,CAAC,EAAG;EAC9E,IAAK,CAAEA,aAAa,EAAG;IACtB,OAAO,IAAI;EACZ;EACA,oBACCL,IAAA,CAACT,YAAY;IAAAe,QAAA,eACZN,IAAA,CAACR,aAAa;MACbe,KAAK,EAAGd,EAAE,CAAE,SAAU,CAAG;MACzBe,IAAI,EAAGX,OAAS;MAChBY,OAAO,EAAGL;IAAoB,CAC9B;EAAC,CACW,CAAC;AAEjB;AAEA,eAAeR,OAAO,CAAE,CACvBF,UAAU,CAAIgB,MAAM,IAAM;EACzB,MAAM;IAAEC,wBAAwB;IAAEC;EAAS,CAAC,GAC3CF,MAAM,CAAEZ,gBAAiB,CAAC;EAE3B,MAAM;IAAEe;EAAqB,CAAC,GAAGH,MAAM,CAAEpB,WAAY,CAAC;EAEtD,MAAMwB,UAAU,GAAGH,wBAAwB,CAAC,CAAC;EAC7C,MAAMI,aAAa,GAAGH,QAAQ,CAAEE,UAAW,CAAC;EAE5C,MAAME,iBAAiB,GAAGH,oBAAoB,CAAC,CAAC;EAEhD,MAAMR,aAAa,GAClBU,aAAa,IACbA,aAAa,CAACE,WAAW,IACzBF,aAAa,CAACE,WAAW,CAACC,MAAM,GAAG,CAAC,IACpCH,aAAa,CAACI,IAAI,KAAKH,iBAAiB;EAEzC,MAAMC,WAAW,GAAGZ,aAAa,GAC9BU,aAAa,CAACE,WAAW,GACzBf,iBAAiB;EAEpB,OAAO;IACNG,aAAa;IACbe,QAAQ,EAAEN,UAAU;IACpBG;EACD,CAAC;AACF,CAAE,CAAC,EACHtB,YAAY,CAAE,CAAE0B,QAAQ,EAAE;EAAED,QAAQ;EAAEH,WAAW;EAAEK,QAAQ,GAAGrB;AAAK,CAAC,KAAM;EACzE,MAAM;IAAEsB;EAAc,CAAC,GAAGF,QAAQ,CAAEvB,gBAAiB,CAAC;EAEtD,OAAO;IACNM,kBAAkBA,CAAA,EAAG;MACpB,IAAK,CAAEa,WAAW,CAACC,MAAM,EAAG;QAC3B;MACD;MAEAK,aAAa,CAAEH,QAAQ,EAAEH,WAAY,CAAC;MAEtCK,QAAQ,CAAC,CAAC;IACX;EACD,CAAC;AACF,CAAE,CAAC,CACF,CAAC,CAAEnB,aAAc,CAAC","ignoreList":[]}