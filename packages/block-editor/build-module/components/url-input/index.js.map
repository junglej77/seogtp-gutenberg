{"version":3,"names":["clsx","__","sprintf","_n","Component","createRef","UP","DOWN","ENTER","TAB","BaseControl","Button","Spinner","withSpokenMessages","Popover","compose","debounce","withInstanceId","withSafeTimeout","withSelect","isURL","store","blockEditorStore","Fragment","_Fragment","jsxs","_jsxs","jsx","_jsx","createElement","_createElement","isFunction","maybeFunc","URLInput","constructor","props","onChange","bind","onFocus","onKeyDown","selectLink","handleOnClick","bindSuggestionNode","autocompleteRef","inputRef","updateSuggestions","suggestionNodes","suggestionsRequest","state","suggestions","showSuggestions","suggestionsValue","selectedSuggestion","suggestionsListboxId","suggestionOptionIdPrefix","componentDidUpdate","prevProps","value","__experimentalShowInitialSuggestions","scrollIntoView","behavior","block","inline","disableSuggestions","length","componentDidMount","shouldShowInitialSuggestions","componentWillUnmount","cancel","index","ref","__experimentalFetchLinkSuggestions","fetchLinkSuggestions","__experimentalHandleURLSuggestions","handleURLSuggestions","isInitialSuggestions","trim","setState","loading","request","then","debouncedSpeak","catch","finally","event","target","keyCode","selectionStart","preventDefault","setSelectionRange","onSubmit","suggestion","previousIndex","nextIndex","speak","url","current","focus","getDerivedStateFromProps","instanceId","shouldShowSuggestions","hasValue","render","children","renderControl","renderSuggestions","label","className","isFullWidth","placeholder","__experimentalRenderControl","hideLabelFromVision","inputId","controlProps","id","inputProps","required","type","role","undefined","__nextHasNoMarginBottom","__experimentalRenderSuggestions","suggestionsListProps","buildSuggestionItemProps","tabIndex","isLoading","handleSuggestionClick","currentInputValue","placement","focusOnMount","map","__next40pxDefaultSize","key","onClick","title","select","getSettings"],"sources":["@wordpress/block-editor/src/components/url-input/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf, _n } from '@wordpress/i18n';\r\nimport { Component, createRef } from '@wordpress/element';\r\nimport { UP, DOWN, ENTER, TAB } from '@wordpress/keycodes';\r\nimport {\r\n\tBaseControl,\r\n\tButton,\r\n\tSpinner,\r\n\twithSpokenMessages,\r\n\tPopover,\r\n} from '@wordpress/components';\r\nimport {\r\n\tcompose,\r\n\tdebounce,\r\n\twithInstanceId,\r\n\twithSafeTimeout,\r\n} from '@wordpress/compose';\r\nimport { withSelect } from '@wordpress/data';\r\nimport { isURL } from '@wordpress/url';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as blockEditorStore } from '../../store';\r\n\r\n/**\r\n * Whether the argument is a function.\r\n *\r\n * @param {*} maybeFunc The argument to check.\r\n * @return {boolean} True if the argument is a function, false otherwise.\r\n */\r\nfunction isFunction( maybeFunc ) {\r\n\treturn typeof maybeFunc === 'function';\r\n}\r\n\r\nclass URLInput extends Component {\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\r\n\t\tthis.onChange = this.onChange.bind( this );\r\n\t\tthis.onFocus = this.onFocus.bind( this );\r\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\r\n\t\tthis.selectLink = this.selectLink.bind( this );\r\n\t\tthis.handleOnClick = this.handleOnClick.bind( this );\r\n\t\tthis.bindSuggestionNode = this.bindSuggestionNode.bind( this );\r\n\t\tthis.autocompleteRef = props.autocompleteRef || createRef();\r\n\t\tthis.inputRef = createRef();\r\n\t\tthis.updateSuggestions = debounce(\r\n\t\t\tthis.updateSuggestions.bind( this ),\r\n\t\t\t200\r\n\t\t);\r\n\r\n\t\tthis.suggestionNodes = [];\r\n\r\n\t\tthis.suggestionsRequest = null;\r\n\r\n\t\tthis.state = {\r\n\t\t\tsuggestions: [],\r\n\t\t\tshowSuggestions: false,\r\n\t\t\tsuggestionsValue: null,\r\n\t\t\tselectedSuggestion: null,\r\n\t\t\tsuggestionsListboxId: '',\r\n\t\t\tsuggestionOptionIdPrefix: '',\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidUpdate( prevProps ) {\r\n\t\tconst { showSuggestions, selectedSuggestion } = this.state;\r\n\t\tconst { value, __experimentalShowInitialSuggestions = false } =\r\n\t\t\tthis.props;\r\n\r\n\t\t// Only have to worry about scrolling selected suggestion into view\r\n\t\t// when already expanded.\r\n\t\tif (\r\n\t\t\tshowSuggestions &&\r\n\t\t\tselectedSuggestion !== null &&\r\n\t\t\tthis.suggestionNodes[ selectedSuggestion ]\r\n\t\t) {\r\n\t\t\tthis.suggestionNodes[ selectedSuggestion ].scrollIntoView( {\r\n\t\t\t\tbehavior: 'instant',\r\n\t\t\t\tblock: 'nearest',\r\n\t\t\t\tinline: 'nearest',\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// Update suggestions when the value changes.\r\n\t\tif ( prevProps.value !== value && ! this.props.disableSuggestions ) {\r\n\t\t\tif ( value?.length ) {\r\n\t\t\t\t// If the new value is not empty we need to update with suggestions for it.\r\n\t\t\t\tthis.updateSuggestions( value );\r\n\t\t\t} else if ( __experimentalShowInitialSuggestions ) {\r\n\t\t\t\t// If the new value is empty and we can show initial suggestions, then show initial suggestions.\r\n\t\t\t\tthis.updateSuggestions();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif ( this.shouldShowInitialSuggestions() ) {\r\n\t\t\tthis.updateSuggestions();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.suggestionsRequest?.cancel?.();\r\n\t\tthis.suggestionsRequest = null;\r\n\t}\r\n\r\n\tbindSuggestionNode( index ) {\r\n\t\treturn ( ref ) => {\r\n\t\t\tthis.suggestionNodes[ index ] = ref;\r\n\t\t};\r\n\t}\r\n\r\n\tshouldShowInitialSuggestions() {\r\n\t\tconst { __experimentalShowInitialSuggestions = false, value } =\r\n\t\t\tthis.props;\r\n\t\treturn (\r\n\t\t\t__experimentalShowInitialSuggestions && ! ( value && value.length )\r\n\t\t);\r\n\t}\r\n\r\n\tupdateSuggestions( value = '' ) {\r\n\t\tconst {\r\n\t\t\t__experimentalFetchLinkSuggestions: fetchLinkSuggestions,\r\n\t\t\t__experimentalHandleURLSuggestions: handleURLSuggestions,\r\n\t\t} = this.props;\r\n\r\n\t\tif ( ! fetchLinkSuggestions ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Initial suggestions may only show if there is no value\r\n\t\t// (note: this includes whitespace).\r\n\t\tconst isInitialSuggestions = ! value?.length;\r\n\r\n\t\t// Trim only now we've determined whether or not it originally had a \"length\"\r\n\t\t// (even if that value was all whitespace).\r\n\t\tvalue = value.trim();\r\n\r\n\t\t// Allow a suggestions request if:\r\n\t\t// - there are at least 2 characters in the search input (except manual searches where\r\n\t\t//   search input length is not required to trigger a fetch)\r\n\t\t// - this is a direct entry (eg: a URL)\r\n\t\tif (\r\n\t\t\t! isInitialSuggestions &&\r\n\t\t\t( value.length < 2 || ( ! handleURLSuggestions && isURL( value ) ) )\r\n\t\t) {\r\n\t\t\tthis.suggestionsRequest?.cancel?.();\r\n\t\t\tthis.suggestionsRequest = null;\r\n\r\n\t\t\tthis.setState( {\r\n\t\t\t\tsuggestions: [],\r\n\t\t\t\tshowSuggestions: false,\r\n\t\t\t\tsuggestionsValue: value,\r\n\t\t\t\tselectedSuggestion: null,\r\n\t\t\t\tloading: false,\r\n\t\t\t} );\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState( {\r\n\t\t\tselectedSuggestion: null,\r\n\t\t\tloading: true,\r\n\t\t} );\r\n\r\n\t\tconst request = fetchLinkSuggestions( value, {\r\n\t\t\tisInitialSuggestions,\r\n\t\t} );\r\n\r\n\t\trequest\r\n\t\t\t.then( ( suggestions ) => {\r\n\t\t\t\t// A fetch Promise doesn't have an abort option. It's mimicked by\r\n\t\t\t\t// comparing the request reference in on the instance, which is\r\n\t\t\t\t// reset or deleted on subsequent requests or unmounting.\r\n\t\t\t\tif ( this.suggestionsRequest !== request ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setState( {\r\n\t\t\t\t\tsuggestions,\r\n\t\t\t\t\tsuggestionsValue: value,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tshowSuggestions: !! suggestions.length,\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tif ( !! suggestions.length ) {\r\n\t\t\t\t\tthis.props.debouncedSpeak(\r\n\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t/* translators: %s: number of results. */\r\n\t\t\t\t\t\t\t_n(\r\n\t\t\t\t\t\t\t\t'%d result found, use up and down arrow keys to navigate.',\r\n\t\t\t\t\t\t\t\t'%d results found, use up and down arrow keys to navigate.',\r\n\t\t\t\t\t\t\t\tsuggestions.length\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tsuggestions.length\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t'assertive'\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.props.debouncedSpeak(\r\n\t\t\t\t\t\t__( 'No results.' ),\r\n\t\t\t\t\t\t'assertive'\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.catch( () => {\r\n\t\t\t\tif ( this.suggestionsRequest !== request ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setState( {\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t} );\r\n\t\t\t} )\r\n\t\t\t.finally( () => {\r\n\t\t\t\t// If this is the current promise then reset the reference\r\n\t\t\t\t// to allow for checking if a new request is made.\r\n\t\t\t\tif ( this.suggestionsRequest === request ) {\r\n\t\t\t\t\tthis.suggestionsRequest = null;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t// Note that this assignment is handled *before* the async search request\r\n\t\t// as a Promise always resolves on the next tick of the event loop.\r\n\t\tthis.suggestionsRequest = request;\r\n\t}\r\n\r\n\tonChange( event ) {\r\n\t\tthis.props.onChange( event.target.value );\r\n\t}\r\n\r\n\tonFocus() {\r\n\t\tconst { suggestions } = this.state;\r\n\t\tconst { disableSuggestions, value } = this.props;\r\n\r\n\t\t// When opening the link editor, if there's a value present, we want to load the suggestions pane with the results for this input search value\r\n\t\t// Don't re-run the suggestions on focus if there are already suggestions present (prevents searching again when tabbing between the input and buttons)\r\n\t\t// or there is already a request in progress.\r\n\t\tif (\r\n\t\t\tvalue &&\r\n\t\t\t! disableSuggestions &&\r\n\t\t\t! ( suggestions && suggestions.length ) &&\r\n\t\t\tthis.suggestionsRequest === null\r\n\t\t) {\r\n\t\t\t// Ensure the suggestions are updated with the current input value.\r\n\t\t\tthis.updateSuggestions( value );\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyDown( event ) {\r\n\t\tthis.props.onKeyDown?.( event );\r\n\t\tconst { showSuggestions, selectedSuggestion, suggestions, loading } =\r\n\t\t\tthis.state;\r\n\r\n\t\t// If the suggestions are not shown or loading, we shouldn't handle the arrow keys\r\n\t\t// We shouldn't preventDefault to allow block arrow keys navigation.\r\n\t\tif ( ! showSuggestions || ! suggestions.length || loading ) {\r\n\t\t\t// In the Windows version of Firefox the up and down arrows don't move the caret\r\n\t\t\t// within an input field like they do for Mac Firefox/Chrome/Safari. This causes\r\n\t\t\t// a form of focus trapping that is disruptive to the user experience. This disruption\r\n\t\t\t// only happens if the caret is not in the first or last position in the text input.\r\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/5693#issuecomment-436684747\r\n\t\t\tswitch ( event.keyCode ) {\r\n\t\t\t\t// When UP is pressed, if the caret is at the start of the text, move it to the 0\r\n\t\t\t\t// position.\r\n\t\t\t\tcase UP: {\r\n\t\t\t\t\tif ( 0 !== event.target.selectionStart ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t// Set the input caret to position 0.\r\n\t\t\t\t\t\tevent.target.setSelectionRange( 0, 0 );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t// When DOWN is pressed, if the caret is not at the end of the text, move it to the\r\n\t\t\t\t// last position.\r\n\t\t\t\tcase DOWN: {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.props.value.length !== event.target.selectionStart\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t// Set the input caret to the last position.\r\n\t\t\t\t\t\tevent.target.setSelectionRange(\r\n\t\t\t\t\t\t\tthis.props.value.length,\r\n\t\t\t\t\t\t\tthis.props.value.length\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Submitting while loading should trigger onSubmit.\r\n\t\t\t\tcase ENTER: {\r\n\t\t\t\t\tif ( this.props.onSubmit ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tthis.props.onSubmit( null, event );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst suggestion =\r\n\t\t\tthis.state.suggestions[ this.state.selectedSuggestion ];\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\t\t\tcase UP: {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tconst previousIndex = ! selectedSuggestion\r\n\t\t\t\t\t? suggestions.length - 1\r\n\t\t\t\t\t: selectedSuggestion - 1;\r\n\t\t\t\tthis.setState( {\r\n\t\t\t\t\tselectedSuggestion: previousIndex,\r\n\t\t\t\t} );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase DOWN: {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tconst nextIndex =\r\n\t\t\t\t\tselectedSuggestion === null ||\r\n\t\t\t\t\tselectedSuggestion === suggestions.length - 1\r\n\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t: selectedSuggestion + 1;\r\n\t\t\t\tthis.setState( {\r\n\t\t\t\t\tselectedSuggestion: nextIndex,\r\n\t\t\t\t} );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase TAB: {\r\n\t\t\t\tif ( this.state.selectedSuggestion !== null ) {\r\n\t\t\t\t\tthis.selectLink( suggestion );\r\n\t\t\t\t\t// Announce a link has been selected when tabbing away from the input field.\r\n\t\t\t\t\tthis.props.speak( __( 'Link selected.' ) );\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase ENTER: {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tif ( this.state.selectedSuggestion !== null ) {\r\n\t\t\t\t\tthis.selectLink( suggestion );\r\n\r\n\t\t\t\t\tif ( this.props.onSubmit ) {\r\n\t\t\t\t\t\tthis.props.onSubmit( suggestion, event );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( this.props.onSubmit ) {\r\n\t\t\t\t\tthis.props.onSubmit( null, event );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tselectLink( suggestion ) {\r\n\t\tthis.props.onChange( suggestion.url, suggestion );\r\n\t\tthis.setState( {\r\n\t\t\tselectedSuggestion: null,\r\n\t\t\tshowSuggestions: false,\r\n\t\t} );\r\n\t}\r\n\r\n\thandleOnClick( suggestion ) {\r\n\t\tthis.selectLink( suggestion );\r\n\t\t// Move focus to the input field when a link suggestion is clicked.\r\n\t\tthis.inputRef.current.focus();\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tinstanceId,\r\n\t\t\tdisableSuggestions,\r\n\t\t\t__experimentalShowInitialSuggestions = false,\r\n\t\t},\r\n\t\t{ showSuggestions }\r\n\t) {\r\n\t\tlet shouldShowSuggestions = showSuggestions;\r\n\r\n\t\tconst hasValue = value && value.length;\r\n\r\n\t\tif ( ! __experimentalShowInitialSuggestions && ! hasValue ) {\r\n\t\t\tshouldShowSuggestions = false;\r\n\t\t}\r\n\r\n\t\tif ( disableSuggestions === true ) {\r\n\t\t\tshouldShowSuggestions = false;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tshowSuggestions: shouldShowSuggestions,\r\n\t\t\tsuggestionsListboxId: `block-editor-url-input-suggestions-${ instanceId }`,\r\n\t\t\tsuggestionOptionIdPrefix: `block-editor-url-input-suggestion-${ instanceId }`,\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{ this.renderControl() }\r\n\t\t\t\t{ this.renderSuggestions() }\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\trenderControl() {\r\n\t\tconst {\r\n\t\t\tlabel = null,\r\n\t\t\tclassName,\r\n\t\t\tisFullWidth,\r\n\t\t\tinstanceId,\r\n\t\t\tplaceholder = __( 'Paste URL or type to search' ),\r\n\t\t\t__experimentalRenderControl: renderControl,\r\n\t\t\tvalue = '',\r\n\t\t\thideLabelFromVision = false,\r\n\t\t} = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tloading,\r\n\t\t\tshowSuggestions,\r\n\t\t\tselectedSuggestion,\r\n\t\t\tsuggestionsListboxId,\r\n\t\t\tsuggestionOptionIdPrefix,\r\n\t\t} = this.state;\r\n\r\n\t\tconst inputId = `url-input-control-${ instanceId }`;\r\n\r\n\t\tconst controlProps = {\r\n\t\t\tid: inputId, // Passes attribute to label for the for attribute\r\n\t\t\tlabel,\r\n\t\t\tclassName: clsx( 'block-editor-url-input', className, {\r\n\t\t\t\t'is-full-width': isFullWidth,\r\n\t\t\t} ),\r\n\t\t\thideLabelFromVision,\r\n\t\t};\r\n\r\n\t\tconst inputProps = {\r\n\t\t\tid: inputId,\r\n\t\t\tvalue,\r\n\t\t\trequired: true,\r\n\t\t\tclassName: 'block-editor-url-input__input',\r\n\t\t\ttype: 'text',\r\n\t\t\tonChange: this.onChange,\r\n\t\t\tonFocus: this.onFocus,\r\n\t\t\tplaceholder,\r\n\t\t\tonKeyDown: this.onKeyDown,\r\n\t\t\trole: 'combobox',\r\n\t\t\t'aria-label': label ? undefined : __( 'URL' ), // Ensure input always has an accessible label\r\n\t\t\t'aria-expanded': showSuggestions,\r\n\t\t\t'aria-autocomplete': 'list',\r\n\t\t\t'aria-owns': suggestionsListboxId,\r\n\t\t\t'aria-activedescendant':\r\n\t\t\t\tselectedSuggestion !== null\r\n\t\t\t\t\t? `${ suggestionOptionIdPrefix }-${ selectedSuggestion }`\r\n\t\t\t\t\t: undefined,\r\n\t\t\tref: this.inputRef,\r\n\t\t};\r\n\r\n\t\tif ( renderControl ) {\r\n\t\t\treturn renderControl( controlProps, inputProps, loading );\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<BaseControl __nextHasNoMarginBottom { ...controlProps }>\r\n\t\t\t\t<input { ...inputProps } />\r\n\t\t\t\t{ loading && <Spinner /> }\r\n\t\t\t</BaseControl>\r\n\t\t);\r\n\t}\r\n\r\n\trenderSuggestions() {\r\n\t\tconst {\r\n\t\t\tclassName,\r\n\t\t\t__experimentalRenderSuggestions: renderSuggestions,\r\n\t\t} = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tshowSuggestions,\r\n\t\t\tsuggestions,\r\n\t\t\tsuggestionsValue,\r\n\t\t\tselectedSuggestion,\r\n\t\t\tsuggestionsListboxId,\r\n\t\t\tsuggestionOptionIdPrefix,\r\n\t\t\tloading,\r\n\t\t} = this.state;\r\n\r\n\t\tif ( ! showSuggestions || suggestions.length === 0 ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst suggestionsListProps = {\r\n\t\t\tid: suggestionsListboxId,\r\n\t\t\tref: this.autocompleteRef,\r\n\t\t\trole: 'listbox',\r\n\t\t};\r\n\r\n\t\tconst buildSuggestionItemProps = ( suggestion, index ) => {\r\n\t\t\treturn {\r\n\t\t\t\trole: 'option',\r\n\t\t\t\ttabIndex: '-1',\r\n\t\t\t\tid: `${ suggestionOptionIdPrefix }-${ index }`,\r\n\t\t\t\tref: this.bindSuggestionNode( index ),\r\n\t\t\t\t'aria-selected':\r\n\t\t\t\t\tindex === selectedSuggestion ? true : undefined,\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tif ( isFunction( renderSuggestions ) ) {\r\n\t\t\treturn renderSuggestions( {\r\n\t\t\t\tsuggestions,\r\n\t\t\t\tselectedSuggestion,\r\n\t\t\t\tsuggestionsListProps,\r\n\t\t\t\tbuildSuggestionItemProps,\r\n\t\t\t\tisLoading: loading,\r\n\t\t\t\thandleSuggestionClick: this.handleOnClick,\r\n\t\t\t\tisInitialSuggestions: ! suggestionsValue?.length,\r\n\t\t\t\tcurrentInputValue: suggestionsValue,\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Popover placement=\"bottom\" focusOnMount={ false }>\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...suggestionsListProps }\r\n\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t'block-editor-url-input__suggestions',\r\n\t\t\t\t\t\t`${ className }__suggestions`\r\n\t\t\t\t\t) }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ suggestions.map( ( suggestion, index ) => (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t{ ...buildSuggestionItemProps( suggestion, index ) }\r\n\t\t\t\t\t\t\tkey={ suggestion.id }\r\n\t\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t\t'block-editor-url-input__suggestion',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'is-selected': index === selectedSuggestion,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tonClick={ () => this.handleOnClick( suggestion ) }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ suggestion.title }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t</div>\r\n\t\t\t</Popover>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n/**\r\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/url-input/README.md\r\n */\r\nexport default compose(\r\n\twithSafeTimeout,\r\n\twithSpokenMessages,\r\n\twithInstanceId,\r\n\twithSelect( ( select, props ) => {\r\n\t\t// If a link suggestions handler is already provided then\r\n\t\t// bail.\r\n\t\tif ( isFunction( props.__experimentalFetchLinkSuggestions ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { getSettings } = select( blockEditorStore );\r\n\t\treturn {\r\n\t\t\t__experimentalFetchLinkSuggestions:\r\n\t\t\t\tgetSettings().__experimentalFetchLinkSuggestions,\r\n\t\t};\r\n\t} )\r\n)( URLInput );\r\n"],"mappings":"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","ignoreList":[]}