{"version":3,"names":["__","forwardRef","useState","Button","Popover","privateApis","componentsPrivateApis","chevronDown","deprecated","LinkViewer","LinkEditor","unlock","jsx","_jsx","jsxs","_jsxs","__experimentalPopoverLegacyPositionToPlacement","DEFAULT_PLACEMENT","URLPopover","additionalControls","children","renderSettings","placement","focusOnMount","position","popoverProps","ref","undefined","since","alternative","computedPlacement","isSettingsExpanded","setIsSettingsExpanded","showSettings","toggleSettingsVisibility","role","className","shift","variant","icon","label","onClick","size"],"sources":["@wordpress/block-editor/src/components/url-popover/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { forwardRef, useState } from '@wordpress/element';\r\nimport {\r\n\tButton,\r\n\tPopover,\r\n\tprivateApis as componentsPrivateApis,\r\n} from '@wordpress/components';\r\nimport { chevronDown } from '@wordpress/icons';\r\nimport deprecated from '@wordpress/deprecated';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport LinkViewer from './link-viewer';\r\nimport LinkEditor from './link-editor';\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nconst { __experimentalPopoverLegacyPositionToPlacement } = unlock(\r\n\tcomponentsPrivateApis\r\n);\r\n\r\nconst DEFAULT_PLACEMENT = 'bottom';\r\n\r\nconst URLPopover = forwardRef(\r\n\t(\r\n\t\t{\r\n\t\t\tadditionalControls,\r\n\t\t\tchildren,\r\n\t\t\trenderSettings,\r\n\t\t\t// The DEFAULT_PLACEMENT value is assigned inside the function's body\r\n\t\t\tplacement,\r\n\t\t\tfocusOnMount = 'firstElement',\r\n\t\t\t// Deprecated\r\n\t\t\tposition,\r\n\t\t\t// Rest\r\n\t\t\t...popoverProps\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\tif ( position !== undefined ) {\r\n\t\t\tdeprecated( '`position` prop in wp.blockEditor.URLPopover', {\r\n\t\t\t\tsince: '6.2',\r\n\t\t\t\talternative: '`placement` prop',\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// Compute popover's placement:\r\n\t\t// - give priority to `placement` prop, if defined\r\n\t\t// - otherwise, compute it from the legacy `position` prop (if defined)\r\n\t\t// - finally, fallback to the DEFAULT_PLACEMENT.\r\n\t\tlet computedPlacement;\r\n\t\tif ( placement !== undefined ) {\r\n\t\t\tcomputedPlacement = placement;\r\n\t\t} else if ( position !== undefined ) {\r\n\t\t\tcomputedPlacement =\r\n\t\t\t\t__experimentalPopoverLegacyPositionToPlacement( position );\r\n\t\t}\r\n\t\tcomputedPlacement = computedPlacement || DEFAULT_PLACEMENT;\r\n\r\n\t\tconst [ isSettingsExpanded, setIsSettingsExpanded ] = useState( false );\r\n\r\n\t\tconst showSettings = !! renderSettings && isSettingsExpanded;\r\n\r\n\t\tconst toggleSettingsVisibility = () => {\r\n\t\t\tsetIsSettingsExpanded( ! isSettingsExpanded );\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<Popover\r\n\t\t\t\tref={ ref }\r\n\t\t\t\trole=\"dialog\"\r\n\t\t\t\taria-modal=\"true\"\r\n\t\t\t\taria-label={ __( 'Edit URL' ) }\r\n\t\t\t\tclassName=\"block-editor-url-popover\"\r\n\t\t\t\tfocusOnMount={ focusOnMount }\r\n\t\t\t\tplacement={ computedPlacement }\r\n\t\t\t\tshift\r\n\t\t\t\tvariant=\"toolbar\"\r\n\t\t\t\t{ ...popoverProps }\r\n\t\t\t>\r\n\t\t\t\t<div className=\"block-editor-url-popover__input-container\">\r\n\t\t\t\t\t<div className=\"block-editor-url-popover__row\">\r\n\t\t\t\t\t\t{ children }\r\n\t\t\t\t\t\t{ !! renderSettings && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"block-editor-url-popover__settings-toggle\"\r\n\t\t\t\t\t\t\t\ticon={ chevronDown }\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Link settings' ) }\r\n\t\t\t\t\t\t\t\tonClick={ toggleSettingsVisibility }\r\n\t\t\t\t\t\t\t\taria-expanded={ isSettingsExpanded }\r\n\t\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{ showSettings && (\r\n\t\t\t\t\t<div className=\"block-editor-url-popover__settings\">\r\n\t\t\t\t\t\t{ renderSettings() }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) }\r\n\t\t\t\t{ additionalControls && ! showSettings && (\r\n\t\t\t\t\t<div className=\"block-editor-url-popover__additional-controls\">\r\n\t\t\t\t\t\t{ additionalControls }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) }\r\n\t\t\t</Popover>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nURLPopover.LinkEditor = LinkEditor;\r\n\r\nURLPopover.LinkViewer = LinkViewer;\r\n\r\n/**\r\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/url-popover/README.md\r\n */\r\nexport default URLPopover;\r\n"],"mappings":"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","ignoreList":[]}