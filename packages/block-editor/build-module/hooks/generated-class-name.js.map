{"version":3,"names":["addFilter","hasBlockSupport","getBlockDefaultClassName","addGeneratedClassName","extraProps","blockType","className","Set","name","split","join","trim"],"sources":["@wordpress/block-editor/src/hooks/generated-class-name.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport { hasBlockSupport, getBlockDefaultClassName } from '@wordpress/blocks';\r\n\r\n/**\r\n * Override props assigned to save component to inject generated className if\r\n * block supports it. This is only applied if the block's save result is an\r\n * element and not a markup string.\r\n *\r\n * @param {Object} extraProps Additional props applied to save element.\r\n * @param {Object} blockType  Block type.\r\n *\r\n * @return {Object} Filtered props applied to save element.\r\n */\r\nexport function addGeneratedClassName( extraProps, blockType ) {\r\n\t// Adding the generated className.\r\n\tif ( hasBlockSupport( blockType, 'className', true ) ) {\r\n\t\tif ( typeof extraProps.className === 'string' ) {\r\n\t\t\t// We have some extra classes and want to add the default classname\r\n\t\t\t// We use uniq to prevent duplicate classnames.\r\n\r\n\t\t\textraProps.className = [\r\n\t\t\t\t...new Set( [\r\n\t\t\t\t\tgetBlockDefaultClassName( blockType.name ),\r\n\t\t\t\t\t...extraProps.className.split( ' ' ),\r\n\t\t\t\t] ),\r\n\t\t\t]\r\n\t\t\t\t.join( ' ' )\r\n\t\t\t\t.trim();\r\n\t\t} else {\r\n\t\t\t// There is no string in the className variable,\r\n\t\t\t// so we just dump the default name in there.\r\n\t\t\textraProps.className = getBlockDefaultClassName( blockType.name );\r\n\t\t}\r\n\t}\r\n\treturn extraProps;\r\n}\r\n\r\naddFilter(\r\n\t'blocks.getSaveContent.extraProps',\r\n\t'core/generated-class-name/save-props',\r\n\taddGeneratedClassName\r\n);\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,eAAe,EAAEC,wBAAwB,QAAQ,mBAAmB;;AAE7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,qBAAqBA,CAAEC,UAAU,EAAEC,SAAS,EAAG;EAC9D;EACA,IAAKJ,eAAe,CAAEI,SAAS,EAAE,WAAW,EAAE,IAAK,CAAC,EAAG;IACtD,IAAK,OAAOD,UAAU,CAACE,SAAS,KAAK,QAAQ,EAAG;MAC/C;MACA;;MAEAF,UAAU,CAACE,SAAS,GAAG,CACtB,GAAG,IAAIC,GAAG,CAAE,CACXL,wBAAwB,CAAEG,SAAS,CAACG,IAAK,CAAC,EAC1C,GAAGJ,UAAU,CAACE,SAAS,CAACG,KAAK,CAAE,GAAI,CAAC,CACnC,CAAC,CACH,CACCC,IAAI,CAAE,GAAI,CAAC,CACXC,IAAI,CAAC,CAAC;IACT,CAAC,MAAM;MACN;MACA;MACAP,UAAU,CAACE,SAAS,GAAGJ,wBAAwB,CAAEG,SAAS,CAACG,IAAK,CAAC;IAClE;EACD;EACA,OAAOJ,UAAU;AAClB;AAEAJ,SAAS,CACR,kCAAkC,EAClC,sCAAsC,EACtCG,qBACD,CAAC","ignoreList":[]}