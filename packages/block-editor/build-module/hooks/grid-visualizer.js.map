{"version":3,"names":["createHigherOrderComponent","addFilter","useSelect","GridVisualizer","useGridLayoutSync","store","blockEditorStore","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","GridLayoutSync","props","GridTools","clientId","layout","isSelected","isDragging","select","isBlockSelected","isDraggingBlocks","children","parentLayout","addGridVisualizerToBlockEdit","BlockEdit","attributes","type"],"sources":["@wordpress/block-editor/src/hooks/grid-visualizer.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { createHigherOrderComponent } from '@wordpress/compose';\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { GridVisualizer, useGridLayoutSync } from '../components/grid';\r\nimport { store as blockEditorStore } from '../store';\r\n\r\nfunction GridLayoutSync( props ) {\r\n\tuseGridLayoutSync( props );\r\n}\r\n\r\nfunction GridTools( { clientId, layout } ) {\r\n\tconst { isSelected, isDragging } = useSelect( ( select ) => {\r\n\t\tconst { isBlockSelected, isDraggingBlocks } =\r\n\t\t\tselect( blockEditorStore );\r\n\r\n\t\treturn {\r\n\t\t\tisSelected: isBlockSelected( clientId ),\r\n\t\t\tisDragging: isDraggingBlocks(),\r\n\t\t};\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<GridLayoutSync clientId={ clientId } />\r\n\t\t\t{ ( isSelected || isDragging ) && (\r\n\t\t\t\t<GridVisualizer clientId={ clientId } parentLayout={ layout } />\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nconst addGridVisualizerToBlockEdit = createHigherOrderComponent(\r\n\t( BlockEdit ) => ( props ) => {\r\n\t\tif ( props.attributes.layout?.type !== 'grid' ) {\r\n\t\t\treturn <BlockEdit key=\"edit\" { ...props } />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<GridTools\r\n\t\t\t\t\tclientId={ props.clientId }\r\n\t\t\t\t\tlayout={ props.attributes.layout }\r\n\t\t\t\t/>\r\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\r\n\t\t\t</>\r\n\t\t);\r\n\t},\r\n\t'addGridVisualizerToBlockEdit'\r\n);\r\n\r\naddFilter(\r\n\t'editor.BlockEdit',\r\n\t'core/editor/grid-visualizer',\r\n\taddGridVisualizerToBlockEdit\r\n);\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,0BAA0B,QAAQ,oBAAoB;AAC/D,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,cAAc,EAAEC,iBAAiB,QAAQ,oBAAoB;AACtE,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,UAAU;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAErD,SAASC,cAAcA,CAAEC,KAAK,EAAG;EAChCV,iBAAiB,CAAEU,KAAM,CAAC;AAC3B;AAEA,SAASC,SAASA,CAAE;EAAEC,QAAQ;EAAEC;AAAO,CAAC,EAAG;EAC1C,MAAM;IAAEC,UAAU;IAAEC;EAAW,CAAC,GAAGjB,SAAS,CAAIkB,MAAM,IAAM;IAC3D,MAAM;MAAEC,eAAe;MAAEC;IAAiB,CAAC,GAC1CF,MAAM,CAAEd,gBAAiB,CAAC;IAE3B,OAAO;MACNY,UAAU,EAAEG,eAAe,CAAEL,QAAS,CAAC;MACvCG,UAAU,EAAEG,gBAAgB,CAAC;IAC9B,CAAC;EACF,CAAE,CAAC;EAEH,oBACCV,KAAA,CAAAF,SAAA;IAAAa,QAAA,gBACCf,IAAA,CAACK,cAAc;MAACG,QAAQ,EAAGA;IAAU,CAAE,CAAC,EACtC,CAAEE,UAAU,IAAIC,UAAU,kBAC3BX,IAAA,CAACL,cAAc;MAACa,QAAQ,EAAGA,QAAU;MAACQ,YAAY,EAAGP;IAAQ,CAAE,CAC/D;EAAA,CACA,CAAC;AAEL;AAEA,MAAMQ,4BAA4B,GAAGzB,0BAA0B,CAC5D0B,SAAS,IAAQZ,KAAK,IAAM;EAC7B,IAAKA,KAAK,CAACa,UAAU,CAACV,MAAM,EAAEW,IAAI,KAAK,MAAM,EAAG;IAC/C,oBAAOpB,IAAA,CAACkB,SAAS;MAAA,GAAiBZ;IAAK,GAAjB,MAAqB,CAAC;EAC7C;EAEA,oBACCF,KAAA,CAAAF,SAAA;IAAAa,QAAA,gBACCf,IAAA,CAACO,SAAS;MACTC,QAAQ,EAAGF,KAAK,CAACE,QAAU;MAC3BC,MAAM,EAAGH,KAAK,CAACa,UAAU,CAACV;IAAQ,CAClC,CAAC,eACFT,IAAA,CAACkB,SAAS;MAAA,GAAiBZ;IAAK,GAAjB,MAAqB,CAAC;EAAA,CACpC,CAAC;AAEL,CAAC,EACD,8BACD,CAAC;AAEDb,SAAS,CACR,kBAAkB,EAClB,6BAA6B,EAC7BwB,4BACD,CAAC","ignoreList":[]}