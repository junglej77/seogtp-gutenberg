{"version":3,"names":["hasBlockSupport","LineHeightControl","cleanEmptyObject","useSettings","jsx","_jsx","LINE_HEIGHT_SUPPORT_KEY","LineHeightEdit","props","attributes","style","setAttributes","onChange","newLineHeightValue","newStyle","typography","lineHeight","__unstableInputWidth","value","size","useIsLineHeightDisabled","name","blockName","isEnabled"],"sources":["@wordpress/block-editor/src/hooks/line-height.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { hasBlockSupport } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport LineHeightControl from '../components/line-height-control';\r\nimport { cleanEmptyObject } from './utils';\r\nimport { useSettings } from '../components/use-settings';\r\n\r\nexport const LINE_HEIGHT_SUPPORT_KEY = 'typography.lineHeight';\r\n\r\n/**\r\n * Inspector control panel containing the line height related configuration\r\n *\r\n * @param {Object} props\r\n *\r\n * @return {Element} Line height edit element.\r\n */\r\nexport function LineHeightEdit( props ) {\r\n\tconst {\r\n\t\tattributes: { style },\r\n\t\tsetAttributes,\r\n\t} = props;\r\n\r\n\tconst onChange = ( newLineHeightValue ) => {\r\n\t\tconst newStyle = {\r\n\t\t\t...style,\r\n\t\t\ttypography: {\r\n\t\t\t\t...style?.typography,\r\n\t\t\t\tlineHeight: newLineHeightValue,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tsetAttributes( { style: cleanEmptyObject( newStyle ) } );\r\n\t};\r\n\treturn (\r\n\t\t<LineHeightControl\r\n\t\t\t__unstableInputWidth=\"100%\"\r\n\t\t\tvalue={ style?.typography?.lineHeight }\r\n\t\t\tonChange={ onChange }\r\n\t\t\tsize=\"__unstable-large\"\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n/**\r\n * Custom hook that checks if line-height settings have been disabled.\r\n *\r\n * @param {string} name The name of the block.\r\n * @return {boolean} Whether setting is disabled.\r\n */\r\nexport function useIsLineHeightDisabled( { name: blockName } = {} ) {\r\n\tconst [ isEnabled ] = useSettings( 'typography.lineHeight' );\r\n\r\n\treturn (\r\n\t\t! isEnabled || ! hasBlockSupport( blockName, LINE_HEIGHT_SUPPORT_KEY )\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,eAAe,QAAQ,mBAAmB;;AAEnD;AACA;AACA;AACA,OAAOC,iBAAiB,MAAM,mCAAmC;AACjE,SAASC,gBAAgB,QAAQ,SAAS;AAC1C,SAASC,WAAW,QAAQ,4BAA4B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEzD,OAAO,MAAMC,uBAAuB,GAAG,uBAAuB;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,cAAcA,CAAEC,KAAK,EAAG;EACvC,MAAM;IACLC,UAAU,EAAE;MAAEC;IAAM,CAAC;IACrBC;EACD,CAAC,GAAGH,KAAK;EAET,MAAMI,QAAQ,GAAKC,kBAAkB,IAAM;IAC1C,MAAMC,QAAQ,GAAG;MAChB,GAAGJ,KAAK;MACRK,UAAU,EAAE;QACX,GAAGL,KAAK,EAAEK,UAAU;QACpBC,UAAU,EAAEH;MACb;IACD,CAAC;IAEDF,aAAa,CAAE;MAAED,KAAK,EAAER,gBAAgB,CAAEY,QAAS;IAAE,CAAE,CAAC;EACzD,CAAC;EACD,oBACCT,IAAA,CAACJ,iBAAiB;IACjBgB,oBAAoB,EAAC,MAAM;IAC3BC,KAAK,EAAGR,KAAK,EAAEK,UAAU,EAAEC,UAAY;IACvCJ,QAAQ,EAAGA,QAAU;IACrBO,IAAI,EAAC;EAAkB,CACvB,CAAC;AAEJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,uBAAuBA,CAAE;EAAEC,IAAI,EAAEC;AAAU,CAAC,GAAG,CAAC,CAAC,EAAG;EACnE,MAAM,CAAEC,SAAS,CAAE,GAAGpB,WAAW,CAAE,uBAAwB,CAAC;EAE5D,OACC,CAAEoB,SAAS,IAAI,CAAEvB,eAAe,CAAEsB,SAAS,EAAEhB,uBAAwB,CAAC;AAExE","ignoreList":[]}