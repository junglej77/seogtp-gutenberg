{"version":3,"names":["addFilter","META_ATTRIBUTE_NAME","addMetaAttribute","blockTypeSettings","attributes","type"],"sources":["@wordpress/block-editor/src/hooks/metadata.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { addFilter } from '@wordpress/hooks';\r\nconst META_ATTRIBUTE_NAME = 'metadata';\r\n\r\n/**\r\n * Filters registered block settings, extending attributes to include `metadata`.\r\n *\r\n * see: https://github.com/WordPress/gutenberg/pull/40393/files#r864632012\r\n *\r\n * @param {Object} blockTypeSettings Original block settings.\r\n * @return {Object} Filtered block settings.\r\n */\r\nexport function addMetaAttribute( blockTypeSettings ) {\r\n\t// Allow blocks to specify their own attribute definition with default values if needed.\r\n\tif ( blockTypeSettings?.attributes?.[ META_ATTRIBUTE_NAME ]?.type ) {\r\n\t\treturn blockTypeSettings;\r\n\t}\r\n\r\n\tblockTypeSettings.attributes = {\r\n\t\t...blockTypeSettings.attributes,\r\n\t\t[ META_ATTRIBUTE_NAME ]: {\r\n\t\t\ttype: 'object',\r\n\t\t},\r\n\t};\r\n\r\n\treturn blockTypeSettings;\r\n}\r\n\r\naddFilter(\r\n\t'blocks.registerBlockType',\r\n\t'core/metadata/addMetaAttribute',\r\n\taddMetaAttribute\r\n);\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,kBAAkB;AAC5C,MAAMC,mBAAmB,GAAG,UAAU;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAAEC,iBAAiB,EAAG;EACrD;EACA,IAAKA,iBAAiB,EAAEC,UAAU,GAAIH,mBAAmB,CAAE,EAAEI,IAAI,EAAG;IACnE,OAAOF,iBAAiB;EACzB;EAEAA,iBAAiB,CAACC,UAAU,GAAG;IAC9B,GAAGD,iBAAiB,CAACC,UAAU;IAC/B,CAAEH,mBAAmB,GAAI;MACxBI,IAAI,EAAE;IACP;EACD,CAAC;EAED,OAAOF,iBAAiB;AACzB;AAEAH,SAAS,CACR,0BAA0B,EAC1B,gCAAgC,EAChCE,gBACD,CAAC","ignoreList":[]}