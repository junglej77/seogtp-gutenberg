{"version":3,"names":["useWindowDimensions","useMemo","ALIGNMENT_BREAKPOINTS","WIDE_ALIGNMENTS","alignmentHelpers","styles","ALIGNMENT_MAX_WIDTH","full","wide","wideMedium","wideLandscape","BLOCK_DEFAULT_MARGIN","getWideWidthStyles","align","isLandscape","width","alignments","large","maxWidth","small","medium","getFullWidthStyles","blockName","hasParents","parentBlockName","isContainerRelated","isFullWidth","fullWidthStyles","paddingHorizontal","getBlockMargin","blockWidth","marginHorizontal","parentBlockAlignment","parentWidth","isWider","isWideWidth","isScreenWidthEqual","useEditorWrapperStyles","contentResizeMode","reversed","height","blockMargin","wrapperStyles","canvasStyles","flex","alignmentStyles"],"sources":["@wordpress/block-editor/src/hooks/use-editor-wrapper-styles.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { useWindowDimensions } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo } from '@wordpress/element';\r\nimport {\r\n\tALIGNMENT_BREAKPOINTS,\r\n\tWIDE_ALIGNMENTS,\r\n\talignmentHelpers,\r\n} from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './use-editor-wrapper-styles.scss';\r\n\r\nconst ALIGNMENT_MAX_WIDTH = {\r\n\tfull: '100%',\r\n\twide: 1054,\r\n\twideMedium: 770,\r\n\twideLandscape: 662,\r\n};\r\n\r\nconst BLOCK_DEFAULT_MARGIN = 16;\r\n\r\n/**\r\n * Get the styles for the wide width alignment.\r\n *\r\n * @param {Object}  [options]           The options for the helper.\r\n * @param {string}  options.align       The alignment value.\r\n * @param {boolean} options.isLandscape Whether the screen is in landscape mode.\r\n * @param {number}  options.width       The width of the screen.\r\n * @return {Object} An object containing the styles for the wide width alignment.\r\n */\r\nfunction getWideWidthStyles( { align, isLandscape, width } = {} ) {\r\n\tif ( align !== WIDE_ALIGNMENTS.alignments.wide ) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tif ( isLandscape && width < ALIGNMENT_BREAKPOINTS.large ) {\r\n\t\treturn { maxWidth: ALIGNMENT_MAX_WIDTH.wideLandscape };\r\n\t}\r\n\r\n\tif ( width <= ALIGNMENT_BREAKPOINTS.small ) {\r\n\t\treturn { maxWidth: width };\r\n\t}\r\n\r\n\tif (\r\n\t\twidth >= ALIGNMENT_BREAKPOINTS.medium &&\r\n\t\twidth < ALIGNMENT_BREAKPOINTS.wide\r\n\t) {\r\n\t\treturn { maxWidth: ALIGNMENT_MAX_WIDTH.wideMedium };\r\n\t}\r\n\r\n\treturn { maxWidth: ALIGNMENT_MAX_WIDTH.wide };\r\n}\r\n\r\n/**\r\n * Get the styles for the full width alignment.\r\n *\r\n * @param {Object}  [options]               The options for the helper.\r\n * @param {string}  options.align           The alignment value.\r\n * @param {string}  options.blockName       The name of the block.\r\n * @param {boolean} options.hasParents      Whether the block has parents.\r\n * @param {string}  options.parentBlockName The name of the parent block.\r\n * @return {Object} An object containing the styles for the full width alignment.\r\n */\r\nfunction getFullWidthStyles( {\r\n\talign,\r\n\tblockName,\r\n\thasParents,\r\n\tparentBlockName,\r\n} = {} ) {\r\n\tconst { isContainerRelated, isFullWidth } = alignmentHelpers;\r\n\tconst fullWidthStyles = isFullWidth( align )\r\n\t\t? { maxWidth: ALIGNMENT_MAX_WIDTH.full }\r\n\t\t: {};\r\n\r\n\tif (\r\n\t\t! align &&\r\n\t\thasParents &&\r\n\t\t! isContainerRelated( parentBlockName ) &&\r\n\t\tisContainerRelated( blockName )\r\n\t) {\r\n\t\tfullWidthStyles.paddingHorizontal = BLOCK_DEFAULT_MARGIN;\r\n\t}\r\n\r\n\treturn fullWidthStyles;\r\n}\r\n\r\n/**\r\n * Get the block margin based on various conditions.\r\n *\r\n * @param {Object}  [options]                    The options for the helper.\r\n * @param {string}  options.align                The alignment value.\r\n * @param {string}  options.blockName            The name of the block.\r\n * @param {number}  options.blockWidth           The width of the block.\r\n * @param {boolean} options.hasParents           Whether the block has parents.\r\n * @param {number}  options.marginHorizontal     Default horizontal margin.\r\n * @param {string}  options.parentBlockAlignment The alignment of the parent block.\r\n * @param {string}  options.parentBlockName      The name of the parent block.\r\n * @param {number}  options.parentWidth          The width of the parent block.\r\n * @param {number}  options.width                The width of the screen.\r\n * @return {number} The calculated block margin.\r\n */\r\nfunction getBlockMargin( {\r\n\talign,\r\n\tblockName,\r\n\tblockWidth,\r\n\thasParents,\r\n\tmarginHorizontal,\r\n\tparentBlockAlignment,\r\n\tparentBlockName,\r\n\tparentWidth,\r\n\twidth,\r\n} = {} ) {\r\n\tconst { isContainerRelated, isWider, isWideWidth, isFullWidth } =\r\n\t\talignmentHelpers;\r\n\r\n\tif ( isFullWidth( align ) ) {\r\n\t\tif ( ! hasParents ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn marginHorizontal;\r\n\t}\r\n\r\n\tif ( isWideWidth( align ) ) {\r\n\t\treturn marginHorizontal;\r\n\t}\r\n\r\n\tif (\r\n\t\tisFullWidth( parentBlockAlignment ) &&\r\n\t\t! isWider( blockWidth, 'medium' )\r\n\t) {\r\n\t\tif ( isContainerRelated( blockName ) || isWider( width, 'mobile' ) ) {\r\n\t\t\treturn marginHorizontal;\r\n\t\t}\r\n\t\treturn marginHorizontal * 2;\r\n\t}\r\n\r\n\tif (\r\n\t\tisContainerRelated( parentBlockName ) &&\r\n\t\t! isContainerRelated( blockName )\r\n\t) {\r\n\t\tconst isScreenWidthEqual = parentWidth === width;\r\n\t\tif ( isScreenWidthEqual || isWider( width, 'mobile' ) ) {\r\n\t\t\treturn marginHorizontal;\r\n\t\t}\r\n\t}\r\n\r\n\treturn marginHorizontal;\r\n}\r\n\r\n/**\r\n * Custom hook to get the styles and margin for the editor wrapper.\r\n *\r\n * @param {Object}  [props]                    The props for the hook.\r\n * @param {string}  props.align                The alignment value.\r\n * @param {string}  props.blockName            The name of the block.\r\n * @param {number}  props.blockWidth           The width of the block.\r\n * @param {string}  props.contentResizeMode    The content resize mode.\r\n * @param {boolean} props.hasParents           Whether the block has parents.\r\n * @param {number}  props.marginHorizontal     Default horizontal margin.\r\n * @param {string}  props.parentBlockAlignment The alignment of the parent block.\r\n * @param {string}  props.parentBlockName      The name of the parent block.\r\n * @param {number}  props.parentWidth          The width of the parent block.\r\n * @param {boolean} [props.reversed=false]     Whether the flex direction should be reversed.\r\n * @return {[Array, number]} An array containing the wrapper styles and block margin.\r\n */\r\nexport function useEditorWrapperStyles( {\r\n\talign,\r\n\tblockName,\r\n\tblockWidth,\r\n\tcontentResizeMode,\r\n\thasParents,\r\n\tmarginHorizontal,\r\n\tparentBlockAlignment,\r\n\tparentBlockName,\r\n\tparentWidth,\r\n\treversed = false,\r\n} = {} ) {\r\n\tconst { width, height } = useWindowDimensions();\r\n\tconst isLandscape = width >= height;\r\n\r\n\tconst blockMargin = useMemo(\r\n\t\t() =>\r\n\t\t\tgetBlockMargin( {\r\n\t\t\t\talign,\r\n\t\t\t\tblockName,\r\n\t\t\t\tblockWidth,\r\n\t\t\t\thasParents,\r\n\t\t\t\tmarginHorizontal,\r\n\t\t\t\tparentBlockAlignment,\r\n\t\t\t\tparentBlockName,\r\n\t\t\t\tparentWidth,\r\n\t\t\t\twidth,\r\n\t\t\t} ),\r\n\t\t[\r\n\t\t\talign,\r\n\t\t\tblockName,\r\n\t\t\tblockWidth,\r\n\t\t\thasParents,\r\n\t\t\tmarginHorizontal,\r\n\t\t\tparentBlockAlignment,\r\n\t\t\tparentBlockName,\r\n\t\t\tparentWidth,\r\n\t\t\twidth,\r\n\t\t]\r\n\t);\r\n\r\n\tconst wrapperStyles = useMemo( () => {\r\n\t\tlet canvasStyles;\r\n\r\n\t\tif ( contentResizeMode === 'stretch' ) {\r\n\t\t\t// For these cases, no width constraints should be added.\r\n\t\t\tcanvasStyles = { flex: 1 };\r\n\t\t} else if ( reversed ) {\r\n\t\t\tcanvasStyles = styles[ 'use-editor-wrapper-styles--reversed' ];\r\n\t\t} else {\r\n\t\t\tcanvasStyles = styles[ 'use-editor-wrapper-styles' ];\r\n\t\t}\r\n\r\n\t\tconst alignmentStyles = {\r\n\t\t\t...getWideWidthStyles( { align, isLandscape, width } ),\r\n\t\t\t...getFullWidthStyles( {\r\n\t\t\t\talign,\r\n\t\t\t\tblockName,\r\n\t\t\t\thasParents,\r\n\t\t\t\tparentBlockName,\r\n\t\t\t} ),\r\n\t\t};\r\n\r\n\t\treturn [ canvasStyles, alignmentStyles ];\r\n\t}, [\r\n\t\talign,\r\n\t\tblockName,\r\n\t\thasParents,\r\n\t\tparentBlockName,\r\n\t\tisLandscape,\r\n\t\twidth,\r\n\t\tcontentResizeMode,\r\n\t\treversed,\r\n\t] );\r\n\r\n\treturn [ wrapperStyles, blockMargin ];\r\n}\r\n"],"mappings":"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","ignoreList":[]}