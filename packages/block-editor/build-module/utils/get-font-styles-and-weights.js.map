{"version":3,"names":["_x","__","sprintf","formatFontStyle","formatFontWeight","FONT_STYLES","name","value","FONT_WEIGHTS","getFontStylesAndWeights","fontFamilyFaces","fontStyles","fontWeights","combinedStyleAndWeightOptions","isSystemFont","length","isVariableFont","forEach","face","fontWeight","test","trim","startValue","endValue","split","parseInt","slice","i","fontWeightValue","toString","some","weight","push","fontStyle","Object","keys","style","styleName","styleValue","weightName","weightValue","optionName","key"],"sources":["@wordpress/block-editor/src/utils/get-font-styles-and-weights.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { _x, __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { formatFontStyle } from './format-font-style';\r\nimport { formatFontWeight } from './format-font-weight';\r\n\r\nconst FONT_STYLES = [\r\n\t{\r\n\t\tname: _x( 'Regular', 'font style' ),\r\n\t\tvalue: 'normal',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Italic', 'font style' ),\r\n\t\tvalue: 'italic',\r\n\t},\r\n];\r\n\r\nconst FONT_WEIGHTS = [\r\n\t{\r\n\t\tname: _x( 'Thin', 'font weight' ),\r\n\t\tvalue: '100',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Extra Light', 'font weight' ),\r\n\t\tvalue: '200',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Light', 'font weight' ),\r\n\t\tvalue: '300',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Regular', 'font weight' ),\r\n\t\tvalue: '400',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Medium', 'font weight' ),\r\n\t\tvalue: '500',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Semi Bold', 'font weight' ),\r\n\t\tvalue: '600',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Bold', 'font weight' ),\r\n\t\tvalue: '700',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Extra Bold', 'font weight' ),\r\n\t\tvalue: '800',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Black', 'font weight' ),\r\n\t\tvalue: '900',\r\n\t},\r\n\t{\r\n\t\tname: _x( 'Extra Black', 'font weight' ),\r\n\t\tvalue: '1000',\r\n\t},\r\n];\r\n\r\n/**\r\n * Builds a list of font style and weight options based on font family faces.\r\n * Defaults to the standard font styles and weights if no font family faces are provided.\r\n *\r\n * @param {Array} fontFamilyFaces font family faces array\r\n * @return {Object} new object with combined and separated font style and weight properties\r\n */\r\nexport function getFontStylesAndWeights( fontFamilyFaces ) {\r\n\tlet fontStyles = [];\r\n\tlet fontWeights = [];\r\n\tconst combinedStyleAndWeightOptions = [];\r\n\tconst isSystemFont = ! fontFamilyFaces || fontFamilyFaces?.length === 0;\r\n\tlet isVariableFont = false;\r\n\r\n\tfontFamilyFaces?.forEach( ( face ) => {\r\n\t\t// Check for variable font by looking for a space in the font weight value. e.g. \"100 900\"\r\n\t\tif (\r\n\t\t\t'string' === typeof face.fontWeight &&\r\n\t\t\t/\\s/.test( face.fontWeight.trim() )\r\n\t\t) {\r\n\t\t\tisVariableFont = true;\r\n\r\n\t\t\t// Find font weight start and end values.\r\n\t\t\tlet [ startValue, endValue ] = face.fontWeight.split( ' ' );\r\n\t\t\tstartValue = parseInt( startValue.slice( 0, 1 ) );\r\n\t\t\tif ( endValue === '1000' ) {\r\n\t\t\t\tendValue = 10;\r\n\t\t\t} else {\r\n\t\t\t\tendValue = parseInt( endValue.slice( 0, 1 ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Create font weight options for available variable weights.\r\n\t\t\tfor ( let i = startValue; i <= endValue; i++ ) {\r\n\t\t\t\tconst fontWeightValue = `${ i.toString() }00`;\r\n\t\t\t\tif (\r\n\t\t\t\t\t! fontWeights.some(\r\n\t\t\t\t\t\t( weight ) => weight.value === fontWeightValue\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tfontWeights.push( formatFontWeight( fontWeightValue ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Format font style and weight values.\r\n\t\tconst fontWeight = formatFontWeight(\r\n\t\t\t'number' === typeof face.fontWeight\r\n\t\t\t\t? face.fontWeight.toString()\r\n\t\t\t\t: face.fontWeight\r\n\t\t);\r\n\t\tconst fontStyle = formatFontStyle( face.fontStyle );\r\n\r\n\t\t// Create font style and font weight lists without duplicates.\r\n\t\tif ( fontStyle && Object.keys( fontStyle ).length ) {\r\n\t\t\tif (\r\n\t\t\t\t! fontStyles.some(\r\n\t\t\t\t\t( style ) => style.value === fontStyle.value\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tfontStyles.push( fontStyle );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( fontWeight && Object.keys( fontWeight ).length ) {\r\n\t\t\tif (\r\n\t\t\t\t! fontWeights.some(\r\n\t\t\t\t\t( weight ) => weight.value === fontWeight.value\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tif ( ! isVariableFont ) {\r\n\t\t\t\t\tfontWeights.push( fontWeight );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\t// If there is no font weight of 600 or above, then include faux bold as an option.\r\n\tif ( ! fontWeights.some( ( weight ) => weight.value >= '600' ) ) {\r\n\t\tfontWeights.push( {\r\n\t\t\tname: _x( 'Bold', 'font weight' ),\r\n\t\t\tvalue: '700',\r\n\t\t} );\r\n\t}\r\n\r\n\t// If there is no italic font style, then include faux italic as an option.\r\n\tif ( ! fontStyles.some( ( style ) => style.value === 'italic' ) ) {\r\n\t\tfontStyles.push( {\r\n\t\t\tname: _x( 'Italic', 'font style' ),\r\n\t\t\tvalue: 'italic',\r\n\t\t} );\r\n\t}\r\n\r\n\t// Use default font styles and weights for system fonts.\r\n\tif ( isSystemFont ) {\r\n\t\tfontStyles = FONT_STYLES;\r\n\t\tfontWeights = FONT_WEIGHTS;\r\n\t}\r\n\r\n\t// Use default styles and weights if there are no available styles or weights from the provided font faces.\r\n\tfontStyles = fontStyles.length === 0 ? FONT_STYLES : fontStyles;\r\n\tfontWeights = fontWeights.length === 0 ? FONT_WEIGHTS : fontWeights;\r\n\r\n\t// Generate combined font style and weight options for available fonts.\r\n\tfontStyles.forEach( ( { name: styleName, value: styleValue } ) => {\r\n\t\tfontWeights.forEach( ( { name: weightName, value: weightValue } ) => {\r\n\t\t\tconst optionName =\r\n\t\t\t\tstyleValue === 'normal'\r\n\t\t\t\t\t? weightName\r\n\t\t\t\t\t: sprintf(\r\n\t\t\t\t\t\t\t/* translators: 1: Font weight name. 2: Font style name. */\r\n\t\t\t\t\t\t\t__( '%1$s %2$s' ),\r\n\t\t\t\t\t\t\tweightName,\r\n\t\t\t\t\t\t\tstyleName\r\n\t\t\t\t\t  );\r\n\r\n\t\t\tcombinedStyleAndWeightOptions.push( {\r\n\t\t\t\tkey: `${ styleValue }-${ weightValue }`,\r\n\t\t\t\tname: optionName,\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tfontStyle: styleValue,\r\n\t\t\t\t\tfontWeight: weightValue,\r\n\t\t\t\t},\r\n\t\t\t} );\r\n\t\t} );\r\n\t} );\r\n\r\n\treturn {\r\n\t\tfontStyles,\r\n\t\tfontWeights,\r\n\t\tcombinedStyleAndWeightOptions,\r\n\t\tisSystemFont,\r\n\t\tisVariableFont,\r\n\t};\r\n}\r\n"],"mappings":"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","ignoreList":[]}