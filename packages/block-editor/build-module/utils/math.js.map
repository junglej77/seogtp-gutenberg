{"version":3,"names":["getDistanceFromPointToEdge","point","rect","edge","isHorizontal","x","y","pointLateralPosition","pointForwardPosition","edgeStart","left","top","edgeEnd","right","bottom","edgeForwardPosition","edgeLateralPosition","Math","sqrt","getDistanceToNearestEdge","allowedEdges","candidateDistance","candidateEdge","forEach","distance","undefined","isPointContainedByRect","isPointWithinTopAndBottomBoundariesOfRect"],"sources":["@wordpress/block-editor/src/utils/math.js"],"sourcesContent":["/**\r\n * A string representing the name of an edge.\r\n *\r\n * @typedef {'top'|'right'|'bottom'|'left'} WPEdgeName\r\n */\r\n\r\n/**\r\n * @typedef  {Object} WPPoint\r\n * @property {number} x The horizontal position.\r\n * @property {number} y The vertical position.\r\n */\r\n\r\n/**\r\n * Given a point, a DOMRect and the name of an edge, returns the distance to\r\n * that edge of the rect.\r\n *\r\n * This function works for edges that are horizontal or vertical (e.g. not\r\n * rotated), the following terms are used so that the function works in both\r\n * orientations:\r\n *\r\n * - Forward, meaning the axis running horizontally when an edge is vertical\r\n *   and vertically when an edge is horizontal.\r\n * - Lateral, meaning the axis running vertically when an edge is vertical\r\n *   and horizontally when an edge is horizontal.\r\n *\r\n * @param {WPPoint}    point The point to measure distance from.\r\n * @param {DOMRect}    rect  A DOM Rect containing edge positions.\r\n * @param {WPEdgeName} edge  The edge to measure to.\r\n */\r\nexport function getDistanceFromPointToEdge( point, rect, edge ) {\r\n\tconst isHorizontal = edge === 'top' || edge === 'bottom';\r\n\tconst { x, y } = point;\r\n\tconst pointLateralPosition = isHorizontal ? x : y;\r\n\tconst pointForwardPosition = isHorizontal ? y : x;\r\n\tconst edgeStart = isHorizontal ? rect.left : rect.top;\r\n\tconst edgeEnd = isHorizontal ? rect.right : rect.bottom;\r\n\tconst edgeForwardPosition = rect[ edge ];\r\n\r\n\t// Measure the straight line distance to the edge of the rect, when the\r\n\t// point is adjacent to the edge.\r\n\t// Else, if the point is positioned diagonally to the edge of the rect,\r\n\t// measure diagonally to the nearest corner that the edge meets.\r\n\tlet edgeLateralPosition;\r\n\tif (\r\n\t\tpointLateralPosition >= edgeStart &&\r\n\t\tpointLateralPosition <= edgeEnd\r\n\t) {\r\n\t\tedgeLateralPosition = pointLateralPosition;\r\n\t} else if ( pointLateralPosition < edgeEnd ) {\r\n\t\tedgeLateralPosition = edgeStart;\r\n\t} else {\r\n\t\tedgeLateralPosition = edgeEnd;\r\n\t}\r\n\r\n\treturn Math.sqrt(\r\n\t\t( pointLateralPosition - edgeLateralPosition ) ** 2 +\r\n\t\t\t( pointForwardPosition - edgeForwardPosition ) ** 2\r\n\t);\r\n}\r\n\r\n/**\r\n * Given a point, a DOMRect and a list of allowed edges returns the name of and\r\n * distance to the nearest edge.\r\n *\r\n * @param {WPPoint}      point        The point to measure distance from.\r\n * @param {DOMRect}      rect         A DOM Rect containing edge positions.\r\n * @param {WPEdgeName[]} allowedEdges A list of the edges included in the\r\n *                                    calculation. Defaults to all edges.\r\n *\r\n * @return {[number, string]} An array where the first value is the distance\r\n *                              and a second is the edge name.\r\n */\r\nexport function getDistanceToNearestEdge(\r\n\tpoint,\r\n\trect,\r\n\tallowedEdges = [ 'top', 'bottom', 'left', 'right' ]\r\n) {\r\n\tlet candidateDistance;\r\n\tlet candidateEdge;\r\n\r\n\tallowedEdges.forEach( ( edge ) => {\r\n\t\tconst distance = getDistanceFromPointToEdge( point, rect, edge );\r\n\r\n\t\tif ( candidateDistance === undefined || distance < candidateDistance ) {\r\n\t\t\tcandidateDistance = distance;\r\n\t\t\tcandidateEdge = edge;\r\n\t\t}\r\n\t} );\r\n\r\n\treturn [ candidateDistance, candidateEdge ];\r\n}\r\n\r\n/**\r\n * Is the point contained by the rectangle.\r\n *\r\n * @param {WPPoint} point The point.\r\n * @param {DOMRect} rect  The rectangle.\r\n *\r\n * @return {boolean} True if the point is contained by the rectangle, false otherwise.\r\n */\r\nexport function isPointContainedByRect( point, rect ) {\r\n\treturn (\r\n\t\trect.left <= point.x &&\r\n\t\trect.right >= point.x &&\r\n\t\trect.top <= point.y &&\r\n\t\trect.bottom >= point.y\r\n\t);\r\n}\r\n\r\n/**\r\n * Is the point within the top and bottom boundaries of the rectangle.\r\n *\r\n * @param {WPPoint} point The point.\r\n * @param {DOMRect} rect  The rectangle.\r\n *\r\n * @return {boolean} True if the point is within top and bottom of rectangle, false otherwise.\r\n */\r\nexport function isPointWithinTopAndBottomBoundariesOfRect( point, rect ) {\r\n\treturn rect.top <= point.y && rect.bottom >= point.y;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,0BAA0BA,CAAEC,KAAK,EAAEC,IAAI,EAAEC,IAAI,EAAG;EAC/D,MAAMC,YAAY,GAAGD,IAAI,KAAK,KAAK,IAAIA,IAAI,KAAK,QAAQ;EACxD,MAAM;IAAEE,CAAC;IAAEC;EAAE,CAAC,GAAGL,KAAK;EACtB,MAAMM,oBAAoB,GAAGH,YAAY,GAAGC,CAAC,GAAGC,CAAC;EACjD,MAAME,oBAAoB,GAAGJ,YAAY,GAAGE,CAAC,GAAGD,CAAC;EACjD,MAAMI,SAAS,GAAGL,YAAY,GAAGF,IAAI,CAACQ,IAAI,GAAGR,IAAI,CAACS,GAAG;EACrD,MAAMC,OAAO,GAAGR,YAAY,GAAGF,IAAI,CAACW,KAAK,GAAGX,IAAI,CAACY,MAAM;EACvD,MAAMC,mBAAmB,GAAGb,IAAI,CAAEC,IAAI,CAAE;;EAExC;EACA;EACA;EACA;EACA,IAAIa,mBAAmB;EACvB,IACCT,oBAAoB,IAAIE,SAAS,IACjCF,oBAAoB,IAAIK,OAAO,EAC9B;IACDI,mBAAmB,GAAGT,oBAAoB;EAC3C,CAAC,MAAM,IAAKA,oBAAoB,GAAGK,OAAO,EAAG;IAC5CI,mBAAmB,GAAGP,SAAS;EAChC,CAAC,MAAM;IACNO,mBAAmB,GAAGJ,OAAO;EAC9B;EAEA,OAAOK,IAAI,CAACC,IAAI,CACf,CAAEX,oBAAoB,GAAGS,mBAAmB,KAAM,CAAC,GAClD,CAAER,oBAAoB,GAAGO,mBAAmB,KAAM,CACpD,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASI,wBAAwBA,CACvClB,KAAK,EACLC,IAAI,EACJkB,YAAY,GAAG,CAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAE,EAClD;EACD,IAAIC,iBAAiB;EACrB,IAAIC,aAAa;EAEjBF,YAAY,CAACG,OAAO,CAAIpB,IAAI,IAAM;IACjC,MAAMqB,QAAQ,GAAGxB,0BAA0B,CAAEC,KAAK,EAAEC,IAAI,EAAEC,IAAK,CAAC;IAEhE,IAAKkB,iBAAiB,KAAKI,SAAS,IAAID,QAAQ,GAAGH,iBAAiB,EAAG;MACtEA,iBAAiB,GAAGG,QAAQ;MAC5BF,aAAa,GAAGnB,IAAI;IACrB;EACD,CAAE,CAAC;EAEH,OAAO,CAAEkB,iBAAiB,EAAEC,aAAa,CAAE;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASI,sBAAsBA,CAAEzB,KAAK,EAAEC,IAAI,EAAG;EACrD,OACCA,IAAI,CAACQ,IAAI,IAAIT,KAAK,CAACI,CAAC,IACpBH,IAAI,CAACW,KAAK,IAAIZ,KAAK,CAACI,CAAC,IACrBH,IAAI,CAACS,GAAG,IAAIV,KAAK,CAACK,CAAC,IACnBJ,IAAI,CAACY,MAAM,IAAIb,KAAK,CAACK,CAAC;AAExB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASqB,yCAAyCA,CAAE1B,KAAK,EAAEC,IAAI,EAAG;EACxE,OAAOA,IAAI,CAACS,GAAG,IAAIV,KAAK,CAACK,CAAC,IAAIJ,IAAI,CAACY,MAAM,IAAIb,KAAK,CAACK,CAAC;AACrD","ignoreList":[]}