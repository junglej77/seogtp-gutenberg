{"version":3,"names":["comparator","field","items","order","a","b","cmpA","cmpB","orderA","findIndex","item","orderB","orderBy","concat","sort"],"sources":["@wordpress/block-editor/src/utils/sorting.js"],"sourcesContent":["/**\r\n * Recursive stable sorting comparator function.\r\n *\r\n * @param {string|Function} field Field to sort by.\r\n * @param {Array}           items Items to sort.\r\n * @param {string}          order Order, 'asc' or 'desc'.\r\n * @return {Function} Comparison function to be used in a `.sort()`.\r\n */\r\nconst comparator = ( field, items, order ) => {\r\n\treturn ( a, b ) => {\r\n\t\tlet cmpA, cmpB;\r\n\r\n\t\tif ( typeof field === 'function' ) {\r\n\t\t\tcmpA = field( a );\r\n\t\t\tcmpB = field( b );\r\n\t\t} else {\r\n\t\t\tcmpA = a[ field ];\r\n\t\t\tcmpB = b[ field ];\r\n\t\t}\r\n\r\n\t\tif ( cmpA > cmpB ) {\r\n\t\t\treturn order === 'asc' ? 1 : -1;\r\n\t\t} else if ( cmpB > cmpA ) {\r\n\t\t\treturn order === 'asc' ? -1 : 1;\r\n\t\t}\r\n\r\n\t\tconst orderA = items.findIndex( ( item ) => item === a );\r\n\t\tconst orderB = items.findIndex( ( item ) => item === b );\r\n\r\n\t\t// Stable sort: maintaining original array order\r\n\t\tif ( orderA > orderB ) {\r\n\t\t\treturn 1;\r\n\t\t} else if ( orderB > orderA ) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t};\r\n};\r\n\r\n/**\r\n * Order items by a certain key.\r\n * Supports decorator functions that allow complex picking of a comparison field.\r\n * Sorts in ascending order by default, but supports descending as well.\r\n * Stable sort - maintains original order of equal items.\r\n *\r\n * @param {Array}           items Items to order.\r\n * @param {string|Function} field Field to order by.\r\n * @param {string}          order Sorting order, `asc` or `desc`.\r\n * @return {Array} Sorted items.\r\n */\r\nexport function orderBy( items, field, order = 'asc' ) {\r\n\treturn items.concat().sort( comparator( field, items, order ) );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,UAAU,GAAGA,CAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,KAAM;EAC7C,OAAO,CAAEC,CAAC,EAAEC,CAAC,KAAM;IAClB,IAAIC,IAAI,EAAEC,IAAI;IAEd,IAAK,OAAON,KAAK,KAAK,UAAU,EAAG;MAClCK,IAAI,GAAGL,KAAK,CAAEG,CAAE,CAAC;MACjBG,IAAI,GAAGN,KAAK,CAAEI,CAAE,CAAC;IAClB,CAAC,MAAM;MACNC,IAAI,GAAGF,CAAC,CAAEH,KAAK,CAAE;MACjBM,IAAI,GAAGF,CAAC,CAAEJ,KAAK,CAAE;IAClB;IAEA,IAAKK,IAAI,GAAGC,IAAI,EAAG;MAClB,OAAOJ,KAAK,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC,MAAM,IAAKI,IAAI,GAAGD,IAAI,EAAG;MACzB,OAAOH,KAAK,KAAK,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC;IAChC;IAEA,MAAMK,MAAM,GAAGN,KAAK,CAACO,SAAS,CAAIC,IAAI,IAAMA,IAAI,KAAKN,CAAE,CAAC;IACxD,MAAMO,MAAM,GAAGT,KAAK,CAACO,SAAS,CAAIC,IAAI,IAAMA,IAAI,KAAKL,CAAE,CAAC;;IAExD;IACA,IAAKG,MAAM,GAAGG,MAAM,EAAG;MACtB,OAAO,CAAC;IACT,CAAC,MAAM,IAAKA,MAAM,GAAGH,MAAM,EAAG;MAC7B,OAAO,CAAC,CAAC;IACV;IAEA,OAAO,CAAC;EACT,CAAC;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASI,OAAOA,CAAEV,KAAK,EAAED,KAAK,EAAEE,KAAK,GAAG,KAAK,EAAG;EACtD,OAAOD,KAAK,CAACW,MAAM,CAAC,CAAC,CAACC,IAAI,CAAEd,UAAU,CAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAM,CAAE,CAAC;AAChE","ignoreList":[]}