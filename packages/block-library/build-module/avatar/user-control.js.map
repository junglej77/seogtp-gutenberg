{"version":3,"names":["__","ComboboxControl","useSelect","store","coreStore","useState","jsx","_jsx","AUTHORS_QUERY","who","per_page","_fields","context","UserControl","value","onChange","filteredAuthorsList","setFilteredAuthorsList","authorsList","select","getUsers","options","map","author","label","name","id","__next40pxDefaultSize","__nextHasNoMarginBottom","help","onFilterValueChange","inputValue","filter","option","toLowerCase","startsWith"],"sources":["@wordpress/block-library/src/avatar/user-control.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { ComboboxControl } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useState } from '@wordpress/element';\r\n\r\nconst AUTHORS_QUERY = {\r\n\twho: 'authors',\r\n\tper_page: -1,\r\n\t_fields: 'id,name',\r\n\tcontext: 'view',\r\n};\r\n\r\nfunction UserControl( { value, onChange } ) {\r\n\tconst [ filteredAuthorsList, setFilteredAuthorsList ] = useState();\r\n\tconst authorsList = useSelect( ( select ) => {\r\n\t\tconst { getUsers } = select( coreStore );\r\n\t\treturn getUsers( AUTHORS_QUERY );\r\n\t}, [] );\r\n\tif ( ! authorsList ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst options = authorsList.map( ( author ) => {\r\n\t\treturn {\r\n\t\t\tlabel: author.name,\r\n\t\t\tvalue: author.id,\r\n\t\t};\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<ComboboxControl\r\n\t\t\t__next40pxDefaultSize\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'User' ) }\r\n\t\t\thelp={ __(\r\n\t\t\t\t'Select the avatar user to display, if it is blank it will use the post/page author.'\r\n\t\t\t) }\r\n\t\t\tvalue={ value }\r\n\t\t\tonChange={ onChange }\r\n\t\t\toptions={ filteredAuthorsList || options }\r\n\t\t\tonFilterValueChange={ ( inputValue ) =>\r\n\t\t\t\tsetFilteredAuthorsList(\r\n\t\t\t\t\toptions.filter( ( option ) =>\r\n\t\t\t\t\t\toption.label\r\n\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t.startsWith( inputValue.toLowerCase() )\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default UserControl;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,eAAe,QAAQ,uBAAuB;AACvD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,QAAQ,QAAQ,oBAAoB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE9C,MAAMC,aAAa,GAAG;EACrBC,GAAG,EAAE,SAAS;EACdC,QAAQ,EAAE,CAAC,CAAC;EACZC,OAAO,EAAE,SAAS;EAClBC,OAAO,EAAE;AACV,CAAC;AAED,SAASC,WAAWA,CAAE;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAG;EAC3C,MAAM,CAAEC,mBAAmB,EAAEC,sBAAsB,CAAE,GAAGZ,QAAQ,CAAC,CAAC;EAClE,MAAMa,WAAW,GAAGhB,SAAS,CAAIiB,MAAM,IAAM;IAC5C,MAAM;MAAEC;IAAS,CAAC,GAAGD,MAAM,CAAEf,SAAU,CAAC;IACxC,OAAOgB,QAAQ,CAAEZ,aAAc,CAAC;EACjC,CAAC,EAAE,EAAG,CAAC;EACP,IAAK,CAAEU,WAAW,EAAG;IACpB,OAAO,IAAI;EACZ;EAEA,MAAMG,OAAO,GAAGH,WAAW,CAACI,GAAG,CAAIC,MAAM,IAAM;IAC9C,OAAO;MACNC,KAAK,EAAED,MAAM,CAACE,IAAI;MAClBX,KAAK,EAAES,MAAM,CAACG;IACf,CAAC;EACF,CAAE,CAAC;EAEH,oBACCnB,IAAA,CAACN,eAAe;IACf0B,qBAAqB;IACrBC,uBAAuB;IACvBJ,KAAK,EAAGxB,EAAE,CAAE,MAAO,CAAG;IACtB6B,IAAI,EAAG7B,EAAE,CACR,qFACD,CAAG;IACHc,KAAK,EAAGA,KAAO;IACfC,QAAQ,EAAGA,QAAU;IACrBM,OAAO,EAAGL,mBAAmB,IAAIK,OAAS;IAC1CS,mBAAmB,EAAKC,UAAU,IACjCd,sBAAsB,CACrBI,OAAO,CAACW,MAAM,CAAIC,MAAM,IACvBA,MAAM,CAACT,KAAK,CACVU,WAAW,CAAC,CAAC,CACbC,UAAU,CAAEJ,UAAU,CAACG,WAAW,CAAC,CAAE,CACxC,CACD;EACA,CACD,CAAC;AAEJ;AAEA,eAAerB,WAAW","ignoreList":[]}