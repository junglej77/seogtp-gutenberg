{"version":3,"names":["clsx","useSelect","useDispatch","useRef","useMemo","useEffect","useEntityRecord","store","coreStore","useEntityBlockEditor","Placeholder","Spinner","ToolbarButton","ToolbarGroup","__","useInnerBlocksProps","RecursionProvider","useHasRecursion","useBlockProps","Warning","privateApis","blockEditorPrivateApis","blockEditorStore","BlockControls","InnerBlocks","patternsPrivateApis","blocksStore","name","patternBlockName","unlock","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","useLayoutClasses","isOverridableBlock","hasOverridableBlocks","fullAlignments","useInferredLayout","blocks","parentLayout","initialInferredAlignmentRef","length","alignment","current","undefined","isConstrained","type","hasFullAlignment","some","block","includes","attributes","align","layout","setBlockEditMode","setEditMode","mode","forEach","editMode","clientId","innerBlocks","RecursionWarning","blockProps","children","NOOP","ReusableBlockEditRecursionWrapper","props","ref","hasAlreadyRendered","uniqueId","ReusableBlockEdit","ReusableBlockControl","recordId","canOverrideBlocks","hasContent","handleEditOriginal","resetContent","canUserEdit","select","canUser","kind","id","onClick","disabled","content","__unstableParentLayout","patternClientId","setAttributes","record","hasResolved","isMissing","setBlockEditingMode","__unstableMarkLastChangeAsPersistent","onNavigateToEntityRecord","editingMode","hasPatternOverridesSource","getBlocks","getSettings","getBlockEditingMode","getBlockBindingsSource","layoutClasses","className","innerBlocksProps","templateLock","value","onInput","onChange","renderAppender","ButtonBlockAppender","postId","postType"],"sources":["@wordpress/block-library/src/block/edit.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useRef, useMemo, useEffect } from '@wordpress/element';\r\nimport {\r\n\tuseEntityRecord,\r\n\tstore as coreStore,\r\n\tuseEntityBlockEditor,\r\n} from '@wordpress/core-data';\r\nimport {\r\n\tPlaceholder,\r\n\tSpinner,\r\n\tToolbarButton,\r\n\tToolbarGroup,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tuseInnerBlocksProps,\r\n\tRecursionProvider,\r\n\tuseHasRecursion,\r\n\tuseBlockProps,\r\n\tWarning,\r\n\tprivateApis as blockEditorPrivateApis,\r\n\tstore as blockEditorStore,\r\n\tBlockControls,\r\n\tInnerBlocks,\r\n} from '@wordpress/block-editor';\r\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { name as patternBlockName } from './index';\r\nimport { unlock } from '../lock-unlock';\r\n\r\nconst { useLayoutClasses } = unlock( blockEditorPrivateApis );\r\nconst { isOverridableBlock, hasOverridableBlocks } =\r\n\tunlock( patternsPrivateApis );\r\n\r\nconst fullAlignments = [ 'full', 'wide', 'left', 'right' ];\r\n\r\nconst useInferredLayout = ( blocks, parentLayout ) => {\r\n\tconst initialInferredAlignmentRef = useRef();\r\n\r\n\treturn useMemo( () => {\r\n\t\t// Exit early if the pattern's blocks haven't loaded yet.\r\n\t\tif ( ! blocks?.length ) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\r\n\t\tlet alignment = initialInferredAlignmentRef.current;\r\n\r\n\t\t// Only track the initial alignment so that temporarily removed\r\n\t\t// alignments can be reapplied.\r\n\t\tif ( alignment === undefined ) {\r\n\t\t\tconst isConstrained = parentLayout?.type === 'constrained';\r\n\t\t\tconst hasFullAlignment = blocks.some( ( block ) =>\r\n\t\t\t\tfullAlignments.includes( block.attributes.align )\r\n\t\t\t);\r\n\r\n\t\t\talignment = isConstrained && hasFullAlignment ? 'full' : null;\r\n\t\t\tinitialInferredAlignmentRef.current = alignment;\r\n\t\t}\r\n\r\n\t\tconst layout = alignment ? parentLayout : undefined;\r\n\r\n\t\treturn { alignment, layout };\r\n\t}, [ blocks, parentLayout ] );\r\n};\r\n\r\nfunction setBlockEditMode( setEditMode, blocks, mode ) {\r\n\tblocks.forEach( ( block ) => {\r\n\t\tconst editMode =\r\n\t\t\tmode ||\r\n\t\t\t( isOverridableBlock( block ) ? 'contentOnly' : 'disabled' );\r\n\t\tsetEditMode( block.clientId, editMode );\r\n\r\n\t\tsetBlockEditMode(\r\n\t\t\tsetEditMode,\r\n\t\t\tblock.innerBlocks,\r\n\t\t\t// Disable editing for nested patterns.\r\n\t\t\tblock.name === patternBlockName ? 'disabled' : mode\r\n\t\t);\r\n\t} );\r\n}\r\n\r\nfunction RecursionWarning() {\r\n\tconst blockProps = useBlockProps();\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<Warning>\r\n\t\t\t\t{ __( 'Block cannot be rendered inside itself.' ) }\r\n\t\t\t</Warning>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst NOOP = () => {};\r\n\r\n// Wrap the main Edit function for the pattern block with a recursion wrapper\r\n// that allows short-circuiting rendering as early as possible, before any\r\n// of the other effects in the block edit have run.\r\nexport default function ReusableBlockEditRecursionWrapper( props ) {\r\n\tconst { ref } = props.attributes;\r\n\tconst hasAlreadyRendered = useHasRecursion( ref );\r\n\r\n\tif ( hasAlreadyRendered ) {\r\n\t\treturn <RecursionWarning />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<RecursionProvider uniqueId={ ref }>\r\n\t\t\t<ReusableBlockEdit { ...props } />\r\n\t\t</RecursionProvider>\r\n\t);\r\n}\r\n\r\nfunction ReusableBlockControl( {\r\n\trecordId,\r\n\tcanOverrideBlocks,\r\n\thasContent,\r\n\thandleEditOriginal,\r\n\tresetContent,\r\n} ) {\r\n\tconst canUserEdit = useSelect(\r\n\t\t( select ) =>\r\n\t\t\t!! select( coreStore ).canUser( 'update', {\r\n\t\t\t\tkind: 'postType',\r\n\t\t\t\tname: 'wp_block',\r\n\t\t\t\tid: recordId,\r\n\t\t\t} ),\r\n\t\t[ recordId ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ canUserEdit && !! handleEditOriginal && (\r\n\t\t\t\t<BlockControls>\r\n\t\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t\t<ToolbarButton onClick={ handleEditOriginal }>\r\n\t\t\t\t\t\t\t{ __( 'Edit original' ) }\r\n\t\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t\t</ToolbarGroup>\r\n\t\t\t\t</BlockControls>\r\n\t\t\t) }\r\n\r\n\t\t\t{ canOverrideBlocks && (\r\n\t\t\t\t<BlockControls>\r\n\t\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\t\tonClick={ resetContent }\r\n\t\t\t\t\t\t\tdisabled={ ! hasContent }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Reset' ) }\r\n\t\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t\t</ToolbarGroup>\r\n\t\t\t\t</BlockControls>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction ReusableBlockEdit( {\r\n\tname,\r\n\tattributes: { ref, content },\r\n\t__unstableParentLayout: parentLayout,\r\n\tclientId: patternClientId,\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { record, hasResolved } = useEntityRecord(\r\n\t\t'postType',\r\n\t\t'wp_block',\r\n\t\tref\r\n\t);\r\n\tconst [ blocks ] = useEntityBlockEditor( 'postType', 'wp_block', {\r\n\t\tid: ref,\r\n\t} );\r\n\tconst isMissing = hasResolved && ! record;\r\n\r\n\tconst { setBlockEditingMode, __unstableMarkLastChangeAsPersistent } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tconst {\r\n\t\tinnerBlocks,\r\n\t\tonNavigateToEntityRecord,\r\n\t\teditingMode,\r\n\t\thasPatternOverridesSource,\r\n\t} = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlocks, getSettings, getBlockEditingMode } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\t\t\tconst { getBlockBindingsSource } = unlock( select( blocksStore ) );\r\n\t\t\t// For editing link to the site editor if the theme and user permissions support it.\r\n\t\t\treturn {\r\n\t\t\t\tinnerBlocks: getBlocks( patternClientId ),\r\n\t\t\t\tonNavigateToEntityRecord:\r\n\t\t\t\t\tgetSettings().onNavigateToEntityRecord,\r\n\t\t\t\teditingMode: getBlockEditingMode( patternClientId ),\r\n\t\t\t\thasPatternOverridesSource: !! getBlockBindingsSource(\r\n\t\t\t\t\t'core/pattern-overrides'\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ patternClientId ]\r\n\t);\r\n\r\n\t// Sync the editing mode of the pattern block with the inner blocks.\r\n\tuseEffect( () => {\r\n\t\tsetBlockEditMode(\r\n\t\t\tsetBlockEditingMode,\r\n\t\t\tinnerBlocks,\r\n\t\t\t// Disable editing if the pattern itself is disabled.\r\n\t\t\teditingMode === 'disabled' || ! hasPatternOverridesSource\r\n\t\t\t\t? 'disabled'\r\n\t\t\t\t: undefined\r\n\t\t);\r\n\t}, [\r\n\t\teditingMode,\r\n\t\tinnerBlocks,\r\n\t\tsetBlockEditingMode,\r\n\t\thasPatternOverridesSource,\r\n\t] );\r\n\r\n\tconst canOverrideBlocks = useMemo(\r\n\t\t() => hasPatternOverridesSource && hasOverridableBlocks( blocks ),\r\n\t\t[ hasPatternOverridesSource, blocks ]\r\n\t);\r\n\r\n\tconst { alignment, layout } = useInferredLayout( blocks, parentLayout );\r\n\tconst layoutClasses = useLayoutClasses( { layout }, name );\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: clsx(\r\n\t\t\t'block-library-block__reusable-block-container',\r\n\t\t\tlayout && layoutClasses,\r\n\t\t\t{ [ `align${ alignment }` ]: alignment }\r\n\t\t),\r\n\t} );\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplateLock: 'all',\r\n\t\tlayout,\r\n\t\tvalue: blocks,\r\n\t\tonInput: NOOP,\r\n\t\tonChange: NOOP,\r\n\t\trenderAppender: blocks?.length\r\n\t\t\t? undefined\r\n\t\t\t: InnerBlocks.ButtonBlockAppender,\r\n\t} );\r\n\r\n\tconst handleEditOriginal = () => {\r\n\t\tonNavigateToEntityRecord( {\r\n\t\t\tpostId: ref,\r\n\t\t\tpostType: 'wp_block',\r\n\t\t} );\r\n\t};\r\n\r\n\tconst resetContent = () => {\r\n\t\tif ( content ) {\r\n\t\t\t// Make sure any previous changes are persisted before resetting.\r\n\t\t\t__unstableMarkLastChangeAsPersistent();\r\n\t\t\tsetAttributes( { content: undefined } );\r\n\t\t}\r\n\t};\r\n\r\n\tlet children = null;\r\n\r\n\tif ( isMissing ) {\r\n\t\tchildren = (\r\n\t\t\t<Warning>\r\n\t\t\t\t{ __( 'Block has been deleted or is unavailable.' ) }\r\n\t\t\t</Warning>\r\n\t\t);\r\n\t}\r\n\r\n\tif ( ! hasResolved ) {\r\n\t\tchildren = (\r\n\t\t\t<Placeholder>\r\n\t\t\t\t<Spinner />\r\n\t\t\t</Placeholder>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ hasResolved && ! isMissing && (\r\n\t\t\t\t<ReusableBlockControl\r\n\t\t\t\t\trecordId={ ref }\r\n\t\t\t\t\tcanOverrideBlocks={ canOverrideBlocks }\r\n\t\t\t\t\thasContent={ !! content }\r\n\t\t\t\t\thandleEditOriginal={\r\n\t\t\t\t\t\tonNavigateToEntityRecord\r\n\t\t\t\t\t\t\t? handleEditOriginal\r\n\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresetContent={ resetContent }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\r\n\t\t\t{ children === null ? (\r\n\t\t\t\t<div { ...innerBlocksProps } />\r\n\t\t\t) : (\r\n\t\t\t\t<div { ...blockProps }>{ children }</div>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}