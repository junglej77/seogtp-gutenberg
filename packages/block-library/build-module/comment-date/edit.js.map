{"version":3,"names":["useEntityProp","dateI18n","humanTimeDiff","getSettings","getDateSettings","InspectorControls","useBlockProps","__experimentalDateFormatPicker","DateFormatPicker","PanelBody","ToggleControl","__","_x","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Edit","attributes","format","isLink","context","commentId","setAttributes","blockProps","date","siteFormat","formats","inspectorControls","children","title","defaultFormat","onChange","nextFormat","__nextHasNoMarginBottom","label","checked","commentDate","Date","dateTime","href","onClick","event","preventDefault"],"sources":["@wordpress/block-library/src/comment-date/edit.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport {\r\n\tdateI18n,\r\n\thumanTimeDiff,\r\n\tgetSettings as getDateSettings,\r\n} from '@wordpress/date';\r\nimport {\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n\t__experimentalDateFormatPicker as DateFormatPicker,\r\n} from '@wordpress/block-editor';\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\nimport { __, _x } from '@wordpress/i18n';\r\n\r\n/**\r\n * Renders the `core/comment-date` block on the editor.\r\n *\r\n * @param {Object} props                   React props.\r\n * @param {Object} props.setAttributes     Callback for updating block attributes.\r\n * @param {Object} props.attributes        Block attributes.\r\n * @param {string} props.attributes.format Format of the date.\r\n * @param {string} props.attributes.isLink Whether the author name should be linked.\r\n * @param {Object} props.context           Inherited context.\r\n * @param {string} props.context.commentId The comment ID.\r\n *\r\n * @return {JSX.Element} React element.\r\n */\r\nexport default function Edit( {\r\n\tattributes: { format, isLink },\r\n\tcontext: { commentId },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst blockProps = useBlockProps();\r\n\tlet [ date ] = useEntityProp( 'root', 'comment', 'date', commentId );\r\n\tconst [ siteFormat = getDateSettings().formats.date ] = useEntityProp(\r\n\t\t'root',\r\n\t\t'site',\r\n\t\t'date_format'\r\n\t);\r\n\r\n\tconst inspectorControls = (\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t<DateFormatPicker\r\n\t\t\t\t\tformat={ format }\r\n\t\t\t\t\tdefaultFormat={ siteFormat }\r\n\t\t\t\t\tonChange={ ( nextFormat ) =>\r\n\t\t\t\t\t\tsetAttributes( { format: nextFormat } )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ToggleControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Link to comment' ) }\r\n\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\r\n\t\t\t\t\tchecked={ isLink }\r\n\t\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t);\r\n\r\n\tif ( ! commentId || ! date ) {\r\n\t\tdate = _x( 'Comment Date', 'block title' );\r\n\t}\r\n\r\n\tlet commentDate =\r\n\t\tdate instanceof Date ? (\r\n\t\t\t<time dateTime={ dateI18n( 'c', date ) }>\r\n\t\t\t\t{ format === 'human-diff'\r\n\t\t\t\t\t? humanTimeDiff( date )\r\n\t\t\t\t\t: dateI18n( format || siteFormat, date ) }\r\n\t\t\t</time>\r\n\t\t) : (\r\n\t\t\t<time>{ date }</time>\r\n\t\t);\r\n\r\n\tif ( isLink ) {\r\n\t\tcommentDate = (\r\n\t\t\t<a\r\n\t\t\t\thref=\"#comment-date-pseudo-link\"\r\n\t\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t>\r\n\t\t\t\t{ commentDate }\r\n\t\t\t</a>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ inspectorControls }\r\n\t\t\t<div { ...blockProps }>{ commentDate }</div>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,sBAAsB;AACpD,SACCC,QAAQ,EACRC,aAAa,EACbC,WAAW,IAAIC,eAAe,QACxB,iBAAiB;AACxB,SACCC,iBAAiB,EACjBC,aAAa,EACbC,8BAA8B,IAAIC,gBAAgB,QAC5C,yBAAyB;AAChC,SAASC,SAAS,EAAEC,aAAa,QAAQ,uBAAuB;AAChE,SAASC,EAAE,EAAEC,EAAE,QAAQ,iBAAiB;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAaA,eAAe,SAASC,IAAIA,CAAE;EAC7BC,UAAU,EAAE;IAAEC,MAAM;IAAEC;EAAO,CAAC;EAC9BC,OAAO,EAAE;IAAEC;EAAU,CAAC;EACtBC;AACD,CAAC,EAAG;EACH,MAAMC,UAAU,GAAGpB,aAAa,CAAC,CAAC;EAClC,IAAI,CAAEqB,IAAI,CAAE,GAAG3B,aAAa,CAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAEwB,SAAU,CAAC;EACpE,MAAM,CAAEI,UAAU,GAAGxB,eAAe,CAAC,CAAC,CAACyB,OAAO,CAACF,IAAI,CAAE,GAAG3B,aAAa,CACpE,MAAM,EACN,MAAM,EACN,aACD,CAAC;EAED,MAAM8B,iBAAiB,gBACtBhB,IAAA,CAACT,iBAAiB;IAAA0B,QAAA,eACjBf,KAAA,CAACP,SAAS;MAACuB,KAAK,EAAGrB,EAAE,CAAE,UAAW,CAAG;MAAAoB,QAAA,gBACpCjB,IAAA,CAACN,gBAAgB;QAChBa,MAAM,EAAGA,MAAQ;QACjBY,aAAa,EAAGL,UAAY;QAC5BM,QAAQ,EAAKC,UAAU,IACtBV,aAAa,CAAE;UAAEJ,MAAM,EAAEc;QAAW,CAAE;MACtC,CACD,CAAC,eACFrB,IAAA,CAACJ,aAAa;QACb0B,uBAAuB;QACvBC,KAAK,EAAG1B,EAAE,CAAE,iBAAkB,CAAG;QACjCuB,QAAQ,EAAGA,CAAA,KAAMT,aAAa,CAAE;UAAEH,MAAM,EAAE,CAAEA;QAAO,CAAE,CAAG;QACxDgB,OAAO,EAAGhB;MAAQ,CAClB,CAAC;IAAA,CACQ;EAAC,CACM,CACnB;EAED,IAAK,CAAEE,SAAS,IAAI,CAAEG,IAAI,EAAG;IAC5BA,IAAI,GAAGf,EAAE,CAAE,cAAc,EAAE,aAAc,CAAC;EAC3C;EAEA,IAAI2B,WAAW,GACdZ,IAAI,YAAYa,IAAI,gBACnB1B,IAAA;IAAM2B,QAAQ,EAAGxC,QAAQ,CAAE,GAAG,EAAE0B,IAAK,CAAG;IAAAI,QAAA,EACrCV,MAAM,KAAK,YAAY,GACtBnB,aAAa,CAAEyB,IAAK,CAAC,GACrB1B,QAAQ,CAAEoB,MAAM,IAAIO,UAAU,EAAED,IAAK;EAAC,CACpC,CAAC,gBAEPb,IAAA;IAAAiB,QAAA,EAAQJ;EAAI,CAAQ,CACpB;EAEF,IAAKL,MAAM,EAAG;IACbiB,WAAW,gBACVzB,IAAA;MACC4B,IAAI,EAAC,2BAA2B;MAChCC,OAAO,EAAKC,KAAK,IAAMA,KAAK,CAACC,cAAc,CAAC,CAAG;MAAAd,QAAA,EAE7CQ;IAAW,CACX,CACH;EACF;EAEA,oBACCvB,KAAA,CAAAE,SAAA;IAAAa,QAAA,GACGD,iBAAiB,eACnBhB,IAAA;MAAA,GAAUY,UAAU;MAAAK,QAAA,EAAKQ;IAAW,CAAO,CAAC;EAAA,CAC3C,CAAC;AAEL","ignoreList":[]}