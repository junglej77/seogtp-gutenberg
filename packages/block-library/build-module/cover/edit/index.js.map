{"version":3,"names":["clsx","useEntityProp","store","coreStore","useEffect","useMemo","useRef","Placeholder","Spinner","compose","useResizeObserver","withColors","ColorPalette","useBlockProps","useSettings","useInnerBlocksProps","__experimentalUseGradient","blockEditorStore","__","useSelect","useDispatch","isBlobURL","noticesStore","attributesFromMedia","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","dimRatioToClass","isContentPositionCenter","getPositionClassName","mediaPosition","CoverInspectorControls","CoverBlockControls","CoverPlaceholder","ResizableCoverPopover","getMediaColor","compositeIsDark","DEFAULT_BACKGROUND_COLOR","DEFAULT_OVERLAY_COLOR","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getInnerBlocksTemplate","attributes","align","placeholder","isTemporaryMedia","id","url","CoverEdit","clientId","isSelected","overlayColor","setAttributes","setOverlayColor","toggleSelection","context","postId","postType","contentPosition","originalUrl","backgroundType","originalBackgroundType","useFeaturedImage","dimRatio","focalPoint","hasParallax","isDark","isRepeated","minHeight","minHeightUnit","alt","allowedBlocks","templateLock","tagName","TagName","isUserOverlayColor","featuredImage","__unstableMarkNextChangeAsNotPersistent","media","select","getMedia","mediaUrl","source_url","averageBackgroundColor","newOverlayColor","color","newIsDark","replaceAll","createErrorNotice","gradientClass","gradientValue","onSelectMedia","newMedia","mediaAttributes","isImage","type","media_type","includes","undefined","newDimRatio","onClearMedia","onSetOverlayColor","onUpdateDimRatio","onUploadError","message","isUploadingMedia","isImageBackground","isVideoBackground","resizeListener","height","width","resizableBoxDimensions","minHeightWithUnit","isImgElement","style","backgroundImage","backgroundPosition","bgStyle","backgroundColor","mediaStyle","objectPosition","hasBackground","hasInnerBlocks","getBlock","innerBlocks","length","ref","blockProps","fontSizes","hasFontSizes","innerBlocksTemplate","fontSize","innerBlocksProps","className","template","templateInsertUpdatesSelection","dropZoneElement","current","mediaElement","currentSettings","toggleUseFeaturedImage","newUseFeaturedImage","blockControls","inspectorControls","coverRef","updateDimRatio","resizableCoverProps","onResizeStart","onResize","value","onResizeStop","newMinHeight","showHandle","dimensions","aspectRatio","size","children","onError","disableCustomColors","onChange","clearable","classes","showOverlay","class","withIllustration","src","role","autoPlay","muted","loop","disableMediaButtons"],"sources":["D:/jungle/gutenberg/packages/block-library/src/cover/edit/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\r\nimport { useEffect, useMemo, useRef } from '@wordpress/element';\r\nimport { Placeholder, Spinner } from '@wordpress/components';\r\nimport { compose, useResizeObserver } from '@wordpress/compose';\r\nimport {\r\n\twithColors,\r\n\tColorPalette,\r\n\tuseBlockProps,\r\n\tuseSettings,\r\n\tuseInnerBlocksProps,\r\n\t__experimentalUseGradient,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { isBlobURL } from '@wordpress/blob';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tattributesFromMedia,\r\n\tIMAGE_BACKGROUND_TYPE,\r\n\tVIDEO_BACKGROUND_TYPE,\r\n\tdimRatioToClass,\r\n\tisContentPositionCenter,\r\n\tgetPositionClassName,\r\n\tmediaPosition,\r\n} from '../shared';\r\nimport CoverInspectorControls from './inspector-controls';\r\nimport CoverBlockControls from './block-controls';\r\nimport CoverPlaceholder from './cover-placeholder';\r\nimport ResizableCoverPopover from './resizable-cover-popover';\r\nimport {\r\n\tgetMediaColor,\r\n\tcompositeIsDark,\r\n\tDEFAULT_BACKGROUND_COLOR,\r\n\tDEFAULT_OVERLAY_COLOR,\r\n} from './color-utils';\r\n\r\nfunction getInnerBlocksTemplate( attributes ) {\r\n\treturn [\r\n\t\t[\r\n\t\t\t'core/paragraph',\r\n\t\t\t{\r\n\t\t\t\talign: 'center',\r\n\t\t\t\tplaceholder: __( 'Write titleâ€¦' ),\r\n\t\t\t\t...attributes,\r\n\t\t\t},\r\n\t\t],\r\n\t];\r\n}\r\n\r\n/**\r\n * Is the URL a temporary blob URL? A blob URL is one that is used temporarily while\r\n * the media (image or video) is being uploaded and will not have an id allocated yet.\r\n *\r\n * @param {number} id  The id of the media.\r\n * @param {string} url The url of the media.\r\n *\r\n * @return {boolean} Is the URL a Blob URL.\r\n */\r\nconst isTemporaryMedia = ( id, url ) => ! id && isBlobURL( url );\r\n\r\nfunction CoverEdit( {\r\n\tattributes,\r\n\tclientId,\r\n\tisSelected,\r\n\toverlayColor,\r\n\tsetAttributes,\r\n\tsetOverlayColor,\r\n\ttoggleSelection,\r\n\tcontext: { postId, postType },\r\n} ) {\r\n\tconst {\r\n\t\tcontentPosition,\r\n\t\tid,\r\n\t\turl: originalUrl,\r\n\t\tbackgroundType: originalBackgroundType,\r\n\t\tuseFeaturedImage,\r\n\t\tdimRatio,\r\n\t\tfocalPoint,\r\n\t\thasParallax,\r\n\t\tisDark,\r\n\t\tisRepeated,\r\n\t\tminHeight,\r\n\t\tminHeightUnit,\r\n\t\talt,\r\n\t\tallowedBlocks,\r\n\t\ttemplateLock,\r\n\t\ttagName: TagName = 'div',\r\n\t\tisUserOverlayColor,\r\n\t} = attributes;\r\n\r\n\tconst [ featuredImage ] = useEntityProp(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\t'featured_media',\r\n\t\tpostId\r\n\t);\r\n\r\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\tconst media = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tfeaturedImage &&\r\n\t\t\tselect( coreStore ).getMedia( featuredImage, { context: 'view' } ),\r\n\t\t[ featuredImage ]\r\n\t);\r\n\tconst mediaUrl = media?.source_url;\r\n\r\n\t// User can change the featured image outside of the block, but we still\r\n\t// need to update the block when that happens. This effect should only\r\n\t// run when the featured image changes in that case. All other cases are\r\n\t// handled in their respective callbacks.\r\n\tuseEffect( () => {\r\n\t\t( async () => {\r\n\t\t\tif ( ! useFeaturedImage ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst averageBackgroundColor = await getMediaColor( mediaUrl );\r\n\r\n\t\t\tlet newOverlayColor = overlayColor.color;\r\n\t\t\tif ( ! isUserOverlayColor ) {\r\n\t\t\t\tnewOverlayColor = averageBackgroundColor;\r\n\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\t\tsetOverlayColor( newOverlayColor );\r\n\t\t\t}\r\n\r\n\t\t\tconst newIsDark = compositeIsDark(\r\n\t\t\t\tdimRatio,\r\n\t\t\t\tnewOverlayColor,\r\n\t\t\t\taverageBackgroundColor\r\n\t\t\t);\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\tsetAttributes( {\r\n\t\t\t\tisDark: newIsDark,\r\n\t\t\t\tisUserOverlayColor: isUserOverlayColor || false,\r\n\t\t\t} );\r\n\t\t} )();\r\n\t\t// Disable reason: Update the block only when the featured image changes.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ mediaUrl ] );\r\n\r\n\t// instead of destructuring the attributes\r\n\t// we define the url and background type\r\n\t// depending on the value of the useFeaturedImage flag\r\n\t// to preview in edit the dynamic featured image\r\n\tconst url = useFeaturedImage\r\n\t\t? mediaUrl\r\n\t\t: // Ensure the url is not malformed due to sanitization through `wp_kses`.\r\n\t\t  originalUrl?.replaceAll( '&amp;', '&' );\r\n\tconst backgroundType = useFeaturedImage\r\n\t\t? IMAGE_BACKGROUND_TYPE\r\n\t\t: originalBackgroundType;\r\n\r\n\tconst { createErrorNotice } = useDispatch( noticesStore );\r\n\tconst { gradientClass, gradientValue } = __experimentalUseGradient();\r\n\r\n\tconst onSelectMedia = async ( newMedia ) => {\r\n\t\tconst mediaAttributes = attributesFromMedia( newMedia );\r\n\t\tconst isImage = [ newMedia?.type, newMedia?.media_type ].includes(\r\n\t\t\tIMAGE_BACKGROUND_TYPE\r\n\t\t);\r\n\r\n\t\tconst averageBackgroundColor = await getMediaColor(\r\n\t\t\tisImage ? newMedia?.url : undefined\r\n\t\t);\r\n\r\n\t\tlet newOverlayColor = overlayColor.color;\r\n\t\tif ( ! isUserOverlayColor ) {\r\n\t\t\tnewOverlayColor = averageBackgroundColor;\r\n\t\t\tsetOverlayColor( newOverlayColor );\r\n\r\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t}\r\n\r\n\t\t// Only set a new dimRatio if there was no previous media selected\r\n\t\t// to avoid resetting to 50 if it has been explicitly set to 100.\r\n\t\t// See issue #52835 for context.\r\n\t\tconst newDimRatio =\r\n\t\t\toriginalUrl === undefined && dimRatio === 100 ? 50 : dimRatio;\r\n\r\n\t\tconst newIsDark = compositeIsDark(\r\n\t\t\tnewDimRatio,\r\n\t\t\tnewOverlayColor,\r\n\t\t\taverageBackgroundColor\r\n\t\t);\r\n\r\n\t\tsetAttributes( {\r\n\t\t\t...mediaAttributes,\r\n\t\t\tfocalPoint: undefined,\r\n\t\t\tuseFeaturedImage: undefined,\r\n\t\t\tdimRatio: newDimRatio,\r\n\t\t\tisDark: newIsDark,\r\n\t\t\tisUserOverlayColor: isUserOverlayColor || false,\r\n\t\t} );\r\n\t};\r\n\r\n\tconst onClearMedia = () => {\r\n\t\tlet newOverlayColor = overlayColor.color;\r\n\t\tif ( ! isUserOverlayColor ) {\r\n\t\t\tnewOverlayColor = DEFAULT_OVERLAY_COLOR;\r\n\t\t\tsetOverlayColor( undefined );\r\n\r\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t}\r\n\r\n\t\tconst newIsDark = compositeIsDark(\r\n\t\t\tdimRatio,\r\n\t\t\tnewOverlayColor,\r\n\t\t\tDEFAULT_BACKGROUND_COLOR\r\n\t\t);\r\n\r\n\t\tsetAttributes( {\r\n\t\t\turl: undefined,\r\n\t\t\tid: undefined,\r\n\t\t\tbackgroundType: undefined,\r\n\t\t\tfocalPoint: undefined,\r\n\t\t\thasParallax: undefined,\r\n\t\t\tisRepeated: undefined,\r\n\t\t\tuseFeaturedImage: undefined,\r\n\t\t\tisDark: newIsDark,\r\n\t\t} );\r\n\t};\r\n\r\n\tconst onSetOverlayColor = async ( newOverlayColor ) => {\r\n\t\tconst averageBackgroundColor = await getMediaColor( url );\r\n\t\tconst newIsDark = compositeIsDark(\r\n\t\t\tdimRatio,\r\n\t\t\tnewOverlayColor,\r\n\t\t\taverageBackgroundColor\r\n\t\t);\r\n\r\n\t\tsetOverlayColor( newOverlayColor );\r\n\r\n\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\r\n\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\r\n\t\tsetAttributes( {\r\n\t\t\tisUserOverlayColor: true,\r\n\t\t\tisDark: newIsDark,\r\n\t\t} );\r\n\t};\r\n\r\n\tconst onUpdateDimRatio = async ( newDimRatio ) => {\r\n\t\tconst averageBackgroundColor = await getMediaColor( url );\r\n\t\tconst newIsDark = compositeIsDark(\r\n\t\t\tnewDimRatio,\r\n\t\t\toverlayColor.color,\r\n\t\t\taverageBackgroundColor\r\n\t\t);\r\n\r\n\t\tsetAttributes( {\r\n\t\t\tdimRatio: newDimRatio,\r\n\t\t\tisDark: newIsDark,\r\n\t\t} );\r\n\t};\r\n\r\n\tconst onUploadError = ( message ) => {\r\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\r\n\t};\r\n\r\n\tconst isUploadingMedia = isTemporaryMedia( id, url );\r\n\r\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\tconst [ resizeListener, { height, width } ] = useResizeObserver();\r\n\tconst resizableBoxDimensions = useMemo( () => {\r\n\t\treturn {\r\n\t\t\theight: minHeightUnit === 'px' ? minHeight : 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t};\r\n\t}, [ minHeight, minHeightUnit ] );\r\n\r\n\tconst minHeightWithUnit =\r\n\t\tminHeight && minHeightUnit\r\n\t\t\t? `${ minHeight }${ minHeightUnit }`\r\n\t\t\t: minHeight;\r\n\r\n\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\tconst style = {\r\n\t\tminHeight: minHeightWithUnit || undefined,\r\n\t};\r\n\r\n\tconst backgroundImage = url ? `url(${ url })` : undefined;\r\n\r\n\tconst backgroundPosition = mediaPosition( focalPoint );\r\n\r\n\tconst bgStyle = { backgroundColor: overlayColor.color };\r\n\tconst mediaStyle = {\r\n\t\tobjectPosition:\r\n\t\t\tfocalPoint && isImgElement\r\n\t\t\t\t? mediaPosition( focalPoint )\r\n\t\t\t\t: undefined,\r\n\t};\r\n\r\n\tconst hasBackground = !! ( url || overlayColor.color || gradientValue );\r\n\r\n\tconst hasInnerBlocks = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tselect( blockEditorStore ).getBlock( clientId ).innerBlocks.length >\r\n\t\t\t0,\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst ref = useRef();\r\n\tconst blockProps = useBlockProps( { ref } );\r\n\r\n\t// Check for fontSize support before we pass a fontSize attribute to the innerBlocks.\r\n\tconst [ fontSizes ] = useSettings( 'typography.fontSizes' );\r\n\tconst hasFontSizes = fontSizes?.length > 0;\r\n\tconst innerBlocksTemplate = getInnerBlocksTemplate( {\r\n\t\tfontSize: hasFontSizes ? 'large' : undefined,\r\n\t} );\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps(\r\n\t\t{\r\n\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t},\r\n\t\t{\r\n\t\t\t// Avoid template sync when the `templateLock` value is `all` or `contentOnly`.\r\n\t\t\t// See: https://github.com/WordPress/gutenberg/pull/45632\r\n\t\t\ttemplate: ! hasInnerBlocks ? innerBlocksTemplate : undefined,\r\n\t\t\ttemplateInsertUpdatesSelection: true,\r\n\t\t\tallowedBlocks,\r\n\t\t\ttemplateLock,\r\n\t\t\tdropZoneElement: ref.current,\r\n\t\t}\r\n\t);\r\n\r\n\tconst mediaElement = useRef();\r\n\tconst currentSettings = {\r\n\t\tisVideoBackground,\r\n\t\tisImageBackground,\r\n\t\tmediaElement,\r\n\t\thasInnerBlocks,\r\n\t\turl,\r\n\t\tisImgElement,\r\n\t\toverlayColor,\r\n\t};\r\n\r\n\tconst toggleUseFeaturedImage = async () => {\r\n\t\tconst newUseFeaturedImage = ! useFeaturedImage;\r\n\r\n\t\tconst averageBackgroundColor = newUseFeaturedImage\r\n\t\t\t? await getMediaColor( mediaUrl )\r\n\t\t\t: DEFAULT_BACKGROUND_COLOR;\r\n\r\n\t\tconst newOverlayColor = ! isUserOverlayColor\r\n\t\t\t? averageBackgroundColor\r\n\t\t\t: overlayColor.color;\r\n\r\n\t\tif ( ! isUserOverlayColor ) {\r\n\t\t\tif ( newUseFeaturedImage ) {\r\n\t\t\t\tsetOverlayColor( newOverlayColor );\r\n\t\t\t} else {\r\n\t\t\t\tsetOverlayColor( undefined );\r\n\t\t\t}\r\n\r\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t}\r\n\r\n\t\tconst newDimRatio = dimRatio === 100 ? 50 : dimRatio;\r\n\t\tconst newIsDark = compositeIsDark(\r\n\t\t\tnewDimRatio,\r\n\t\t\tnewOverlayColor,\r\n\t\t\taverageBackgroundColor\r\n\t\t);\r\n\r\n\t\tsetAttributes( {\r\n\t\t\tid: undefined,\r\n\t\t\turl: undefined,\r\n\t\t\tuseFeaturedImage: newUseFeaturedImage,\r\n\t\t\tdimRatio: newDimRatio,\r\n\t\t\tbackgroundType: useFeaturedImage\r\n\t\t\t\t? IMAGE_BACKGROUND_TYPE\r\n\t\t\t\t: undefined,\r\n\t\t\tisDark: newIsDark,\r\n\t\t} );\r\n\t};\r\n\r\n\tconst blockControls = (\r\n\t\t<CoverBlockControls\r\n\t\t\tattributes={ attributes }\r\n\t\t\tsetAttributes={ setAttributes }\r\n\t\t\tonSelectMedia={ onSelectMedia }\r\n\t\t\tcurrentSettings={ currentSettings }\r\n\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\r\n\t\t\tonClearMedia={ onClearMedia }\r\n\t\t/>\r\n\t);\r\n\r\n\tconst inspectorControls = (\r\n\t\t<CoverInspectorControls\r\n\t\t\tattributes={ attributes }\r\n\t\t\tsetAttributes={ setAttributes }\r\n\t\t\tclientId={ clientId }\r\n\t\t\tsetOverlayColor={ onSetOverlayColor }\r\n\t\t\tcoverRef={ ref }\r\n\t\t\tcurrentSettings={ currentSettings }\r\n\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\r\n\t\t\tupdateDimRatio={ onUpdateDimRatio }\r\n\t\t\tonClearMedia={ onClearMedia }\r\n\t\t/>\r\n\t);\r\n\r\n\tconst resizableCoverProps = {\r\n\t\tclassName: 'block-library-cover__resize-container',\r\n\t\tclientId,\r\n\t\theight,\r\n\t\tminHeight: minHeightWithUnit,\r\n\t\tonResizeStart: () => {\r\n\t\t\tsetAttributes( { minHeightUnit: 'px' } );\r\n\t\t\ttoggleSelection( false );\r\n\t\t},\r\n\t\tonResize: ( value ) => {\r\n\t\t\tsetAttributes( { minHeight: value } );\r\n\t\t},\r\n\t\tonResizeStop: ( newMinHeight ) => {\r\n\t\t\ttoggleSelection( true );\r\n\t\t\tsetAttributes( { minHeight: newMinHeight } );\r\n\t\t},\r\n\t\t// Hide the resize handle if an aspect ratio is set, as the aspect ratio takes precedence.\r\n\t\tshowHandle: ! attributes.style?.dimensions?.aspectRatio ? true : false,\r\n\t\tsize: resizableBoxDimensions,\r\n\t\twidth,\r\n\t};\r\n\r\n\tif ( ! useFeaturedImage && ! hasInnerBlocks && ! hasBackground ) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{ blockControls }\r\n\t\t\t\t{ inspectorControls }\r\n\t\t\t\t{ isSelected && (\r\n\t\t\t\t\t<ResizableCoverPopover { ...resizableCoverProps } />\r\n\t\t\t\t) }\r\n\t\t\t\t<TagName\r\n\t\t\t\t\t{ ...blockProps }\r\n\t\t\t\t\tclassName={ clsx( 'is-placeholder', blockProps.className ) }\r\n\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t...blockProps.style,\r\n\t\t\t\t\t\tminHeight: minHeightWithUnit || undefined,\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ resizeListener }\r\n\t\t\t\t\t<CoverPlaceholder\r\n\t\t\t\t\t\tonSelectMedia={ onSelectMedia }\r\n\t\t\t\t\t\tonError={ onUploadError }\r\n\t\t\t\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"wp-block-cover__placeholder-background-options\">\r\n\t\t\t\t\t\t\t<ColorPalette\r\n\t\t\t\t\t\t\t\tdisableCustomColors\r\n\t\t\t\t\t\t\t\tvalue={ overlayColor.color }\r\n\t\t\t\t\t\t\t\tonChange={ onSetOverlayColor }\r\n\t\t\t\t\t\t\t\tclearable={ false }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</CoverPlaceholder>\r\n\t\t\t\t</TagName>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\tconst classes = clsx(\r\n\t\t{\r\n\t\t\t'is-dark-theme': isDark,\r\n\t\t\t'is-light': ! isDark,\r\n\t\t\t'is-transient': isUploadingMedia,\r\n\t\t\t'has-parallax': hasParallax,\r\n\t\t\t'is-repeated': isRepeated,\r\n\t\t\t'has-custom-content-position':\r\n\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t},\r\n\t\tgetPositionClassName( contentPosition )\r\n\t);\r\n\r\n\tconst showOverlay =\r\n\t\turl || ! useFeaturedImage || ( useFeaturedImage && ! url );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ blockControls }\r\n\t\t\t{ inspectorControls }\r\n\t\t\t<TagName\r\n\t\t\t\t{ ...blockProps }\r\n\t\t\t\tclassName={ clsx( classes, blockProps.className ) }\r\n\t\t\t\tstyle={ { ...style, ...blockProps.style } }\r\n\t\t\t\tdata-url={ url }\r\n\t\t\t>\r\n\t\t\t\t{ resizeListener }\r\n\t\t\t\t{ showOverlay && (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t'wp-block-cover__background',\r\n\t\t\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t[ overlayColor.class ]: overlayColor.class,\r\n\t\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\r\n\t\t\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\r\n\t\t\t\t\t\t\t\t// media, a gradient and a dim.\r\n\t\t\t\t\t\t\t\t'wp-block-cover__gradient-background':\r\n\t\t\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\r\n\t\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\r\n\t\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tstyle={ { backgroundImage: gradientValue, ...bgStyle } }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\r\n\t\t\t\t{ ! url && useFeaturedImage && (\r\n\t\t\t\t\t<Placeholder\r\n\t\t\t\t\t\tclassName=\"wp-block-cover__image--placeholder-image\"\r\n\t\t\t\t\t\twithIllustration\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\r\n\t\t\t\t{ url &&\r\n\t\t\t\t\tisImageBackground &&\r\n\t\t\t\t\t( isImgElement ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tref={ mediaElement }\r\n\t\t\t\t\t\t\tclassName=\"wp-block-cover__image-background\"\r\n\t\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\t\tstyle={ mediaStyle }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tref={ mediaElement }\r\n\t\t\t\t\t\t\trole={ alt ? 'img' : undefined }\r\n\t\t\t\t\t\t\taria-label={ alt ? alt : undefined }\r\n\t\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\t\t'wp-block-cover__image-background'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tstyle={ { backgroundImage, backgroundPosition } }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t{ url && isVideoBackground && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tref={ mediaElement }\r\n\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ mediaStyle }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ isUploadingMedia && <Spinner /> }\r\n\t\t\t\t<CoverPlaceholder\r\n\t\t\t\t\tdisableMediaButtons\r\n\t\t\t\t\tonSelectMedia={ onSelectMedia }\r\n\t\t\t\t\tonError={ onUploadError }\r\n\t\t\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\r\n\t\t\t\t/>\r\n\t\t\t\t<div { ...innerBlocksProps } />\r\n\t\t\t</TagName>\r\n\t\t\t{ isSelected && (\r\n\t\t\t\t<ResizableCoverPopover { ...resizableCoverProps } />\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default compose( [\r\n\twithColors( { overlayColor: 'background-color' } ),\r\n] )( CoverEdit );\r\n"],"mappings":"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","ignoreList":[]}