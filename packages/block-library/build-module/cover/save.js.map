{"version":3,"names":["clsx","useInnerBlocksProps","getColorClassName","__experimentalGetGradientClass","useBlockProps","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","dimRatioToClass","isContentPositionCenter","getPositionClassName","mediaPosition","jsx","_jsx","jsxs","_jsxs","save","attributes","backgroundType","gradient","contentPosition","customGradient","customOverlayColor","dimRatio","focalPoint","useFeaturedImage","hasParallax","isDark","isRepeated","overlayColor","url","alt","id","minHeight","minHeightProp","minHeightUnit","tagName","Tag","overlayColorClass","gradientClass","isImageBackground","isVideoBackground","isImgElement","style","undefined","bgStyle","backgroundColor","background","objectPosition","backgroundImage","backgroundPosition","classes","imgClasses","gradientValue","className","children","src","role","autoPlay","muted","loop","playsInline"],"sources":["@wordpress/block-library/src/cover/save.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tuseInnerBlocksProps,\r\n\tgetColorClassName,\r\n\t__experimentalGetGradientClass,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tIMAGE_BACKGROUND_TYPE,\r\n\tVIDEO_BACKGROUND_TYPE,\r\n\tdimRatioToClass,\r\n\tisContentPositionCenter,\r\n\tgetPositionClassName,\r\n\tmediaPosition,\r\n} from './shared';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst {\r\n\t\tbackgroundType,\r\n\t\tgradient,\r\n\t\tcontentPosition,\r\n\t\tcustomGradient,\r\n\t\tcustomOverlayColor,\r\n\t\tdimRatio,\r\n\t\tfocalPoint,\r\n\t\tuseFeaturedImage,\r\n\t\thasParallax,\r\n\t\tisDark,\r\n\t\tisRepeated,\r\n\t\toverlayColor,\r\n\t\turl,\r\n\t\talt,\r\n\t\tid,\r\n\t\tminHeight: minHeightProp,\r\n\t\tminHeightUnit,\r\n\t\ttagName: Tag,\r\n\t} = attributes;\r\n\tconst overlayColorClass = getColorClassName(\r\n\t\t'background-color',\r\n\t\toverlayColor\r\n\t);\r\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\tconst minHeight =\r\n\t\tminHeightProp && minHeightUnit\r\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t: minHeightProp;\r\n\r\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\tconst style = {\r\n\t\tminHeight: minHeight || undefined,\r\n\t};\r\n\r\n\tconst bgStyle = {\r\n\t\tbackgroundColor: ! overlayColorClass ? customOverlayColor : undefined,\r\n\t\tbackground: customGradient ? customGradient : undefined,\r\n\t};\r\n\r\n\tconst objectPosition =\r\n\t\t// prettier-ignore\r\n\t\tfocalPoint && isImgElement\r\n\t\t\t  ? mediaPosition(focalPoint)\r\n\t\t\t  : undefined;\r\n\r\n\tconst backgroundImage = url ? `url(${ url })` : undefined;\r\n\r\n\tconst backgroundPosition = mediaPosition( focalPoint );\r\n\r\n\tconst classes = clsx(\r\n\t\t{\r\n\t\t\t'is-light': ! isDark,\r\n\t\t\t'has-parallax': hasParallax,\r\n\t\t\t'is-repeated': isRepeated,\r\n\t\t\t'has-custom-content-position':\r\n\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t},\r\n\t\tgetPositionClassName( contentPosition )\r\n\t);\r\n\r\n\tconst imgClasses = clsx(\r\n\t\t'wp-block-cover__image-background',\r\n\t\tid ? `wp-image-${ id }` : null,\r\n\t\t{\r\n\t\t\t'has-parallax': hasParallax,\r\n\t\t\t'is-repeated': isRepeated,\r\n\t\t}\r\n\t);\r\n\r\n\tconst gradientValue = gradient || customGradient;\r\n\r\n\treturn (\r\n\t\t<Tag { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t<span\r\n\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t'wp-block-cover__background',\r\n\t\t\t\t\toverlayColorClass,\r\n\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\r\n\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\r\n\t\t\t\t\t\t// media, a gradient and a dim.\r\n\t\t\t\t\t\t'wp-block-cover__gradient-background':\r\n\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\r\n\t\t\t\t\t\t'has-background-gradient': gradientValue,\r\n\t\t\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t\t\t}\r\n\t\t\t\t) }\r\n\t\t\t\tstyle={ bgStyle }\r\n\t\t\t/>\r\n\r\n\t\t\t{ ! useFeaturedImage &&\r\n\t\t\t\tisImageBackground &&\r\n\t\t\t\turl &&\r\n\t\t\t\t( isImgElement ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\trole={ alt ? 'img' : undefined }\r\n\t\t\t\t\t\taria-label={ alt ? alt : undefined }\r\n\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\tstyle={ { backgroundPosition, backgroundImage } }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) ) }\r\n\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t<video\r\n\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tmuted\r\n\t\t\t\t\tloop\r\n\t\t\t\t\tplaysInline\r\n\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t<div\r\n\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t\t\t} ) }\r\n\t\t\t/>\r\n\t\t</Tag>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SACCC,mBAAmB,EACnBC,iBAAiB,EACjBC,8BAA8B,EAC9BC,aAAa,QACP,yBAAyB;;AAEhC;AACA;AACA;AACA,SACCC,qBAAqB,EACrBC,qBAAqB,EACrBC,eAAe,EACfC,uBAAuB,EACvBC,oBAAoB,EACpBC,aAAa,QACP,UAAU;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAElB,eAAe,SAASC,IAAIA,CAAE;EAAEC;AAAW,CAAC,EAAG;EAC9C,MAAM;IACLC,cAAc;IACdC,QAAQ;IACRC,eAAe;IACfC,cAAc;IACdC,kBAAkB;IAClBC,QAAQ;IACRC,UAAU;IACVC,gBAAgB;IAChBC,WAAW;IACXC,MAAM;IACNC,UAAU;IACVC,YAAY;IACZC,GAAG;IACHC,GAAG;IACHC,EAAE;IACFC,SAAS,EAAEC,aAAa;IACxBC,aAAa;IACbC,OAAO,EAAEC;EACV,CAAC,GAAGpB,UAAU;EACd,MAAMqB,iBAAiB,GAAGnC,iBAAiB,CAC1C,kBAAkB,EAClB0B,YACD,CAAC;EACD,MAAMU,aAAa,GAAGnC,8BAA8B,CAAEe,QAAS,CAAC;EAChE,MAAMc,SAAS,GACdC,aAAa,IAAIC,aAAa,GAC1B,GAAGD,aAAe,GAAGC,aAAe,EAAC,GACtCD,aAAa;EAEjB,MAAMM,iBAAiB,GAAGlC,qBAAqB,KAAKY,cAAc;EAClE,MAAMuB,iBAAiB,GAAGlC,qBAAqB,KAAKW,cAAc;EAElE,MAAMwB,YAAY,GAAG,EAAIhB,WAAW,IAAIE,UAAU,CAAE;EAEpD,MAAMe,KAAK,GAAG;IACbV,SAAS,EAAEA,SAAS,IAAIW;EACzB,CAAC;EAED,MAAMC,OAAO,GAAG;IACfC,eAAe,EAAE,CAAER,iBAAiB,GAAGhB,kBAAkB,GAAGsB,SAAS;IACrEG,UAAU,EAAE1B,cAAc,GAAGA,cAAc,GAAGuB;EAC/C,CAAC;EAED,MAAMI,cAAc;EACnB;EACAxB,UAAU,IAAIkB,YAAY,GACrB/B,aAAa,CAACa,UAAU,CAAC,GACzBoB,SAAS;EAEf,MAAMK,eAAe,GAAGnB,GAAG,GAAI,OAAOA,GAAK,GAAE,GAAGc,SAAS;EAEzD,MAAMM,kBAAkB,GAAGvC,aAAa,CAAEa,UAAW,CAAC;EAEtD,MAAM2B,OAAO,GAAGlD,IAAI,CACnB;IACC,UAAU,EAAE,CAAE0B,MAAM;IACpB,cAAc,EAAED,WAAW;IAC3B,aAAa,EAAEE,UAAU;IACzB,6BAA6B,EAC5B,CAAEnB,uBAAuB,CAAEW,eAAgB;EAC7C,CAAC,EACDV,oBAAoB,CAAEU,eAAgB,CACvC,CAAC;EAED,MAAMgC,UAAU,GAAGnD,IAAI,CACtB,kCAAkC,EAClC+B,EAAE,GAAI,YAAYA,EAAI,EAAC,GAAG,IAAI,EAC9B;IACC,cAAc,EAAEN,WAAW;IAC3B,aAAa,EAAEE;EAChB,CACD,CAAC;EAED,MAAMyB,aAAa,GAAGlC,QAAQ,IAAIE,cAAc;EAEhD,oBACCN,KAAA,CAACsB,GAAG;IAAA,GAAMhC,aAAa,CAACW,IAAI,CAAE;MAAEsC,SAAS,EAAEH,OAAO;MAAER;IAAM,CAAE,CAAC;IAAAY,QAAA,gBAC5D1C,IAAA;MACC,eAAY,MAAM;MAClByC,SAAS,EAAGrD,IAAI,CACf,4BAA4B,EAC5BqC,iBAAiB,EACjB9B,eAAe,CAAEe,QAAS,CAAC,EAC3B;QACC,oBAAoB,EAAEA,QAAQ,KAAKqB,SAAS;QAC5C;QACA;QACA;QACA,qCAAqC,EACpCd,GAAG,IAAIuB,aAAa,IAAI9B,QAAQ,KAAK,CAAC;QACvC,yBAAyB,EAAE8B,aAAa;QACxC,CAAEd,aAAa,GAAIA;MACpB,CACD,CAAG;MACHI,KAAK,EAAGE;IAAS,CACjB,CAAC,EAEA,CAAEpB,gBAAgB,IACnBe,iBAAiB,IACjBV,GAAG,KACDY,YAAY,gBACb7B,IAAA;MACCyC,SAAS,EAAGF,UAAY;MACxBrB,GAAG,EAAGA,GAAK;MACXyB,GAAG,EAAG1B,GAAK;MACXa,KAAK,EAAG;QAAEK;MAAe,CAAG;MAC5B,mBAAgB,OAAO;MACvB,wBAAuBA;IAAgB,CACvC,CAAC,gBAEFnC,IAAA;MACC4C,IAAI,EAAG1B,GAAG,GAAG,KAAK,GAAGa,SAAW;MAChC,cAAab,GAAG,GAAGA,GAAG,GAAGa,SAAW;MACpCU,SAAS,EAAGF,UAAY;MACxBT,KAAK,EAAG;QAAEO,kBAAkB;QAAED;MAAgB;IAAG,CACjD,CACD,CAAE,EACFR,iBAAiB,IAAIX,GAAG,iBACzBjB,IAAA;MACCyC,SAAS,EAAGrD,IAAI,CACf,kCAAkC,EAClC,kBACD,CAAG;MACHyD,QAAQ;MACRC,KAAK;MACLC,IAAI;MACJC,WAAW;MACXL,GAAG,EAAG1B,GAAK;MACXa,KAAK,EAAG;QAAEK;MAAe,CAAG;MAC5B,mBAAgB,OAAO;MACvB,wBAAuBA;IAAgB,CACvC,CACD,eACDnC,IAAA;MAAA,GACMX,mBAAmB,CAACc,IAAI,CAAE;QAC9BsC,SAAS,EAAE;MACZ,CAAE;IAAC,CACH,CAAC;EAAA,CACE,CAAC;AAER","ignoreList":[]}