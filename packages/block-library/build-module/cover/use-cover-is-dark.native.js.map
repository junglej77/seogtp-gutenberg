{"version":3,"names":["colord","useEffect","useState","useCoverIsDark","initialValue","url","dimRatio","overlayColor","isDark","setIsDark"],"sources":["@wordpress/block-library/src/cover/use-cover-is-dark.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\n\r\nimport { colord } from 'colord';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useState } from '@wordpress/element';\r\n\r\n/**\r\n * useCoverIsDark is a hook that returns a boolean variable specifying if the cover\r\n * background is dark or not.\r\n *\r\n * @param {?boolean} initialValue Initial value.\r\n * @param {?string}  url          Url of the media background.\r\n * @param {?number}  dimRatio     Transparency of the overlay color. If an image and\r\n *                                color are set, dimRatio is used to decide what is used\r\n *                                for background darkness checking purposes.\r\n * @param {?string}  overlayColor String containing the overlay color value if one exists.\r\n *\r\n * @return {boolean} True if the cover background is considered \"dark\" and false otherwise.\r\n */\r\nexport default function useCoverIsDark(\r\n\tinitialValue = false,\r\n\turl,\r\n\tdimRatio = 50,\r\n\toverlayColor\r\n) {\r\n\tconst [ isDark, setIsDark ] = useState( initialValue );\r\n\tuseEffect( () => {\r\n\t\t// If opacity is greater than 50 the dominant color is the overlay color,\r\n\t\t// so use that color for the dark mode computation.\r\n\t\tif ( dimRatio > 50 || ! url ) {\r\n\t\t\tif ( ! overlayColor ) {\r\n\t\t\t\t// If no overlay color exists the overlay color is black (isDark )\r\n\t\t\t\tsetIsDark( true );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetIsDark( colord( overlayColor ).isDark() );\r\n\t\t}\r\n\t}, [ overlayColor, dimRatio > 50 || ! url, setIsDark ] );\r\n\tuseEffect( () => {\r\n\t\tif ( ! url && ! overlayColor ) {\r\n\t\t\t// Reset isDark.\r\n\t\t\tsetIsDark( false );\r\n\t\t}\r\n\t}, [ ! url && ! overlayColor, setIsDark ] );\r\n\treturn isDark;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA,SAASA,MAAM,QAAQ,QAAQ;;AAE/B;AACA;AACA;AACA,SAASC,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,cAAcA,CACrCC,YAAY,GAAG,KAAK,EACpBC,GAAG,EACHC,QAAQ,GAAG,EAAE,EACbC,YAAY,EACX;EACD,MAAM,CAAEC,MAAM,EAAEC,SAAS,CAAE,GAAGP,QAAQ,CAAEE,YAAa,CAAC;EACtDH,SAAS,CAAE,MAAM;IAChB;IACA;IACA,IAAKK,QAAQ,GAAG,EAAE,IAAI,CAAED,GAAG,EAAG;MAC7B,IAAK,CAAEE,YAAY,EAAG;QACrB;QACAE,SAAS,CAAE,IAAK,CAAC;QACjB;MACD;MACAA,SAAS,CAAET,MAAM,CAAEO,YAAa,CAAC,CAACC,MAAM,CAAC,CAAE,CAAC;IAC7C;EACD,CAAC,EAAE,CAAED,YAAY,EAAED,QAAQ,GAAG,EAAE,IAAI,CAAED,GAAG,EAAEI,SAAS,CAAG,CAAC;EACxDR,SAAS,CAAE,MAAM;IAChB,IAAK,CAAEI,GAAG,IAAI,CAAEE,YAAY,EAAG;MAC9B;MACAE,SAAS,CAAE,KAAM,CAAC;IACnB;EACD,CAAC,EAAE,CAAE,CAAEJ,GAAG,IAAI,CAAEE,YAAY,EAAEE,SAAS,CAAG,CAAC;EAC3C,OAAOD,MAAM;AACd","ignoreList":[]}