{"version":3,"names":["RichText","useBlockProps","useInnerBlocksProps","store","blockEditorStore","InspectorControls","useSelect","PanelBody","ToggleControl","__","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TEMPLATE","placeholder","DetailsEdit","attributes","setAttributes","clientId","showContent","summary","blockProps","innerBlocksProps","template","__experimentalCaptureToolbars","hasSelection","select","isBlockSelected","hasSelectedInnerBlock","children","title","__nextHasNoMarginBottom","label","checked","onChange","open","onClick","event","preventDefault","identifier","allowedFormats","withoutInteractiveFormatting","value","newSummary"],"sources":["@wordpress/block-library/src/details/edit.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n\tstore as blockEditorStore,\r\n\tInspectorControls,\r\n} from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst TEMPLATE = [\r\n\t[\r\n\t\t'core/paragraph',\r\n\t\t{\r\n\t\t\tplaceholder: __( 'Type / to add a hidden block' ),\r\n\t\t},\r\n\t],\r\n];\r\n\r\nfunction DetailsEdit( { attributes, setAttributes, clientId } ) {\r\n\tconst { showContent, summary } = attributes;\r\n\tconst blockProps = useBlockProps();\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplate: TEMPLATE,\r\n\t\t__experimentalCaptureToolbars: true,\r\n\t} );\r\n\r\n\t// Check if either the block or the inner blocks are selected.\r\n\tconst hasSelection = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { isBlockSelected, hasSelectedInnerBlock } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\t\t\t/* Sets deep to true to also find blocks inside the details content block. */\r\n\t\t\treturn (\r\n\t\t\t\thasSelectedInnerBlock( clientId, true ) ||\r\n\t\t\t\tisBlockSelected( clientId )\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Open by default' ) }\r\n\t\t\t\t\t\tchecked={ showContent }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tshowContent: ! showContent,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<details\r\n\t\t\t\t{ ...innerBlocksProps }\r\n\t\t\t\topen={ hasSelection || showContent }\r\n\t\t\t>\r\n\t\t\t\t<summary onClick={ ( event ) => event.preventDefault() }>\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\tidentifier=\"summary\"\r\n\t\t\t\t\t\taria-label={ __( 'Write summary' ) }\r\n\t\t\t\t\t\tplaceholder={ __( 'Write summaryâ€¦' ) }\r\n\t\t\t\t\t\tallowedFormats={ [] }\r\n\t\t\t\t\t\twithoutInteractiveFormatting\r\n\t\t\t\t\t\tvalue={ summary }\r\n\t\t\t\t\t\tonChange={ ( newSummary ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { summary: newSummary } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</summary>\r\n\t\t\t\t{ innerBlocksProps.children }\r\n\t\t\t</details>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default DetailsEdit;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,QAAQ,EACRC,aAAa,EACbC,mBAAmB,EACnBC,KAAK,IAAIC,gBAAgB,EACzBC,iBAAiB,QACX,yBAAyB;AAChC,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,SAAS,EAAEC,aAAa,QAAQ,uBAAuB;AAChE,SAASC,EAAE,QAAQ,iBAAiB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAErC,MAAMC,QAAQ,GAAG,CAChB,CACC,gBAAgB,EAChB;EACCC,WAAW,EAAER,EAAE,CAAE,8BAA+B;AACjD,CAAC,CACD,CACD;AAED,SAASS,WAAWA,CAAE;EAAEC,UAAU;EAAEC,aAAa;EAAEC;AAAS,CAAC,EAAG;EAC/D,MAAM;IAAEC,WAAW;IAAEC;EAAQ,CAAC,GAAGJ,UAAU;EAC3C,MAAMK,UAAU,GAAGvB,aAAa,CAAC,CAAC;EAClC,MAAMwB,gBAAgB,GAAGvB,mBAAmB,CAAEsB,UAAU,EAAE;IACzDE,QAAQ,EAAEV,QAAQ;IAClBW,6BAA6B,EAAE;EAChC,CAAE,CAAC;;EAEH;EACA,MAAMC,YAAY,GAAGtB,SAAS,CAC3BuB,MAAM,IAAM;IACb,MAAM;MAAEC,eAAe;MAAEC;IAAsB,CAAC,GAC/CF,MAAM,CAAEzB,gBAAiB,CAAC;IAC3B;IACA,OACC2B,qBAAqB,CAAEV,QAAQ,EAAE,IAAK,CAAC,IACvCS,eAAe,CAAET,QAAS,CAAC;EAE7B,CAAC,EACD,CAAEA,QAAQ,CACX,CAAC;EAED,oBACCR,KAAA,CAAAE,SAAA;IAAAiB,QAAA,gBACCrB,IAAA,CAACN,iBAAiB;MAAA2B,QAAA,eACjBrB,IAAA,CAACJ,SAAS;QAAC0B,KAAK,EAAGxB,EAAE,CAAE,UAAW,CAAG;QAAAuB,QAAA,eACpCrB,IAAA,CAACH,aAAa;UACb0B,uBAAuB;UACvBC,KAAK,EAAG1B,EAAE,CAAE,iBAAkB,CAAG;UACjC2B,OAAO,EAAGd,WAAa;UACvBe,QAAQ,EAAGA,CAAA,KACVjB,aAAa,CAAE;YACdE,WAAW,EAAE,CAAEA;UAChB,CAAE;QACF,CACD;MAAC,CACQ;IAAC,CACM,CAAC,eACpBT,KAAA;MAAA,GACMY,gBAAgB;MACrBa,IAAI,EAAGV,YAAY,IAAIN,WAAa;MAAAU,QAAA,gBAEpCrB,IAAA;QAAS4B,OAAO,EAAKC,KAAK,IAAMA,KAAK,CAACC,cAAc,CAAC,CAAG;QAAAT,QAAA,eACvDrB,IAAA,CAACX,QAAQ;UACR0C,UAAU,EAAC,SAAS;UACpB,cAAajC,EAAE,CAAE,eAAgB,CAAG;UACpCQ,WAAW,EAAGR,EAAE,CAAE,gBAAiB,CAAG;UACtCkC,cAAc,EAAG,EAAI;UACrBC,4BAA4B;UAC5BC,KAAK,EAAGtB,OAAS;UACjBc,QAAQ,EAAKS,UAAU,IACtB1B,aAAa,CAAE;YAAEG,OAAO,EAAEuB;UAAW,CAAE;QACvC,CACD;MAAC,CACM,CAAC,EACRrB,gBAAgB,CAACO,QAAQ;IAAA,CACnB,CAAC;EAAA,CACT,CAAC;AAEL;AAEA,eAAed,WAAW","ignoreList":[]}