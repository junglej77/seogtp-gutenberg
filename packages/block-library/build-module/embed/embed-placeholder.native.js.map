{"version":3,"names":["View","Text","TouchableOpacity","__","usePreferredColorSchemeStyle","Icon","Picker","BlockIcon","useRef","styles","noticeOutline","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","hitSlop","top","bottom","left","right","EmbedPlaceholder","icon","isSelected","label","onPress","cannotEmbed","fallback","tryAgain","openEmbedLinkSettings","containerSelectedStyle","containerStyle","embed__container","labelStyle","embed__label","descriptionStyle","embed__description","descriptionErrorStyle","actionStyle","embed__action","embedIconErrorStyle","buttonStyles","embed__button","iconStyles","embed__icon","cannotEmbedMenuPickerRef","errorPickerOptions","retry","id","value","onSelect","convertToLink","editLink","options","filter","Boolean","onPickerSelect","selectedItem","find","item","resolveOnPressEvent","current","presentPicker","children","style","fill","activeOpacity","accessibilityRole","accessibilityHint","disabled","title","ref","onChange","hideCancelButton","leftAlign"],"sources":["@wordpress/block-library/src/embed/embed-placeholder.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View, Text, TouchableOpacity } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\r\nimport { Icon, Picker } from '@wordpress/components';\r\nimport { BlockIcon } from '@wordpress/block-editor';\r\nimport { useRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './styles.scss';\r\nimport { noticeOutline } from '../../../components/src/mobile/gridicons';\r\n\r\nconst hitSlop = { top: 22, bottom: 22, left: 22, right: 22 };\r\n\r\nconst EmbedPlaceholder = ( {\r\n\ticon,\r\n\tisSelected,\r\n\tlabel,\r\n\tonPress,\r\n\tcannotEmbed,\r\n\tfallback,\r\n\ttryAgain,\r\n\topenEmbedLinkSettings,\r\n} ) => {\r\n\tconst containerSelectedStyle = usePreferredColorSchemeStyle(\r\n\t\tstyles[ 'embed__container-selected' ],\r\n\t\tstyles[ 'embed__container-selected--dark' ]\r\n\t);\r\n\tconst containerStyle = [\r\n\t\tusePreferredColorSchemeStyle(\r\n\t\t\tstyles.embed__container,\r\n\t\t\tstyles[ 'embed__container--dark' ]\r\n\t\t),\r\n\t\tisSelected && containerSelectedStyle,\r\n\t];\r\n\tconst labelStyle = usePreferredColorSchemeStyle(\r\n\t\tstyles.embed__label,\r\n\t\tstyles[ 'embed__label--dark' ]\r\n\t);\r\n\tconst descriptionStyle = styles.embed__description;\r\n\tconst descriptionErrorStyle = styles[ 'embed__description--error' ];\r\n\tconst actionStyle = usePreferredColorSchemeStyle(\r\n\t\tstyles.embed__action,\r\n\t\tstyles[ 'embed__action--dark' ]\r\n\t);\r\n\tconst embedIconErrorStyle = styles[ 'embed__icon--error' ];\r\n\r\n\tconst buttonStyles = usePreferredColorSchemeStyle(\r\n\t\tstyles.embed__button,\r\n\t\tstyles[ 'embed__button--dark' ]\r\n\t);\r\n\tconst iconStyles = usePreferredColorSchemeStyle(\r\n\t\tstyles.embed__icon,\r\n\t\tstyles[ 'embed__icon--dark' ]\r\n\t);\r\n\r\n\tconst cannotEmbedMenuPickerRef = useRef();\r\n\r\n\tconst errorPickerOptions = {\r\n\t\tretry: {\r\n\t\t\tid: 'retryOption',\r\n\t\t\tlabel: __( 'Retry' ),\r\n\t\t\tvalue: 'retryOption',\r\n\t\t\tonSelect: tryAgain,\r\n\t\t},\r\n\t\tconvertToLink: {\r\n\t\t\tid: 'convertToLinkOption',\r\n\t\t\tlabel: __( 'Convert to link' ),\r\n\t\t\tvalue: 'convertToLinkOption',\r\n\t\t\tonSelect: fallback,\r\n\t\t},\r\n\t\teditLink: {\r\n\t\t\tid: 'editLinkOption',\r\n\t\t\tlabel: __( 'Edit link' ),\r\n\t\t\tvalue: 'editLinkOption',\r\n\t\t\tonSelect: openEmbedLinkSettings,\r\n\t\t},\r\n\t};\r\n\r\n\tconst options = [\r\n\t\tcannotEmbed && errorPickerOptions.retry,\r\n\t\tcannotEmbed && errorPickerOptions.convertToLink,\r\n\t\tcannotEmbed && errorPickerOptions.editLink,\r\n\t].filter( Boolean );\r\n\r\n\tfunction onPickerSelect( value ) {\r\n\t\tconst selectedItem = options.find( ( item ) => item.value === value );\r\n\t\tselectedItem.onSelect();\r\n\t}\r\n\r\n\t// When the content cannot be embedded the onPress should trigger the Picker instead of the onPress prop.\r\n\tfunction resolveOnPressEvent() {\r\n\t\tif ( cannotEmbed ) {\r\n\t\t\tcannotEmbedMenuPickerRef.current?.presentPicker();\r\n\t\t} else {\r\n\t\t\tonPress();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<View style={ containerStyle }>\r\n\t\t\t\t{ cannotEmbed ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\ticon={ noticeOutline }\r\n\t\t\t\t\t\t\tfill={ embedIconErrorStyle.fill }\r\n\t\t\t\t\t\t\tstyle={ embedIconErrorStyle }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={ [\r\n\t\t\t\t\t\t\t\tdescriptionStyle,\r\n\t\t\t\t\t\t\t\tdescriptionErrorStyle,\r\n\t\t\t\t\t\t\t] }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Unable to embed media' ) }\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\tactiveOpacity={ 0.5 }\r\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\t\t\taccessibilityHint={ __(\r\n\t\t\t\t\t\t\t\t'Double tap to view embed options.'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tstyle={ buttonStyles }\r\n\t\t\t\t\t\t\thitSlop={ hitSlop }\r\n\t\t\t\t\t\t\tonPress={ resolveOnPressEvent }\r\n\t\t\t\t\t\t\tdisabled={ ! isSelected }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Text style={ actionStyle }>\r\n\t\t\t\t\t\t\t\t{ __( 'More options' ) }\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t<Picker\r\n\t\t\t\t\t\t\ttitle={ __( 'Embed options' ) }\r\n\t\t\t\t\t\t\tref={ cannotEmbedMenuPickerRef }\r\n\t\t\t\t\t\t\toptions={ options }\r\n\t\t\t\t\t\t\tonChange={ onPickerSelect }\r\n\t\t\t\t\t\t\thideCancelButton\r\n\t\t\t\t\t\t\tleftAlign\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<View style={ styles[ 'embed__placeholder-header' ] }>\r\n\t\t\t\t\t\t\t<BlockIcon icon={ icon } fill={ iconStyles.fill } />\r\n\t\t\t\t\t\t\t<Text style={ labelStyle }>{ label }</Text>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\tactiveOpacity={ 0.5 }\r\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\t\t\taccessibilityHint={ __(\r\n\t\t\t\t\t\t\t\t'Double tap to add a link.'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tstyle={ buttonStyles }\r\n\t\t\t\t\t\t\thitSlop={ hitSlop }\r\n\t\t\t\t\t\t\tonPress={ resolveOnPressEvent }\r\n\t\t\t\t\t\t\tdisabled={ ! isSelected }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Text style={ actionStyle }>\r\n\t\t\t\t\t\t\t\t{ __( 'Add link' ) }\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) }\r\n\t\t\t</View>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EmbedPlaceholder;\r\n"],"mappings":"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","ignoreList":[]}