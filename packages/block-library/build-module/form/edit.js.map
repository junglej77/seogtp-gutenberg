{"version":3,"names":["__","InnerBlocks","useBlockProps","useInnerBlocksProps","InspectorControls","store","blockEditorStore","TextControl","SelectControl","PanelBody","useSelect","formSubmissionNotificationSuccess","formSubmissionNotificationError","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TEMPLATE","type","label","required","Edit","attributes","setAttributes","clientId","action","method","email","submissionMethod","blockProps","hasInnerBlocks","select","getBlock","block","innerBlocks","length","innerBlocksProps","template","renderAppender","undefined","ButtonBlockAppender","children","title","__nextHasNoMarginBottom","__next40pxDefaultSize","options","value","onChange","help","autoComplete","group","newVal","className","encType"],"sources":["@wordpress/block-library/src/form/edit.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tInnerBlocks,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n\tInspectorControls,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { TextControl, SelectControl, PanelBody } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tformSubmissionNotificationSuccess,\r\n\tformSubmissionNotificationError,\r\n} from './utils.js';\r\n\r\nconst TEMPLATE = [\r\n\tformSubmissionNotificationSuccess,\r\n\tformSubmissionNotificationError,\r\n\t[\r\n\t\t'core/form-input',\r\n\t\t{\r\n\t\t\ttype: 'text',\r\n\t\t\tlabel: __( 'Name' ),\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t],\r\n\t[\r\n\t\t'core/form-input',\r\n\t\t{\r\n\t\t\ttype: 'email',\r\n\t\t\tlabel: __( 'Email' ),\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t],\r\n\t[\r\n\t\t'core/form-input',\r\n\t\t{\r\n\t\t\ttype: 'textarea',\r\n\t\t\tlabel: __( 'Comment' ),\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t],\r\n\t[ 'core/form-submit-button', {} ],\r\n];\r\n\r\nconst Edit = ( { attributes, setAttributes, clientId } ) => {\r\n\tconst { action, method, email, submissionMethod } = attributes;\r\n\tconst blockProps = useBlockProps();\r\n\r\n\tconst { hasInnerBlocks } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlock } = select( blockEditorStore );\r\n\t\t\tconst block = getBlock( clientId );\r\n\t\t\treturn {\r\n\t\t\t\thasInnerBlocks: !! ( block && block.innerBlocks.length ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplate: TEMPLATE,\r\n\t\trenderAppender: hasInnerBlocks\r\n\t\t\t? undefined\r\n\t\t\t: InnerBlocks.ButtonBlockAppender,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tlabel={ __( 'Submissions method' ) }\r\n\t\t\t\t\t\toptions={ [\r\n\t\t\t\t\t\t\t// TODO: Allow plugins to add their own submission methods.\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: __( 'Send email' ),\r\n\t\t\t\t\t\t\t\tvalue: 'email',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: __( '- Custom -' ),\r\n\t\t\t\t\t\t\t\tvalue: 'custom',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t] }\r\n\t\t\t\t\t\tvalue={ submissionMethod }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { submissionMethod: value } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\tsubmissionMethod === 'custom'\r\n\t\t\t\t\t\t\t\t? __(\r\n\t\t\t\t\t\t\t\t\t\t'Select the method to use for form submissions. Additional options for the \"custom\" mode can be found in the \"Advanced\" section.'\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: __(\r\n\t\t\t\t\t\t\t\t\t\t'Select the method to use for form submissions.'\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ submissionMethod === 'email' && (\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tlabel={ __( 'Email for form submissions' ) }\r\n\t\t\t\t\t\t\tvalue={ email }\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\t\tsetAttributes( { email: value } );\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\taction: `mailto:${ value }`,\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\tsetAttributes( { method: 'post' } );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t\t'The email address where form submissions will be sent. Separate multiple email addresses with a comma.'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t{ submissionMethod !== 'email' && (\r\n\t\t\t\t<InspectorControls group=\"advanced\">\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Method' ) }\r\n\t\t\t\t\t\toptions={ [\r\n\t\t\t\t\t\t\t{ label: 'Get', value: 'get' },\r\n\t\t\t\t\t\t\t{ label: 'Post', value: 'post' },\r\n\t\t\t\t\t\t] }\r\n\t\t\t\t\t\tvalue={ method }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { method: value } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t'Select the method to use for form submissions.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tlabel={ __( 'Form action' ) }\r\n\t\t\t\t\t\tvalue={ action }\r\n\t\t\t\t\t\tonChange={ ( newVal ) => {\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\taction: newVal,\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t'The URL where the form should be submitted.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</InspectorControls>\r\n\t\t\t) }\r\n\t\t\t<form\r\n\t\t\t\t{ ...innerBlocksProps }\r\n\t\t\t\tclassName=\"wp-block-form\"\r\n\t\t\t\tencType={ submissionMethod === 'email' ? 'text/plain' : null }\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\nexport default Edit;\r\n"],"mappings":"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","ignoreList":[]}