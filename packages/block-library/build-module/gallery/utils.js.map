{"version":3,"names":["LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_MEDIA","LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA_WP_CORE","LINK_DESTINATION_ATTACHMENT_WP_CORE","IMAGE_LINK_DESTINATION_ATTACHMENT","IMAGE_LINK_DESTINATION_MEDIA","IMAGE_LINK_DESTINATION_NONE","getHrefAndDestination","image","galleryDestination","imageDestination","href","source_url","url","linkDestination","link","undefined"],"sources":["@wordpress/block-library/src/gallery/utils.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tLINK_DESTINATION_ATTACHMENT,\r\n\tLINK_DESTINATION_MEDIA,\r\n\tLINK_DESTINATION_NONE,\r\n\tLINK_DESTINATION_MEDIA_WP_CORE,\r\n\tLINK_DESTINATION_ATTACHMENT_WP_CORE,\r\n} from './constants';\r\nimport {\r\n\tLINK_DESTINATION_ATTACHMENT as IMAGE_LINK_DESTINATION_ATTACHMENT,\r\n\tLINK_DESTINATION_MEDIA as IMAGE_LINK_DESTINATION_MEDIA,\r\n\tLINK_DESTINATION_NONE as IMAGE_LINK_DESTINATION_NONE,\r\n} from '../image/constants';\r\n\r\n/**\r\n * Determines new href and linkDestination values for an Image block from the\r\n * supplied Gallery link destination, or falls back to the Image blocks link.\r\n *\r\n * @param {Object} image              Gallery image.\r\n * @param {string} galleryDestination Gallery's selected link destination.\r\n * @param {Object} imageDestination   Image blocks attributes.\r\n * @return {Object}            New attributes to assign to image block.\r\n */\r\nexport function getHrefAndDestination(\r\n\timage,\r\n\tgalleryDestination,\r\n\timageDestination\r\n) {\r\n\t// Gutenberg and WordPress use different constants so if image_default_link_type\r\n\t// option is set we need to map from the WP Core values.\r\n\tswitch ( imageDestination ? imageDestination : galleryDestination ) {\r\n\t\tcase LINK_DESTINATION_MEDIA_WP_CORE:\r\n\t\tcase LINK_DESTINATION_MEDIA:\r\n\t\t\treturn {\r\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\r\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_MEDIA,\r\n\t\t\t};\r\n\t\tcase LINK_DESTINATION_ATTACHMENT_WP_CORE:\r\n\t\tcase LINK_DESTINATION_ATTACHMENT:\r\n\t\t\treturn {\r\n\t\t\t\thref: image?.link,\r\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_ATTACHMENT,\r\n\t\t\t};\r\n\t\tcase LINK_DESTINATION_NONE:\r\n\t\t\treturn {\r\n\t\t\t\thref: undefined,\r\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_NONE,\r\n\t\t\t};\r\n\t}\r\n\r\n\treturn {};\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,2BAA2B,EAC3BC,sBAAsB,EACtBC,qBAAqB,EACrBC,8BAA8B,EAC9BC,mCAAmC,QAC7B,aAAa;AACpB,SACCJ,2BAA2B,IAAIK,iCAAiC,EAChEJ,sBAAsB,IAAIK,4BAA4B,EACtDJ,qBAAqB,IAAIK,2BAA2B,QAC9C,oBAAoB;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,qBAAqBA,CACpCC,KAAK,EACLC,kBAAkB,EAClBC,gBAAgB,EACf;EACD;EACA;EACA,QAASA,gBAAgB,GAAGA,gBAAgB,GAAGD,kBAAkB;IAChE,KAAKP,8BAA8B;IACnC,KAAKF,sBAAsB;MAC1B,OAAO;QACNW,IAAI,EAAEH,KAAK,EAAEI,UAAU,IAAIJ,KAAK,EAAEK,GAAG;QAAE;QACvCC,eAAe,EAAET;MAClB,CAAC;IACF,KAAKF,mCAAmC;IACxC,KAAKJ,2BAA2B;MAC/B,OAAO;QACNY,IAAI,EAAEH,KAAK,EAAEO,IAAI;QACjBD,eAAe,EAAEV;MAClB,CAAC;IACF,KAAKH,qBAAqB;MACzB,OAAO;QACNU,IAAI,EAAEK,SAAS;QACfF,eAAe,EAAER;MAClB,CAAC;EACH;EAEA,OAAO,CAAC,CAAC;AACV","ignoreList":[]}