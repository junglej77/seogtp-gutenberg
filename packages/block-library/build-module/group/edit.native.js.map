{"version":3,"names":["View","withSelect","compose","withPreferredColorScheme","useResizeObserver","InnerBlocks","store","blockEditorStore","useCallback","alignmentHelpers","styles","jsx","_jsx","jsxs","_jsxs","isFullWidth","GroupEdit","attributes","hasInnerBlocks","isSelected","isLastInnerBlockSelected","getStylesFromColorScheme","style","blockWidth","align","resizeObserver","sizes","width","renderAppender","groupAppender","fullwidthGroupAppender","fullwidthHasInnerGroupAppender","children","ButtonBlockAppender","groupPlaceholder","groupPlaceholderDark","marginVerticalDense","marginHorizontalNone","innerBlocks","backgroundColor","hasBackgroundAppender","parentWidth","select","clientId","getBlock","getBlockIndex","hasSelectedInnerBlock","getBlockRootClientId","getSelectedBlockClientId","getBlockAttributes","block","length","isInnerBlockSelected","selectedBlockClientId","totalInnerBlocks","blockIndex","parentId","parentBlockAlignment"],"sources":["@wordpress/block-library/src/group/edit.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { withSelect } from '@wordpress/data';\r\nimport {\r\n\tcompose,\r\n\twithPreferredColorScheme,\r\n\tuseResizeObserver,\r\n} from '@wordpress/compose';\r\nimport {\r\n\tInnerBlocks,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { useCallback } from '@wordpress/element';\r\nimport { alignmentHelpers } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './editor.scss';\r\n\r\nconst { isFullWidth } = alignmentHelpers;\r\n\r\nfunction GroupEdit( {\r\n\tattributes,\r\n\thasInnerBlocks,\r\n\tisSelected,\r\n\tisLastInnerBlockSelected,\r\n\tgetStylesFromColorScheme,\r\n\tstyle,\r\n\tblockWidth,\r\n} ) {\r\n\tconst { align } = attributes;\r\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\r\n\tconst { width } = sizes || { width: 0 };\r\n\r\n\tconst renderAppender = useCallback(\r\n\t\t() => (\r\n\t\t\t<View\r\n\t\t\t\tstyle={ [\r\n\t\t\t\t\t! hasInnerBlocks && styles.groupAppender,\r\n\t\t\t\t\tisFullWidth( align ) &&\r\n\t\t\t\t\t\t! hasInnerBlocks &&\r\n\t\t\t\t\t\tstyles.fullwidthGroupAppender,\r\n\t\t\t\t\tisFullWidth( align ) &&\r\n\t\t\t\t\t\thasInnerBlocks &&\r\n\t\t\t\t\t\tstyles.fullwidthHasInnerGroupAppender,\r\n\t\t\t\t] }\r\n\t\t\t>\r\n\t\t\t\t<InnerBlocks.ButtonBlockAppender />\r\n\t\t\t</View>\r\n\t\t),\r\n\t\t[ align, hasInnerBlocks ]\r\n\t);\r\n\r\n\tif ( ! isSelected && ! hasInnerBlocks ) {\r\n\t\treturn (\r\n\t\t\t<View\r\n\t\t\t\tstyle={ [\r\n\t\t\t\t\tgetStylesFromColorScheme(\r\n\t\t\t\t\t\tstyles.groupPlaceholder,\r\n\t\t\t\t\t\tstyles.groupPlaceholderDark\r\n\t\t\t\t\t),\r\n\t\t\t\t\t! hasInnerBlocks && {\r\n\t\t\t\t\t\t...styles.marginVerticalDense,\r\n\t\t\t\t\t\t...styles.marginHorizontalNone,\r\n\t\t\t\t\t},\r\n\t\t\t\t] }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={ [\r\n\t\t\t\tisSelected && hasInnerBlocks && styles.innerBlocks,\r\n\t\t\t\tstyle,\r\n\t\t\t\tisSelected &&\r\n\t\t\t\t\thasInnerBlocks &&\r\n\t\t\t\t\tstyle?.backgroundColor &&\r\n\t\t\t\t\tstyles.hasBackgroundAppender,\r\n\t\t\t\tisLastInnerBlockSelected &&\r\n\t\t\t\t\tstyle?.backgroundColor &&\r\n\t\t\t\t\tstyles.isLastInnerBlockSelected,\r\n\t\t\t] }\r\n\t\t>\r\n\t\t\t{ resizeObserver }\r\n\t\t\t<InnerBlocks\r\n\t\t\t\trenderAppender={ isSelected && renderAppender }\r\n\t\t\t\tparentWidth={ width }\r\n\t\t\t\tblockWidth={ blockWidth }\r\n\t\t\t/>\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nexport default compose( [\r\n\twithSelect( ( select, { clientId } ) => {\r\n\t\tconst {\r\n\t\t\tgetBlock,\r\n\t\t\tgetBlockIndex,\r\n\t\t\thasSelectedInnerBlock,\r\n\t\t\tgetBlockRootClientId,\r\n\t\t\tgetSelectedBlockClientId,\r\n\t\t\tgetBlockAttributes,\r\n\t\t} = select( blockEditorStore );\r\n\r\n\t\tconst block = getBlock( clientId );\r\n\t\tconst hasInnerBlocks = !! ( block && block.innerBlocks.length );\r\n\t\tconst isInnerBlockSelected =\r\n\t\t\thasInnerBlocks && hasSelectedInnerBlock( clientId, true );\r\n\t\tlet isLastInnerBlockSelected = false;\r\n\r\n\t\tif ( isInnerBlockSelected ) {\r\n\t\t\tconst { innerBlocks } = block;\r\n\t\t\tconst selectedBlockClientId = getSelectedBlockClientId();\r\n\t\t\tconst totalInnerBlocks = innerBlocks.length - 1;\r\n\t\t\tconst blockIndex = getBlockIndex( selectedBlockClientId );\r\n\t\t\tisLastInnerBlockSelected = totalInnerBlocks === blockIndex;\r\n\t\t}\r\n\r\n\t\tconst parentId = getBlockRootClientId( clientId );\r\n\t\tconst parentBlockAlignment = getBlockAttributes( parentId )?.align;\r\n\r\n\t\treturn {\r\n\t\t\thasInnerBlocks,\r\n\t\t\tisLastInnerBlockSelected,\r\n\t\t\tparentBlockAlignment,\r\n\t\t};\r\n\t} ),\r\n\twithPreferredColorScheme,\r\n] )( GroupEdit );\r\n"],"mappings":"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","ignoreList":[]}