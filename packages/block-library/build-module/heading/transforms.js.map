{"version":3,"names":["createBlock","getBlockAttributes","getLevelFromHeadingNodeName","getTransformedMetadata","transforms","from","type","isMultiBlock","blocks","transform","attributes","map","content","anchor","align","textAlign","metadata","contentBinding","selector","schema","phrasingContentSchema","isPaste","children","h1","h2","h3","h4","h5","h6","node","outerHTML","style","level","nodeName","prefix","Array","join","regExp","RegExp","to"],"sources":["@wordpress/block-library/src/heading/transforms.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, getBlockAttributes } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { getLevelFromHeadingNodeName } from './shared';\r\nimport { getTransformedMetadata } from '../utils/get-transformed-metadata';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( attributes ) =>\r\n\t\t\t\tattributes.map(\r\n\t\t\t\t\t( { content, anchor, align: textAlign, metadata } ) =>\r\n\t\t\t\t\t\tcreateBlock( 'core/heading', {\r\n\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t\t\ttextAlign,\r\n\t\t\t\t\t\t\tmetadata: getTransformedMetadata(\r\n\t\t\t\t\t\t\t\tmetadata,\r\n\t\t\t\t\t\t\t\t'core/heading',\r\n\t\t\t\t\t\t\t\t( { content: contentBinding } ) => ( {\r\n\t\t\t\t\t\t\t\t\tcontent: contentBinding,\r\n\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tselector: 'h1,h2,h3,h4,h5,h6',\r\n\t\t\tschema: ( { phrasingContentSchema, isPaste } ) => {\r\n\t\t\t\tconst schema = {\r\n\t\t\t\t\tchildren: phrasingContentSchema,\r\n\t\t\t\t\tattributes: isPaste ? [] : [ 'style', 'id' ],\r\n\t\t\t\t};\r\n\t\t\t\treturn {\r\n\t\t\t\t\th1: schema,\r\n\t\t\t\t\th2: schema,\r\n\t\t\t\t\th3: schema,\r\n\t\t\t\t\th4: schema,\r\n\t\t\t\t\th5: schema,\r\n\t\t\t\t\th6: schema,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\ttransform( node ) {\r\n\t\t\t\tconst attributes = getBlockAttributes(\r\n\t\t\t\t\t'core/heading',\r\n\t\t\t\t\tnode.outerHTML\r\n\t\t\t\t);\r\n\t\t\t\tconst { textAlign } = node.style || {};\r\n\r\n\t\t\t\tattributes.level = getLevelFromHeadingNodeName( node.nodeName );\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\ttextAlign === 'left' ||\r\n\t\t\t\t\ttextAlign === 'center' ||\r\n\t\t\t\t\ttextAlign === 'right'\r\n\t\t\t\t) {\r\n\t\t\t\t\tattributes.align = textAlign;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn createBlock( 'core/heading', attributes );\r\n\t\t\t},\r\n\t\t},\r\n\t\t...[ 1, 2, 3, 4, 5, 6 ].map( ( level ) => ( {\r\n\t\t\ttype: 'prefix',\r\n\t\t\tprefix: Array( level + 1 ).join( '#' ),\r\n\t\t\ttransform( content ) {\r\n\t\t\t\treturn createBlock( 'core/heading', {\r\n\t\t\t\t\tlevel,\r\n\t\t\t\t\tcontent,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t} ) ),\r\n\t\t...[ 1, 2, 3, 4, 5, 6 ].map( ( level ) => ( {\r\n\t\t\ttype: 'enter',\r\n\t\t\tregExp: new RegExp( `^/(h|H)${ level }$` ),\r\n\t\t\ttransform: () => createBlock( 'core/heading', { level } ),\r\n\t\t} ) ),\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( attributes ) =>\r\n\t\t\t\tattributes.map( ( { content, textAlign: align, metadata } ) =>\r\n\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\talign,\r\n\t\t\t\t\t\tmetadata: getTransformedMetadata(\r\n\t\t\t\t\t\t\tmetadata,\r\n\t\t\t\t\t\t\t'core/paragraph',\r\n\t\t\t\t\t\t\t( { content: contentBinding } ) => ( {\r\n\t\t\t\t\t\t\t\tcontent: contentBinding,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t} )\r\n\t\t\t\t),\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n"],"mappings":"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","ignoreList":[]}