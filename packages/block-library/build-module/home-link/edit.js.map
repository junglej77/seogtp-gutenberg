{"version":3,"names":["clsx","RichText","useBlockProps","store","blockEditorStore","__","useSelect","useDispatch","coreStore","useEffect","jsx","_jsx","Fragment","_Fragment","preventDefault","event","HomeEdit","attributes","setAttributes","context","homeUrl","select","getEntityRecord","home","__unstableMarkNextChangeAsNotPersistent","textColor","backgroundColor","style","blockProps","className","color","text","background","label","undefined","children","href","onClick","identifier","value","onChange","labelValue","placeholder","withoutInteractiveFormatting","allowedFormats"],"sources":["@wordpress/block-library/src/home-link/edit.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useEffect } from '@wordpress/element';\r\n\r\nconst preventDefault = ( event ) => event.preventDefault();\r\n\r\nexport default function HomeEdit( { attributes, setAttributes, context } ) {\r\n\tconst homeUrl = useSelect( ( select ) => {\r\n\t\t// Site index.\r\n\t\treturn select( coreStore ).getEntityRecord( 'root', '__unstableBase' )\r\n\t\t\t?.home;\r\n\t}, [] );\r\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tconst { textColor, backgroundColor, style } = context;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: clsx( 'wp-block-navigation-item', {\r\n\t\t\t'has-text-color': !! textColor || !! style?.color?.text,\r\n\t\t\t[ `has-${ textColor }-color` ]: !! textColor,\r\n\t\t\t'has-background': !! backgroundColor || !! style?.color?.background,\r\n\t\t\t[ `has-${ backgroundColor }-background-color` ]: !! backgroundColor,\r\n\t\t} ),\r\n\t\tstyle: {\r\n\t\t\tcolor: style?.color?.text,\r\n\t\t\tbackgroundColor: style?.color?.background,\r\n\t\t},\r\n\t} );\r\n\r\n\tconst { label } = attributes;\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( label === undefined ) {\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\tsetAttributes( { label: __( 'Home' ) } );\r\n\t\t}\r\n\t}, [ label ] );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName=\"wp-block-home-link__content wp-block-navigation-item__content\"\r\n\t\t\t\t\thref={ homeUrl }\r\n\t\t\t\t\tonClick={ preventDefault }\r\n\t\t\t\t>\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\tidentifier=\"label\"\r\n\t\t\t\t\t\tclassName=\"wp-block-home-link__label\"\r\n\t\t\t\t\t\tvalue={ label }\r\n\t\t\t\t\t\tonChange={ ( labelValue ) => {\r\n\t\t\t\t\t\t\tsetAttributes( { label: labelValue } );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\taria-label={ __( 'Home link text' ) }\r\n\t\t\t\t\t\tplaceholder={ __( 'Add home link' ) }\r\n\t\t\t\t\t\twithoutInteractiveFormatting\r\n\t\t\t\t\t\tallowedFormats={ [\r\n\t\t\t\t\t\t\t'core/bold',\r\n\t\t\t\t\t\t\t'core/italic',\r\n\t\t\t\t\t\t\t'core/image',\r\n\t\t\t\t\t\t\t'core/strikethrough',\r\n\t\t\t\t\t\t] }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SACCC,QAAQ,EACRC,aAAa,EACbC,KAAK,IAAIC,gBAAgB,QACnB,yBAAyB;AAChC,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASJ,KAAK,IAAIK,SAAS,QAAQ,sBAAsB;AACzD,SAASC,SAAS,QAAQ,oBAAoB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/C,MAAMC,cAAc,GAAKC,KAAK,IAAMA,KAAK,CAACD,cAAc,CAAC,CAAC;AAE1D,eAAe,SAASE,QAAQA,CAAE;EAAEC,UAAU;EAAEC,aAAa;EAAEC;AAAQ,CAAC,EAAG;EAC1E,MAAMC,OAAO,GAAGd,SAAS,CAAIe,MAAM,IAAM;IACxC;IACA,OAAOA,MAAM,CAAEb,SAAU,CAAC,CAACc,eAAe,CAAE,MAAM,EAAE,gBAAiB,CAAC,EACnEC,IAAI;EACR,CAAC,EAAE,EAAG,CAAC;EACP,MAAM;IAAEC;EAAwC,CAAC,GAChDjB,WAAW,CAAEH,gBAAiB,CAAC;EAEhC,MAAM;IAAEqB,SAAS;IAAEC,eAAe;IAAEC;EAAM,CAAC,GAAGR,OAAO;EACrD,MAAMS,UAAU,GAAG1B,aAAa,CAAE;IACjC2B,SAAS,EAAE7B,IAAI,CAAE,0BAA0B,EAAE;MAC5C,gBAAgB,EAAE,CAAC,CAAEyB,SAAS,IAAI,CAAC,CAAEE,KAAK,EAAEG,KAAK,EAAEC,IAAI;MACvD,CAAG,OAAON,SAAW,QAAO,GAAI,CAAC,CAAEA,SAAS;MAC5C,gBAAgB,EAAE,CAAC,CAAEC,eAAe,IAAI,CAAC,CAAEC,KAAK,EAAEG,KAAK,EAAEE,UAAU;MACnE,CAAG,OAAON,eAAiB,mBAAkB,GAAI,CAAC,CAAEA;IACrD,CAAE,CAAC;IACHC,KAAK,EAAE;MACNG,KAAK,EAAEH,KAAK,EAAEG,KAAK,EAAEC,IAAI;MACzBL,eAAe,EAAEC,KAAK,EAAEG,KAAK,EAAEE;IAChC;EACD,CAAE,CAAC;EAEH,MAAM;IAAEC;EAAM,CAAC,GAAGhB,UAAU;EAE5BR,SAAS,CAAE,MAAM;IAChB,IAAKwB,KAAK,KAAKC,SAAS,EAAG;MAC1BV,uCAAuC,CAAC,CAAC;MACzCN,aAAa,CAAE;QAAEe,KAAK,EAAE5B,EAAE,CAAE,MAAO;MAAE,CAAE,CAAC;IACzC;EACD,CAAC,EAAE,CAAE4B,KAAK,CAAG,CAAC;EAEd,oBACCtB,IAAA,CAAAE,SAAA;IAAAsB,QAAA,eACCxB,IAAA;MAAA,GAAUiB,UAAU;MAAAO,QAAA,eACnBxB,IAAA;QACCkB,SAAS,EAAC,+DAA+D;QACzEO,IAAI,EAAGhB,OAAS;QAChBiB,OAAO,EAAGvB,cAAgB;QAAAqB,QAAA,eAE1BxB,IAAA,CAACV,QAAQ;UACRqC,UAAU,EAAC,OAAO;UAClBT,SAAS,EAAC,2BAA2B;UACrCU,KAAK,EAAGN,KAAO;UACfO,QAAQ,EAAKC,UAAU,IAAM;YAC5BvB,aAAa,CAAE;cAAEe,KAAK,EAAEQ;YAAW,CAAE,CAAC;UACvC,CAAG;UACH,cAAapC,EAAE,CAAE,gBAAiB,CAAG;UACrCqC,WAAW,EAAGrC,EAAE,CAAE,eAAgB,CAAG;UACrCsC,4BAA4B;UAC5BC,cAAc,EAAG,CAChB,WAAW,EACX,aAAa,EACb,YAAY,EACZ,oBAAoB;QAClB,CACH;MAAC,CACA;IAAC,CACA;EAAC,CACL,CAAC;AAEL","ignoreList":[]}