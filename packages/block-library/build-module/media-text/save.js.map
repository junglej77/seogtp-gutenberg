{"version":3,"names":["clsx","useInnerBlocksProps","useBlockProps","imageFillStyles","DEFAULT_MEDIA_SIZE_SLUG","jsx","_jsx","jsxs","_jsxs","DEFAULT_MEDIA_WIDTH","noop","save","attributes","isStackedOnMobile","mediaAlt","mediaPosition","mediaType","mediaUrl","mediaWidth","mediaId","verticalAlignment","imageFill","focalPoint","linkClass","href","linkTarget","rel","mediaSizeSlug","newRel","undefined","imageClasses","positionStyles","image","src","alt","className","style","target","children","mediaTypeRenders","video","controls","gridTemplateColumns"],"sources":["@wordpress/block-library/src/media-text/save.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { imageFillStyles } from './image-fill';\r\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\r\n\r\nconst DEFAULT_MEDIA_WIDTH = 50;\r\nconst noop = () => {};\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst {\r\n\t\tisStackedOnMobile,\r\n\t\tmediaAlt,\r\n\t\tmediaPosition,\r\n\t\tmediaType,\r\n\t\tmediaUrl,\r\n\t\tmediaWidth,\r\n\t\tmediaId,\r\n\t\tverticalAlignment,\r\n\t\timageFill,\r\n\t\tfocalPoint,\r\n\t\tlinkClass,\r\n\t\thref,\r\n\t\tlinkTarget,\r\n\t\trel,\r\n\t} = attributes;\r\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\r\n\tconst newRel = ! rel ? undefined : rel;\r\n\r\n\tconst imageClasses = clsx( {\r\n\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\r\n\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\r\n\t} );\r\n\r\n\tconst positionStyles = imageFill\r\n\t\t? imageFillStyles( mediaUrl, focalPoint )\r\n\t\t: {};\r\n\r\n\tlet image = mediaUrl ? (\r\n\t\t<img\r\n\t\t\tsrc={ mediaUrl }\r\n\t\t\talt={ mediaAlt }\r\n\t\t\tclassName={ imageClasses || null }\r\n\t\t\tstyle={ positionStyles }\r\n\t\t/>\r\n\t) : null;\r\n\r\n\tif ( href ) {\r\n\t\timage = (\r\n\t\t\t<a\r\n\t\t\t\tclassName={ linkClass }\r\n\t\t\t\thref={ href }\r\n\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\trel={ newRel }\r\n\t\t\t>\r\n\t\t\t\t{ image }\r\n\t\t\t</a>\r\n\t\t);\r\n\t}\r\n\r\n\tconst mediaTypeRenders = {\r\n\t\timage: () => image,\r\n\t\tvideo: () => <video controls src={ mediaUrl } />,\r\n\t};\r\n\tconst className = clsx( {\r\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\r\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\r\n\t\t'is-image-fill-element': imageFill,\r\n\t} );\r\n\r\n\tlet gridTemplateColumns;\r\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\r\n\t\tgridTemplateColumns =\r\n\t\t\t'right' === mediaPosition\r\n\t\t\t\t? `auto ${ mediaWidth }%`\r\n\t\t\t\t: `${ mediaWidth }% auto`;\r\n\t}\r\n\tconst style = {\r\n\t\tgridTemplateColumns,\r\n\t};\r\n\r\n\tif ( 'right' === mediaPosition ) {\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t\t<figure className=\"wp-block-media-text__media\">\r\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t</figure>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<div { ...useBlockProps.save( { className, style } ) }>\r\n\t\t\t<figure className=\"wp-block-media-text__media\">\r\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t</figure>\r\n\t\t\t<div\r\n\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\tclassName: 'wp-block-media-text__content',\r\n\t\t\t\t} ) }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}