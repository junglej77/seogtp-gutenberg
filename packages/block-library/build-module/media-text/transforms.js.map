{"version":3,"names":["createBlock","transforms","from","type","blocks","transform","alt","url","id","anchor","mediaAlt","mediaId","mediaUrl","mediaType","src","align","backgroundType","customGradient","customOverlayColor","gradient","overlayColor","style","textColor","innerBlocks","additionalAttributes","color","background","text","backgroundColor","to","isMatch","focalPoint","coverAttributes","dimRatio"],"sources":["@wordpress/block-library/src/media-text/transforms.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\ttransform: ( { alt, url, id, anchor } ) =>\r\n\t\t\t\tcreateBlock( 'core/media-text', {\r\n\t\t\t\t\tmediaAlt: alt,\r\n\t\t\t\t\tmediaId: id,\r\n\t\t\t\t\tmediaUrl: url,\r\n\t\t\t\t\tmediaType: 'image',\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/video' ],\r\n\t\t\ttransform: ( { src, id, anchor } ) =>\r\n\t\t\t\tcreateBlock( 'core/media-text', {\r\n\t\t\t\t\tmediaId: id,\r\n\t\t\t\t\tmediaUrl: src,\r\n\t\t\t\t\tmediaType: 'video',\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/cover' ],\r\n\t\t\ttransform: (\r\n\t\t\t\t{\r\n\t\t\t\t\talign,\r\n\t\t\t\t\talt,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tbackgroundType,\r\n\t\t\t\t\tcustomGradient,\r\n\t\t\t\t\tcustomOverlayColor,\r\n\t\t\t\t\tgradient,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\toverlayColor,\r\n\t\t\t\t\tstyle,\r\n\t\t\t\t\ttextColor,\r\n\t\t\t\t\turl,\r\n\t\t\t\t},\r\n\t\t\t\tinnerBlocks\r\n\t\t\t) => {\r\n\t\t\t\tlet additionalAttributes = {};\r\n\r\n\t\t\t\tif ( customGradient ) {\r\n\t\t\t\t\tadditionalAttributes = {\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\t\tgradient: customGradient,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if ( customOverlayColor ) {\r\n\t\t\t\t\tadditionalAttributes = {\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\t\tbackground: customOverlayColor,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Maintain custom text color block support value.\r\n\t\t\t\tif ( style?.color?.text ) {\r\n\t\t\t\t\tadditionalAttributes.style = {\r\n\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\t...additionalAttributes.style?.color,\r\n\t\t\t\t\t\t\ttext: style.color.text,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/media-text',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\talign,\r\n\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t\tbackgroundColor: overlayColor,\r\n\t\t\t\t\t\tgradient,\r\n\t\t\t\t\t\tmediaAlt: alt,\r\n\t\t\t\t\t\tmediaId: id,\r\n\t\t\t\t\t\tmediaType: backgroundType,\r\n\t\t\t\t\t\tmediaUrl: url,\r\n\t\t\t\t\t\ttextColor,\r\n\t\t\t\t\t\t...additionalAttributes,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinnerBlocks\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\tisMatch: ( { mediaType, mediaUrl } ) => {\r\n\t\t\t\treturn ! mediaUrl || mediaType === 'image';\r\n\t\t\t},\r\n\t\t\ttransform: ( { mediaAlt, mediaId, mediaUrl, anchor } ) => {\r\n\t\t\t\treturn createBlock( 'core/image', {\r\n\t\t\t\t\talt: mediaAlt,\r\n\t\t\t\t\tid: mediaId,\r\n\t\t\t\t\turl: mediaUrl,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/video' ],\r\n\t\t\tisMatch: ( { mediaType, mediaUrl } ) => {\r\n\t\t\t\treturn ! mediaUrl || mediaType === 'video';\r\n\t\t\t},\r\n\t\t\ttransform: ( { mediaId, mediaUrl, anchor } ) => {\r\n\t\t\t\treturn createBlock( 'core/video', {\r\n\t\t\t\t\tid: mediaId,\r\n\t\t\t\t\tsrc: mediaUrl,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/cover' ],\r\n\t\t\ttransform: (\r\n\t\t\t\t{\r\n\t\t\t\t\talign,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tbackgroundColor,\r\n\t\t\t\t\tfocalPoint,\r\n\t\t\t\t\tgradient,\r\n\t\t\t\t\tmediaAlt,\r\n\t\t\t\t\tmediaId,\r\n\t\t\t\t\tmediaType,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tstyle,\r\n\t\t\t\t\ttextColor,\r\n\t\t\t\t},\r\n\t\t\t\tinnerBlocks\r\n\t\t\t) => {\r\n\t\t\t\tconst additionalAttributes = {};\r\n\r\n\t\t\t\t// Migrate the background styles or gradient to Cover's custom\r\n\t\t\t\t// gradient and overlay properties.\r\n\t\t\t\tif ( style?.color?.gradient ) {\r\n\t\t\t\t\tadditionalAttributes.customGradient = style.color.gradient;\r\n\t\t\t\t} else if ( style?.color?.background ) {\r\n\t\t\t\t\tadditionalAttributes.customOverlayColor =\r\n\t\t\t\t\t\tstyle.color.background;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Maintain custom text color support style.\r\n\t\t\t\tif ( style?.color?.text ) {\r\n\t\t\t\t\tadditionalAttributes.style = {\r\n\t\t\t\t\t\tcolor: { text: style.color.text },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst coverAttributes = {\r\n\t\t\t\t\talign,\r\n\t\t\t\t\talt: mediaAlt,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tbackgroundType: mediaType,\r\n\t\t\t\t\tdimRatio: !! mediaUrl ? 50 : 100,\r\n\t\t\t\t\tfocalPoint,\r\n\t\t\t\t\tgradient,\r\n\t\t\t\t\tid: mediaId,\r\n\t\t\t\t\toverlayColor: backgroundColor,\r\n\t\t\t\t\ttextColor,\r\n\t\t\t\t\turl: mediaUrl,\r\n\t\t\t\t\t...additionalAttributes,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/cover',\r\n\t\t\t\t\tcoverAttributes,\r\n\t\t\t\t\tinnerBlocks\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n"],"mappings":"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","ignoreList":[]}