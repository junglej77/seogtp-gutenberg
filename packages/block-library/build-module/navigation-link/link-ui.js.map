{"version":3,"names":["__unstableStripHTML","stripHTML","Popover","Button","VisuallyHidden","__experimentalVStack","VStack","__","sprintf","isRTL","__experimentalLinkControl","LinkControl","store","blockEditorStore","privateApis","blockEditorPrivateApis","createInterpolateElement","useMemo","useState","useRef","useEffect","forwardRef","coreStore","useResourcePermissions","decodeEntities","useSelect","useDispatch","chevronLeftSmall","chevronRightSmall","plus","useInstanceId","useFocusOnMount","unlock","jsx","_jsx","jsxs","_jsxs","PrivateQuickInserter","QuickInserter","getSuggestionsQuery","type","kind","subtype","initialSuggestionsSearchOptions","perPage","LinkUIBlockInserter","clientId","onBack","onSelectBlock","rootBlockClientId","select","getBlockRootClientId","focusOnMountRef","dialogTitleId","dialogDescritionId","className","role","ref","children","id","icon","onClick","e","preventDefault","size","rootClientId","isAppender","prioritizePatterns","selectBlockOnInsert","hasSearch","onSelect","UnforwardedLinkUI","props","label","url","opensInNewTab","link","postType","addingBlock","setAddingBlock","focusAddBlockButton","setFocusAddBlockButton","saveEntityRecord","permissions","name","handleCreate","pageTitle","page","title","status","rendered","LinkUI","onClose","placement","anchor","shift","hasTextControl","hasRichPreviews","value","showInitialSuggestions","withCreateSuggestion","canCreate","createSuggestion","createSuggestionButtonText","searchTerm","format","mark","noDirectEntry","noURLSuggestion","suggestionsQuery","onChange","onRemove","onCancel","renderControlBottom","length","LinkUITools","blockInserterAriaRole","addBlockButtonRef","current","focus","__next40pxDefaultSize"],"sources":["@wordpress/block-library/src/navigation-link/link-ui.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\r\nimport {\r\n\tPopover,\r\n\tButton,\r\n\tVisuallyHidden,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components';\r\nimport { __, sprintf, isRTL } from '@wordpress/i18n';\r\nimport {\r\n\t__experimentalLinkControl as LinkControl,\r\n\tstore as blockEditorStore,\r\n\tprivateApis as blockEditorPrivateApis,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\tcreateInterpolateElement,\r\n\tuseMemo,\r\n\tuseState,\r\n\tuseRef,\r\n\tuseEffect,\r\n\tforwardRef,\r\n} from '@wordpress/element';\r\nimport {\r\n\tstore as coreStore,\r\n\tuseResourcePermissions,\r\n} from '@wordpress/core-data';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { chevronLeftSmall, chevronRightSmall, plus } from '@wordpress/icons';\r\nimport { useInstanceId, useFocusOnMount } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../lock-unlock';\r\n\r\nconst { PrivateQuickInserter: QuickInserter } = unlock(\r\n\tblockEditorPrivateApis\r\n);\r\n\r\n/**\r\n * Given the Link block's type attribute, return the query params to give to\r\n * /wp/v2/search.\r\n *\r\n * @param {string} type Link block's type attribute.\r\n * @param {string} kind Link block's entity of kind (post-type|taxonomy)\r\n * @return {{ type?: string, subtype?: string }} Search query params.\r\n */\r\nexport function getSuggestionsQuery( type, kind ) {\r\n\tswitch ( type ) {\r\n\t\tcase 'post':\r\n\t\tcase 'page':\r\n\t\t\treturn { type: 'post', subtype: type };\r\n\t\tcase 'category':\r\n\t\t\treturn { type: 'term', subtype: 'category' };\r\n\t\tcase 'tag':\r\n\t\t\treturn { type: 'term', subtype: 'post_tag' };\r\n\t\tcase 'post_format':\r\n\t\t\treturn { type: 'post-format' };\r\n\t\tdefault:\r\n\t\t\tif ( kind === 'taxonomy' ) {\r\n\t\t\t\treturn { type: 'term', subtype: type };\r\n\t\t\t}\r\n\t\t\tif ( kind === 'post-type' ) {\r\n\t\t\t\treturn { type: 'post', subtype: type };\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t// for custom link which has no type\r\n\t\t\t\t// always show pages as initial suggestions\r\n\t\t\t\tinitialSuggestionsSearchOptions: {\r\n\t\t\t\t\ttype: 'post',\r\n\t\t\t\t\tsubtype: 'page',\r\n\t\t\t\t\tperPage: 20,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t}\r\n}\r\n\r\nfunction LinkUIBlockInserter( { clientId, onBack, onSelectBlock } ) {\r\n\tconst { rootBlockClientId } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlockRootClientId } = select( blockEditorStore );\r\n\r\n\t\t\treturn {\r\n\t\t\t\trootBlockClientId: getBlockRootClientId( clientId ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\r\n\r\n\tconst dialogTitleId = useInstanceId(\r\n\t\tLinkControl,\r\n\t\t`link-ui-block-inserter__title`\r\n\t);\r\n\tconst dialogDescritionId = useInstanceId(\r\n\t\tLinkControl,\r\n\t\t`link-ui-block-inserter__description`\r\n\t);\r\n\r\n\tif ( ! clientId ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"link-ui-block-inserter\"\r\n\t\t\trole=\"dialog\"\r\n\t\t\taria-labelledby={ dialogTitleId }\r\n\t\t\taria-describedby={ dialogDescritionId }\r\n\t\t\tref={ focusOnMountRef }\r\n\t\t>\r\n\t\t\t<VisuallyHidden>\r\n\t\t\t\t<h2 id={ dialogTitleId }>{ __( 'Add block' ) }</h2>\r\n\r\n\t\t\t\t<p id={ dialogDescritionId }>\r\n\t\t\t\t\t{ __( 'Choose a block to add to your Navigation.' ) }\r\n\t\t\t\t</p>\r\n\t\t\t</VisuallyHidden>\r\n\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"link-ui-block-inserter__back\"\r\n\t\t\t\ticon={ isRTL() ? chevronRightSmall : chevronLeftSmall }\r\n\t\t\t\tonClick={ ( e ) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tonBack();\r\n\t\t\t\t} }\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t>\r\n\t\t\t\t{ __( 'Back' ) }\r\n\t\t\t</Button>\r\n\r\n\t\t\t<QuickInserter\r\n\t\t\t\trootClientId={ rootBlockClientId }\r\n\t\t\t\tclientId={ clientId }\r\n\t\t\t\tisAppender={ false }\r\n\t\t\t\tprioritizePatterns={ false }\r\n\t\t\t\tselectBlockOnInsert\r\n\t\t\t\thasSearch={ false }\r\n\t\t\t\tonSelect={ onSelectBlock }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction UnforwardedLinkUI( props, ref ) {\r\n\tconst { label, url, opensInNewTab, type, kind } = props.link;\r\n\tconst postType = type || 'page';\r\n\r\n\tconst [ addingBlock, setAddingBlock ] = useState( false );\r\n\tconst [ focusAddBlockButton, setFocusAddBlockButton ] = useState( false );\r\n\tconst { saveEntityRecord } = useDispatch( coreStore );\r\n\tconst permissions = useResourcePermissions( {\r\n\t\tkind: 'postType',\r\n\t\tname: postType,\r\n\t} );\r\n\r\n\tasync function handleCreate( pageTitle ) {\r\n\t\tconst page = await saveEntityRecord( 'postType', postType, {\r\n\t\t\ttitle: pageTitle,\r\n\t\t\tstatus: 'draft',\r\n\t\t} );\r\n\r\n\t\treturn {\r\n\t\t\tid: page.id,\r\n\t\t\ttype: postType,\r\n\t\t\t// Make `title` property consistent with that in `fetchLinkSuggestions` where the `rendered` title (containing HTML entities)\r\n\t\t\t// is also being decoded. By being consistent in both locations we avoid having to branch in the rendering output code.\r\n\t\t\t// Ideally in the future we will update both APIs to utilise the \"raw\" form of the title which is better suited to edit contexts.\r\n\t\t\t// e.g.\r\n\t\t\t// - title.raw = \"Yes & No\"\r\n\t\t\t// - title.rendered = \"Yes &#038; No\"\r\n\t\t\t// - decodeEntities( title.rendered ) = \"Yes & No\"\r\n\t\t\t// See:\r\n\t\t\t// - https://github.com/WordPress/gutenberg/pull/41063\r\n\t\t\t// - https://github.com/WordPress/gutenberg/blob/a1e1fdc0e6278457e9f4fc0b31ac6d2095f5450b/packages/core-data/src/fetch/__experimental-fetch-link-suggestions.js#L212-L218\r\n\t\t\ttitle: decodeEntities( page.title.rendered ),\r\n\t\t\turl: page.link,\r\n\t\t\tkind: 'post-type',\r\n\t\t};\r\n\t}\r\n\r\n\t// Memoize link value to avoid overriding the LinkControl's internal state.\r\n\t// This is a temporary fix. See https://github.com/WordPress/gutenberg/issues/50976#issuecomment-1568226407.\r\n\tconst link = useMemo(\r\n\t\t() => ( {\r\n\t\t\turl,\r\n\t\t\topensInNewTab,\r\n\t\t\ttitle: label && stripHTML( label ),\r\n\t\t} ),\r\n\t\t[ label, opensInNewTab, url ]\r\n\t);\r\n\r\n\tconst dialogTitleId = useInstanceId(\r\n\t\tLinkUI,\r\n\t\t`link-ui-link-control__title`\r\n\t);\r\n\tconst dialogDescritionId = useInstanceId(\r\n\t\tLinkUI,\r\n\t\t`link-ui-link-control__description`\r\n\t);\r\n\r\n\t// Selecting a block should close the popover and also remove the (previously) automatically inserted\r\n\t// link block so that the newly selected block can be inserted in its place.\r\n\tconst { onClose: onSelectBlock } = props;\r\n\r\n\treturn (\r\n\t\t<Popover\r\n\t\t\tref={ ref }\r\n\t\t\tplacement=\"bottom\"\r\n\t\t\tonClose={ props.onClose }\r\n\t\t\tanchor={ props.anchor }\r\n\t\t\tshift\r\n\t\t>\r\n\t\t\t{ ! addingBlock && (\r\n\t\t\t\t<div\r\n\t\t\t\t\trole=\"dialog\"\r\n\t\t\t\t\taria-labelledby={ dialogTitleId }\r\n\t\t\t\t\taria-describedby={ dialogDescritionId }\r\n\t\t\t\t>\r\n\t\t\t\t\t<VisuallyHidden>\r\n\t\t\t\t\t\t<h2 id={ dialogTitleId }>{ __( 'Add link' ) }</h2>\r\n\r\n\t\t\t\t\t\t<p id={ dialogDescritionId }>\r\n\t\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t\t'Search for and add a link to your Navigation.'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</VisuallyHidden>\r\n\t\t\t\t\t<LinkControl\r\n\t\t\t\t\t\thasTextControl\r\n\t\t\t\t\t\thasRichPreviews\r\n\t\t\t\t\t\tvalue={ link }\r\n\t\t\t\t\t\tshowInitialSuggestions\r\n\t\t\t\t\t\twithCreateSuggestion={ permissions.canCreate }\r\n\t\t\t\t\t\tcreateSuggestion={ handleCreate }\r\n\t\t\t\t\t\tcreateSuggestionButtonText={ ( searchTerm ) => {\r\n\t\t\t\t\t\t\tlet format;\r\n\r\n\t\t\t\t\t\t\tif ( type === 'post' ) {\r\n\t\t\t\t\t\t\t\t/* translators: %s: search term. */\r\n\t\t\t\t\t\t\t\tformat = __(\r\n\t\t\t\t\t\t\t\t\t'Create draft post: <mark>%s</mark>'\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t/* translators: %s: search term. */\r\n\t\t\t\t\t\t\t\tformat = __(\r\n\t\t\t\t\t\t\t\t\t'Create draft page: <mark>%s</mark>'\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn createInterpolateElement(\r\n\t\t\t\t\t\t\t\tsprintf( format, searchTerm ),\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tmark: <mark />,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tnoDirectEntry={ !! type }\r\n\t\t\t\t\t\tnoURLSuggestion={ !! type }\r\n\t\t\t\t\t\tsuggestionsQuery={ getSuggestionsQuery( type, kind ) }\r\n\t\t\t\t\t\tonChange={ props.onChange }\r\n\t\t\t\t\t\tonRemove={ props.onRemove }\r\n\t\t\t\t\t\tonCancel={ props.onCancel }\r\n\t\t\t\t\t\trenderControlBottom={ () =>\r\n\t\t\t\t\t\t\t! link?.url?.length && (\r\n\t\t\t\t\t\t\t\t<LinkUITools\r\n\t\t\t\t\t\t\t\t\tfocusAddBlockButton={ focusAddBlockButton }\r\n\t\t\t\t\t\t\t\t\tsetAddingBlock={ () => {\r\n\t\t\t\t\t\t\t\t\t\tsetAddingBlock( true );\r\n\t\t\t\t\t\t\t\t\t\tsetFocusAddBlockButton( false );\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\r\n\t\t\t{ addingBlock && (\r\n\t\t\t\t<LinkUIBlockInserter\r\n\t\t\t\t\tclientId={ props.clientId }\r\n\t\t\t\t\tonBack={ () => {\r\n\t\t\t\t\t\tsetAddingBlock( false );\r\n\t\t\t\t\t\tsetFocusAddBlockButton( true );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tonSelectBlock={ onSelectBlock }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</Popover>\r\n\t);\r\n}\r\n\r\nexport const LinkUI = forwardRef( UnforwardedLinkUI );\r\n\r\nconst LinkUITools = ( { setAddingBlock, focusAddBlockButton } ) => {\r\n\tconst blockInserterAriaRole = 'listbox';\r\n\tconst addBlockButtonRef = useRef();\r\n\r\n\t// Focus the add block button when the popover is opened.\r\n\tuseEffect( () => {\r\n\t\tif ( focusAddBlockButton ) {\r\n\t\t\taddBlockButtonRef.current?.focus();\r\n\t\t}\r\n\t}, [ focusAddBlockButton ] );\r\n\r\n\treturn (\r\n\t\t<VStack className=\"link-ui-tools\">\r\n\t\t\t<Button\r\n\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\tref={ addBlockButtonRef }\r\n\t\t\t\ticon={ plus }\r\n\t\t\t\tonClick={ ( e ) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tsetAddingBlock( true );\r\n\t\t\t\t} }\r\n\t\t\t\taria-haspopup={ blockInserterAriaRole }\r\n\t\t\t>\r\n\t\t\t\t{ __( 'Add block' ) }\r\n\t\t\t</Button>\r\n\t\t</VStack>\r\n\t);\r\n};\r\n\r\nexport default LinkUITools;\r\n"],"mappings":"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","ignoreList":[]}