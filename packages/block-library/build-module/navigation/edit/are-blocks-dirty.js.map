{"version":3,"names":["areBlocksDirty","originalBlocks","blocks","isDeepEqual","prop","x","name","y","shouldSkip","undefined","Object","keys","length","hasOwnProperty"],"sources":["@wordpress/block-library/src/navigation/edit/are-blocks-dirty.js"],"sourcesContent":["export function areBlocksDirty( originalBlocks, blocks ) {\r\n\treturn ! isDeepEqual( originalBlocks, blocks, ( prop, x ) => {\r\n\t\t// Skip inner blocks of page list during comparison as they\r\n\t\t// are **always** controlled and may be updated async due to\r\n\t\t// syncing with entity records. Left unchecked this would\r\n\t\t// inadvertently trigger the dirty state.\r\n\t\tif ( x?.name === 'core/page-list' && prop === 'innerBlocks' ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} );\r\n}\r\n\r\n/**\r\n * Conditionally compares two candidates for deep equality.\r\n * Provides an option to skip a given property of an object during comparison.\r\n *\r\n * @param {*}                  x          1st candidate for comparison\r\n * @param {*}                  y          2nd candidate for comparison\r\n * @param {Function|undefined} shouldSkip a function which can be used to skip a given property of an object.\r\n * @return {boolean}                      whether the two candidates are deeply equal.\r\n */\r\nconst isDeepEqual = ( x, y, shouldSkip ) => {\r\n\tif ( x === y ) {\r\n\t\treturn true;\r\n\t} else if (\r\n\t\ttypeof x === 'object' &&\r\n\t\tx !== null &&\r\n\t\tx !== undefined &&\r\n\t\ttypeof y === 'object' &&\r\n\t\ty !== null &&\r\n\t\ty !== undefined\r\n\t) {\r\n\t\tif ( Object.keys( x ).length !== Object.keys( y ).length ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor ( const prop in x ) {\r\n\t\t\tif ( y.hasOwnProperty( prop ) ) {\r\n\t\t\t\t// Afford skipping a given property of an object.\r\n\t\t\t\tif ( shouldSkip && shouldSkip( prop, x ) ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! isDeepEqual( x[ prop ], y[ prop ], shouldSkip ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n"],"mappings":"AAAA,OAAO,SAASA,cAAcA,CAAEC,cAAc,EAAEC,MAAM,EAAG;EACxD,OAAO,CAAEC,WAAW,CAAEF,cAAc,EAAEC,MAAM,EAAE,CAAEE,IAAI,EAAEC,CAAC,KAAM;IAC5D;IACA;IACA;IACA;IACA,IAAKA,CAAC,EAAEC,IAAI,KAAK,gBAAgB,IAAIF,IAAI,KAAK,aAAa,EAAG;MAC7D,OAAO,IAAI;IACZ;EACD,CAAE,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMD,WAAW,GAAGA,CAAEE,CAAC,EAAEE,CAAC,EAAEC,UAAU,KAAM;EAC3C,IAAKH,CAAC,KAAKE,CAAC,EAAG;IACd,OAAO,IAAI;EACZ,CAAC,MAAM,IACN,OAAOF,CAAC,KAAK,QAAQ,IACrBA,CAAC,KAAK,IAAI,IACVA,CAAC,KAAKI,SAAS,IACf,OAAOF,CAAC,KAAK,QAAQ,IACrBA,CAAC,KAAK,IAAI,IACVA,CAAC,KAAKE,SAAS,EACd;IACD,IAAKC,MAAM,CAACC,IAAI,CAAEN,CAAE,CAAC,CAACO,MAAM,KAAKF,MAAM,CAACC,IAAI,CAAEJ,CAAE,CAAC,CAACK,MAAM,EAAG;MAC1D,OAAO,KAAK;IACb;IAEA,KAAM,MAAMR,IAAI,IAAIC,CAAC,EAAG;MACvB,IAAKE,CAAC,CAACM,cAAc,CAAET,IAAK,CAAC,EAAG;QAC/B;QACA,IAAKI,UAAU,IAAIA,UAAU,CAAEJ,IAAI,EAAEC,CAAE,CAAC,EAAG;UAC1C,OAAO,IAAI;QACZ;QAEA,IAAK,CAAEF,WAAW,CAAEE,CAAC,CAAED,IAAI,CAAE,EAAEG,CAAC,CAAEH,IAAI,CAAE,EAAEI,UAAW,CAAC,EAAG;UACxD,OAAO,KAAK;QACb;MACD,CAAC,MAAM;QACN,OAAO,KAAK;MACb;IACD;IAEA,OAAO,IAAI;EACZ;EAEA,OAAO,KAAK;AACb,CAAC","ignoreList":[]}