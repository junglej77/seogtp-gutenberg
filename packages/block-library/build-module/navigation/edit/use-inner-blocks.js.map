{"version":3,"names":["useSelect","store","blockEditorStore","EMPTY_ARRAY","useInnerBlocks","clientId","select","getBlock","getBlocks","hasSelectedInnerBlock","_uncontrolledInnerBlocks","innerBlocks","_hasUncontrolledInnerBlocks","length","_controlledInnerBlocks","hasUncontrolledInnerBlocks","uncontrolledInnerBlocks","controlledInnerBlocks","isInnerBlockSelected"],"sources":["@wordpress/block-library/src/navigation/edit/use-inner-blocks.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\nconst EMPTY_ARRAY = [];\r\n\r\nexport function useInnerBlocks( clientId ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlock, getBlocks, hasSelectedInnerBlock } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\r\n\t\t\t// This relies on the fact that `getBlock` won't return controlled\r\n\t\t\t// inner blocks, while `getBlocks` does. It might be more stable to\r\n\t\t\t// introduce a selector like `getUncontrolledInnerBlocks`, just in\r\n\t\t\t// case `getBlock` is fixed.\r\n\t\t\tconst _uncontrolledInnerBlocks = getBlock( clientId ).innerBlocks;\r\n\r\n\t\t\tconst _hasUncontrolledInnerBlocks =\r\n\t\t\t\t!! _uncontrolledInnerBlocks?.length;\r\n\t\t\tconst _controlledInnerBlocks = _hasUncontrolledInnerBlocks\r\n\t\t\t\t? EMPTY_ARRAY\r\n\t\t\t\t: getBlocks( clientId );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tinnerBlocks: _hasUncontrolledInnerBlocks\r\n\t\t\t\t\t? _uncontrolledInnerBlocks\r\n\t\t\t\t\t: _controlledInnerBlocks,\r\n\t\t\t\thasUncontrolledInnerBlocks: _hasUncontrolledInnerBlocks,\r\n\t\t\t\tuncontrolledInnerBlocks: _uncontrolledInnerBlocks,\r\n\t\t\t\tcontrolledInnerBlocks: _controlledInnerBlocks,\r\n\t\t\t\tisInnerBlockSelected: hasSelectedInnerBlock( clientId, true ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,yBAAyB;AAEnE,MAAMC,WAAW,GAAG,EAAE;AAEtB,OAAO,SAASC,cAAcA,CAAEC,QAAQ,EAAG;EAC1C,OAAOL,SAAS,CACbM,MAAM,IAAM;IACb,MAAM;MAAEC,QAAQ;MAAEC,SAAS;MAAEC;IAAsB,CAAC,GACnDH,MAAM,CAAEJ,gBAAiB,CAAC;;IAE3B;IACA;IACA;IACA;IACA,MAAMQ,wBAAwB,GAAGH,QAAQ,CAAEF,QAAS,CAAC,CAACM,WAAW;IAEjE,MAAMC,2BAA2B,GAChC,CAAC,CAAEF,wBAAwB,EAAEG,MAAM;IACpC,MAAMC,sBAAsB,GAAGF,2BAA2B,GACvDT,WAAW,GACXK,SAAS,CAAEH,QAAS,CAAC;IAExB,OAAO;MACNM,WAAW,EAAEC,2BAA2B,GACrCF,wBAAwB,GACxBI,sBAAsB;MACzBC,0BAA0B,EAAEH,2BAA2B;MACvDI,uBAAuB,EAAEN,wBAAwB;MACjDO,qBAAqB,EAAEH,sBAAsB;MAC7CI,oBAAoB,EAAET,qBAAqB,CAAEJ,QAAQ,EAAE,IAAK;IAC7D,CAAC;EACF,CAAC,EACD,CAAEA,QAAQ,CACX,CAAC;AACF","ignoreList":[]}