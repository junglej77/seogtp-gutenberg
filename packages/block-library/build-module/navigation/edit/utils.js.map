{"version":3,"names":["clsx","getComputedStyle","node","ownerDocument","defaultView","detectColors","colorsDetectionElement","setColor","setBackground","color","backgroundColorNode","backgroundColor","parentNode","nodeType","ELEMENT_NODE","getColors","context","isSubMenu","textColor","customTextColor","customBackgroundColor","overlayTextColor","customOverlayTextColor","overlayBackgroundColor","customOverlayBackgroundColor","style","colors","text","background","getNavigationChildBlockProps","innerBlocksColors","className"],"sources":["@wordpress/block-library/src/navigation/edit/utils.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\nfunction getComputedStyle( node ) {\r\n\treturn node.ownerDocument.defaultView.getComputedStyle( node );\r\n}\r\n\r\nexport function detectColors(\r\n\tcolorsDetectionElement,\r\n\tsetColor,\r\n\tsetBackground\r\n) {\r\n\tif ( ! colorsDetectionElement ) {\r\n\t\treturn;\r\n\t}\r\n\tsetColor( getComputedStyle( colorsDetectionElement ).color );\r\n\r\n\tlet backgroundColorNode = colorsDetectionElement;\r\n\tlet backgroundColor =\r\n\t\tgetComputedStyle( backgroundColorNode ).backgroundColor;\r\n\twhile (\r\n\t\tbackgroundColor === 'rgba(0, 0, 0, 0)' &&\r\n\t\tbackgroundColorNode.parentNode &&\r\n\t\tbackgroundColorNode.parentNode.nodeType ===\r\n\t\t\tbackgroundColorNode.parentNode.ELEMENT_NODE\r\n\t) {\r\n\t\tbackgroundColorNode = backgroundColorNode.parentNode;\r\n\t\tbackgroundColor =\r\n\t\t\tgetComputedStyle( backgroundColorNode ).backgroundColor;\r\n\t}\r\n\r\n\tsetBackground( backgroundColor );\r\n}\r\n\r\n/**\r\n * Determine the colors for a menu.\r\n *\r\n * Order of priority is:\r\n * 1: Overlay custom colors (if submenu)\r\n * 2: Overlay theme colors (if submenu)\r\n * 3: Custom colors\r\n * 4: Theme colors\r\n * 5: Global styles\r\n *\r\n * @param {Object}  context\r\n * @param {boolean} isSubMenu\r\n */\r\nexport function getColors( context, isSubMenu ) {\r\n\tconst {\r\n\t\ttextColor,\r\n\t\tcustomTextColor,\r\n\t\tbackgroundColor,\r\n\t\tcustomBackgroundColor,\r\n\t\toverlayTextColor,\r\n\t\tcustomOverlayTextColor,\r\n\t\toverlayBackgroundColor,\r\n\t\tcustomOverlayBackgroundColor,\r\n\t\tstyle,\r\n\t} = context;\r\n\r\n\tconst colors = {};\r\n\r\n\tif ( isSubMenu && !! customOverlayTextColor ) {\r\n\t\tcolors.customTextColor = customOverlayTextColor;\r\n\t} else if ( isSubMenu && !! overlayTextColor ) {\r\n\t\tcolors.textColor = overlayTextColor;\r\n\t} else if ( !! customTextColor ) {\r\n\t\tcolors.customTextColor = customTextColor;\r\n\t} else if ( !! textColor ) {\r\n\t\tcolors.textColor = textColor;\r\n\t} else if ( !! style?.color?.text ) {\r\n\t\tcolors.customTextColor = style.color.text;\r\n\t}\r\n\r\n\tif ( isSubMenu && !! customOverlayBackgroundColor ) {\r\n\t\tcolors.customBackgroundColor = customOverlayBackgroundColor;\r\n\t} else if ( isSubMenu && !! overlayBackgroundColor ) {\r\n\t\tcolors.backgroundColor = overlayBackgroundColor;\r\n\t} else if ( !! customBackgroundColor ) {\r\n\t\tcolors.customBackgroundColor = customBackgroundColor;\r\n\t} else if ( !! backgroundColor ) {\r\n\t\tcolors.backgroundColor = backgroundColor;\r\n\t} else if ( !! style?.color?.background ) {\r\n\t\tcolors.customTextColor = style.color.background;\r\n\t}\r\n\r\n\treturn colors;\r\n}\r\n\r\nexport function getNavigationChildBlockProps( innerBlocksColors ) {\r\n\treturn {\r\n\t\tclassName: clsx( 'wp-block-navigation__submenu-container', {\r\n\t\t\t'has-text-color': !! (\r\n\t\t\t\tinnerBlocksColors.textColor || innerBlocksColors.customTextColor\r\n\t\t\t),\r\n\t\t\t[ `has-${ innerBlocksColors.textColor }-color` ]:\r\n\t\t\t\t!! innerBlocksColors.textColor,\r\n\t\t\t'has-background': !! (\r\n\t\t\t\tinnerBlocksColors.backgroundColor ||\r\n\t\t\t\tinnerBlocksColors.customBackgroundColor\r\n\t\t\t),\r\n\t\t\t[ `has-${ innerBlocksColors.backgroundColor }-background-color` ]:\r\n\t\t\t\t!! innerBlocksColors.backgroundColor,\r\n\t\t} ),\r\n\t\tstyle: {\r\n\t\t\tcolor: innerBlocksColors.customTextColor,\r\n\t\t\tbackgroundColor: innerBlocksColors.customBackgroundColor,\r\n\t\t},\r\n\t};\r\n}\r\n"],"mappings":"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","ignoreList":[]}