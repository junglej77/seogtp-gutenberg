{"version":3,"names":["useEntityRecords","useNavigationEntities","menuId","records","menus","isResolving","isResolvingMenus","hasResolved","hasResolvedMenus","per_page","context","pages","isResolvingPages","hasResolvedPages","parent","order","orderby","menuItems","hasResolvedMenuItems","enabled","hasPages","length","hasMenus"],"sources":["@wordpress/block-library/src/navigation/use-navigation-entities.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityRecords } from '@wordpress/core-data';\r\n\r\n/**\r\n * @typedef {Object} NavigationEntitiesData\r\n * @property {Array|undefined} pages                - a collection of WP Post entity objects of post type \"Page\".\r\n * @property {boolean}         isResolvingPages     - indicates whether the request to fetch pages is currently resolving.\r\n * @property {boolean}         hasResolvedPages     - indicates whether the request to fetch pages has finished resolving.\r\n * @property {Array|undefined} menus                - a collection of Menu entity objects.\r\n * @property {boolean}         isResolvingMenus     - indicates whether the request to fetch menus is currently resolving.\r\n * @property {boolean}         hasResolvedMenus     - indicates whether the request to fetch menus has finished resolving.\r\n * @property {Array|undefined} menusItems           - a collection of Menu Item entity objects for the current menuId.\r\n * @property {boolean}         hasResolvedMenuItems - indicates whether the request to fetch menuItems has finished resolving.\r\n * @property {boolean}         hasPages             - indicates whether there is currently any data for pages.\r\n * @property {boolean}         hasMenus             - indicates whether there is currently any data for menus.\r\n */\r\n\r\n/**\r\n * Manages fetching and resolution state for all entities required\r\n * for the Navigation block.\r\n *\r\n * @param {number} menuId the menu for which to retrieve menuItem data.\r\n * @return { NavigationEntitiesData } the entity data.\r\n */\r\nexport default function useNavigationEntities( menuId ) {\r\n\tconst {\r\n\t\trecords: menus,\r\n\t\tisResolving: isResolvingMenus,\r\n\t\thasResolved: hasResolvedMenus,\r\n\t} = useEntityRecords( 'root', 'menu', { per_page: -1, context: 'view' } );\r\n\r\n\tconst {\r\n\t\trecords: pages,\r\n\t\tisResolving: isResolvingPages,\r\n\t\thasResolved: hasResolvedPages,\r\n\t} = useEntityRecords( 'postType', 'page', {\r\n\t\tparent: 0,\r\n\t\torder: 'asc',\r\n\t\torderby: 'id',\r\n\t\tper_page: -1,\r\n\t\tcontext: 'view',\r\n\t} );\r\n\r\n\tconst { records: menuItems, hasResolved: hasResolvedMenuItems } =\r\n\t\tuseEntityRecords(\r\n\t\t\t'root',\r\n\t\t\t'menuItem',\r\n\t\t\t{\r\n\t\t\t\tmenus: menuId,\r\n\t\t\t\tper_page: -1,\r\n\t\t\t\tcontext: 'view',\r\n\t\t\t},\r\n\t\t\t{ enabled: !! menuId }\r\n\t\t);\r\n\r\n\treturn {\r\n\t\tpages,\r\n\t\tisResolvingPages,\r\n\t\thasResolvedPages,\r\n\t\thasPages: !! ( hasResolvedPages && pages?.length ),\r\n\r\n\t\tmenus,\r\n\t\tisResolvingMenus,\r\n\t\thasResolvedMenus,\r\n\t\thasMenus: !! ( hasResolvedMenus && menus?.length ),\r\n\r\n\t\tmenuItems,\r\n\t\thasResolvedMenuItems,\r\n\t};\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,gBAAgB,QAAQ,sBAAsB;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,qBAAqBA,CAAEC,MAAM,EAAG;EACvD,MAAM;IACLC,OAAO,EAAEC,KAAK;IACdC,WAAW,EAAEC,gBAAgB;IAC7BC,WAAW,EAAEC;EACd,CAAC,GAAGR,gBAAgB,CAAE,MAAM,EAAE,MAAM,EAAE;IAAES,QAAQ,EAAE,CAAC,CAAC;IAAEC,OAAO,EAAE;EAAO,CAAE,CAAC;EAEzE,MAAM;IACLP,OAAO,EAAEQ,KAAK;IACdN,WAAW,EAAEO,gBAAgB;IAC7BL,WAAW,EAAEM;EACd,CAAC,GAAGb,gBAAgB,CAAE,UAAU,EAAE,MAAM,EAAE;IACzCc,MAAM,EAAE,CAAC;IACTC,KAAK,EAAE,KAAK;IACZC,OAAO,EAAE,IAAI;IACbP,QAAQ,EAAE,CAAC,CAAC;IACZC,OAAO,EAAE;EACV,CAAE,CAAC;EAEH,MAAM;IAAEP,OAAO,EAAEc,SAAS;IAAEV,WAAW,EAAEW;EAAqB,CAAC,GAC9DlB,gBAAgB,CACf,MAAM,EACN,UAAU,EACV;IACCI,KAAK,EAAEF,MAAM;IACbO,QAAQ,EAAE,CAAC,CAAC;IACZC,OAAO,EAAE;EACV,CAAC,EACD;IAAES,OAAO,EAAE,CAAC,CAAEjB;EAAO,CACtB,CAAC;EAEF,OAAO;IACNS,KAAK;IACLC,gBAAgB;IAChBC,gBAAgB;IAChBO,QAAQ,EAAE,CAAC,EAAIP,gBAAgB,IAAIF,KAAK,EAAEU,MAAM,CAAE;IAElDjB,KAAK;IACLE,gBAAgB;IAChBE,gBAAgB;IAChBc,QAAQ,EAAE,CAAC,EAAId,gBAAgB,IAAIJ,KAAK,EAAEiB,MAAM,CAAE;IAElDJ,SAAS;IACTC;EACD,CAAC;AACF","ignoreList":[]}