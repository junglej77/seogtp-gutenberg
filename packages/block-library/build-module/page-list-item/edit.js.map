{"version":3,"names":["clsx","useBlockProps","useInnerBlocksProps","useSelect","store","coreStore","decodeEntities","ItemSubmenuIcon","getColors","getNavigationChildBlockProps","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","useFrontPageId","select","canReadSettings","canUser","kind","name","undefined","site","getEntityRecord","show_on_front","page_on_front","PageListItemEdit","context","attributes","id","label","link","hasChildren","title","isNavigationChild","frontPageId","innerBlocksColors","navigationChildBlockProps","blockProps","className","innerBlocksProps","openSubmenusOnClick","showSubmenuIcon","children","type","href"],"sources":["@wordpress/block-library/src/page-list-item/edit.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { ItemSubmenuIcon } from '../navigation-link/icons';\r\nimport {\r\n\tgetColors,\r\n\tgetNavigationChildBlockProps,\r\n} from '../navigation/edit/utils';\r\n\r\nfunction useFrontPageId() {\r\n\treturn useSelect( ( select ) => {\r\n\t\tconst canReadSettings = select( coreStore ).canUser( 'read', {\r\n\t\t\tkind: 'root',\r\n\t\t\tname: 'site',\r\n\t\t} );\r\n\t\tif ( ! canReadSettings ) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\tconst site = select( coreStore ).getEntityRecord( 'root', 'site' );\r\n\t\treturn site?.show_on_front === 'page' && site?.page_on_front;\r\n\t}, [] );\r\n}\r\n\r\nexport default function PageListItemEdit( { context, attributes } ) {\r\n\tconst { id, label, link, hasChildren, title } = attributes;\r\n\tconst isNavigationChild = 'showSubmenuIcon' in context;\r\n\tconst frontPageId = useFrontPageId();\r\n\r\n\tconst innerBlocksColors = getColors( context, true );\r\n\r\n\tconst navigationChildBlockProps =\r\n\t\tgetNavigationChildBlockProps( innerBlocksColors );\r\n\tconst blockProps = useBlockProps( navigationChildBlockProps, {\r\n\t\tclassName: 'wp-block-pages-list__item',\r\n\t} );\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps );\r\n\r\n\treturn (\r\n\t\t<li\r\n\t\t\tkey={ id }\r\n\t\t\tclassName={ clsx( 'wp-block-pages-list__item', {\r\n\t\t\t\t'has-child': hasChildren,\r\n\t\t\t\t'wp-block-navigation-item': isNavigationChild,\r\n\t\t\t\t'open-on-click': context.openSubmenusOnClick,\r\n\t\t\t\t'open-on-hover-click':\r\n\t\t\t\t\t! context.openSubmenusOnClick && context.showSubmenuIcon,\r\n\t\t\t\t'menu-item-home': id === frontPageId,\r\n\t\t\t} ) }\r\n\t\t>\r\n\t\t\t{ hasChildren && context.openSubmenusOnClick ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"wp-block-navigation-item__content wp-block-navigation-submenu__toggle\"\r\n\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ decodeEntities( label ) }\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<span className=\"wp-block-page-list__submenu-icon wp-block-navigation__submenu-icon\">\r\n\t\t\t\t\t\t<ItemSubmenuIcon />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName={ clsx( 'wp-block-pages-list__item__link', {\r\n\t\t\t\t\t\t'wp-block-navigation-item__content': isNavigationChild,\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t\thref={ link }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ decodeEntities( title ) }\r\n\t\t\t\t</a>\r\n\t\t\t) }\r\n\t\t\t{ hasChildren && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{ ! context.openSubmenusOnClick &&\r\n\t\t\t\t\t\tcontext.showSubmenuIcon && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"wp-block-navigation-item__content wp-block-navigation-submenu__toggle wp-block-page-list__submenu-icon wp-block-navigation__submenu-icon\"\r\n\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ItemSubmenuIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t<ul { ...innerBlocksProps }></ul>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</li>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}