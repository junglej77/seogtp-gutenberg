{"version":3,"names":["clsx","__experimentalToggleGroupControl","ToggleGroupControl","__experimentalToggleGroupControlOption","ToggleGroupControlOption","ToggleControl","SelectControl","PanelBody","InspectorControls","RichText","BlockControls","AlignmentToolbar","useBlockProps","__","_x","useSelect","store","coreStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PostNavigationLinkEdit","context","postType","attributes","type","label","showTitle","textAlign","linkLabel","arrow","taxonomy","setAttributes","isNext","placeholder","arrowMap","none","chevron","displayArrow","ariaLabel","blockProps","className","taxonomies","select","getTaxonomies","filteredTaxonomies","per_page","getTaxonomyOptions","selectOption","value","taxonomyOptions","filter","visibility","publicly_queryable","map","item","slug","name","children","__nextHasNoMarginBottom","help","checked","onChange","__next40pxDefaultSize","isBlock","group","options","nextAlign","tagName","identifier","allowedFormats","newLabel","href","onClick","event","preventDefault"],"sources":["@wordpress/block-library/src/post-navigation-link/edit.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n\tToggleControl,\r\n\tSelectControl,\r\n\tPanelBody,\r\n} from '@wordpress/components';\r\nimport {\r\n\tInspectorControls,\r\n\tRichText,\r\n\tBlockControls,\r\n\tAlignmentToolbar,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\nexport default function PostNavigationLinkEdit( {\r\n\tcontext: { postType },\r\n\tattributes: {\r\n\t\ttype,\r\n\t\tlabel,\r\n\t\tshowTitle,\r\n\t\ttextAlign,\r\n\t\tlinkLabel,\r\n\t\tarrow,\r\n\t\ttaxonomy,\r\n\t},\r\n\tsetAttributes,\r\n} ) {\r\n\tconst isNext = type === 'next';\r\n\tlet placeholder = isNext ? __( 'Next' ) : __( 'Previous' );\r\n\r\n\tconst arrowMap = {\r\n\t\tnone: '',\r\n\t\tarrow: isNext ? '→' : '←',\r\n\t\tchevron: isNext ? '»' : '«',\r\n\t};\r\n\r\n\tconst displayArrow = arrowMap[ arrow ];\r\n\r\n\tif ( showTitle ) {\r\n\t\tplaceholder = isNext\r\n\t\t\t? /* translators: Label before for next and previous post. There is a space after the colon. */\r\n\t\t\t  __( 'Next: ' ) // eslint-disable-line @wordpress/i18n-no-flanking-whitespace\r\n\t\t\t: /* translators: Label before for next and previous post. There is a space after the colon. */\r\n\t\t\t  __( 'Previous: ' ); // eslint-disable-line @wordpress/i18n-no-flanking-whitespace\r\n\t}\r\n\r\n\tconst ariaLabel = isNext ? __( 'Next post' ) : __( 'Previous post' );\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: clsx( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tconst taxonomies = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getTaxonomies } = select( coreStore );\r\n\t\t\tconst filteredTaxonomies = getTaxonomies( {\r\n\t\t\t\ttype: postType,\r\n\t\t\t\tper_page: -1,\r\n\t\t\t} );\r\n\t\t\treturn filteredTaxonomies;\r\n\t\t},\r\n\t\t[ postType ]\r\n\t);\r\n\tconst getTaxonomyOptions = () => {\r\n\t\tconst selectOption = {\r\n\t\t\tlabel: __( 'Unfiltered' ),\r\n\t\t\tvalue: '',\r\n\t\t};\r\n\t\tconst taxonomyOptions = ( taxonomies ?? [] )\r\n\t\t\t.filter( ( { visibility } ) => !! visibility?.publicly_queryable )\r\n\t\t\t.map( ( item ) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: item.slug,\r\n\t\t\t\t\tlabel: item.name,\r\n\t\t\t\t};\r\n\t\t\t} );\r\n\r\n\t\treturn [ selectOption, ...taxonomyOptions ];\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display the title as a link' ) }\r\n\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t'If you have entered a custom label, it will be prepended before the title.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tchecked={ !! showTitle }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tshowTitle: ! showTitle,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ showTitle && (\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tlabel={ __(\r\n\t\t\t\t\t\t\t\t'Include the label as part of the link'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tchecked={ !! linkLabel }\r\n\t\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\tlinkLabel: ! linkLabel,\r\n\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t<ToggleGroupControl\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Arrow' ) }\r\n\t\t\t\t\t\tvalue={ arrow }\r\n\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\tsetAttributes( { arrow: value } );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t'A decorative arrow for the next and previous link.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tisBlock\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ToggleGroupControlOption\r\n\t\t\t\t\t\t\tvalue=\"none\"\r\n\t\t\t\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t\t\t\t'None',\r\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ToggleGroupControlOption\r\n\t\t\t\t\t\t\tvalue=\"arrow\"\r\n\t\t\t\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t\t\t\t'Arrow',\r\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ToggleGroupControlOption\r\n\t\t\t\t\t\t\tvalue=\"chevron\"\r\n\t\t\t\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t\t\t\t'Chevron',\r\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ToggleGroupControl>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<InspectorControls group=\"advanced\">\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Filter by taxonomy' ) }\r\n\t\t\t\t\tvalue={ taxonomy }\r\n\t\t\t\t\toptions={ getTaxonomyOptions() }\r\n\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\ttaxonomy: value,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t}\r\n\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t'Only link to posts that have the same taxonomy terms as the current post. For example the same tags or categories.'\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<AlignmentToolbar\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t{ ! isNext && displayArrow && (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={ `wp-block-post-navigation-link__arrow-previous is-arrow-${ arrow }` }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ displayArrow }\r\n\t\t\t\t\t</span>\r\n\t\t\t\t) }\r\n\t\t\t\t<RichText\r\n\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\tidentifier=\"label\"\r\n\t\t\t\t\taria-label={ ariaLabel }\r\n\t\t\t\t\tplaceholder={ placeholder }\r\n\t\t\t\t\tvalue={ label }\r\n\t\t\t\t\tallowedFormats={ [ 'core/bold', 'core/italic' ] }\r\n\t\t\t\t\tonChange={ ( newLabel ) =>\r\n\t\t\t\t\t\tsetAttributes( { label: newLabel } )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{ showTitle && (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"#post-navigation-pseudo-link\"\r\n\t\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'An example title' ) }\r\n\t\t\t\t\t</a>\r\n\t\t\t\t) }\r\n\t\t\t\t{ isNext && displayArrow && (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={ `wp-block-post-navigation-link__arrow-next is-arrow-${ arrow }` }\r\n\t\t\t\t\t\taria-hidden\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ displayArrow }\r\n\t\t\t\t\t</span>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}