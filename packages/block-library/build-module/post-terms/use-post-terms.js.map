{"version":3,"names":["store","coreStore","useSelect","EMPTY_ARRAY","usePostTerms","postId","term","slug","select","visible","visibility","publicly_queryable","postTerms","isLoading","hasPostTerms","getEntityRecords","isResolving","taxonomyArgs","post","per_page","context","terms","length"],"sources":["@wordpress/block-library/src/post-terms/use-post-terms.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nconst EMPTY_ARRAY = [];\r\n\r\nexport default function usePostTerms( { postId, term } ) {\r\n\tconst { slug } = term;\r\n\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst visible = term?.visibility?.publicly_queryable;\r\n\t\t\tif ( ! visible ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpostTerms: EMPTY_ARRAY,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\thasPostTerms: false,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\r\n\t\t\tconst taxonomyArgs = [\r\n\t\t\t\t'taxonomy',\r\n\t\t\t\tslug,\r\n\t\t\t\t{\r\n\t\t\t\t\tpost: postId,\r\n\t\t\t\t\tper_page: -1,\r\n\t\t\t\t\tcontext: 'view',\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\tconst terms = getEntityRecords( ...taxonomyArgs );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tpostTerms: terms,\r\n\t\t\t\tisLoading: isResolving( 'getEntityRecords', taxonomyArgs ),\r\n\t\t\t\thasPostTerms: !! terms?.length,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ postId, term?.visibility?.publicly_queryable, slug ]\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,SAAS,QAAQ,iBAAiB;AAE3C,MAAMC,WAAW,GAAG,EAAE;AAEtB,eAAe,SAASC,YAAYA,CAAE;EAAEC,MAAM;EAAEC;AAAK,CAAC,EAAG;EACxD,MAAM;IAAEC;EAAK,CAAC,GAAGD,IAAI;EAErB,OAAOJ,SAAS,CACbM,MAAM,IAAM;IACb,MAAMC,OAAO,GAAGH,IAAI,EAAEI,UAAU,EAAEC,kBAAkB;IACpD,IAAK,CAAEF,OAAO,EAAG;MAChB,OAAO;QACNG,SAAS,EAAET,WAAW;QACtBU,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE;MACf,CAAC;IACF;IAEA,MAAM;MAAEC,gBAAgB;MAAEC;IAAY,CAAC,GAAGR,MAAM,CAAEP,SAAU,CAAC;IAC7D,MAAMgB,YAAY,GAAG,CACpB,UAAU,EACVV,IAAI,EACJ;MACCW,IAAI,EAAEb,MAAM;MACZc,QAAQ,EAAE,CAAC,CAAC;MACZC,OAAO,EAAE;IACV,CAAC,CACD;IACD,MAAMC,KAAK,GAAGN,gBAAgB,CAAE,GAAGE,YAAa,CAAC;IAEjD,OAAO;MACNL,SAAS,EAAES,KAAK;MAChBR,SAAS,EAAEG,WAAW,CAAE,kBAAkB,EAAEC,YAAa,CAAC;MAC1DH,YAAY,EAAE,CAAC,CAAEO,KAAK,EAAEC;IACzB,CAAC;EACF,CAAC,EACD,CAAEjB,MAAM,EAAEC,IAAI,EAAEI,UAAU,EAAEC,kBAAkB,EAAEJ,IAAI,CACrD,CAAC;AACF","ignoreList":[]}