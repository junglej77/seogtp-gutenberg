{"version":3,"names":["createBlock","create","join","toHTMLString","transforms","from","type","isMultiBlock","blocks","transform","attributes","value","map","content","html","anchor","to","citation","paragraphs","push","length","headingBlock"],"sources":["@wordpress/block-library/src/pullquote/transforms.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { create, join, toHTMLString } from '@wordpress/rich-text';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\treturn createBlock( 'core/pullquote', {\r\n\t\t\t\t\tvalue: toHTMLString( {\r\n\t\t\t\t\t\tvalue: join(\r\n\t\t\t\t\t\t\tattributes.map( ( { content } ) =>\r\n\t\t\t\t\t\t\t\tcreate( { html: content } )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t'\\n'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t} ),\r\n\t\t\t\t\tanchor: attributes.anchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/heading' ],\r\n\t\t\ttransform: ( { content, anchor } ) => {\r\n\t\t\t\treturn createBlock( 'core/pullquote', {\r\n\t\t\t\t\tvalue: content,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( { value, citation } ) => {\r\n\t\t\t\tconst paragraphs = [];\r\n\t\t\t\tif ( value ) {\r\n\t\t\t\t\tparagraphs.push(\r\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\tcontent: value,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif ( citation ) {\r\n\t\t\t\t\tparagraphs.push(\r\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif ( paragraphs.length === 0 ) {\r\n\t\t\t\t\treturn createBlock( 'core/paragraph', {\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t\treturn paragraphs;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/heading' ],\r\n\t\t\ttransform: ( { value, citation } ) => {\r\n\t\t\t\t// If there is no pullquote content, use the citation as the\r\n\t\t\t\t// content of the resulting heading. A nonexistent citation\r\n\t\t\t\t// will result in an empty heading.\r\n\t\t\t\tif ( ! value ) {\r\n\t\t\t\t\treturn createBlock( 'core/heading', {\r\n\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t\tconst headingBlock = createBlock( 'core/heading', {\r\n\t\t\t\t\tcontent: value,\r\n\t\t\t\t} );\r\n\t\t\t\tif ( ! citation ) {\r\n\t\t\t\t\treturn headingBlock;\r\n\t\t\t\t}\r\n\t\t\t\treturn [\r\n\t\t\t\t\theadingBlock,\r\n\t\t\t\t\tcreateBlock( 'core/heading', {\r\n\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,QAAQ,mBAAmB;AAC/C,SAASC,MAAM,EAAEC,IAAI,EAAEC,YAAY,QAAQ,sBAAsB;AAEjE,MAAMC,UAAU,GAAG;EAClBC,IAAI,EAAE,CACL;IACCC,IAAI,EAAE,OAAO;IACbC,YAAY,EAAE,IAAI;IAClBC,MAAM,EAAE,CAAE,gBAAgB,CAAE;IAC5BC,SAAS,EAAIC,UAAU,IAAM;MAC5B,OAAOV,WAAW,CAAE,gBAAgB,EAAE;QACrCW,KAAK,EAAER,YAAY,CAAE;UACpBQ,KAAK,EAAET,IAAI,CACVQ,UAAU,CAACE,GAAG,CAAE,CAAE;YAAEC;UAAQ,CAAC,KAC5BZ,MAAM,CAAE;YAAEa,IAAI,EAAED;UAAQ,CAAE,CAC3B,CAAC,EACD,IACD;QACD,CAAE,CAAC;QACHE,MAAM,EAAEL,UAAU,CAACK;MACpB,CAAE,CAAC;IACJ;EACD,CAAC,EACD;IACCT,IAAI,EAAE,OAAO;IACbE,MAAM,EAAE,CAAE,cAAc,CAAE;IAC1BC,SAAS,EAAEA,CAAE;MAAEI,OAAO;MAAEE;IAAO,CAAC,KAAM;MACrC,OAAOf,WAAW,CAAE,gBAAgB,EAAE;QACrCW,KAAK,EAAEE,OAAO;QACdE;MACD,CAAE,CAAC;IACJ;EACD,CAAC,CACD;EACDC,EAAE,EAAE,CACH;IACCV,IAAI,EAAE,OAAO;IACbE,MAAM,EAAE,CAAE,gBAAgB,CAAE;IAC5BC,SAAS,EAAEA,CAAE;MAAEE,KAAK;MAAEM;IAAS,CAAC,KAAM;MACrC,MAAMC,UAAU,GAAG,EAAE;MACrB,IAAKP,KAAK,EAAG;QACZO,UAAU,CAACC,IAAI,CACdnB,WAAW,CAAE,gBAAgB,EAAE;UAC9Ba,OAAO,EAAEF;QACV,CAAE,CACH,CAAC;MACF;MACA,IAAKM,QAAQ,EAAG;QACfC,UAAU,CAACC,IAAI,CACdnB,WAAW,CAAE,gBAAgB,EAAE;UAC9Ba,OAAO,EAAEI;QACV,CAAE,CACH,CAAC;MACF;MACA,IAAKC,UAAU,CAACE,MAAM,KAAK,CAAC,EAAG;QAC9B,OAAOpB,WAAW,CAAE,gBAAgB,EAAE;UACrCa,OAAO,EAAE;QACV,CAAE,CAAC;MACJ;MACA,OAAOK,UAAU;IAClB;EACD,CAAC,EACD;IACCZ,IAAI,EAAE,OAAO;IACbE,MAAM,EAAE,CAAE,cAAc,CAAE;IAC1BC,SAAS,EAAEA,CAAE;MAAEE,KAAK;MAAEM;IAAS,CAAC,KAAM;MACrC;MACA;MACA;MACA,IAAK,CAAEN,KAAK,EAAG;QACd,OAAOX,WAAW,CAAE,cAAc,EAAE;UACnCa,OAAO,EAAEI;QACV,CAAE,CAAC;MACJ;MACA,MAAMI,YAAY,GAAGrB,WAAW,CAAE,cAAc,EAAE;QACjDa,OAAO,EAAEF;MACV,CAAE,CAAC;MACH,IAAK,CAAEM,QAAQ,EAAG;QACjB,OAAOI,YAAY;MACpB;MACA,OAAO,CACNA,YAAY,EACZrB,WAAW,CAAE,cAAc,EAAE;QAC5Ba,OAAO,EAAEI;MACV,CAAE,CAAC,CACH;IACF;EACD,CAAC;AAEH,CAAC;AAED,eAAeb,UAAU","ignoreList":[]}