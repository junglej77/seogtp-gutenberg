{"version":3,"names":["__","InspectorControls","useBlockProps","useInnerBlocksProps","store","blockEditorStore","useSelect","PanelBody","useEffect","QueryPaginationArrowControls","QueryPaginationLabelControl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TEMPLATE","QueryPaginationEdit","attributes","paginationArrow","showLabel","setAttributes","clientId","hasNextPreviousBlocks","select","getBlocks","innerBlocks","find","innerBlock","includes","name","blockProps","innerBlocksProps","template","children","title","value","onChange"],"sources":["@wordpress/block-library/src/query-pagination/edit.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { PanelBody } from '@wordpress/components';\r\nimport { useEffect } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { QueryPaginationArrowControls } from './query-pagination-arrow-controls';\r\nimport { QueryPaginationLabelControl } from './query-pagination-label-control';\r\n\r\nconst TEMPLATE = [\r\n\t[ 'core/query-pagination-previous' ],\r\n\t[ 'core/query-pagination-numbers' ],\r\n\t[ 'core/query-pagination-next' ],\r\n];\r\n\r\nexport default function QueryPaginationEdit( {\r\n\tattributes: { paginationArrow, showLabel },\r\n\tsetAttributes,\r\n\tclientId,\r\n} ) {\r\n\tconst hasNextPreviousBlocks = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlocks } = select( blockEditorStore );\r\n\t\t\tconst innerBlocks = getBlocks( clientId );\r\n\t\t\t/**\r\n\t\t\t * Show the `paginationArrow` and `showLabel` controls only if a\r\n\t\t\t * `QueryPaginationNext/Previous` block exists.\r\n\t\t\t */\r\n\t\t\treturn innerBlocks?.find( ( innerBlock ) => {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t'core/query-pagination-next',\r\n\t\t\t\t\t'core/query-pagination-previous',\r\n\t\t\t\t].includes( innerBlock.name );\r\n\t\t\t} );\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\tconst blockProps = useBlockProps();\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplate: TEMPLATE,\r\n\t} );\r\n\t// Always show label text if paginationArrow is set to 'none'.\r\n\tuseEffect( () => {\r\n\t\tif ( paginationArrow === 'none' && ! showLabel ) {\r\n\t\t\tsetAttributes( { showLabel: true } );\r\n\t\t}\r\n\t}, [ paginationArrow, setAttributes, showLabel ] );\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ hasNextPreviousBlocks && (\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t\t<QueryPaginationArrowControls\r\n\t\t\t\t\t\t\tvalue={ paginationArrow }\r\n\t\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\t\tsetAttributes( { paginationArrow: value } );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{ paginationArrow !== 'none' && (\r\n\t\t\t\t\t\t\t<QueryPaginationLabelControl\r\n\t\t\t\t\t\t\t\tvalue={ showLabel }\r\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\t\t\tsetAttributes( { showLabel: value } );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t</InspectorControls>\r\n\t\t\t) }\r\n\t\t\t<nav { ...innerBlocksProps } />\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SACCC,iBAAiB,EACjBC,aAAa,EACbC,mBAAmB,EACnBC,KAAK,IAAIC,gBAAgB,QACnB,yBAAyB;AAChC,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,SAAS,QAAQ,oBAAoB;;AAE9C;AACA;AACA;AACA,SAASC,4BAA4B,QAAQ,mCAAmC;AAChF,SAASC,2BAA2B,QAAQ,kCAAkC;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/E,MAAMC,QAAQ,GAAG,CAChB,CAAE,gCAAgC,CAAE,EACpC,CAAE,+BAA+B,CAAE,EACnC,CAAE,4BAA4B,CAAE,CAChC;AAED,eAAe,SAASC,mBAAmBA,CAAE;EAC5CC,UAAU,EAAE;IAAEC,eAAe;IAAEC;EAAU,CAAC;EAC1CC,aAAa;EACbC;AACD,CAAC,EAAG;EACH,MAAMC,qBAAqB,GAAGlB,SAAS,CACpCmB,MAAM,IAAM;IACb,MAAM;MAAEC;IAAU,CAAC,GAAGD,MAAM,CAAEpB,gBAAiB,CAAC;IAChD,MAAMsB,WAAW,GAAGD,SAAS,CAAEH,QAAS,CAAC;IACzC;AACH;AACA;AACA;IACG,OAAOI,WAAW,EAAEC,IAAI,CAAIC,UAAU,IAAM;MAC3C,OAAO,CACN,4BAA4B,EAC5B,gCAAgC,CAChC,CAACC,QAAQ,CAAED,UAAU,CAACE,IAAK,CAAC;IAC9B,CAAE,CAAC;EACJ,CAAC,EACD,CAAER,QAAQ,CACX,CAAC;EACD,MAAMS,UAAU,GAAG9B,aAAa,CAAC,CAAC;EAClC,MAAM+B,gBAAgB,GAAG9B,mBAAmB,CAAE6B,UAAU,EAAE;IACzDE,QAAQ,EAAEjB;EACX,CAAE,CAAC;EACH;EACAT,SAAS,CAAE,MAAM;IAChB,IAAKY,eAAe,KAAK,MAAM,IAAI,CAAEC,SAAS,EAAG;MAChDC,aAAa,CAAE;QAAED,SAAS,EAAE;MAAK,CAAE,CAAC;IACrC;EACD,CAAC,EAAE,CAAED,eAAe,EAAEE,aAAa,EAAED,SAAS,CAAG,CAAC;EAClD,oBACCP,KAAA,CAAAE,SAAA;IAAAmB,QAAA,GACGX,qBAAqB,iBACtBZ,IAAA,CAACX,iBAAiB;MAAAkC,QAAA,eACjBrB,KAAA,CAACP,SAAS;QAAC6B,KAAK,EAAGpC,EAAE,CAAE,UAAW,CAAG;QAAAmC,QAAA,gBACpCvB,IAAA,CAACH,4BAA4B;UAC5B4B,KAAK,EAAGjB,eAAiB;UACzBkB,QAAQ,EAAKD,KAAK,IAAM;YACvBf,aAAa,CAAE;cAAEF,eAAe,EAAEiB;YAAM,CAAE,CAAC;UAC5C;QAAG,CACH,CAAC,EACAjB,eAAe,KAAK,MAAM,iBAC3BR,IAAA,CAACF,2BAA2B;UAC3B2B,KAAK,EAAGhB,SAAW;UACnBiB,QAAQ,EAAKD,KAAK,IAAM;YACvBf,aAAa,CAAE;cAAED,SAAS,EAAEgB;YAAM,CAAE,CAAC;UACtC;QAAG,CACH,CACD;MAAA,CACS;IAAC,CACM,CACnB,eACDzB,IAAA;MAAA,GAAUqB;IAAgB,CAAI,CAAC;EAAA,CAC9B,CAAC;AAEL","ignoreList":[]}