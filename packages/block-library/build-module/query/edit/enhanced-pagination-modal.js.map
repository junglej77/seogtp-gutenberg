{"version":3,"names":["Button","Modal","__experimentalVStack","VStack","__","useState","useEffect","useUnsupportedBlocks","jsx","_jsx","jsxs","_jsxs","modalDescriptionId","EnhancedPaginationModal","clientId","attributes","enhancedPagination","setAttributes","isOpen","setOpen","hasBlocksFromPlugins","hasPostContentBlock","hasUnsupportedBlocks","window","__experimentalFullPageClientSideNavigation","closeModal","notice","title","className","aria","describedby","role","focusOnMount","isDismissible","onRequestClose","children","alignment","spacing","id","__next40pxDefaultSize","variant","onClick"],"sources":["@wordpress/block-library/src/query/edit/enhanced-pagination-modal.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tButton,\r\n\tModal,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useState, useEffect } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useUnsupportedBlocks } from '../utils';\r\n\r\nconst modalDescriptionId =\r\n\t'wp-block-query-enhanced-pagination-modal__description';\r\n\r\nexport default function EnhancedPaginationModal( {\r\n\tclientId,\r\n\tattributes: { enhancedPagination },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst [ isOpen, setOpen ] = useState( false );\r\n\tconst { hasBlocksFromPlugins, hasPostContentBlock, hasUnsupportedBlocks } =\r\n\t\tuseUnsupportedBlocks( clientId );\r\n\r\n\tuseEffect( () => {\r\n\t\tif (\r\n\t\t\tenhancedPagination &&\r\n\t\t\thasUnsupportedBlocks &&\r\n\t\t\t! window.__experimentalFullPageClientSideNavigation\r\n\t\t) {\r\n\t\t\tsetAttributes( { enhancedPagination: false } );\r\n\t\t\tsetOpen( true );\r\n\t\t}\r\n\t}, [ enhancedPagination, hasUnsupportedBlocks, setAttributes ] );\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetOpen( false );\r\n\t};\r\n\r\n\tlet notice = __(\r\n\t\t'If you still want to prevent full page reloads, remove that block, then disable \"Reload full page\" again in the Query Block settings.'\r\n\t);\r\n\tif ( hasBlocksFromPlugins ) {\r\n\t\tnotice =\r\n\t\t\t__(\r\n\t\t\t\t'Currently, avoiding full page reloads is not possible when non-interactive or non-client Navigation compatible blocks from plugins are present inside the Query block.'\r\n\t\t\t) +\r\n\t\t\t' ' +\r\n\t\t\tnotice;\r\n\t} else if ( hasPostContentBlock ) {\r\n\t\tnotice =\r\n\t\t\t__(\r\n\t\t\t\t'Currently, avoiding full page reloads is not possible when a Content block is present inside the Query block.'\r\n\t\t\t) +\r\n\t\t\t' ' +\r\n\t\t\tnotice;\r\n\t}\r\n\r\n\treturn (\r\n\t\tisOpen && (\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={ __( 'Query block: Reload full page enabled' ) }\r\n\t\t\t\tclassName=\"wp-block-query__enhanced-pagination-modal\"\r\n\t\t\t\taria={ {\r\n\t\t\t\t\tdescribedby: modalDescriptionId,\r\n\t\t\t\t} }\r\n\t\t\t\trole=\"alertdialog\"\r\n\t\t\t\tfocusOnMount=\"firstElement\"\r\n\t\t\t\tisDismissible={ false }\r\n\t\t\t\tonRequestClose={ closeModal }\r\n\t\t\t>\r\n\t\t\t\t<VStack alignment=\"right\" spacing={ 5 }>\r\n\t\t\t\t\t<span id={ modalDescriptionId }>{ notice }</span>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\tonClick={ closeModal }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'OK' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</VStack>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,MAAM,EACNC,KAAK,EACLC,oBAAoB,IAAIC,MAAM,QACxB,uBAAuB;AAC9B,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;;AAExD;AACA;AACA;AACA,SAASC,oBAAoB,QAAQ,UAAU;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEhD,MAAMC,kBAAkB,GACvB,uDAAuD;AAExD,eAAe,SAASC,uBAAuBA,CAAE;EAChDC,QAAQ;EACRC,UAAU,EAAE;IAAEC;EAAmB,CAAC;EAClCC;AACD,CAAC,EAAG;EACH,MAAM,CAAEC,MAAM,EAAEC,OAAO,CAAE,GAAGd,QAAQ,CAAE,KAAM,CAAC;EAC7C,MAAM;IAAEe,oBAAoB;IAAEC,mBAAmB;IAAEC;EAAqB,CAAC,GACxEf,oBAAoB,CAAEO,QAAS,CAAC;EAEjCR,SAAS,CAAE,MAAM;IAChB,IACCU,kBAAkB,IAClBM,oBAAoB,IACpB,CAAEC,MAAM,CAACC,0CAA0C,EAClD;MACDP,aAAa,CAAE;QAAED,kBAAkB,EAAE;MAAM,CAAE,CAAC;MAC9CG,OAAO,CAAE,IAAK,CAAC;IAChB;EACD,CAAC,EAAE,CAAEH,kBAAkB,EAAEM,oBAAoB,EAAEL,aAAa,CAAG,CAAC;EAEhE,MAAMQ,UAAU,GAAGA,CAAA,KAAM;IACxBN,OAAO,CAAE,KAAM,CAAC;EACjB,CAAC;EAED,IAAIO,MAAM,GAAGtB,EAAE,CACd,uIACD,CAAC;EACD,IAAKgB,oBAAoB,EAAG;IAC3BM,MAAM,GACLtB,EAAE,CACD,wKACD,CAAC,GACD,GAAG,GACHsB,MAAM;EACR,CAAC,MAAM,IAAKL,mBAAmB,EAAG;IACjCK,MAAM,GACLtB,EAAE,CACD,+GACD,CAAC,GACD,GAAG,GACHsB,MAAM;EACR;EAEA,OACCR,MAAM,iBACLT,IAAA,CAACR,KAAK;IACL0B,KAAK,EAAGvB,EAAE,CAAE,uCAAwC,CAAG;IACvDwB,SAAS,EAAC,2CAA2C;IACrDC,IAAI,EAAG;MACNC,WAAW,EAAElB;IACd,CAAG;IACHmB,IAAI,EAAC,aAAa;IAClBC,YAAY,EAAC,cAAc;IAC3BC,aAAa,EAAG,KAAO;IACvBC,cAAc,EAAGT,UAAY;IAAAU,QAAA,eAE7BxB,KAAA,CAACR,MAAM;MAACiC,SAAS,EAAC,OAAO;MAACC,OAAO,EAAG,CAAG;MAAAF,QAAA,gBACtC1B,IAAA;QAAM6B,EAAE,EAAG1B,kBAAoB;QAAAuB,QAAA,EAAGT;MAAM,CAAQ,CAAC,eACjDjB,IAAA,CAACT;MACA;MAAA;QACAuC,qBAAqB,EAAG,KAAO;QAC/BC,OAAO,EAAC,SAAS;QACjBC,OAAO,EAAGhB,UAAY;QAAAU,QAAA,EAEpB/B,EAAE,CAAE,IAAK;MAAC,CACL,CAAC;IAAA,CACF;EAAC,CACH,CACP;AAEH","ignoreList":[]}