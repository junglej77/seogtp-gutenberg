{"version":3,"names":["BlockControls","InspectorControls","useBlockProps","Button","Disabled","PanelBody","Placeholder","RangeControl","ToggleControl","ToolbarGroup","__experimentalInputControl","InputControl","useState","grid","list","edit","rss","__","_x","prependHTTP","ServerSideRender","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DEFAULT_MIN_ITEMS","DEFAULT_MAX_ITEMS","RSSEdit","attributes","setAttributes","isEditing","setIsEditing","feedURL","blockLayout","columns","displayAuthor","displayDate","displayExcerpt","excerptLength","itemsToShow","toggleAttribute","propName","value","onSubmitURL","event","preventDefault","blockProps","label","children","icon","instructions","onSubmit","className","__next40pxDefaultSize","hideLabelFromVision","placeholder","onChange","variant","type","toolbarControls","title","onClick","isActive","controls","__nextHasNoMarginBottom","min","max","required","checked","block"],"sources":["@wordpress/block-library/src/rss/edit.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\tButton,\r\n\tDisabled,\r\n\tPanelBody,\r\n\tPlaceholder,\r\n\tRangeControl,\r\n\tToggleControl,\r\n\tToolbarGroup,\r\n\t__experimentalInputControl as InputControl,\r\n} from '@wordpress/components';\r\nimport { useState } from '@wordpress/element';\r\nimport { grid, list, edit, rss } from '@wordpress/icons';\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport { prependHTTP } from '@wordpress/url';\r\nimport ServerSideRender from '@wordpress/server-side-render';\r\n\r\nconst DEFAULT_MIN_ITEMS = 1;\r\nconst DEFAULT_MAX_ITEMS = 20;\r\n\r\nexport default function RSSEdit( { attributes, setAttributes } ) {\r\n\tconst [ isEditing, setIsEditing ] = useState( ! attributes.feedURL );\r\n\r\n\tconst {\r\n\t\tblockLayout,\r\n\t\tcolumns,\r\n\t\tdisplayAuthor,\r\n\t\tdisplayDate,\r\n\t\tdisplayExcerpt,\r\n\t\texcerptLength,\r\n\t\tfeedURL,\r\n\t\titemsToShow,\r\n\t} = attributes;\r\n\r\n\tfunction toggleAttribute( propName ) {\r\n\t\treturn () => {\r\n\t\t\tconst value = attributes[ propName ];\r\n\r\n\t\t\tsetAttributes( { [ propName ]: ! value } );\r\n\t\t};\r\n\t}\r\n\r\n\tfunction onSubmitURL( event ) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif ( feedURL ) {\r\n\t\t\tsetAttributes( { feedURL: prependHTTP( feedURL ) } );\r\n\t\t\tsetIsEditing( false );\r\n\t\t}\r\n\t}\r\n\r\n\tconst blockProps = useBlockProps();\r\n\r\n\tconst label = __( 'RSS URL' );\r\n\r\n\tif ( isEditing ) {\r\n\t\treturn (\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Placeholder\r\n\t\t\t\t\ticon={ rss }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\tinstructions={ __(\r\n\t\t\t\t\t\t'Display entries from any RSS or Atom feed.'\r\n\t\t\t\t\t) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={ onSubmitURL }\r\n\t\t\t\t\t\tclassName=\"wp-block-rss__placeholder-form\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputControl\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\t\t\tplaceholder={ __( 'Enter URL hereâ€¦' ) }\r\n\t\t\t\t\t\t\tvalue={ feedURL }\r\n\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\tsetAttributes( { feedURL: value } )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"wp-block-rss__placeholder-input\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Apply' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Placeholder>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tconst toolbarControls = [\r\n\t\t{\r\n\t\t\ticon: edit,\r\n\t\t\ttitle: __( 'Edit RSS URL' ),\r\n\t\t\tonClick: () => setIsEditing( true ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: list,\r\n\t\t\ttitle: _x( 'List view', 'RSS block display setting' ),\r\n\t\t\tonClick: () => setAttributes( { blockLayout: 'list' } ),\r\n\t\t\tisActive: blockLayout === 'list',\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: grid,\r\n\t\t\ttitle: _x( 'Grid view', 'RSS block display setting' ),\r\n\t\t\tonClick: () => setAttributes( { blockLayout: 'grid' } ),\r\n\t\t\tisActive: blockLayout === 'grid',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<ToolbarGroup controls={ toolbarControls } />\r\n\t\t\t</BlockControls>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tlabel={ __( 'Number of items' ) }\r\n\t\t\t\t\t\tvalue={ itemsToShow }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { itemsToShow: value } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmin={ DEFAULT_MIN_ITEMS }\r\n\t\t\t\t\t\tmax={ DEFAULT_MAX_ITEMS }\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display author' ) }\r\n\t\t\t\t\t\tchecked={ displayAuthor }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayAuthor' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display date' ) }\r\n\t\t\t\t\t\tchecked={ displayDate }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayDate' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display excerpt' ) }\r\n\t\t\t\t\t\tchecked={ displayExcerpt }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayExcerpt' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ displayExcerpt && (\r\n\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tlabel={ __( 'Max number of words in excerpt' ) }\r\n\t\t\t\t\t\t\tvalue={ excerptLength }\r\n\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmin={ 10 }\r\n\t\t\t\t\t\t\tmax={ 100 }\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ blockLayout === 'grid' && (\r\n\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\r\n\t\t\t\t\t\t\tvalue={ columns }\r\n\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmin={ 2 }\r\n\t\t\t\t\t\t\tmax={ 6 }\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Disabled>\r\n\t\t\t\t\t<ServerSideRender\r\n\t\t\t\t\t\tblock=\"core/rss\"\r\n\t\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Disabled>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}