{"version":3,"names":["__","InspectorControls","useSettings","__experimentalSpacingSizesControl","SpacingSizesControl","isValueSpacingPreset","privateApis","blockEditorPrivateApis","PanelBody","__experimentalUseCustomUnits","useCustomUnits","__experimentalUnitControl","UnitControl","__experimentalParseQuantityAndUnitFromRawValue","parseQuantityAndUnitFromRawValue","useInstanceId","View","unlock","MIN_SPACER_SIZE","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","useSpacingSizes","DimensionInput","label","onChange","isResizing","value","inputId","spacingSizes","spacingUnits","availableUnits","filter","unit","units","defaultValues","px","em","rem","vw","vh","handleOnChange","unprocessedValue","all","parsedQuantity","parsedUnit","computedValue","join","children","length","id","isResetValueOnUnitChange","min","__next40pxDefaultSize","className","values","sides","allowReset","splitOnAxis","showSideInLabel","SpacerControls","setAttributes","orientation","height","width","title","nextWidth","nextHeight"],"sources":["@wordpress/block-library/src/spacer/controls.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tInspectorControls,\r\n\tuseSettings,\r\n\t__experimentalSpacingSizesControl as SpacingSizesControl,\r\n\tisValueSpacingPreset,\r\n\tprivateApis as blockEditorPrivateApis,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\tPanelBody,\r\n\t__experimentalUseCustomUnits as useCustomUnits,\r\n\t__experimentalUnitControl as UnitControl,\r\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\r\n} from '@wordpress/components';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { View } from '@wordpress/primitives';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../lock-unlock';\r\nimport { MIN_SPACER_SIZE } from './constants';\r\n\r\nconst { useSpacingSizes } = unlock( blockEditorPrivateApis );\r\n\r\nfunction DimensionInput( { label, onChange, isResizing, value = '' } ) {\r\n\tconst inputId = useInstanceId( UnitControl, 'block-spacer-height-input' );\r\n\tconst spacingSizes = useSpacingSizes();\r\n\tconst [ spacingUnits ] = useSettings( 'spacing.units' );\r\n\t// In most contexts the spacer size cannot meaningfully be set to a\r\n\t// percentage, since this is relative to the parent container. This\r\n\t// unit is disabled from the UI.\r\n\tconst availableUnits = spacingUnits\r\n\t\t? spacingUnits.filter( ( unit ) => unit !== '%' )\r\n\t\t: [ 'px', 'em', 'rem', 'vw', 'vh' ];\r\n\r\n\tconst units = useCustomUnits( {\r\n\t\tavailableUnits,\r\n\t\tdefaultValues: { px: 100, em: 10, rem: 10, vw: 10, vh: 25 },\r\n\t} );\r\n\r\n\tconst handleOnChange = ( unprocessedValue ) => {\r\n\t\tonChange( unprocessedValue.all );\r\n\t};\r\n\r\n\t// Force the unit to update to `px` when the Spacer is being resized.\r\n\tconst [ parsedQuantity, parsedUnit ] =\r\n\t\tparseQuantityAndUnitFromRawValue( value );\r\n\tconst computedValue = isValueSpacingPreset( value )\r\n\t\t? value\r\n\t\t: [ parsedQuantity, isResizing ? 'px' : parsedUnit ].join( '' );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ ( ! spacingSizes || spacingSizes?.length === 0 ) && (\r\n\t\t\t\t<UnitControl\r\n\t\t\t\t\tid={ inputId }\r\n\t\t\t\t\tisResetValueOnUnitChange\r\n\t\t\t\t\tmin={ MIN_SPACER_SIZE }\r\n\t\t\t\t\tonChange={ handleOnChange }\r\n\t\t\t\t\tvalue={ computedValue }\r\n\t\t\t\t\tunits={ units }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ spacingSizes?.length > 0 && (\r\n\t\t\t\t<View className=\"tools-panel-item-spacing\">\r\n\t\t\t\t\t<SpacingSizesControl\r\n\t\t\t\t\t\tvalues={ { all: computedValue } }\r\n\t\t\t\t\t\tonChange={ handleOnChange }\r\n\t\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\t\tsides={ [ 'all' ] }\r\n\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t\tallowReset={ false }\r\n\t\t\t\t\t\tsplitOnAxis={ false }\r\n\t\t\t\t\t\tshowSideInLabel={ false }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default function SpacerControls( {\r\n\tsetAttributes,\r\n\torientation,\r\n\theight,\r\n\twidth,\r\n\tisResizing,\r\n} ) {\r\n\treturn (\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t{ orientation === 'horizontal' && (\r\n\t\t\t\t\t<DimensionInput\r\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\r\n\t\t\t\t\t\tvalue={ width }\r\n\t\t\t\t\t\tonChange={ ( nextWidth ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { width: nextWidth } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tisResizing={ isResizing }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ orientation !== 'horizontal' && (\r\n\t\t\t\t\t<DimensionInput\r\n\t\t\t\t\t\tlabel={ __( 'Height' ) }\r\n\t\t\t\t\t\tvalue={ height }\r\n\t\t\t\t\t\tonChange={ ( nextHeight ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { height: nextHeight } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tisResizing={ isResizing }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SACCC,iBAAiB,EACjBC,WAAW,EACXC,iCAAiC,IAAIC,mBAAmB,EACxDC,oBAAoB,EACpBC,WAAW,IAAIC,sBAAsB,QAC/B,yBAAyB;AAChC,SACCC,SAAS,EACTC,4BAA4B,IAAIC,cAAc,EAC9CC,yBAAyB,IAAIC,WAAW,EACxCC,8CAA8C,IAAIC,gCAAgC,QAC5E,uBAAuB;AAC9B,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,IAAI,QAAQ,uBAAuB;;AAE5C;AACA;AACA;AACA,SAASC,MAAM,QAAQ,gBAAgB;AACvC,SAASC,eAAe,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE9C,MAAM;EAAEC;AAAgB,CAAC,GAAGR,MAAM,CAAEV,sBAAuB,CAAC;AAE5D,SAASmB,cAAcA,CAAE;EAAEC,KAAK;EAAEC,QAAQ;EAAEC,UAAU;EAAEC,KAAK,GAAG;AAAG,CAAC,EAAG;EACtE,MAAMC,OAAO,GAAGhB,aAAa,CAAEH,WAAW,EAAE,2BAA4B,CAAC;EACzE,MAAMoB,YAAY,GAAGP,eAAe,CAAC,CAAC;EACtC,MAAM,CAAEQ,YAAY,CAAE,GAAG/B,WAAW,CAAE,eAAgB,CAAC;EACvD;EACA;EACA;EACA,MAAMgC,cAAc,GAAGD,YAAY,GAChCA,YAAY,CAACE,MAAM,CAAIC,IAAI,IAAMA,IAAI,KAAK,GAAI,CAAC,GAC/C,CAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAE;EAEpC,MAAMC,KAAK,GAAG3B,cAAc,CAAE;IAC7BwB,cAAc;IACdI,aAAa,EAAE;MAAEC,EAAE,EAAE,GAAG;MAAEC,EAAE,EAAE,EAAE;MAAEC,GAAG,EAAE,EAAE;MAAEC,EAAE,EAAE,EAAE;MAAEC,EAAE,EAAE;IAAG;EAC3D,CAAE,CAAC;EAEH,MAAMC,cAAc,GAAKC,gBAAgB,IAAM;IAC9CjB,QAAQ,CAAEiB,gBAAgB,CAACC,GAAI,CAAC;EACjC,CAAC;;EAED;EACA,MAAM,CAAEC,cAAc,EAAEC,UAAU,CAAE,GACnClC,gCAAgC,CAAEgB,KAAM,CAAC;EAC1C,MAAMmB,aAAa,GAAG5C,oBAAoB,CAAEyB,KAAM,CAAC,GAChDA,KAAK,GACL,CAAEiB,cAAc,EAAElB,UAAU,GAAG,IAAI,GAAGmB,UAAU,CAAE,CAACE,IAAI,CAAE,EAAG,CAAC;EAEhE,oBACC1B,KAAA,CAAAF,SAAA;IAAA6B,QAAA,GACG,CAAE,CAAEnB,YAAY,IAAIA,YAAY,EAAEoB,MAAM,KAAK,CAAC,kBAC/ChC,IAAA,CAACR,WAAW;MACXyC,EAAE,EAAGtB,OAAS;MACduB,wBAAwB;MACxBC,GAAG,EAAGrC,eAAiB;MACvBU,QAAQ,EAAGgB,cAAgB;MAC3Bd,KAAK,EAAGmB,aAAe;MACvBZ,KAAK,EAAGA,KAAO;MACfV,KAAK,EAAGA,KAAO;MACf6B,qBAAqB;IAAA,CACrB,CACD,EACCxB,YAAY,EAAEoB,MAAM,GAAG,CAAC,iBACzBhC,IAAA,CAACJ,IAAI;MAACyC,SAAS,EAAC,0BAA0B;MAAAN,QAAA,eACzC/B,IAAA,CAAChB,mBAAmB;QACnBsD,MAAM,EAAG;UAAEZ,GAAG,EAAEG;QAAc,CAAG;QACjCrB,QAAQ,EAAGgB,cAAgB;QAC3BjB,KAAK,EAAGA,KAAO;QACfgC,KAAK,EAAG,CAAE,KAAK,CAAI;QACnBtB,KAAK,EAAGA,KAAO;QACfuB,UAAU,EAAG,KAAO;QACpBC,WAAW,EAAG,KAAO;QACrBC,eAAe,EAAG;MAAO,CACzB;IAAC,CACG,CACN;EAAA,CACA,CAAC;AAEL;AAEA,eAAe,SAASC,cAAcA,CAAE;EACvCC,aAAa;EACbC,WAAW;EACXC,MAAM;EACNC,KAAK;EACLtC;AACD,CAAC,EAAG;EACH,oBACCT,IAAA,CAACnB,iBAAiB;IAAAkD,QAAA,eACjB3B,KAAA,CAAChB,SAAS;MAAC4D,KAAK,EAAGpE,EAAE,CAAE,UAAW,CAAG;MAAAmD,QAAA,GAClCc,WAAW,KAAK,YAAY,iBAC7B7C,IAAA,CAACM,cAAc;QACdC,KAAK,EAAG3B,EAAE,CAAE,OAAQ,CAAG;QACvB8B,KAAK,EAAGqC,KAAO;QACfvC,QAAQ,EAAKyC,SAAS,IACrBL,aAAa,CAAE;UAAEG,KAAK,EAAEE;QAAU,CAAE,CACpC;QACDxC,UAAU,EAAGA;MAAY,CACzB,CACD,EACCoC,WAAW,KAAK,YAAY,iBAC7B7C,IAAA,CAACM,cAAc;QACdC,KAAK,EAAG3B,EAAE,CAAE,QAAS,CAAG;QACxB8B,KAAK,EAAGoC,MAAQ;QAChBtC,QAAQ,EAAK0C,UAAU,IACtBN,aAAa,CAAE;UAAEE,MAAM,EAAEI;QAAW,CAAE,CACtC;QACDzC,UAAU,EAAGA;MAAY,CACzB,CACD;IAAA,CACS;EAAC,CACM,CAAC;AAEtB","ignoreList":[]}