{"version":3,"names":["PanelBody","UnitControl","getValueAndUnit","__experimentalUseCustomUnits","useCustomUnits","useCallback","useSettings","__","MIN_SPACER_SIZE","styles","jsx","_jsx","Fragment","_Fragment","DEFAULT_VALUES","px","em","rem","vw","vh","Controls","attributes","context","setAttributes","presetWidth","presetHeight","orientation","label","width","height","valueToConvert","valueUnit","unit","value","Number","currentUnit","setNewDimensions","nextValue","nextUnit","valueWithUnit","handleChange","handleUnitChange","availableUnits","units","defaultValues","children","title","min","onChange","onUnitChange","style","rangeCellContainer"],"sources":["@wordpress/block-library/src/spacer/controls.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tPanelBody,\r\n\tUnitControl,\r\n\tgetValueAndUnit,\r\n\t__experimentalUseCustomUnits as useCustomUnits,\r\n} from '@wordpress/components';\r\nimport { useCallback } from '@wordpress/element';\r\nimport { useSettings } from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { MIN_SPACER_SIZE } from './constants';\r\nimport styles from './style.scss';\r\n\r\nexport const DEFAULT_VALUES = { px: 100, em: 10, rem: 10, vw: 10, vh: 25 };\r\n\r\nfunction Controls( {\r\n\tattributes,\r\n\tcontext,\r\n\tsetAttributes,\r\n\tpresetWidth,\r\n\tpresetHeight,\r\n} ) {\r\n\tconst { orientation } = context;\r\n\tconst label = orientation !== 'horizontal' ? __( 'Height' ) : __( 'Width' );\r\n\r\n\tconst width = presetWidth || attributes.width;\r\n\tconst height = presetHeight || attributes.height;\r\n\tconst { valueToConvert, valueUnit: unit } =\r\n\t\tgetValueAndUnit( orientation !== 'horizontal' ? height : width ) || {};\r\n\tconst value = Number( valueToConvert );\r\n\tconst currentUnit = unit || 'px';\r\n\r\n\tconst setNewDimensions = ( nextValue, nextUnit ) => {\r\n\t\tconst valueWithUnit = `${ nextValue }${ nextUnit }`;\r\n\t\tif ( orientation === 'horizontal' ) {\r\n\t\t\tsetAttributes( { width: valueWithUnit } );\r\n\t\t} else {\r\n\t\t\tsetAttributes( { height: valueWithUnit } );\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleChange = useCallback(\r\n\t\t( nextValue ) => {\r\n\t\t\tsetNewDimensions( nextValue, currentUnit );\r\n\t\t},\r\n\t\t[ height, width ]\r\n\t);\r\n\r\n\tconst handleUnitChange = useCallback(\r\n\t\t( nextUnit ) => {\r\n\t\t\tsetNewDimensions( value, nextUnit );\r\n\t\t},\r\n\t\t[ height, width ]\r\n\t);\r\n\r\n\tconst [ availableUnits ] = useSettings( 'spacing.units' );\r\n\tconst units = useCustomUnits( {\r\n\t\tavailableUnits: availableUnits || [ 'px', 'em', 'rem', 'vw', 'vh' ],\r\n\t\tdefaultValues: DEFAULT_VALUES,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PanelBody title={ __( 'Dimensions' ) }>\r\n\t\t\t\t<UnitControl\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\tmin={ MIN_SPACER_SIZE }\r\n\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\tonChange={ handleChange }\r\n\t\t\t\t\tonUnitChange={ handleUnitChange }\r\n\t\t\t\t\tunits={ units }\r\n\t\t\t\t\tunit={ currentUnit }\r\n\t\t\t\t\tstyle={ styles.rangeCellContainer }\r\n\t\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Controls;\r\n"],"mappings":"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","ignoreList":[]}