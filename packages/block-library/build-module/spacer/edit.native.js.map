{"version":3,"names":["View","useWindowDimensions","useConvertUnitToMobile","getPxFromCssUnit","withPreferredColorScheme","InspectorControls","isValueSpacingPreset","useSettings","getCustomValueFromPreset","useEffect","Controls","DEFAULT_VALUES","styles","jsx","_jsx","DEFAULT_FONT_SIZE","Spacer","attributes","context","setAttributes","isSelected","getStylesFromColorScheme","height","screenHeight","width","screenWidth","cssUnitOptions","fontSize","spacingSizes","name","slug","size","settingsSizes","push","orientation","defaultStyle","staticSpacer","staticDarkSpacer","convertedHeight","convertedWidth","presetValues","heightValue","parsedPresetHeightValue","parseFloat","px","presetHeight","widthValue","parsedPresetWidthValue","presetWidth","style","selectedSpacer","children"],"sources":["@wordpress/block-library/src/spacer/edit.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View, useWindowDimensions } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tuseConvertUnitToMobile,\r\n\tgetPxFromCssUnit,\r\n} from '@wordpress/components';\r\nimport { withPreferredColorScheme } from '@wordpress/compose';\r\nimport {\r\n\tInspectorControls,\r\n\tisValueSpacingPreset,\r\n\tuseSettings,\r\n\tgetCustomValueFromPreset,\r\n} from '@wordpress/block-editor';\r\nimport { useEffect } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Controls, { DEFAULT_VALUES } from './controls';\r\nimport styles from './editor.native.scss';\r\n\r\nconst DEFAULT_FONT_SIZE = 16;\r\n\r\nconst Spacer = ( {\r\n\tattributes,\r\n\tcontext,\r\n\tsetAttributes,\r\n\tisSelected,\r\n\tgetStylesFromColorScheme,\r\n} ) => {\r\n\tconst { height: screenHeight, width: screenWidth } = useWindowDimensions();\r\n\tconst cssUnitOptions = {\r\n\t\theight: screenHeight,\r\n\t\twidth: screenWidth,\r\n\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t};\r\n\tconst { height, width } = attributes;\r\n\tconst spacingSizes = [ { name: 0, slug: '0', size: 0 } ];\r\n\tconst [ settingsSizes ] = useSettings( 'spacing.spacingSizes' );\r\n\tif ( settingsSizes ) {\r\n\t\tspacingSizes.push( ...settingsSizes );\r\n\t}\r\n\tconst { orientation } = context;\r\n\tconst defaultStyle = getStylesFromColorScheme(\r\n\t\tstyles.staticSpacer,\r\n\t\tstyles.staticDarkSpacer\r\n\t);\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( orientation === 'horizontal' && ! width ) {\r\n\t\t\tsetAttributes( {\r\n\t\t\t\theight: '0px',\r\n\t\t\t\twidth: '72px',\r\n\t\t\t} );\r\n\t\t}\r\n\t}, [] );\r\n\r\n\tlet convertedHeight = useConvertUnitToMobile( height );\r\n\tlet convertedWidth = useConvertUnitToMobile( width );\r\n\tconst presetValues = {};\r\n\r\n\tif ( isValueSpacingPreset( height ) ) {\r\n\t\tconst heightValue = getCustomValueFromPreset( height, spacingSizes );\r\n\t\tconst parsedPresetHeightValue = parseFloat(\r\n\t\t\tgetPxFromCssUnit( heightValue, cssUnitOptions )\r\n\t\t);\r\n\r\n\t\tconvertedHeight = parsedPresetHeightValue || DEFAULT_VALUES.px;\r\n\t\tpresetValues.presetHeight = convertedHeight;\r\n\t}\r\n\r\n\tif ( isValueSpacingPreset( width ) ) {\r\n\t\tconst widthValue = getCustomValueFromPreset( width, spacingSizes );\r\n\t\tconst parsedPresetWidthValue = parseFloat(\r\n\t\t\tgetPxFromCssUnit( widthValue, cssUnitOptions )\r\n\t\t);\r\n\r\n\t\tconvertedWidth = parsedPresetWidthValue || DEFAULT_VALUES.px;\r\n\t\tpresetValues.presetWidth = convertedWidth;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={ [\r\n\t\t\t\tdefaultStyle,\r\n\t\t\t\tisSelected && styles.selectedSpacer,\r\n\t\t\t\t{ height: convertedHeight, width: convertedWidth },\r\n\t\t\t] }\r\n\t\t>\r\n\t\t\t{ isSelected && (\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t<Controls\r\n\t\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\t\tcontext={ context }\r\n\t\t\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\t\t\t{ ...presetValues }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</InspectorControls>\r\n\t\t\t) }\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default withPreferredColorScheme( Spacer );\r\n"],"mappings":"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","ignoreList":[]}