{"version":3,"names":["__","sprintf","Placeholder","Button","Spinner","useState","useSelect","store","coreStore","useAlternativeBlockPatterns","useAlternativeTemplateParts","useCreateTemplatePartFromBlocks","useTemplatePartArea","TitleModal","jsx","_jsx","jsxs","_jsxs","TemplatePartPlaceholder","area","clientId","templatePartId","onOpenSelectionModal","setAttributes","templateParts","isResolving","blockPatterns","isBlockBasedTheme","canCreateTemplatePart","select","getCurrentTheme","canUser","is_block_theme","kind","name","showTitleModal","setShowTitleModal","areaObject","createFromBlocks","icon","label","instructions","toLowerCase","children","length","__next40pxDefaultSize","variant","onClick","areaLabel","onClose","onSubmit","title"],"sources":["@wordpress/block-library/src/template-part/edit/placeholder.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { Placeholder, Button, Spinner } from '@wordpress/components';\r\nimport { useState } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tuseAlternativeBlockPatterns,\r\n\tuseAlternativeTemplateParts,\r\n\tuseCreateTemplatePartFromBlocks,\r\n\tuseTemplatePartArea,\r\n} from './utils/hooks';\r\nimport TitleModal from './title-modal';\r\n\r\nexport default function TemplatePartPlaceholder( {\r\n\tarea,\r\n\tclientId,\r\n\ttemplatePartId,\r\n\tonOpenSelectionModal,\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { templateParts, isResolving } = useAlternativeTemplateParts(\r\n\t\tarea,\r\n\t\ttemplatePartId\r\n\t);\r\n\tconst blockPatterns = useAlternativeBlockPatterns( area, clientId );\r\n\r\n\tconst { isBlockBasedTheme, canCreateTemplatePart } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getCurrentTheme, canUser } = select( coreStore );\r\n\t\t\treturn {\r\n\t\t\t\tisBlockBasedTheme: getCurrentTheme()?.is_block_theme,\r\n\t\t\t\tcanCreateTemplatePart: canUser( 'create', {\r\n\t\t\t\t\tkind: 'postType',\r\n\t\t\t\t\tname: 'wp_template_part',\r\n\t\t\t\t} ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst [ showTitleModal, setShowTitleModal ] = useState( false );\r\n\tconst areaObject = useTemplatePartArea( area );\r\n\tconst createFromBlocks = useCreateTemplatePartFromBlocks(\r\n\t\tarea,\r\n\t\tsetAttributes\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Placeholder\r\n\t\t\ticon={ areaObject.icon }\r\n\t\t\tlabel={ areaObject.label }\r\n\t\t\tinstructions={\r\n\t\t\t\tisBlockBasedTheme\r\n\t\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t\t// Translators: %s as template part area title (\"Header\", \"Footer\", etc.).\r\n\t\t\t\t\t\t\t__( 'Choose an existing %s or create a new one.' ),\r\n\t\t\t\t\t\t\tareaObject.label.toLowerCase()\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: sprintf(\r\n\t\t\t\t\t\t\t// Translators: %s as template part area title (\"Header\", \"Footer\", etc.).\r\n\t\t\t\t\t\t\t__( 'Choose an existing %s.' ),\r\n\t\t\t\t\t\t\tareaObject.label.toLowerCase()\r\n\t\t\t\t\t  )\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{ isResolving && <Spinner /> }\r\n\r\n\t\t\t{ ! isResolving &&\r\n\t\t\t\t!! ( templateParts.length || blockPatterns.length ) && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\tonClick={ onOpenSelectionModal }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Choose' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) }\r\n\r\n\t\t\t{ ! isResolving && isBlockBasedTheme && canCreateTemplatePart && (\r\n\t\t\t\t<Button\r\n\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\tsetShowTitleModal( true );\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Start blank' ) }\r\n\t\t\t\t</Button>\r\n\t\t\t) }\r\n\t\t\t{ showTitleModal && (\r\n\t\t\t\t<TitleModal\r\n\t\t\t\t\tareaLabel={ areaObject.label }\r\n\t\t\t\t\tonClose={ () => setShowTitleModal( false ) }\r\n\t\t\t\t\tonSubmit={ ( title ) => {\r\n\t\t\t\t\t\tcreateFromBlocks( [], title );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</Placeholder>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}