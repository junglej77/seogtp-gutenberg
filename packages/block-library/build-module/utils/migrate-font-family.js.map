{"version":3,"names":["privateApis","blockEditorPrivateApis","unlock","cleanEmptyObject","attributes","style","typography","fontFamily","split","pop"],"sources":["@wordpress/block-library/src/utils/migrate-font-family.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../lock-unlock';\r\n\r\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\r\n\r\n/**\r\n * Migrates the current style.typography.fontFamily attribute,\r\n * whose value was \"var:preset|font-family|helvetica-arial\",\r\n * to the style.fontFamily attribute, whose value will be \"helvetica-arial\".\r\n *\r\n * @param {Object} attributes The current attributes\r\n * @return {Object} The updated attributes.\r\n */\r\nexport default function ( attributes ) {\r\n\tif ( ! attributes?.style?.typography?.fontFamily ) {\r\n\t\treturn attributes;\r\n\t}\r\n\r\n\tconst { fontFamily, ...typography } = attributes.style.typography;\r\n\r\n\treturn {\r\n\t\t...attributes,\r\n\t\tstyle: cleanEmptyObject( {\r\n\t\t\t...attributes.style,\r\n\t\t\ttypography,\r\n\t\t} ),\r\n\t\tfontFamily: fontFamily.split( '|' ).pop(),\r\n\t};\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,IAAIC,sBAAsB,QAAQ,yBAAyB;;AAE/E;AACA;AACA;AACA,SAASC,MAAM,QAAQ,gBAAgB;AAEvC,MAAM;EAAEC;AAAiB,CAAC,GAAGD,MAAM,CAAED,sBAAuB,CAAC;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAWG,UAAU,EAAG;EACtC,IAAK,CAAEA,UAAU,EAAEC,KAAK,EAAEC,UAAU,EAAEC,UAAU,EAAG;IAClD,OAAOH,UAAU;EAClB;EAEA,MAAM;IAAEG,UAAU;IAAE,GAAGD;EAAW,CAAC,GAAGF,UAAU,CAACC,KAAK,CAACC,UAAU;EAEjE,OAAO;IACN,GAAGF,UAAU;IACbC,KAAK,EAAEF,gBAAgB,CAAE;MACxB,GAAGC,UAAU,CAACC,KAAK;MACnBC;IACD,CAAE,CAAC;IACHC,UAAU,EAAEA,UAAU,CAACC,KAAK,CAAE,GAAI,CAAC,CAACC,GAAG,CAAC;EACzC,CAAC;AACF","ignoreList":[]}