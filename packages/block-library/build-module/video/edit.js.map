{"version":3,"names":["clsx","isBlobURL","BaseControl","Button","Disabled","PanelBody","Spinner","Placeholder","BlockControls","BlockIcon","InspectorControls","MediaPlaceholder","MediaUpload","MediaUploadCheck","MediaReplaceFlow","useBlockProps","useRef","useEffect","useState","__","sprintf","useInstanceId","useDispatch","video","icon","store","noticesStore","createUpgradedEmbedBlock","useUploadMediaFromBlobURL","VideoCommonSettings","TracksEditor","Tracks","Caption","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ALLOWED_MEDIA_TYPES","VIDEO_POSTER_ALLOWED_MEDIA_TYPES","VideoEdit","isSelected","isSingleSelected","attributes","className","setAttributes","insertBlocksAfter","onReplace","instanceId","videoPlayer","posterImageButton","id","controls","poster","src","tracks","temporaryURL","setTemporaryURL","blob","url","allowedTypes","onChange","onSelectVideo","onError","onUploadError","current","load","media","undefined","caption","image","onSelectURL","newSrc","embedBlock","createErrorNotice","message","type","placeholder","content","withIllustration","label","instructions","children","classes","blockProps","onSelect","accept","value","onSelectPoster","onRemovePoster","focus","videoPosterDescription","newTracks","group","mediaId","mediaURL","onReset","title","VisualLabel","render","open","__next40pxDefaultSize","variant","onClick","ref","hidden","isDisabled","showToolbarButton"],"sources":["@wordpress/block-library/src/video/edit.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { isBlobURL } from '@wordpress/blob';\r\nimport {\r\n\tBaseControl,\r\n\tButton,\r\n\tDisabled,\r\n\tPanelBody,\r\n\tSpinner,\r\n\tPlaceholder,\r\n} from '@wordpress/components';\r\nimport {\r\n\tBlockControls,\r\n\tBlockIcon,\r\n\tInspectorControls,\r\n\tMediaPlaceholder,\r\n\tMediaUpload,\r\n\tMediaUploadCheck,\r\n\tMediaReplaceFlow,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { useRef, useEffect, useState } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { video as icon } from '@wordpress/icons';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { createUpgradedEmbedBlock } from '../embed/util';\r\nimport { useUploadMediaFromBlobURL } from '../utils/hooks';\r\nimport VideoCommonSettings from './edit-common-settings';\r\nimport TracksEditor from './tracks-editor';\r\nimport Tracks from './tracks';\r\nimport { Caption } from '../utils/caption';\r\n\r\nconst ALLOWED_MEDIA_TYPES = [ 'video' ];\r\nconst VIDEO_POSTER_ALLOWED_MEDIA_TYPES = [ 'image' ];\r\n\r\nfunction VideoEdit( {\r\n\tisSelected: isSingleSelected,\r\n\tattributes,\r\n\tclassName,\r\n\tsetAttributes,\r\n\tinsertBlocksAfter,\r\n\tonReplace,\r\n} ) {\r\n\tconst instanceId = useInstanceId( VideoEdit );\r\n\tconst videoPlayer = useRef();\r\n\tconst posterImageButton = useRef();\r\n\tconst { id, controls, poster, src, tracks } = attributes;\r\n\tconst [ temporaryURL, setTemporaryURL ] = useState( attributes.blob );\r\n\r\n\tuseUploadMediaFromBlobURL( {\r\n\t\turl: temporaryURL,\r\n\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\r\n\t\tonChange: onSelectVideo,\r\n\t\tonError: onUploadError,\r\n\t} );\r\n\r\n\tuseEffect( () => {\r\n\t\t// Placeholder may be rendered.\r\n\t\tif ( videoPlayer.current ) {\r\n\t\t\tvideoPlayer.current.load();\r\n\t\t}\r\n\t}, [ poster ] );\r\n\r\n\tfunction onSelectVideo( media ) {\r\n\t\tif ( ! media || ! media.url ) {\r\n\t\t\t// In this case there was an error\r\n\t\t\t// previous attributes should be removed\r\n\t\t\t// because they may be temporary blob urls.\r\n\t\t\tsetAttributes( {\r\n\t\t\t\tsrc: undefined,\r\n\t\t\t\tid: undefined,\r\n\t\t\t\tposter: undefined,\r\n\t\t\t\tcaption: undefined,\r\n\t\t\t\tblob: undefined,\r\n\t\t\t} );\r\n\t\t\tsetTemporaryURL();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( isBlobURL( media.url ) ) {\r\n\t\t\tsetTemporaryURL( media.url );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Sets the block's attribute and updates the edit component from the\r\n\t\t// selected media.\r\n\t\tsetAttributes( {\r\n\t\t\tblob: undefined,\r\n\t\t\tsrc: media.url,\r\n\t\t\tid: media.id,\r\n\t\t\tposter:\r\n\t\t\t\tmedia.image?.src !== media.icon ? media.image?.src : undefined,\r\n\t\t\tcaption: media.caption,\r\n\t\t} );\r\n\t\tsetTemporaryURL();\r\n\t}\r\n\r\n\tfunction onSelectURL( newSrc ) {\r\n\t\tif ( newSrc !== src ) {\r\n\t\t\t// Check if there's an embed block that handles this URL.\r\n\t\t\tconst embedBlock = createUpgradedEmbedBlock( {\r\n\t\t\t\tattributes: { url: newSrc },\r\n\t\t\t} );\r\n\t\t\tif ( undefined !== embedBlock && onReplace ) {\r\n\t\t\t\tonReplace( embedBlock );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetAttributes( {\r\n\t\t\t\tblob: undefined,\r\n\t\t\t\tsrc: newSrc,\r\n\t\t\t\tid: undefined,\r\n\t\t\t\tposter: undefined,\r\n\t\t\t} );\r\n\t\t\tsetTemporaryURL();\r\n\t\t}\r\n\t}\r\n\r\n\tconst { createErrorNotice } = useDispatch( noticesStore );\r\n\tfunction onUploadError( message ) {\r\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\r\n\t}\r\n\r\n\t// Much of this description is duplicated from MediaPlaceholder.\r\n\tconst placeholder = ( content ) => {\r\n\t\treturn (\r\n\t\t\t<Placeholder\r\n\t\t\t\tclassName=\"block-editor-media-placeholder\"\r\n\t\t\t\twithIllustration={ ! isSingleSelected }\r\n\t\t\t\ticon={ icon }\r\n\t\t\t\tlabel={ __( 'Video' ) }\r\n\t\t\t\tinstructions={ __(\r\n\t\t\t\t\t'Upload a video file, pick one from your media library, or add one with a URL.'\r\n\t\t\t\t) }\r\n\t\t\t>\r\n\t\t\t\t{ content }\r\n\t\t\t</Placeholder>\r\n\t\t);\r\n\t};\r\n\r\n\tconst classes = clsx( className, {\r\n\t\t'is-transient': !! temporaryURL,\r\n\t} );\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classes,\r\n\t} );\r\n\r\n\tif ( ! src && ! temporaryURL ) {\r\n\t\treturn (\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<MediaPlaceholder\r\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\r\n\t\t\t\t\tonSelect={ onSelectVideo }\r\n\t\t\t\t\tonSelectURL={ onSelectURL }\r\n\t\t\t\t\taccept=\"video/*\"\r\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\r\n\t\t\t\t\tvalue={ attributes }\r\n\t\t\t\t\tonError={ onUploadError }\r\n\t\t\t\t\tplaceholder={ placeholder }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tfunction onSelectPoster( image ) {\r\n\t\tsetAttributes( { poster: image.url } );\r\n\t}\r\n\r\n\tfunction onRemovePoster() {\r\n\t\tsetAttributes( { poster: undefined } );\r\n\r\n\t\t// Move focus back to the Media Upload button.\r\n\t\tposterImageButton.current.focus();\r\n\t}\r\n\r\n\tconst videoPosterDescription = `video-block__poster-image-description-${ instanceId }`;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ isSingleSelected && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<BlockControls>\r\n\t\t\t\t\t\t<TracksEditor\r\n\t\t\t\t\t\t\ttracks={ tracks }\r\n\t\t\t\t\t\t\tonChange={ ( newTracks ) => {\r\n\t\t\t\t\t\t\t\tsetAttributes( { tracks: newTracks } );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</BlockControls>\r\n\t\t\t\t\t<BlockControls group=\"other\">\r\n\t\t\t\t\t\t<MediaReplaceFlow\r\n\t\t\t\t\t\t\tmediaId={ id }\r\n\t\t\t\t\t\t\tmediaURL={ src }\r\n\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\r\n\t\t\t\t\t\t\taccept=\"video/*\"\r\n\t\t\t\t\t\t\tonSelect={ onSelectVideo }\r\n\t\t\t\t\t\t\tonSelectURL={ onSelectURL }\r\n\t\t\t\t\t\t\tonError={ onUploadError }\r\n\t\t\t\t\t\t\tonReset={ () => onSelectVideo( undefined ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</BlockControls>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<VideoCommonSettings\r\n\t\t\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MediaUploadCheck>\r\n\t\t\t\t\t\t<div className=\"editor-video-poster-control\">\r\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\r\n\t\t\t\t\t\t\t\t{ __( 'Poster image' ) }\r\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\r\n\t\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\t\ttitle={ __( 'Select poster image' ) }\r\n\t\t\t\t\t\t\t\tonSelect={ onSelectPoster }\r\n\t\t\t\t\t\t\t\tallowedTypes={\r\n\t\t\t\t\t\t\t\t\tVIDEO_POSTER_ALLOWED_MEDIA_TYPES\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={ open }\r\n\t\t\t\t\t\t\t\t\t\tref={ posterImageButton }\r\n\t\t\t\t\t\t\t\t\t\taria-describedby={\r\n\t\t\t\t\t\t\t\t\t\t\tvideoPosterDescription\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ ! poster\r\n\t\t\t\t\t\t\t\t\t\t\t? __( 'Select' )\r\n\t\t\t\t\t\t\t\t\t\t\t: __( 'Replace' ) }\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<p id={ videoPosterDescription } hidden>\r\n\t\t\t\t\t\t\t\t{ poster\r\n\t\t\t\t\t\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: poster image URL. */\r\n\t\t\t\t\t\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'The current poster image url is %s'\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\tposter\r\n\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t: __(\r\n\t\t\t\t\t\t\t\t\t\t\t'There is no poster image currently selected'\r\n\t\t\t\t\t\t\t\t\t  ) }\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{ !! poster && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\t\tonClick={ onRemovePoster }\r\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</MediaUploadCheck>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<figure { ...blockProps }>\r\n\t\t\t\t{ /*\r\n                Disable the video tag if the block is not selected\r\n                so the user clicking on it won't play the\r\n                video when the controls are enabled.\r\n            */ }\r\n\t\t\t\t<Disabled isDisabled={ ! isSingleSelected }>\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tcontrols={ controls }\r\n\t\t\t\t\t\tposter={ poster }\r\n\t\t\t\t\t\tsrc={ src || temporaryURL }\r\n\t\t\t\t\t\tref={ videoPlayer }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tracks tracks={ tracks } />\r\n\t\t\t\t\t</video>\r\n\t\t\t\t</Disabled>\r\n\t\t\t\t{ !! temporaryURL && <Spinner /> }\r\n\t\t\t\t<Caption\r\n\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\t\tisSelected={ isSingleSelected }\r\n\t\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\r\n\t\t\t\t\tlabel={ __( 'Video caption text' ) }\r\n\t\t\t\t\tshowToolbarButton={ isSingleSelected }\r\n\t\t\t\t/>\r\n\t\t\t</figure>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default VideoEdit;\r\n"],"mappings":"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","ignoreList":[]}