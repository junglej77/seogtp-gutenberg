{"version":3,"names":["__","sprintf","NavigableMenu","MenuItem","FormFileUpload","MenuGroup","ToolbarGroup","ToolbarButton","Dropdown","Button","TextControl","SelectControl","__experimentalGrid","Grid","__experimentalHStack","HStack","__experimentalVStack","VStack","MediaUpload","MediaUploadCheck","store","blockEditorStore","upload","media","useSelect","useState","getFilename","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ALLOWED_TYPES","DEFAULT_KIND","KIND_OPTIONS","label","value","TrackList","tracks","onEditPress","content","length","className","children","map","track","index","__next40pxDefaultSize","variant","onClick","SingleTrackEditor","onChange","onClose","onRemove","src","srcLang","kind","fileName","startsWith","spacing","columns","gap","__nextHasNoMarginBottom","autoFocus","newLabel","help","newSrcLang","options","newKind","changes","hasChanges","undefined","isDestructive","TracksEditor","mediaUpload","select","getSettings","trackBeingEdited","setTrackBeingEdited","contentClassName","renderToggle","isOpen","onToggle","showTooltip","renderContent","newTrack","newTracks","filter","_track","onSelect","url","trackIndex","allowedTypes","render","open","icon","event","files","target","filesList","onFileChange","accept","openFileDialog"],"sources":["@wordpress/block-library/src/video/tracks-editor.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport {\r\n\tNavigableMenu,\r\n\tMenuItem,\r\n\tFormFileUpload,\r\n\tMenuGroup,\r\n\tToolbarGroup,\r\n\tToolbarButton,\r\n\tDropdown,\r\n\tButton,\r\n\tTextControl,\r\n\tSelectControl,\r\n\t__experimentalGrid as Grid,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components';\r\nimport {\r\n\tMediaUpload,\r\n\tMediaUploadCheck,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { upload, media } from '@wordpress/icons';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useState } from '@wordpress/element';\r\nimport { getFilename } from '@wordpress/url';\r\n\r\nconst ALLOWED_TYPES = [ 'text/vtt' ];\r\n\r\nconst DEFAULT_KIND = 'subtitles';\r\n\r\nconst KIND_OPTIONS = [\r\n\t{ label: __( 'Subtitles' ), value: 'subtitles' },\r\n\t{ label: __( 'Captions' ), value: 'captions' },\r\n\t{ label: __( 'Descriptions' ), value: 'descriptions' },\r\n\t{ label: __( 'Chapters' ), value: 'chapters' },\r\n\t{ label: __( 'Metadata' ), value: 'metadata' },\r\n];\r\n\r\nfunction TrackList( { tracks, onEditPress } ) {\r\n\tlet content;\r\n\tif ( tracks.length === 0 ) {\r\n\t\tcontent = (\r\n\t\t\t<p className=\"block-library-video-tracks-editor__tracks-informative-message\">\r\n\t\t\t\t{ __(\r\n\t\t\t\t\t'Tracks can be subtitles, captions, chapters, or descriptions. They help make your content more accessible to a wider range of users.'\r\n\t\t\t\t) }\r\n\t\t\t</p>\r\n\t\t);\r\n\t} else {\r\n\t\tcontent = tracks.map( ( track, index ) => {\r\n\t\t\treturn (\r\n\t\t\t\t<HStack\r\n\t\t\t\t\tkey={ index }\r\n\t\t\t\t\tclassName=\"block-library-video-tracks-editor__track-list-track\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>{ track.label } </span>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\tonClick={ () => onEditPress( index ) }\r\n\t\t\t\t\t\taria-label={ sprintf(\r\n\t\t\t\t\t\t\t/* translators: %s: Label of the video text track e.g: \"French subtitles\" */\r\n\t\t\t\t\t\t\t__( 'Edit %s' ),\r\n\t\t\t\t\t\t\ttrack.label\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Edit' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</HStack>\r\n\t\t\t);\r\n\t\t} );\r\n\t}\r\n\treturn (\r\n\t\t<MenuGroup\r\n\t\t\tlabel={ __( 'Text tracks' ) }\r\n\t\t\tclassName=\"block-library-video-tracks-editor__track-list\"\r\n\t\t>\r\n\t\t\t{ content }\r\n\t\t</MenuGroup>\r\n\t);\r\n}\r\n\r\nfunction SingleTrackEditor( { track, onChange, onClose, onRemove } ) {\r\n\tconst { src = '', label = '', srcLang = '', kind = DEFAULT_KIND } = track;\r\n\tconst fileName = src.startsWith( 'blob:' ) ? '' : getFilename( src ) || '';\r\n\treturn (\r\n\t\t<NavigableMenu>\r\n\t\t\t<VStack\r\n\t\t\t\tclassName=\"block-library-video-tracks-editor__single-track-editor\"\r\n\t\t\t\tspacing=\"4\"\r\n\t\t\t>\r\n\t\t\t\t<span className=\"block-library-video-tracks-editor__single-track-editor-edit-track-label\">\r\n\t\t\t\t\t{ __( 'Edit track' ) }\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{ __( 'File' ) }: <b>{ fileName }</b>\r\n\t\t\t\t</span>\r\n\t\t\t\t<Grid columns={ 2 } gap={ 4 }>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-autofocus */\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t/* eslint-enable jsx-a11y/no-autofocus */\r\n\t\t\t\t\t\tonChange={ ( newLabel ) =>\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t...track,\r\n\t\t\t\t\t\t\t\tlabel: newLabel,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={ __( 'Label' ) }\r\n\t\t\t\t\t\tvalue={ label }\r\n\t\t\t\t\t\thelp={ __( 'Title of track' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tonChange={ ( newSrcLang ) =>\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t...track,\r\n\t\t\t\t\t\t\t\tsrcLang: newSrcLang,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={ __( 'Source language' ) }\r\n\t\t\t\t\t\tvalue={ srcLang }\r\n\t\t\t\t\t\thelp={ __( 'Language tag (en, fr, etc.)' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<VStack spacing=\"8\">\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tclassName=\"block-library-video-tracks-editor__single-track-editor-kind-select\"\r\n\t\t\t\t\t\toptions={ KIND_OPTIONS }\r\n\t\t\t\t\t\tvalue={ kind }\r\n\t\t\t\t\t\tlabel={ __( 'Kind' ) }\r\n\t\t\t\t\t\tonChange={ ( newKind ) => {\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t...track,\r\n\t\t\t\t\t\t\t\tkind: newKind,\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<HStack className=\"block-library-video-tracks-editor__single-track-editor-buttons-container\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tconst changes = {};\r\n\t\t\t\t\t\t\t\tlet hasChanges = false;\r\n\t\t\t\t\t\t\t\tif ( label === '' ) {\r\n\t\t\t\t\t\t\t\t\tchanges.label = __( 'English' );\r\n\t\t\t\t\t\t\t\t\thasChanges = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( srcLang === '' ) {\r\n\t\t\t\t\t\t\t\t\tchanges.srcLang = 'en';\r\n\t\t\t\t\t\t\t\t\thasChanges = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( track.kind === undefined ) {\r\n\t\t\t\t\t\t\t\t\tchanges.kind = DEFAULT_KIND;\r\n\t\t\t\t\t\t\t\t\thasChanges = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( hasChanges ) {\r\n\t\t\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t\t\t...track,\r\n\t\t\t\t\t\t\t\t\t\t...changes,\r\n\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Close' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\tisDestructive\r\n\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\tonClick={ onRemove }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Remove track' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</VStack>\r\n\t\t\t</VStack>\r\n\t\t</NavigableMenu>\r\n\t);\r\n}\r\n\r\nexport default function TracksEditor( { tracks = [], onChange } ) {\r\n\tconst mediaUpload = useSelect( ( select ) => {\r\n\t\treturn select( blockEditorStore ).getSettings().mediaUpload;\r\n\t}, [] );\r\n\tconst [ trackBeingEdited, setTrackBeingEdited ] = useState( null );\r\n\r\n\tif ( ! mediaUpload ) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\tcontentClassName=\"block-library-video-tracks-editor\"\r\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\r\n\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tlabel={ __( 'Text tracks' ) }\r\n\t\t\t\t\t\tshowTooltip\r\n\t\t\t\t\t\taria-expanded={ isOpen }\r\n\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\tonClick={ onToggle }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Text tracks' ) }\r\n\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t</ToolbarGroup>\r\n\t\t\t) }\r\n\t\t\trenderContent={ () => {\r\n\t\t\t\tif ( trackBeingEdited !== null ) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<SingleTrackEditor\r\n\t\t\t\t\t\t\ttrack={ tracks[ trackBeingEdited ] }\r\n\t\t\t\t\t\t\tonChange={ ( newTrack ) => {\r\n\t\t\t\t\t\t\t\tconst newTracks = [ ...tracks ];\r\n\t\t\t\t\t\t\t\tnewTracks[ trackBeingEdited ] = newTrack;\r\n\t\t\t\t\t\t\t\tonChange( newTracks );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\tonClose={ () => setTrackBeingEdited( null ) }\r\n\t\t\t\t\t\t\tonRemove={ () => {\r\n\t\t\t\t\t\t\t\tonChange(\r\n\t\t\t\t\t\t\t\t\ttracks.filter(\r\n\t\t\t\t\t\t\t\t\t\t( _track, index ) =>\r\n\t\t\t\t\t\t\t\t\t\t\tindex !== trackBeingEdited\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tsetTrackBeingEdited( null );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<NavigableMenu>\r\n\t\t\t\t\t\t\t<TrackList\r\n\t\t\t\t\t\t\t\ttracks={ tracks }\r\n\t\t\t\t\t\t\t\tonEditPress={ setTrackBeingEdited }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<MenuGroup\r\n\t\t\t\t\t\t\t\tclassName=\"block-library-video-tracks-editor__add-tracks-container\"\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Add tracks' ) }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\t\t\tonSelect={ ( { url } ) => {\r\n\t\t\t\t\t\t\t\t\t\tconst trackIndex = tracks.length;\r\n\t\t\t\t\t\t\t\t\t\tonChange( [ ...tracks, { src: url } ] );\r\n\t\t\t\t\t\t\t\t\t\tsetTrackBeingEdited( trackIndex );\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_TYPES }\r\n\t\t\t\t\t\t\t\t\trender={ ( { open } ) => (\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\t\ticon={ media }\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Open Media Library' ) }\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<MediaUploadCheck>\r\n\t\t\t\t\t\t\t\t\t<FormFileUpload\r\n\t\t\t\t\t\t\t\t\t\tonChange={ ( event ) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst files = event.target.files;\r\n\t\t\t\t\t\t\t\t\t\t\tconst trackIndex = tracks.length;\r\n\t\t\t\t\t\t\t\t\t\t\tmediaUpload( {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowedTypes: ALLOWED_TYPES,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfilesList: files,\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFileChange: ( [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ url },\r\n\t\t\t\t\t\t\t\t\t\t\t\t] ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst newTracks = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...tracks,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t! newTracks[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTracks[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t] = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTracks[ trackIndex ] = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...tracks[ trackIndex ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc: url,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange( newTracks );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTrackBeingEdited(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\taccept=\".vtt,text/vtt\"\r\n\t\t\t\t\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={ upload }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenFileDialog();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MediaUploadCheck>\r\n\t\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t\t</NavigableMenu>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t} }\r\n\t\t/>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}