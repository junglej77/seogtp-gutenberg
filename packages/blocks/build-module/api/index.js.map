{"version":3,"names":["lock","registerBlockBindingsSource","unregisterBlockBindingsSource","getBlockBindingsSource","getBlockBindingsSources","createBlock","createBlocksFromInnerBlocksTemplate","cloneBlock","__experimentalCloneSanitizedBlock","getPossibleBlockTransformations","switchToBlockType","getBlockTransforms","findTransform","getBlockFromExample","default","parse","serializeRawBlock","getBlockAttributes","parseWithAttributeSchema","pasteHandler","rawHandler","deprecatedGetPhrasingContentSchema","getPhrasingContentSchema","serialize","getBlockInnerHTML","getBlockContent","getBlockDefaultClassName","getBlockMenuDefaultClassName","getSaveElement","getSaveContent","getBlockProps","__unstableGetBlockProps","getInnerBlocksProps","__unstableGetInnerBlocksProps","__unstableSerializeAndClean","isValidBlockContent","validateBlock","getCategories","setCategories","updateCategory","registerBlockType","registerBlockCollection","unregisterBlockType","setFreeformContentHandlerName","getFreeformContentHandlerName","setUnregisteredTypeHandlerName","getUnregisteredTypeHandlerName","setDefaultBlockName","getDefaultBlockName","setGroupingBlockName","getGroupingBlockName","getBlockType","getBlockTypes","getBlockSupport","hasBlockSupport","getBlockVariations","isReusableBlock","isTemplatePart","getChildBlockNames","hasChildBlocks","hasChildBlocksWithInserterSupport","unstable__bootstrapServerSideBlockDefinitions","registerBlockStyle","unregisterBlockStyle","registerBlockVariation","unregisterBlockVariation","isUnmodifiedBlock","isUnmodifiedDefaultBlock","normalizeIconObject","isValidIcon","getBlockLabel","__experimentalGetBlockLabel","getAccessibleBlockLabel","__experimentalGetAccessibleBlockLabel","__experimentalSanitizeBlockAttributes","__experimentalGetBlockAttributesNamesByRole","doBlocksMatchTemplate","synchronizeBlocksWithTemplate","children","node","__EXPERIMENTAL_STYLE_PROPERTY","__EXPERIMENTAL_ELEMENTS","__EXPERIMENTAL_PATHS_WITH_OVERRIDE","privateApis"],"sources":["@wordpress/blocks/src/api/index.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { lock } from '../lock-unlock';\r\nimport {\r\n\tregisterBlockBindingsSource,\r\n\tunregisterBlockBindingsSource,\r\n\tgetBlockBindingsSource,\r\n\tgetBlockBindingsSources,\r\n} from './registration';\r\n\r\n// The blocktype is the most important concept within the block API. It defines\r\n// all aspects of the block configuration and its interfaces, including `edit`\r\n// and `save`. The transforms specification allows converting one blocktype to\r\n// another through formulas defined by either the source or the destination.\r\n// Switching a blocktype is to be considered a one-way operation implying a\r\n// transformation in the opposite way has to be handled explicitly.\r\nexport {\r\n\tcreateBlock,\r\n\tcreateBlocksFromInnerBlocksTemplate,\r\n\tcloneBlock,\r\n\t__experimentalCloneSanitizedBlock,\r\n\tgetPossibleBlockTransformations,\r\n\tswitchToBlockType,\r\n\tgetBlockTransforms,\r\n\tfindTransform,\r\n\tgetBlockFromExample,\r\n} from './factory';\r\n\r\n// The block tree is composed of a collection of block nodes. Blocks contained\r\n// within other blocks are called inner blocks. An important design\r\n// consideration is that inner blocks are -- conceptually -- not part of the\r\n// territory established by the parent block that contains them.\r\n//\r\n// This has multiple practical implications: when parsing, we can safely dispose\r\n// of any block boundary found within a block from the innerHTML property when\r\n// transfering to state. Not doing so would have a compounding effect on memory\r\n// and uncertainty over the source of truth. This can be illustrated in how,\r\n// given a tree of `n` nested blocks, the entry node would have to contain the\r\n// actual content of each block while each subsequent block node in the state\r\n// tree would replicate the entire chain `n-1`, meaning the extreme end node\r\n// would have been replicated `n` times as the tree is traversed and would\r\n// generate uncertainty as to which one is to hold the current value of the\r\n// block. For composition, it also means inner blocks can effectively be child\r\n// components whose mechanisms can be shielded from the `edit` implementation\r\n// and just passed along.\r\nexport { default as parse } from './parser';\r\nexport { serializeRawBlock } from './parser/serialize-raw-block';\r\nexport {\r\n\tgetBlockAttributes,\r\n\tparseWithAttributeSchema,\r\n} from './parser/get-block-attributes';\r\n\r\n// While block transformations account for a specific surface of the API, there\r\n// are also raw transformations which handle arbitrary sources not made out of\r\n// blocks but producing block basaed on various heursitics. This includes\r\n// pasting rich text or HTML data.\r\nexport {\r\n\tpasteHandler,\r\n\trawHandler,\r\n\tdeprecatedGetPhrasingContentSchema as getPhrasingContentSchema,\r\n} from './raw-handling';\r\n\r\n// The process of serialization aims to deflate the internal memory of the block\r\n// editor and its state representation back into an HTML valid string. This\r\n// process restores the document integrity and inserts invisible delimiters\r\n// around each block with HTML comment boundaries which can contain any extra\r\n// attributes needed to operate with the block later on.\r\nexport {\r\n\tdefault as serialize,\r\n\tgetBlockInnerHTML as getBlockContent,\r\n\tgetBlockDefaultClassName,\r\n\tgetBlockMenuDefaultClassName,\r\n\tgetSaveElement,\r\n\tgetSaveContent,\r\n\tgetBlockProps as __unstableGetBlockProps,\r\n\tgetInnerBlocksProps as __unstableGetInnerBlocksProps,\r\n\t__unstableSerializeAndClean,\r\n} from './serializer';\r\n\r\n// Validation is the process of comparing a block source with its output before\r\n// there is any user input or interaction with a block. When this operation\r\n// fails -- for whatever reason -- the block is to be considered invalid. As\r\n// part of validating a block the system will attempt to run the source against\r\n// any provided deprecation definitions.\r\n//\r\n// Worth emphasizing that validation is not a case of whether the markup is\r\n// merely HTML spec-compliant but about how the editor knows to create such\r\n// markup and that its inability to create an identical result can be a strong\r\n// indicator of potential data loss (the invalidation is then a protective\r\n// measure).\r\n//\r\n// The invalidation process can also be deconstructed in phases: 1) validate the\r\n// block exists; 2) validate the source matches the output; 3) validate the\r\n// source matches deprecated outputs; 4) work through the significance of\r\n// differences. These are stacked in a way that favors performance and optimizes\r\n// for the majority of cases. That is to say, the evaluation logic can become\r\n// more sophisticated the further down it goes in the process as the cost is\r\n// accounted for. The first logic checks have to be extremely efficient since\r\n// they will be run for all valid and invalid blocks alike. However, once a\r\n// block is detected as invalid -- failing the three first steps -- it is\r\n// adequate to spend more time determining validity before throwing a conflict.\r\nexport { isValidBlockContent, validateBlock } from './validation';\r\nexport { getCategories, setCategories, updateCategory } from './categories';\r\n\r\n// Blocks are inherently indifferent about where the data they operate with ends\r\n// up being saved. For example, all blocks can have a static and dynamic aspect\r\n// to them depending on the needs. The static nature of a block is the `save()`\r\n// definition that is meant to be serialized into HTML and which can be left\r\n// void. Any block can also register a `render_callback` on the server, which\r\n// makes its output dynamic either in part or in its totality.\r\n//\r\n// Child blocks are defined as a relationship that builds on top of the inner\r\n// blocks mechanism. A child block is a block node of a particular type that can\r\n// only exist within the inner block boundaries of a specific parent type. This\r\n// allows block authors to compose specific blocks that are not meant to be used\r\n// outside of a specified parent block context. Thus, child blocks extend the\r\n// concept of inner blocks to support a more direct relationship between sets of\r\n// blocks. The addition of parentâ€“child would be a subset of the inner block\r\n// functionality under the premise that certain blocks only make sense as\r\n// children of another block.\r\nexport {\r\n\tregisterBlockType,\r\n\tregisterBlockCollection,\r\n\tunregisterBlockType,\r\n\tsetFreeformContentHandlerName,\r\n\tgetFreeformContentHandlerName,\r\n\tsetUnregisteredTypeHandlerName,\r\n\tgetUnregisteredTypeHandlerName,\r\n\tsetDefaultBlockName,\r\n\tgetDefaultBlockName,\r\n\tsetGroupingBlockName,\r\n\tgetGroupingBlockName,\r\n\tgetBlockType,\r\n\tgetBlockTypes,\r\n\tgetBlockSupport,\r\n\thasBlockSupport,\r\n\tgetBlockVariations,\r\n\tisReusableBlock,\r\n\tisTemplatePart,\r\n\tgetChildBlockNames,\r\n\thasChildBlocks,\r\n\thasChildBlocksWithInserterSupport,\r\n\tunstable__bootstrapServerSideBlockDefinitions, // eslint-disable-line camelcase\r\n\tregisterBlockStyle,\r\n\tunregisterBlockStyle,\r\n\tregisterBlockVariation,\r\n\tunregisterBlockVariation,\r\n} from './registration';\r\nexport {\r\n\tisUnmodifiedBlock,\r\n\tisUnmodifiedDefaultBlock,\r\n\tnormalizeIconObject,\r\n\tisValidIcon,\r\n\tgetBlockLabel as __experimentalGetBlockLabel,\r\n\tgetAccessibleBlockLabel as __experimentalGetAccessibleBlockLabel,\r\n\t__experimentalSanitizeBlockAttributes,\r\n\t__experimentalGetBlockAttributesNamesByRole,\r\n} from './utils';\r\n\r\n// Templates are, in a general sense, a basic collection of block nodes with any\r\n// given set of predefined attributes that are supplied as the initial state of\r\n// an inner blocks group. These nodes can, in turn, contain any number of nested\r\n// blocks within their definition. Templates allow both to specify a default\r\n// state for an editor session or a default set of blocks for any inner block\r\n// implementation within a specific block.\r\nexport {\r\n\tdoBlocksMatchTemplate,\r\n\tsynchronizeBlocksWithTemplate,\r\n} from './templates';\r\nexport { default as children } from './children';\r\nexport { default as node } from './node';\r\nexport {\r\n\t__EXPERIMENTAL_STYLE_PROPERTY,\r\n\t__EXPERIMENTAL_ELEMENTS,\r\n\t__EXPERIMENTAL_PATHS_WITH_OVERRIDE,\r\n} from './constants';\r\n\r\nexport const privateApis = {};\r\nlock( privateApis, {\r\n\tregisterBlockBindingsSource,\r\n\tunregisterBlockBindingsSource,\r\n\tgetBlockBindingsSource,\r\n\tgetBlockBindingsSources,\r\n} );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,IAAI,QAAQ,gBAAgB;AACrC,SACCC,2BAA2B,EAC3BC,6BAA6B,EAC7BC,sBAAsB,EACtBC,uBAAuB,QACjB,gBAAgB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA,SACCC,WAAW,EACXC,mCAAmC,EACnCC,UAAU,EACVC,iCAAiC,EACjCC,+BAA+B,EAC/BC,iBAAiB,EACjBC,kBAAkB,EAClBC,aAAa,EACbC,mBAAmB,QACb,WAAW;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,OAAO,IAAIC,KAAK,QAAQ,UAAU;AAC3C,SAASC,iBAAiB,QAAQ,8BAA8B;AAChE,SACCC,kBAAkB,EAClBC,wBAAwB,QAClB,+BAA+B;;AAEtC;AACA;AACA;AACA;AACA,SACCC,YAAY,EACZC,UAAU,EACVC,kCAAkC,IAAIC,wBAAwB,QACxD,gBAAgB;;AAEvB;AACA;AACA;AACA;AACA;AACA,SACCR,OAAO,IAAIS,SAAS,EACpBC,iBAAiB,IAAIC,eAAe,EACpCC,wBAAwB,EACxBC,4BAA4B,EAC5BC,cAAc,EACdC,cAAc,EACdC,aAAa,IAAIC,uBAAuB,EACxCC,mBAAmB,IAAIC,6BAA6B,EACpDC,2BAA2B,QACrB,cAAc;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,mBAAmB,EAAEC,aAAa,QAAQ,cAAc;AACjE,SAASC,aAAa,EAAEC,aAAa,EAAEC,cAAc,QAAQ,cAAc;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACCC,iBAAiB,EACjBC,uBAAuB,EACvBC,mBAAmB,EACnBC,6BAA6B,EAC7BC,6BAA6B,EAC7BC,8BAA8B,EAC9BC,8BAA8B,EAC9BC,mBAAmB,EACnBC,mBAAmB,EACnBC,oBAAoB,EACpBC,oBAAoB,EACpBC,YAAY,EACZC,aAAa,EACbC,eAAe,EACfC,eAAe,EACfC,kBAAkB,EAClBC,eAAe,EACfC,cAAc,EACdC,kBAAkB,EAClBC,cAAc,EACdC,iCAAiC,EACjCC,6CAA6C;AAAE;AAC/CC,kBAAkB,EAClBC,oBAAoB,EACpBC,sBAAsB,EACtBC,wBAAwB,QAClB,gBAAgB;AACvB,SACCC,iBAAiB,EACjBC,wBAAwB,EACxBC,mBAAmB,EACnBC,WAAW,EACXC,aAAa,IAAIC,2BAA2B,EAC5CC,uBAAuB,IAAIC,qCAAqC,EAChEC,qCAAqC,EACrCC,2CAA2C,QACrC,SAAS;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA,SACCC,qBAAqB,EACrBC,6BAA6B,QACvB,aAAa;AACpB,SAAS/D,OAAO,IAAIgE,QAAQ,QAAQ,YAAY;AAChD,SAAShE,OAAO,IAAIiE,IAAI,QAAQ,QAAQ;AACxC,SACCC,6BAA6B,EAC7BC,uBAAuB,EACvBC,kCAAkC,QAC5B,aAAa;AAEpB,OAAO,MAAMC,WAAW,GAAG,CAAC,CAAC;AAC7BnF,IAAI,CAAEmF,WAAW,EAAE;EAClBlF,2BAA2B;EAC3BC,6BAA6B;EAC7BC,sBAAsB;EACtBC;AACD,CAAE,CAAC","ignoreList":[]}