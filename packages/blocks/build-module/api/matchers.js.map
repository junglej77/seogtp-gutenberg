{"version":3,"names":["attr","prop","text","query","RichTextData","matcher","node","children","html","selector","multilineTag","domNode","match","querySelector","value","length","index","child","nodeName","toLowerCase","outerHTML","innerHTML","richText","preserveWhiteSpace","el","target","fromHTMLElement","empty"],"sources":["@wordpress/blocks/src/api/matchers.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nexport { attr, prop, text, query } from 'hpq';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RichTextData } from '@wordpress/rich-text';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nexport { matcher as node } from './node';\r\nexport { matcher as children } from './children';\r\n\r\nexport function html( selector, multilineTag ) {\r\n\treturn ( domNode ) => {\r\n\t\tlet match = domNode;\r\n\r\n\t\tif ( selector ) {\r\n\t\t\tmatch = domNode.querySelector( selector );\r\n\t\t}\r\n\r\n\t\tif ( ! match ) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tif ( multilineTag ) {\r\n\t\t\tlet value = '';\r\n\t\t\tconst length = match.children.length;\r\n\r\n\t\t\tfor ( let index = 0; index < length; index++ ) {\r\n\t\t\t\tconst child = match.children[ index ];\r\n\r\n\t\t\t\tif ( child.nodeName.toLowerCase() !== multilineTag ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvalue += child.outerHTML;\r\n\t\t\t}\r\n\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\treturn match.innerHTML;\r\n\t};\r\n}\r\n\r\nexport const richText = ( selector, preserveWhiteSpace ) => ( el ) => {\r\n\tconst target = selector ? el.querySelector( selector ) : el;\r\n\treturn target\r\n\t\t? RichTextData.fromHTMLElement( target, { preserveWhiteSpace } )\r\n\t\t: RichTextData.empty();\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,KAAK,QAAQ,KAAK;;AAE7C;AACA;AACA;AACA,SAASC,YAAY,QAAQ,sBAAsB;;AAEnD;AACA;AACA;AACA,SAASC,OAAO,IAAIC,IAAI,QAAQ,QAAQ;AACxC,SAASD,OAAO,IAAIE,QAAQ,QAAQ,YAAY;AAEhD,OAAO,SAASC,IAAIA,CAAEC,QAAQ,EAAEC,YAAY,EAAG;EAC9C,OAASC,OAAO,IAAM;IACrB,IAAIC,KAAK,GAAGD,OAAO;IAEnB,IAAKF,QAAQ,EAAG;MACfG,KAAK,GAAGD,OAAO,CAACE,aAAa,CAAEJ,QAAS,CAAC;IAC1C;IAEA,IAAK,CAAEG,KAAK,EAAG;MACd,OAAO,EAAE;IACV;IAEA,IAAKF,YAAY,EAAG;MACnB,IAAII,KAAK,GAAG,EAAE;MACd,MAAMC,MAAM,GAAGH,KAAK,CAACL,QAAQ,CAACQ,MAAM;MAEpC,KAAM,IAAIC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGD,MAAM,EAAEC,KAAK,EAAE,EAAG;QAC9C,MAAMC,KAAK,GAAGL,KAAK,CAACL,QAAQ,CAAES,KAAK,CAAE;QAErC,IAAKC,KAAK,CAACC,QAAQ,CAACC,WAAW,CAAC,CAAC,KAAKT,YAAY,EAAG;UACpD;QACD;QAEAI,KAAK,IAAIG,KAAK,CAACG,SAAS;MACzB;MAEA,OAAON,KAAK;IACb;IAEA,OAAOF,KAAK,CAACS,SAAS;EACvB,CAAC;AACF;AAEA,OAAO,MAAMC,QAAQ,GAAGA,CAAEb,QAAQ,EAAEc,kBAAkB,KAAQC,EAAE,IAAM;EACrE,MAAMC,MAAM,GAAGhB,QAAQ,GAAGe,EAAE,CAACX,aAAa,CAAEJ,QAAS,CAAC,GAAGe,EAAE;EAC3D,OAAOC,MAAM,GACVrB,YAAY,CAACsB,eAAe,CAAED,MAAM,EAAE;IAAEF;EAAmB,CAAE,CAAC,GAC9DnB,YAAY,CAACuB,KAAK,CAAC,CAAC;AACxB,CAAC","ignoreList":[]}