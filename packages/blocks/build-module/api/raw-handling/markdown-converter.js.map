{"version":3,"names":["showdown","converter","Converter","noHeaderId","tables","literalMidWordUnderscores","omitExtraWLInCodeBlocks","simpleLineBreaks","strikethrough","slackMarkdownVariantCorrector","text","replace","match","p1","p2","p3","bulletsToAsterisks","markdownConverter","makeHtml"],"sources":["@wordpress/blocks/src/api/raw-handling/markdown-converter.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport showdown from 'showdown';\r\n\r\n// Reuse the same showdown converter.\r\nconst converter = new showdown.Converter( {\r\n\tnoHeaderId: true,\r\n\ttables: true,\r\n\tliteralMidWordUnderscores: true,\r\n\tomitExtraWLInCodeBlocks: true,\r\n\tsimpleLineBreaks: true,\r\n\tstrikethrough: true,\r\n} );\r\n\r\n/**\r\n * Corrects the Slack Markdown variant of the code block.\r\n * If uncorrected, it will be converted to inline code.\r\n *\r\n * @see https://get.slack.help/hc/en-us/articles/202288908-how-can-i-add-formatting-to-my-messages-#code-blocks\r\n *\r\n * @param {string} text The potential Markdown text to correct.\r\n *\r\n * @return {string} The corrected Markdown.\r\n */\r\nfunction slackMarkdownVariantCorrector( text ) {\r\n\treturn text.replace(\r\n\t\t/((?:^|\\n)```)([^\\n`]+)(```(?:$|\\n))/,\r\n\t\t( match, p1, p2, p3 ) => `${ p1 }\\n${ p2 }\\n${ p3 }`\r\n\t);\r\n}\r\n\r\nfunction bulletsToAsterisks( text ) {\r\n\treturn text.replace( /(^|\\n)â€¢( +)/g, '$1*$2' );\r\n}\r\n\r\n/**\r\n * Converts a piece of text into HTML based on any Markdown present.\r\n * Also decodes any encoded HTML.\r\n *\r\n * @param {string} text The plain text to convert.\r\n *\r\n * @return {string} HTML.\r\n */\r\nexport default function markdownConverter( text ) {\r\n\treturn converter.makeHtml(\r\n\t\tslackMarkdownVariantCorrector( bulletsToAsterisks( text ) )\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,UAAU;;AAE/B;AACA,MAAMC,SAAS,GAAG,IAAID,QAAQ,CAACE,SAAS,CAAE;EACzCC,UAAU,EAAE,IAAI;EAChBC,MAAM,EAAE,IAAI;EACZC,yBAAyB,EAAE,IAAI;EAC/BC,uBAAuB,EAAE,IAAI;EAC7BC,gBAAgB,EAAE,IAAI;EACtBC,aAAa,EAAE;AAChB,CAAE,CAAC;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,6BAA6BA,CAAEC,IAAI,EAAG;EAC9C,OAAOA,IAAI,CAACC,OAAO,CAClB,qCAAqC,EACrC,CAAEC,KAAK,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,KAAO,GAAGF,EAAI,KAAKC,EAAI,KAAKC,EAAI,EACpD,CAAC;AACF;AAEA,SAASC,kBAAkBA,CAAEN,IAAI,EAAG;EACnC,OAAOA,IAAI,CAACC,OAAO,CAAE,cAAc,EAAE,OAAQ,CAAC;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASM,iBAAiBA,CAAEP,IAAI,EAAG;EACjD,OAAOT,SAAS,CAACiB,QAAQ,CACxBT,6BAA6B,CAAEO,kBAAkB,CAAEN,IAAK,CAAE,CAC3D,CAAC;AACF","ignoreList":[]}