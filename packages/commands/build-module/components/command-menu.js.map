{"version":3,"names":["Command","useCommandState","clsx","useSelect","useDispatch","useState","useEffect","useRef","useCallback","useMemo","__","Modal","TextHighlight","__experimentalHStack","HStack","store","keyboardShortcutsStore","useShortcut","Icon","search","inputIcon","commandsStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","inputLabel","CommandMenuLoader","name","hook","setLoader","close","_hook","isLoading","commands","length","children","map","command","_command$searchLabel","Item","value","searchLabel","label","onSelect","callback","id","alignment","className","icon","text","highlight","CommandMenuLoaderWrapper","currentLoaderRef","key","setKey","current","prevKey","CommandMenuGroup","isContextual","loaders","select","getCommands","getCommandLoaders","Group","_command$searchLabel2","loader","CommandInput","isOpen","setSearch","commandMenuInput","_value","state","selectedItemId","item","document","querySelector","getAttribute","focus","Input","ref","onValueChange","placeholder","CommandMenu","registerShortcut","open","setLoaders","category","description","keyCombination","modifier","character","event","defaultPrevented","preventDefault","bindGlobal","closeAndReset","onKeyDown","nativeEvent","isComposing","keyCode","Object","values","some","Boolean","overlayClassName","onRequestClose","__experimentalHideHeader","contentLabel","List","Empty"],"sources":["@wordpress/commands/src/components/command-menu.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { Command, useCommandState } from 'cmdk';\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport {\r\n\tuseState,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseCallback,\r\n\tuseMemo,\r\n} from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tModal,\r\n\tTextHighlight,\r\n\t__experimentalHStack as HStack,\r\n} from '@wordpress/components';\r\nimport {\r\n\tstore as keyboardShortcutsStore,\r\n\tuseShortcut,\r\n} from '@wordpress/keyboard-shortcuts';\r\nimport { Icon, search as inputIcon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as commandsStore } from '../store';\r\n\r\nconst inputLabel = __( 'Search commands and settings' );\r\n\r\nfunction CommandMenuLoader( { name, search, hook, setLoader, close } ) {\r\n\tconst { isLoading, commands = [] } = hook( { search } ) ?? {};\r\n\tuseEffect( () => {\r\n\t\tsetLoader( name, isLoading );\r\n\t}, [ setLoader, name, isLoading ] );\r\n\r\n\tif ( ! commands.length ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ commands.map( ( command ) => (\r\n\t\t\t\t<Command.Item\r\n\t\t\t\t\tkey={ command.name }\r\n\t\t\t\t\tvalue={ command.searchLabel ?? command.label }\r\n\t\t\t\t\tonSelect={ () => command.callback( { close } ) }\r\n\t\t\t\t\tid={ command.name }\r\n\t\t\t\t>\r\n\t\t\t\t\t<HStack\r\n\t\t\t\t\t\talignment=\"left\"\r\n\t\t\t\t\t\tclassName={ clsx( 'commands-command-menu__item', {\r\n\t\t\t\t\t\t\t'has-icon': command.icon,\r\n\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ command.icon && <Icon icon={ command.icon } /> }\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<TextHighlight\r\n\t\t\t\t\t\t\t\ttext={ command.label }\r\n\t\t\t\t\t\t\t\thighlight={ search }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</Command.Item>\r\n\t\t\t) ) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport function CommandMenuLoaderWrapper( { hook, search, setLoader, close } ) {\r\n\t// The \"hook\" prop is actually a custom React hook\r\n\t// so to avoid breaking the rules of hooks\r\n\t// the CommandMenuLoaderWrapper component need to be\r\n\t// remounted on each hook prop change\r\n\t// We use the key state to make sure we do that properly.\r\n\tconst currentLoaderRef = useRef( hook );\r\n\tconst [ key, setKey ] = useState( 0 );\r\n\tuseEffect( () => {\r\n\t\tif ( currentLoaderRef.current !== hook ) {\r\n\t\t\tcurrentLoaderRef.current = hook;\r\n\t\t\tsetKey( ( prevKey ) => prevKey + 1 );\r\n\t\t}\r\n\t}, [ hook ] );\r\n\r\n\treturn (\r\n\t\t<CommandMenuLoader\r\n\t\t\tkey={ key }\r\n\t\t\thook={ currentLoaderRef.current }\r\n\t\t\tsearch={ search }\r\n\t\t\tsetLoader={ setLoader }\r\n\t\t\tclose={ close }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport function CommandMenuGroup( { isContextual, search, setLoader, close } ) {\r\n\tconst { commands, loaders } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getCommands, getCommandLoaders } = select( commandsStore );\r\n\t\t\treturn {\r\n\t\t\t\tcommands: getCommands( isContextual ),\r\n\t\t\t\tloaders: getCommandLoaders( isContextual ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ isContextual ]\r\n\t);\r\n\r\n\tif ( ! commands.length && ! loaders.length ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Command.Group>\r\n\t\t\t{ commands.map( ( command ) => (\r\n\t\t\t\t<Command.Item\r\n\t\t\t\t\tkey={ command.name }\r\n\t\t\t\t\tvalue={ command.searchLabel ?? command.label }\r\n\t\t\t\t\tonSelect={ () => command.callback( { close } ) }\r\n\t\t\t\t\tid={ command.name }\r\n\t\t\t\t>\r\n\t\t\t\t\t<HStack\r\n\t\t\t\t\t\talignment=\"left\"\r\n\t\t\t\t\t\tclassName={ clsx( 'commands-command-menu__item', {\r\n\t\t\t\t\t\t\t'has-icon': command.icon,\r\n\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ command.icon && <Icon icon={ command.icon } /> }\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<TextHighlight\r\n\t\t\t\t\t\t\t\ttext={ command.label }\r\n\t\t\t\t\t\t\t\thighlight={ search }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</Command.Item>\r\n\t\t\t) ) }\r\n\t\t\t{ loaders.map( ( loader ) => (\r\n\t\t\t\t<CommandMenuLoaderWrapper\r\n\t\t\t\t\tkey={ loader.name }\r\n\t\t\t\t\thook={ loader.hook }\r\n\t\t\t\t\tsearch={ search }\r\n\t\t\t\t\tsetLoader={ setLoader }\r\n\t\t\t\t\tclose={ close }\r\n\t\t\t\t/>\r\n\t\t\t) ) }\r\n\t\t</Command.Group>\r\n\t);\r\n}\r\n\r\nfunction CommandInput( { isOpen, search, setSearch } ) {\r\n\tconst commandMenuInput = useRef();\r\n\tconst _value = useCommandState( ( state ) => state.value );\r\n\tconst selectedItemId = useMemo( () => {\r\n\t\tconst item = document.querySelector(\r\n\t\t\t`[cmdk-item=\"\"][data-value=\"${ _value }\"]`\r\n\t\t);\r\n\t\treturn item?.getAttribute( 'id' );\r\n\t}, [ _value ] );\r\n\tuseEffect( () => {\r\n\t\t// Focus the command palette input when mounting the modal.\r\n\t\tif ( isOpen ) {\r\n\t\t\tcommandMenuInput.current.focus();\r\n\t\t}\r\n\t}, [ isOpen ] );\r\n\treturn (\r\n\t\t<Command.Input\r\n\t\t\tref={ commandMenuInput }\r\n\t\t\tvalue={ search }\r\n\t\t\tonValueChange={ setSearch }\r\n\t\t\tplaceholder={ inputLabel }\r\n\t\t\taria-activedescendant={ selectedItemId }\r\n\t\t\ticon={ search }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function CommandMenu() {\r\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\r\n\tconst [ search, setSearch ] = useState( '' );\r\n\tconst isOpen = useSelect(\r\n\t\t( select ) => select( commandsStore ).isOpen(),\r\n\t\t[]\r\n\t);\r\n\tconst { open, close } = useDispatch( commandsStore );\r\n\tconst [ loaders, setLoaders ] = useState( {} );\r\n\r\n\tuseEffect( () => {\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/commands',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Open the command palette.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'primary',\r\n\t\t\t\tcharacter: 'k',\r\n\t\t\t},\r\n\t\t} );\r\n\t}, [ registerShortcut ] );\r\n\r\n\tuseShortcut(\r\n\t\t'core/commands',\r\n\t\t/** @type {import('react').KeyboardEventHandler} */\r\n\t\t( event ) => {\r\n\t\t\t// Bails to avoid obscuring the effect of the preceding handler(s).\r\n\t\t\tif ( event.defaultPrevented ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\tif ( isOpen ) {\r\n\t\t\t\tclose();\r\n\t\t\t} else {\r\n\t\t\t\topen();\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tbindGlobal: true,\r\n\t\t}\r\n\t);\r\n\r\n\tconst setLoader = useCallback(\r\n\t\t( name, value ) =>\r\n\t\t\tsetLoaders( ( current ) => ( {\r\n\t\t\t\t...current,\r\n\t\t\t\t[ name ]: value,\r\n\t\t\t} ) ),\r\n\t\t[]\r\n\t);\r\n\tconst closeAndReset = () => {\r\n\t\tsetSearch( '' );\r\n\t\tclose();\r\n\t};\r\n\r\n\tif ( ! isOpen ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst onKeyDown = ( event ) => {\r\n\t\tif (\r\n\t\t\t// Ignore keydowns from IMEs\r\n\t\t\tevent.nativeEvent.isComposing ||\r\n\t\t\t// Workaround for Mac Safari where the final Enter/Backspace of an IME composition\r\n\t\t\t// is `isComposing=false`, even though it's technically still part of the composition.\r\n\t\t\t// These can only be detected by keyCode.\r\n\t\t\tevent.keyCode === 229\r\n\t\t) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t};\r\n\r\n\tconst isLoading = Object.values( loaders ).some( Boolean );\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName=\"commands-command-menu\"\r\n\t\t\toverlayClassName=\"commands-command-menu__overlay\"\r\n\t\t\tonRequestClose={ closeAndReset }\r\n\t\t\t__experimentalHideHeader\r\n\t\t\tcontentLabel={ __( 'Command palette' ) }\r\n\t\t>\r\n\t\t\t<div className=\"commands-command-menu__container\">\r\n\t\t\t\t<Command label={ inputLabel } onKeyDown={ onKeyDown }>\r\n\t\t\t\t\t<div className=\"commands-command-menu__header\">\r\n\t\t\t\t\t\t<CommandInput\r\n\t\t\t\t\t\t\tsearch={ search }\r\n\t\t\t\t\t\t\tsetSearch={ setSearch }\r\n\t\t\t\t\t\t\tisOpen={ isOpen }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Icon icon={ inputIcon } />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Command.List label={ __( 'Command suggestions' ) }>\r\n\t\t\t\t\t\t{ search && ! isLoading && (\r\n\t\t\t\t\t\t\t<Command.Empty>\r\n\t\t\t\t\t\t\t\t{ __( 'No results found.' ) }\r\n\t\t\t\t\t\t\t</Command.Empty>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t<CommandMenuGroup\r\n\t\t\t\t\t\t\tsearch={ search }\r\n\t\t\t\t\t\t\tsetLoader={ setLoader }\r\n\t\t\t\t\t\t\tclose={ closeAndReset }\r\n\t\t\t\t\t\t\tisContextual\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{ search && (\r\n\t\t\t\t\t\t\t<CommandMenuGroup\r\n\t\t\t\t\t\t\t\tsearch={ search }\r\n\t\t\t\t\t\t\t\tsetLoader={ setLoader }\r\n\t\t\t\t\t\t\t\tclose={ closeAndReset }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</Command.List>\r\n\t\t\t\t</Command>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}