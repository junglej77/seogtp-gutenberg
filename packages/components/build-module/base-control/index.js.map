{"version":3,"names":["clsx","deprecated","forwardRef","VisuallyHidden","Wrapper","StyledField","StyledLabel","StyledHelp","StyledVisualLabel","contextConnectWithoutRef","useContextSystem","jsx","_jsx","jsxs","_jsxs","useBaseControlProps","UnconnectedBaseControl","props","__nextHasNoMarginBottom","__associatedWPComponentName","id","label","hideLabelFromVision","help","className","children","since","version","hint","as","htmlFor","VisualLabel","undefined","UnforwardedVisualLabel","ref","restProps","BaseControl","Object","assign"],"sources":["@wordpress/components/src/base-control/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { ForwardedRef } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport deprecated from '@wordpress/deprecated';\r\nimport { forwardRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { VisuallyHidden } from '../visually-hidden';\r\nimport type { BaseControlProps, BaseControlVisualLabelProps } from './types';\r\nimport {\r\n\tWrapper,\r\n\tStyledField,\r\n\tStyledLabel,\r\n\tStyledHelp,\r\n\tStyledVisualLabel,\r\n} from './styles/base-control-styles';\r\nimport type { WordPressComponentProps } from '../context';\r\nimport { contextConnectWithoutRef, useContextSystem } from '../context';\r\n\r\nexport { useBaseControlProps } from './hooks';\r\n\r\nconst UnconnectedBaseControl = (\r\n\tprops: WordPressComponentProps< BaseControlProps, null >\r\n) => {\r\n\tconst {\r\n\t\t__nextHasNoMarginBottom = false,\r\n\t\t__associatedWPComponentName = 'BaseControl',\r\n\t\tid,\r\n\t\tlabel,\r\n\t\thideLabelFromVision = false,\r\n\t\thelp,\r\n\t\tclassName,\r\n\t\tchildren,\r\n\t} = useContextSystem( props, 'BaseControl' );\r\n\r\n\tif ( ! __nextHasNoMarginBottom ) {\r\n\t\tdeprecated(\r\n\t\t\t`Bottom margin styles for wp.components.${ __associatedWPComponentName }`,\r\n\t\t\t{\r\n\t\t\t\tsince: '6.7',\r\n\t\t\t\tversion: '7.0',\r\n\t\t\t\thint: 'Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version.',\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Wrapper className={ className }>\r\n\t\t\t<StyledField\r\n\t\t\t\tclassName=\"components-base-control__field\"\r\n\t\t\t\t// TODO: Official deprecation for this should start after all internal usages have been migrated\r\n\t\t\t\t__nextHasNoMarginBottom={ __nextHasNoMarginBottom }\r\n\t\t\t>\r\n\t\t\t\t{ label &&\r\n\t\t\t\t\tid &&\r\n\t\t\t\t\t( hideLabelFromVision ? (\r\n\t\t\t\t\t\t<VisuallyHidden as=\"label\" htmlFor={ id }>\r\n\t\t\t\t\t\t\t{ label }\r\n\t\t\t\t\t\t</VisuallyHidden>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<StyledLabel\r\n\t\t\t\t\t\t\tclassName=\"components-base-control__label\"\r\n\t\t\t\t\t\t\thtmlFor={ id }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ label }\r\n\t\t\t\t\t\t</StyledLabel>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t{ label &&\r\n\t\t\t\t\t! id &&\r\n\t\t\t\t\t( hideLabelFromVision ? (\r\n\t\t\t\t\t\t<VisuallyHidden as=\"label\">{ label }</VisuallyHidden>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<VisualLabel>{ label }</VisualLabel>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t{ children }\r\n\t\t\t</StyledField>\r\n\t\t\t{ !! help && (\r\n\t\t\t\t<StyledHelp\r\n\t\t\t\t\tid={ id ? id + '__help' : undefined }\r\n\t\t\t\t\tclassName=\"components-base-control__help\"\r\n\t\t\t\t\t__nextHasNoMarginBottom={ __nextHasNoMarginBottom }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ help }\r\n\t\t\t\t</StyledHelp>\r\n\t\t\t) }\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nconst UnforwardedVisualLabel = (\r\n\tprops: WordPressComponentProps< BaseControlVisualLabelProps, 'span' >,\r\n\tref: ForwardedRef< any >\r\n) => {\r\n\tconst { className, children, ...restProps } = props;\r\n\r\n\treturn (\r\n\t\t<StyledVisualLabel\r\n\t\t\tref={ ref }\r\n\t\t\t{ ...restProps }\r\n\t\t\tclassName={ clsx( 'components-base-control__label', className ) }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</StyledVisualLabel>\r\n\t);\r\n};\r\n\r\nexport const VisualLabel = forwardRef( UnforwardedVisualLabel );\r\n\r\n/**\r\n * `BaseControl` is a component used to generate labels and help text for components handling user inputs.\r\n *\r\n * ```jsx\r\n * import { BaseControl, useBaseControlProps } from '@wordpress/components';\r\n *\r\n * // Render a `BaseControl` for a textarea input\r\n * const MyCustomTextareaControl = ({ children, ...baseProps }) => (\r\n * \t// `useBaseControlProps` is a convenience hook to get the props for the `BaseControl`\r\n * \t// and the inner control itself. Namely, it takes care of generating a unique `id`,\r\n * \t// properly associating it with the `label` and `help` elements.\r\n * \tconst { baseControlProps, controlProps } = useBaseControlProps( baseProps );\r\n *\r\n * \treturn (\r\n * \t\t<BaseControl { ...baseControlProps } __nextHasNoMarginBottom>\r\n * \t\t\t<textarea { ...controlProps }>\r\n * \t\t\t  { children }\r\n * \t\t\t</textarea>\r\n * \t\t</BaseControl>\r\n * \t);\r\n * );\r\n * ```\r\n */\r\nexport const BaseControl = Object.assign(\r\n\tcontextConnectWithoutRef( UnconnectedBaseControl, 'BaseControl' ),\r\n\r\n\t{\r\n\t\t/**\r\n\t\t * `BaseControl.VisualLabel` is used to render a purely visual label inside a `BaseControl` component.\r\n\t\t *\r\n\t\t * It should only be used in cases where the children being rendered inside `BaseControl` are already accessibly labeled,\r\n\t\t * e.g., a button, but we want an additional visual label for that section equivalent to the labels `BaseControl` would\r\n\t\t * otherwise use if the `label` prop was passed.\r\n\t\t *\r\n\t\t * ```jsx\r\n\t\t * import { BaseControl } from '@wordpress/components';\r\n\t\t *\r\n\t\t * const MyBaseControl = () => (\r\n\t\t * \t<BaseControl\r\n\t\t * \t\t__nextHasNoMarginBottom\r\n\t\t * \t\thelp=\"This button is already accessibly labeled.\"\r\n\t\t * \t>\r\n\t\t * \t\t<BaseControl.VisualLabel>Author</BaseControl.VisualLabel>\r\n\t\t * \t\t<Button>Select an author</Button>\r\n\t\t * \t</BaseControl>\r\n\t\t * );\r\n\t\t * ```\r\n\t\t */\r\n\t\tVisualLabel,\r\n\t}\r\n);\r\n\r\nexport default BaseControl;\r\n"],"mappings":"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","ignoreList":[]}