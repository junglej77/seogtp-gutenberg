{"version":3,"names":["__","useMemo","useState","useMergeRefs","BorderBoxControlLinkedButton","BorderBoxControlSplitControls","BorderControl","StyledLabel","View","VisuallyHidden","contextConnect","useBorderBoxControl","jsx","_jsx","jsxs","_jsxs","BorderLabel","props","label","hideLabelFromVision","as","children","UnconnectedBorderBoxControl","forwardedRef","className","colors","disableCustomColors","disableUnits","enableAlpha","enableStyle","hasMixedBorders","isLinked","linkedControlClassName","linkedValue","onLinkedChange","onSplitChange","popoverPlacement","popoverOffset","size","splitValue","toggleLinked","wrapperClassName","__experimentalIsRenderedInSidebar","otherProps","popoverAnchor","setPopoverAnchor","popoverProps","placement","offset","anchor","shift","undefined","mergedRef","ref","onChange","placeholder","__unstablePopoverProps","shouldSanitizeBorder","value","withSlider","width","onClick","BorderBoxControl"],"sources":["@wordpress/components/src/border-box-control/border-box-control/component.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useMemo, useState } from '@wordpress/element';\r\nimport { useMergeRefs } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BorderBoxControlLinkedButton from '../border-box-control-linked-button';\r\nimport BorderBoxControlSplitControls from '../border-box-control-split-controls';\r\nimport { BorderControl } from '../../border-control';\r\nimport { StyledLabel } from '../../base-control/styles/base-control-styles';\r\nimport { View } from '../../view';\r\nimport { VisuallyHidden } from '../../visually-hidden';\r\nimport type { WordPressComponentProps } from '../../context';\r\nimport { contextConnect } from '../../context';\r\nimport { useBorderBoxControl } from './hook';\r\n\r\nimport type { BorderBoxControlProps } from '../types';\r\nimport type {\r\n\tLabelProps,\r\n\tBorderControlProps,\r\n} from '../../border-control/types';\r\n\r\nconst BorderLabel = ( props: LabelProps ) => {\r\n\tconst { label, hideLabelFromVision } = props;\r\n\r\n\tif ( ! label ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn hideLabelFromVision ? (\r\n\t\t<VisuallyHidden as=\"label\">{ label }</VisuallyHidden>\r\n\t) : (\r\n\t\t<StyledLabel>{ label }</StyledLabel>\r\n\t);\r\n};\r\n\r\nconst UnconnectedBorderBoxControl = (\r\n\tprops: WordPressComponentProps< BorderBoxControlProps, 'div', false >,\r\n\tforwardedRef: React.ForwardedRef< any >\r\n) => {\r\n\tconst {\r\n\t\tclassName,\r\n\t\tcolors,\r\n\t\tdisableCustomColors,\r\n\t\tdisableUnits,\r\n\t\tenableAlpha,\r\n\t\tenableStyle,\r\n\t\thasMixedBorders,\r\n\t\thideLabelFromVision,\r\n\t\tisLinked,\r\n\t\tlabel,\r\n\t\tlinkedControlClassName,\r\n\t\tlinkedValue,\r\n\t\tonLinkedChange,\r\n\t\tonSplitChange,\r\n\t\tpopoverPlacement,\r\n\t\tpopoverOffset,\r\n\t\tsize,\r\n\t\tsplitValue,\r\n\t\ttoggleLinked,\r\n\t\twrapperClassName,\r\n\t\t__experimentalIsRenderedInSidebar,\r\n\t\t...otherProps\r\n\t} = useBorderBoxControl( props );\r\n\r\n\t// Use internal state instead of a ref to make sure that the component\r\n\t// re-renders when the popover's anchor updates.\r\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState< Element | null >(\r\n\t\tnull\r\n\t);\r\n\r\n\t// Memoize popoverProps to avoid returning a new object every time.\r\n\tconst popoverProps: BorderControlProps[ '__unstablePopoverProps' ] =\r\n\t\tuseMemo(\r\n\t\t\t() =>\r\n\t\t\t\tpopoverPlacement\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tplacement: popoverPlacement,\r\n\t\t\t\t\t\t\toffset: popoverOffset,\r\n\t\t\t\t\t\t\tanchor: popoverAnchor,\r\n\t\t\t\t\t\t\tshift: true,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: undefined,\r\n\t\t\t[ popoverPlacement, popoverOffset, popoverAnchor ]\r\n\t\t);\r\n\r\n\tconst mergedRef = useMergeRefs( [ setPopoverAnchor, forwardedRef ] );\r\n\treturn (\r\n\t\t<View className={ className } { ...otherProps } ref={ mergedRef }>\r\n\t\t\t<BorderLabel\r\n\t\t\t\tlabel={ label }\r\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\r\n\t\t\t/>\r\n\t\t\t<View className={ wrapperClassName }>\r\n\t\t\t\t{ isLinked ? (\r\n\t\t\t\t\t<BorderControl\r\n\t\t\t\t\t\tclassName={ linkedControlClassName }\r\n\t\t\t\t\t\tcolors={ colors }\r\n\t\t\t\t\t\tdisableUnits={ disableUnits }\r\n\t\t\t\t\t\tdisableCustomColors={ disableCustomColors }\r\n\t\t\t\t\t\tenableAlpha={ enableAlpha }\r\n\t\t\t\t\t\tenableStyle={ enableStyle }\r\n\t\t\t\t\t\tonChange={ onLinkedChange }\r\n\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\thasMixedBorders ? __( 'Mixed' ) : undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t__unstablePopoverProps={ popoverProps }\r\n\t\t\t\t\t\tshouldSanitizeBorder={ false } // This component will handle that.\r\n\t\t\t\t\t\tvalue={ linkedValue }\r\n\t\t\t\t\t\twithSlider\r\n\t\t\t\t\t\twidth={\r\n\t\t\t\t\t\t\tsize === '__unstable-large' ? '116px' : '110px'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar={\r\n\t\t\t\t\t\t\t__experimentalIsRenderedInSidebar\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsize={ size }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<BorderBoxControlSplitControls\r\n\t\t\t\t\t\tcolors={ colors }\r\n\t\t\t\t\t\tdisableCustomColors={ disableCustomColors }\r\n\t\t\t\t\t\tenableAlpha={ enableAlpha }\r\n\t\t\t\t\t\tenableStyle={ enableStyle }\r\n\t\t\t\t\t\tonChange={ onSplitChange }\r\n\t\t\t\t\t\tpopoverPlacement={ popoverPlacement }\r\n\t\t\t\t\t\tpopoverOffset={ popoverOffset }\r\n\t\t\t\t\t\tvalue={ splitValue }\r\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar={\r\n\t\t\t\t\t\t\t__experimentalIsRenderedInSidebar\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsize={ size }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<BorderBoxControlLinkedButton\r\n\t\t\t\t\tonClick={ toggleLinked }\r\n\t\t\t\t\tisLinked={ isLinked }\r\n\t\t\t\t\tsize={ size }\r\n\t\t\t\t/>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\n/**\r\n * The `BorderBoxControl` effectively has two view states. The first, a \"linked\"\r\n * view, allows configuration of a flat border via a single `BorderControl`.\r\n * The second, a \"split\" view, contains a `BorderControl` for each side\r\n * as well as a visualizer for the currently selected borders. Each view also\r\n * contains a button to toggle between the two.\r\n *\r\n * When switching from the \"split\" view to \"linked\", if the individual side\r\n * borders are not consistent, the \"linked\" view will display any border\r\n * properties selections that are consistent while showing a mixed state for\r\n * those that aren't. For example, if all borders had the same color and style\r\n * but different widths, then the border dropdown in the \"linked\" view's\r\n * `BorderControl` would show that consistent color and style but the \"linked\"\r\n * view's width input would show \"Mixed\" placeholder text.\r\n *\r\n * ```jsx\r\n * import { __experimentalBorderBoxControl as BorderBoxControl } from '@wordpress/components';\r\n * import { __ } from '@wordpress/i18n';\r\n *\r\n * const colors = [\r\n * \t{ name: 'Blue 20', color: '#72aee6' },\r\n * \t// ...\r\n * ];\r\n *\r\n * const MyBorderBoxControl = () => {\r\n * \tconst defaultBorder = {\r\n * \t\tcolor: '#72aee6',\r\n * \t\tstyle: 'dashed',\r\n * \t\twidth: '1px',\r\n * \t};\r\n * \tconst [ borders, setBorders ] = useState( {\r\n * \t\ttop: defaultBorder,\r\n * \t\tright: defaultBorder,\r\n * \t\tbottom: defaultBorder,\r\n * \t\tleft: defaultBorder,\r\n * \t} );\r\n * \tconst onChange = ( newBorders ) => setBorders( newBorders );\r\n *\r\n * \treturn (\r\n * \t\t<BorderBoxControl\r\n * \t\t\tcolors={ colors }\r\n * \t\t\tlabel={ __( 'Borders' ) }\r\n * \t\t\tonChange={ onChange }\r\n * \t\t\tvalue={ borders }\r\n * \t\t/>\r\n * \t);\r\n * };\r\n * ```\r\n */\r\nexport const BorderBoxControl = contextConnect(\r\n\tUnconnectedBorderBoxControl,\r\n\t'BorderBoxControl'\r\n);\r\n\r\nexport default BorderBoxControl;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,OAAO,EAAEC,QAAQ,QAAQ,oBAAoB;AACtD,SAASC,YAAY,QAAQ,oBAAoB;;AAEjD;AACA;AACA;AACA,OAAOC,4BAA4B,MAAM,qCAAqC;AAC9E,OAAOC,6BAA6B,MAAM,sCAAsC;AAChF,SAASC,aAAa,QAAQ,sBAAsB;AACpD,SAASC,WAAW,QAAQ,+CAA+C;AAC3E,SAASC,IAAI,QAAQ,YAAY;AACjC,SAASC,cAAc,QAAQ,uBAAuB;AAEtD,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,mBAAmB,QAAQ,QAAQ;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAQ7C,MAAMC,WAAW,GAAKC,KAAiB,IAAM;EAC5C,MAAM;IAAEC,KAAK;IAAEC;EAAoB,CAAC,GAAGF,KAAK;EAE5C,IAAK,CAAEC,KAAK,EAAG;IACd,OAAO,IAAI;EACZ;EAEA,OAAOC,mBAAmB,gBACzBN,IAAA,CAACJ,cAAc;IAACW,EAAE,EAAC,OAAO;IAAAC,QAAA,EAAGH;EAAK,CAAkB,CAAC,gBAErDL,IAAA,CAACN,WAAW;IAAAc,QAAA,EAAGH;EAAK,CAAe,CACnC;AACF,CAAC;AAED,MAAMI,2BAA2B,GAAGA,CACnCL,KAAqE,EACrEM,YAAuC,KACnC;EACJ,MAAM;IACLC,SAAS;IACTC,MAAM;IACNC,mBAAmB;IACnBC,YAAY;IACZC,WAAW;IACXC,WAAW;IACXC,eAAe;IACfX,mBAAmB;IACnBY,QAAQ;IACRb,KAAK;IACLc,sBAAsB;IACtBC,WAAW;IACXC,cAAc;IACdC,aAAa;IACbC,gBAAgB;IAChBC,aAAa;IACbC,IAAI;IACJC,UAAU;IACVC,YAAY;IACZC,gBAAgB;IAChBC,iCAAiC;IACjC,GAAGC;EACJ,CAAC,GAAGhC,mBAAmB,CAAEM,KAAM,CAAC;;EAEhC;EACA;EACA,MAAM,CAAE2B,aAAa,EAAEC,gBAAgB,CAAE,GAAG3C,QAAQ,CACnD,IACD,CAAC;;EAED;EACA,MAAM4C,YAA4D,GACjE7C,OAAO,CACN,MACCmC,gBAAgB,GACb;IACAW,SAAS,EAAEX,gBAAgB;IAC3BY,MAAM,EAAEX,aAAa;IACrBY,MAAM,EAAEL,aAAa;IACrBM,KAAK,EAAE;EACP,CAAC,GACDC,SAAS,EACb,CAAEf,gBAAgB,EAAEC,aAAa,EAAEO,aAAa,CACjD,CAAC;EAEF,MAAMQ,SAAS,GAAGjD,YAAY,CAAE,CAAE0C,gBAAgB,EAAEtB,YAAY,CAAG,CAAC;EACpE,oBACCR,KAAA,CAACP,IAAI;IAACgB,SAAS,EAAGA,SAAW;IAAA,GAAMmB,UAAU;IAAGU,GAAG,EAAGD,SAAW;IAAA/B,QAAA,gBAChER,IAAA,CAACG,WAAW;MACXE,KAAK,EAAGA,KAAO;MACfC,mBAAmB,EAAGA;IAAqB,CAC3C,CAAC,eACFJ,KAAA,CAACP,IAAI;MAACgB,SAAS,EAAGiB,gBAAkB;MAAApB,QAAA,GACjCU,QAAQ,gBACTlB,IAAA,CAACP,aAAa;QACbkB,SAAS,EAAGQ,sBAAwB;QACpCP,MAAM,EAAGA,MAAQ;QACjBE,YAAY,EAAGA,YAAc;QAC7BD,mBAAmB,EAAGA,mBAAqB;QAC3CE,WAAW,EAAGA,WAAa;QAC3BC,WAAW,EAAGA,WAAa;QAC3ByB,QAAQ,EAAGpB,cAAgB;QAC3BqB,WAAW,EACVzB,eAAe,GAAG9B,EAAE,CAAE,OAAQ,CAAC,GAAGmD,SAClC;QACDK,sBAAsB,EAAGV,YAAc;QACvCW,oBAAoB,EAAG,KAAO,CAAC;QAAA;QAC/BC,KAAK,EAAGzB,WAAa;QACrB0B,UAAU;QACVC,KAAK,EACJtB,IAAI,KAAK,kBAAkB,GAAG,OAAO,GAAG,OACxC;QACDI,iCAAiC,EAChCA,iCACA;QACDJ,IAAI,EAAGA;MAAM,CACb,CAAC,gBAEFzB,IAAA,CAACR,6BAA6B;QAC7BoB,MAAM,EAAGA,MAAQ;QACjBC,mBAAmB,EAAGA,mBAAqB;QAC3CE,WAAW,EAAGA,WAAa;QAC3BC,WAAW,EAAGA,WAAa;QAC3ByB,QAAQ,EAAGnB,aAAe;QAC1BC,gBAAgB,EAAGA,gBAAkB;QACrCC,aAAa,EAAGA,aAAe;QAC/BqB,KAAK,EAAGnB,UAAY;QACpBG,iCAAiC,EAChCA,iCACA;QACDJ,IAAI,EAAGA;MAAM,CACb,CACD,eACDzB,IAAA,CAACT,4BAA4B;QAC5ByD,OAAO,EAAGrB,YAAc;QACxBT,QAAQ,EAAGA,QAAU;QACrBO,IAAI,EAAGA;MAAM,CACb,CAAC;IAAA,CACG,CAAC;EAAA,CACF,CAAC;AAET,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMwB,gBAAgB,GAAGpD,cAAc,CAC7CY,2BAA2B,EAC3B,kBACD,CAAC;AAED,eAAewC,gBAAgB","ignoreList":[]}