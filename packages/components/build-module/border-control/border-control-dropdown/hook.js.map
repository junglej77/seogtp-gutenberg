{"version":3,"names":["useMemo","styles","parseQuantityAndUnitFromRawValue","useContextSystem","useCx","useBorderControlDropdown","props","border","className","colors","enableAlpha","enableStyle","onChange","previousStyleSelection","size","__experimentalIsRenderedInSidebar","otherProps","widthValue","width","hasZeroWidth","onColorChange","color","style","onStyleChange","onReset","undefined","cx","classes","borderControlDropdown","indicatorClassName","borderColorIndicator","indicatorWrapperClassName","colorIndicatorWrapper","popoverControlsClassName","borderControlPopoverControls","popoverContentClassName","borderControlPopoverContent","resetButtonClassName","resetButton"],"sources":["@wordpress/components/src/border-control/border-control-dropdown/hook.ts"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport * as styles from '../styles';\r\nimport { parseQuantityAndUnitFromRawValue } from '../../unit-control/utils';\r\nimport type { WordPressComponentProps } from '../../context';\r\nimport { useContextSystem } from '../../context';\r\nimport { useCx } from '../../utils/hooks/use-cx';\r\n\r\nimport type { DropdownProps } from '../types';\r\n\r\nexport function useBorderControlDropdown(\r\n\tprops: WordPressComponentProps< DropdownProps, 'div' >\r\n) {\r\n\tconst {\r\n\t\tborder,\r\n\t\tclassName,\r\n\t\tcolors = [],\r\n\t\tenableAlpha = false,\r\n\t\tenableStyle = true,\r\n\t\tonChange,\r\n\t\tpreviousStyleSelection,\r\n\t\tsize = 'default',\r\n\t\t__experimentalIsRenderedInSidebar = false,\r\n\t\t...otherProps\r\n\t} = useContextSystem( props, 'BorderControlDropdown' );\r\n\r\n\tconst [ widthValue ] = parseQuantityAndUnitFromRawValue( border?.width );\r\n\tconst hasZeroWidth = widthValue === 0;\r\n\r\n\tconst onColorChange = ( color?: string ) => {\r\n\t\tconst style =\r\n\t\t\tborder?.style === 'none' ? previousStyleSelection : border?.style;\r\n\t\tconst width = hasZeroWidth && !! color ? '1px' : border?.width;\r\n\r\n\t\tonChange( { color, style, width } );\r\n\t};\r\n\r\n\tconst onStyleChange = ( style?: string ) => {\r\n\t\tconst width = hasZeroWidth && !! style ? '1px' : border?.width;\r\n\t\tonChange( { ...border, style, width } );\r\n\t};\r\n\r\n\tconst onReset = () => {\r\n\t\tonChange( {\r\n\t\t\t...border,\r\n\t\t\tcolor: undefined,\r\n\t\t\tstyle: undefined,\r\n\t\t} );\r\n\t};\r\n\r\n\t// Generate class names.\r\n\tconst cx = useCx();\r\n\tconst classes = useMemo( () => {\r\n\t\treturn cx( styles.borderControlDropdown, className );\r\n\t}, [ className, cx ] );\r\n\r\n\tconst indicatorClassName = useMemo( () => {\r\n\t\treturn cx( styles.borderColorIndicator );\r\n\t}, [ cx ] );\r\n\r\n\tconst indicatorWrapperClassName = useMemo( () => {\r\n\t\treturn cx( styles.colorIndicatorWrapper( border, size ) );\r\n\t}, [ border, cx, size ] );\r\n\r\n\tconst popoverControlsClassName = useMemo( () => {\r\n\t\treturn cx( styles.borderControlPopoverControls );\r\n\t}, [ cx ] );\r\n\r\n\tconst popoverContentClassName = useMemo( () => {\r\n\t\treturn cx( styles.borderControlPopoverContent );\r\n\t}, [ cx ] );\r\n\r\n\tconst resetButtonClassName = useMemo( () => {\r\n\t\treturn cx( styles.resetButton );\r\n\t}, [ cx ] );\r\n\r\n\treturn {\r\n\t\t...otherProps,\r\n\t\tborder,\r\n\t\tclassName: classes,\r\n\t\tcolors,\r\n\t\tenableAlpha,\r\n\t\tenableStyle,\r\n\t\tindicatorClassName,\r\n\t\tindicatorWrapperClassName,\r\n\t\tonColorChange,\r\n\t\tonStyleChange,\r\n\t\tonReset,\r\n\t\tpopoverContentClassName,\r\n\t\tpopoverControlsClassName,\r\n\t\tresetButtonClassName,\r\n\t\tsize,\r\n\t\t__experimentalIsRenderedInSidebar,\r\n\t};\r\n}\r\n"],"mappings":"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","ignoreList":[]}