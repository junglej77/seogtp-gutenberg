{"version":3,"names":["useInstanceId","FlexedRangeControl","StyledUnitControl","HStack","parseQuantityAndUnitFromRawValue","LABELS","applyValueToSides","getAllValue","isValuesMixed","isValuesDefined","CUSTOM_VALUE_SETTINGS","jsx","_jsx","jsxs","_jsxs","noop","AllInputControl","__next40pxDefaultSize","onChange","onFocus","values","sides","selectedUnits","setSelectedUnits","props","_CUSTOM_VALUE_SETTING","_CUSTOM_VALUE_SETTING2","inputId","allValue","hasValues","isMixed","allPlaceholder","mixed","undefined","parsedQuantity","parsedUnit","handleOnFocus","event","side","onValueChange","next","isNumeric","isNaN","parseFloat","nextValue","nextValues","sliderOnChange","join","handleOnUnitChange","unit","newUnits","children","className","disableUnits","id","isPressEnterToChange","value","onUnitChange","placeholder","label","all","hideLabelFromVision","__nextHasNoMarginBottom","min","max","step","withInputField"],"sources":["@wordpress/components/src/box-control/all-input-control.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useInstanceId } from '@wordpress/compose';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { UnitControlProps } from '../unit-control/types';\r\nimport {\r\n\tFlexedRangeControl,\r\n\tStyledUnitControl,\r\n} from './styles/box-control-styles';\r\nimport { HStack } from '../h-stack';\r\nimport type { BoxControlInputControlProps } from './types';\r\nimport { parseQuantityAndUnitFromRawValue } from '../unit-control';\r\nimport {\r\n\tLABELS,\r\n\tapplyValueToSides,\r\n\tgetAllValue,\r\n\tisValuesMixed,\r\n\tisValuesDefined,\r\n\tCUSTOM_VALUE_SETTINGS,\r\n} from './utils';\r\n\r\nconst noop = () => {};\r\n\r\nexport default function AllInputControl( {\r\n\t__next40pxDefaultSize,\r\n\tonChange = noop,\r\n\tonFocus = noop,\r\n\tvalues,\r\n\tsides,\r\n\tselectedUnits,\r\n\tsetSelectedUnits,\r\n\t...props\r\n}: BoxControlInputControlProps ) {\r\n\tconst inputId = useInstanceId( AllInputControl, 'box-control-input-all' );\r\n\r\n\tconst allValue = getAllValue( values, selectedUnits, sides );\r\n\tconst hasValues = isValuesDefined( values );\r\n\tconst isMixed = hasValues && isValuesMixed( values, selectedUnits, sides );\r\n\tconst allPlaceholder = isMixed ? LABELS.mixed : undefined;\r\n\r\n\tconst [ parsedQuantity, parsedUnit ] =\r\n\t\tparseQuantityAndUnitFromRawValue( allValue );\r\n\r\n\tconst handleOnFocus: React.FocusEventHandler< HTMLInputElement > = (\r\n\t\tevent\r\n\t) => {\r\n\t\tonFocus( event, { side: 'all' } );\r\n\t};\r\n\r\n\tconst onValueChange = ( next?: string ) => {\r\n\t\tconst isNumeric = next !== undefined && ! isNaN( parseFloat( next ) );\r\n\t\tconst nextValue = isNumeric ? next : undefined;\r\n\t\tconst nextValues = applyValueToSides( values, nextValue, sides );\r\n\r\n\t\tonChange( nextValues );\r\n\t};\r\n\r\n\tconst sliderOnChange = ( next?: number ) => {\r\n\t\tonValueChange(\r\n\t\t\tnext !== undefined ? [ next, parsedUnit ].join( '' ) : undefined\r\n\t\t);\r\n\t};\r\n\r\n\t// Set selected unit so it can be used as fallback by unlinked controls\r\n\t// when individual sides do not have a value containing a unit.\r\n\tconst handleOnUnitChange: UnitControlProps[ 'onUnitChange' ] = ( unit ) => {\r\n\t\tconst newUnits = applyValueToSides( selectedUnits, unit, sides );\r\n\t\tsetSelectedUnits( newUnits );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<HStack>\r\n\t\t\t<StyledUnitControl\r\n\t\t\t\t{ ...props }\r\n\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\r\n\t\t\t\tclassName=\"component-box-control__unit-control\"\r\n\t\t\t\tdisableUnits={ isMixed }\r\n\t\t\t\tid={ inputId }\r\n\t\t\t\tisPressEnterToChange\r\n\t\t\t\tvalue={ allValue }\r\n\t\t\t\tonChange={ onValueChange }\r\n\t\t\t\tonUnitChange={ handleOnUnitChange }\r\n\t\t\t\tonFocus={ handleOnFocus }\r\n\t\t\t\tplaceholder={ allPlaceholder }\r\n\t\t\t\tlabel={ LABELS.all }\r\n\t\t\t\thideLabelFromVision\r\n\t\t\t/>\r\n\r\n\t\t\t<FlexedRangeControl\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\r\n\t\t\t\taria-controls={ inputId }\r\n\t\t\t\tlabel={ LABELS.all }\r\n\t\t\t\thideLabelFromVision\r\n\t\t\t\tonChange={ sliderOnChange }\r\n\t\t\t\tmin={ 0 }\r\n\t\t\t\tmax={ CUSTOM_VALUE_SETTINGS[ parsedUnit ?? 'px' ]?.max ?? 10 }\r\n\t\t\t\tstep={\r\n\t\t\t\t\tCUSTOM_VALUE_SETTINGS[ parsedUnit ?? 'px' ]?.step ?? 0.1\r\n\t\t\t\t}\r\n\t\t\t\tvalue={ parsedQuantity ?? 0 }\r\n\t\t\t\twithInputField={ false }\r\n\t\t\t/>\r\n\t\t</HStack>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}