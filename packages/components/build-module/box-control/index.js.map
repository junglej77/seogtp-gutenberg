{"version":3,"names":["useInstanceId","useState","__","BaseControl","AllInputControl","InputControls","AxialInputControls","LinkedButton","Grid","FlexedBoxControlIcon","InputWrapper","ResetButton","LinkedButtonWrapper","parseQuantityAndUnitFromRawValue","DEFAULT_VALUES","getInitialSide","isValuesMixed","isValuesDefined","useControlledState","jsx","_jsx","jsxs","_jsxs","defaultInputProps","min","noop","useUniqueId","idProp","instanceId","BoxControl","__next40pxDefaultSize","id","inputProps","onChange","label","values","valuesProp","units","sides","splitOnAxis","allowReset","resetValues","onMouseOver","onMouseOut","setValues","fallback","inputValues","hasInitialValue","hasOneSide","length","isDirty","setIsDirty","isLinked","setIsLinked","side","setSide","selectedUnits","setSelectedUnits","top","right","bottom","left","headingId","toggleLinked","handleOnFocus","_event","nextSide","handleOnChange","nextValues","handleOnReset","inputControlProps","onFocus","columns","templateColumns","role","children","VisualLabel","onClick","className","variant","size","disabled","applyValueToSides"],"sources":["@wordpress/components/src/box-control/index.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { BaseControl } from '../base-control';\r\nimport AllInputControl from './all-input-control';\r\nimport InputControls from './input-controls';\r\nimport AxialInputControls from './axial-input-controls';\r\nimport LinkedButton from './linked-button';\r\nimport { Grid } from '../grid';\r\nimport {\r\n\tFlexedBoxControlIcon,\r\n\tInputWrapper,\r\n\tResetButton,\r\n\tLinkedButtonWrapper,\r\n} from './styles/box-control-styles';\r\nimport { parseQuantityAndUnitFromRawValue } from '../unit-control/utils';\r\nimport {\r\n\tDEFAULT_VALUES,\r\n\tgetInitialSide,\r\n\tisValuesMixed,\r\n\tisValuesDefined,\r\n} from './utils';\r\nimport { useControlledState } from '../utils/hooks';\r\nimport type {\r\n\tBoxControlIconProps,\r\n\tBoxControlProps,\r\n\tBoxControlValue,\r\n} from './types';\r\n\r\nconst defaultInputProps = {\r\n\tmin: 0,\r\n};\r\n\r\nconst noop = () => {};\r\n\r\nfunction useUniqueId( idProp?: string ) {\r\n\tconst instanceId = useInstanceId( BoxControl, 'inspector-box-control' );\r\n\r\n\treturn idProp || instanceId;\r\n}\r\n\r\n/**\r\n * BoxControl components let users set values for Top, Right, Bottom, and Left.\r\n * This can be used as an input control for values like `padding` or `margin`.\r\n *\r\n * ```jsx\r\n * import { __experimentalBoxControl as BoxControl } from '@wordpress/components';\r\n * import { useState } from '@wordpress/element';\r\n *\r\n * const Example = () => {\r\n * \tconst [ values, setValues ] = useState( {\r\n * \t\ttop: '50px',\r\n * \t\tleft: '10%',\r\n * \t\tright: '10%',\r\n * \t\tbottom: '50px',\r\n * \t} );\r\n *\r\n * \treturn (\r\n * \t\t<BoxControl\r\n * \t\t\tvalues={ values }\r\n * \t\t\tonChange={ ( nextValues ) => setValues( nextValues ) }\r\n * \t\t/>\r\n * \t);\r\n * };\r\n * ```\r\n */\r\nfunction BoxControl( {\r\n\t__next40pxDefaultSize = false,\r\n\tid: idProp,\r\n\tinputProps = defaultInputProps,\r\n\tonChange = noop,\r\n\tlabel = __( 'Box Control' ),\r\n\tvalues: valuesProp,\r\n\tunits,\r\n\tsides,\r\n\tsplitOnAxis = false,\r\n\tallowReset = true,\r\n\tresetValues = DEFAULT_VALUES,\r\n\tonMouseOver,\r\n\tonMouseOut,\r\n}: BoxControlProps ) {\r\n\tconst [ values, setValues ] = useControlledState( valuesProp, {\r\n\t\tfallback: DEFAULT_VALUES,\r\n\t} );\r\n\tconst inputValues = values || DEFAULT_VALUES;\r\n\tconst hasInitialValue = isValuesDefined( valuesProp );\r\n\tconst hasOneSide = sides?.length === 1;\r\n\r\n\tconst [ isDirty, setIsDirty ] = useState( hasInitialValue );\r\n\tconst [ isLinked, setIsLinked ] = useState(\r\n\t\t! hasInitialValue || ! isValuesMixed( inputValues ) || hasOneSide\r\n\t);\r\n\r\n\tconst [ side, setSide ] = useState< BoxControlIconProps[ 'side' ] >(\r\n\t\tgetInitialSide( isLinked, splitOnAxis )\r\n\t);\r\n\r\n\t// Tracking selected units via internal state allows filtering of CSS unit\r\n\t// only values from being saved while maintaining preexisting unit selection\r\n\t// behaviour. Filtering CSS only values prevents invalid style values.\r\n\tconst [ selectedUnits, setSelectedUnits ] = useState< BoxControlValue >( {\r\n\t\ttop: parseQuantityAndUnitFromRawValue( valuesProp?.top )[ 1 ],\r\n\t\tright: parseQuantityAndUnitFromRawValue( valuesProp?.right )[ 1 ],\r\n\t\tbottom: parseQuantityAndUnitFromRawValue( valuesProp?.bottom )[ 1 ],\r\n\t\tleft: parseQuantityAndUnitFromRawValue( valuesProp?.left )[ 1 ],\r\n\t} );\r\n\r\n\tconst id = useUniqueId( idProp );\r\n\tconst headingId = `${ id }-heading`;\r\n\r\n\tconst toggleLinked = () => {\r\n\t\tsetIsLinked( ! isLinked );\r\n\t\tsetSide( getInitialSide( ! isLinked, splitOnAxis ) );\r\n\t};\r\n\r\n\tconst handleOnFocus = (\r\n\t\t_event: React.FocusEvent< HTMLInputElement >,\r\n\t\t{ side: nextSide }: { side: typeof side }\r\n\t) => {\r\n\t\tsetSide( nextSide );\r\n\t};\r\n\r\n\tconst handleOnChange = ( nextValues: BoxControlValue ) => {\r\n\t\tonChange( nextValues );\r\n\t\tsetValues( nextValues );\r\n\t\tsetIsDirty( true );\r\n\t};\r\n\r\n\tconst handleOnReset = () => {\r\n\t\tonChange( resetValues );\r\n\t\tsetValues( resetValues );\r\n\t\tsetSelectedUnits( resetValues );\r\n\t\tsetIsDirty( false );\r\n\t};\r\n\r\n\tconst inputControlProps = {\r\n\t\t...inputProps,\r\n\t\tonChange: handleOnChange,\r\n\t\tonFocus: handleOnFocus,\r\n\t\tisLinked,\r\n\t\tunits,\r\n\t\tselectedUnits,\r\n\t\tsetSelectedUnits,\r\n\t\tsides,\r\n\t\tvalues: inputValues,\r\n\t\tonMouseOver,\r\n\t\tonMouseOut,\r\n\t\t__next40pxDefaultSize,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tid={ id }\r\n\t\t\tcolumns={ 3 }\r\n\t\t\ttemplateColumns=\"1fr min-content min-content\"\r\n\t\t\trole=\"group\"\r\n\t\t\taria-labelledby={ headingId }\r\n\t\t>\r\n\t\t\t<BaseControl.VisualLabel id={ headingId }>\r\n\t\t\t\t{ label }\r\n\t\t\t</BaseControl.VisualLabel>\r\n\t\t\t{ isLinked && (\r\n\t\t\t\t<InputWrapper>\r\n\t\t\t\t\t<FlexedBoxControlIcon side={ side } sides={ sides } />\r\n\t\t\t\t\t<AllInputControl { ...inputControlProps } />\r\n\t\t\t\t</InputWrapper>\r\n\t\t\t) }\r\n\t\t\t{ ! hasOneSide && (\r\n\t\t\t\t<LinkedButtonWrapper>\r\n\t\t\t\t\t<LinkedButton\r\n\t\t\t\t\t\tonClick={ toggleLinked }\r\n\t\t\t\t\t\tisLinked={ isLinked }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</LinkedButtonWrapper>\r\n\t\t\t) }\r\n\r\n\t\t\t{ ! isLinked && splitOnAxis && (\r\n\t\t\t\t<AxialInputControls { ...inputControlProps } />\r\n\t\t\t) }\r\n\t\t\t{ ! isLinked && ! splitOnAxis && (\r\n\t\t\t\t<InputControls { ...inputControlProps } />\r\n\t\t\t) }\r\n\t\t\t{ allowReset && (\r\n\t\t\t\t<ResetButton\r\n\t\t\t\t\tclassName=\"component-box-control__reset-button\"\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={ handleOnReset }\r\n\t\t\t\t\tdisabled={ ! isDirty }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Reset' ) }\r\n\t\t\t\t</ResetButton>\r\n\t\t\t) }\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport { applyValueToSides } from './utils';\r\nexport default BoxControl;\r\n"],"mappings":"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","ignoreList":[]}