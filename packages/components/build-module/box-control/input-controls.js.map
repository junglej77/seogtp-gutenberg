{"version":3,"names":["useInstanceId","Tooltip","parseQuantityAndUnitFromRawValue","ALL_SIDES","CUSTOM_VALUE_SETTINGS","LABELS","FlexedBoxControlIcon","FlexedRangeControl","InputWrapper","StyledUnitControl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","noop","BoxInputControls","__next40pxDefaultSize","onChange","onFocus","values","selectedUnits","setSelectedUnits","sides","props","generatedId","createHandleOnFocus","side","event","handleOnChange","nextValues","handleOnValueChange","next","extra","isNumeric","undefined","isNaN","parseFloat","nextValue","altKey","bottom","top","right","left","createHandleOnUnitChange","newUnits","filteredSides","length","filter","includes","children","map","_CUSTOM_VALUE_SETTING","_CUSTOM_VALUE_SETTING2","parsedQuantity","parsedUnit","computedUnit","inputId","join","expanded","placement","text","className","id","isPressEnterToChange","value","onUnitChange","label","hideLabelFromVision","__nextHasNoMarginBottom","newValue","min","max","step","withInputField"],"sources":["@wordpress/components/src/box-control/input-controls.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useInstanceId } from '@wordpress/compose';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Tooltip from '../tooltip';\r\nimport { parseQuantityAndUnitFromRawValue } from '../unit-control/utils';\r\nimport { ALL_SIDES, CUSTOM_VALUE_SETTINGS, LABELS } from './utils';\r\nimport {\r\n\tFlexedBoxControlIcon,\r\n\tFlexedRangeControl,\r\n\tInputWrapper,\r\n\tStyledUnitControl,\r\n} from './styles/box-control-styles';\r\nimport type { BoxControlInputControlProps, BoxControlValue } from './types';\r\n\r\nconst noop = () => {};\r\n\r\nexport default function BoxInputControls( {\r\n\t__next40pxDefaultSize,\r\n\tonChange = noop,\r\n\tonFocus = noop,\r\n\tvalues,\r\n\tselectedUnits,\r\n\tsetSelectedUnits,\r\n\tsides,\r\n\t...props\r\n}: BoxControlInputControlProps ) {\r\n\tconst generatedId = useInstanceId( BoxInputControls, 'box-control-input' );\r\n\r\n\tconst createHandleOnFocus =\r\n\t\t( side: keyof BoxControlValue ) =>\r\n\t\t( event: React.FocusEvent< HTMLInputElement > ) => {\r\n\t\t\tonFocus( event, { side } );\r\n\t\t};\r\n\r\n\tconst handleOnChange = ( nextValues: BoxControlValue ) => {\r\n\t\tonChange( nextValues );\r\n\t};\r\n\r\n\tconst handleOnValueChange = (\r\n\t\tside: keyof BoxControlValue,\r\n\t\tnext?: string,\r\n\t\textra?: { event: React.SyntheticEvent< Element, Event > }\r\n\t) => {\r\n\t\tconst nextValues = { ...values };\r\n\t\tconst isNumeric = next !== undefined && ! isNaN( parseFloat( next ) );\r\n\t\tconst nextValue = isNumeric ? next : undefined;\r\n\r\n\t\tnextValues[ side ] = nextValue;\r\n\r\n\t\t/**\r\n\t\t * Supports changing pair sides. For example, holding the ALT key\r\n\t\t * when changing the TOP will also update BOTTOM.\r\n\t\t */\r\n\t\t// @ts-expect-error - TODO: event.altKey is only present when the change event was\r\n\t\t// triggered by a keyboard event. Should this feature be implemented differently so\r\n\t\t// it also works with drag events?\r\n\t\tif ( extra?.event.altKey ) {\r\n\t\t\tswitch ( side ) {\r\n\t\t\t\tcase 'top':\r\n\t\t\t\t\tnextValues.bottom = nextValue;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'bottom':\r\n\t\t\t\t\tnextValues.top = nextValue;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'left':\r\n\t\t\t\t\tnextValues.right = nextValue;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'right':\r\n\t\t\t\t\tnextValues.left = nextValue;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleOnChange( nextValues );\r\n\t};\r\n\r\n\tconst createHandleOnUnitChange =\r\n\t\t( side: keyof BoxControlValue ) => ( next?: string ) => {\r\n\t\t\tconst newUnits = { ...selectedUnits };\r\n\t\t\tnewUnits[ side ] = next;\r\n\t\t\tsetSelectedUnits( newUnits );\r\n\t\t};\r\n\r\n\t// Filter sides if custom configuration provided, maintaining default order.\r\n\tconst filteredSides = sides?.length\r\n\t\t? ALL_SIDES.filter( ( side ) => sides.includes( side ) )\r\n\t\t: ALL_SIDES;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ filteredSides.map( ( side ) => {\r\n\t\t\t\tconst [ parsedQuantity, parsedUnit ] =\r\n\t\t\t\t\tparseQuantityAndUnitFromRawValue( values[ side ] );\r\n\r\n\t\t\t\tconst computedUnit = values[ side ]\r\n\t\t\t\t\t? parsedUnit\r\n\t\t\t\t\t: selectedUnits[ side ];\r\n\r\n\t\t\t\tconst inputId = [ generatedId, side ].join( '-' );\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<InputWrapper key={ `box-control-${ side }` } expanded>\r\n\t\t\t\t\t\t<FlexedBoxControlIcon side={ side } sides={ sides } />\r\n\t\t\t\t\t\t<Tooltip placement=\"top-end\" text={ LABELS[ side ] }>\r\n\t\t\t\t\t\t\t<StyledUnitControl\r\n\t\t\t\t\t\t\t\t{ ...props }\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\r\n\t\t\t\t\t\t\t\tclassName=\"component-box-control__unit-control\"\r\n\t\t\t\t\t\t\t\tid={ inputId }\r\n\t\t\t\t\t\t\t\tisPressEnterToChange\r\n\t\t\t\t\t\t\t\tvalue={ [ parsedQuantity, computedUnit ].join(\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\tonChange={ ( nextValue, extra ) =>\r\n\t\t\t\t\t\t\t\t\thandleOnValueChange(\r\n\t\t\t\t\t\t\t\t\t\tside,\r\n\t\t\t\t\t\t\t\t\t\tnextValue,\r\n\t\t\t\t\t\t\t\t\t\textra\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonUnitChange={ createHandleOnUnitChange(\r\n\t\t\t\t\t\t\t\t\tside\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\tonFocus={ createHandleOnFocus( side ) }\r\n\t\t\t\t\t\t\t\tlabel={ LABELS[ side ] }\r\n\t\t\t\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\r\n\t\t\t\t\t\t<FlexedRangeControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\r\n\t\t\t\t\t\t\taria-controls={ inputId }\r\n\t\t\t\t\t\t\tlabel={ LABELS[ side ] }\r\n\t\t\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\t\t\tonChange={ ( newValue ) => {\r\n\t\t\t\t\t\t\t\thandleOnValueChange(\r\n\t\t\t\t\t\t\t\t\tside,\r\n\t\t\t\t\t\t\t\t\tnewValue !== undefined\r\n\t\t\t\t\t\t\t\t\t\t? [ newValue, computedUnit ].join( '' )\r\n\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\tmin={ 0 }\r\n\t\t\t\t\t\t\tmax={\r\n\t\t\t\t\t\t\t\tCUSTOM_VALUE_SETTINGS[ computedUnit ?? 'px' ]\r\n\t\t\t\t\t\t\t\t\t?.max ?? 10\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tstep={\r\n\t\t\t\t\t\t\t\tCUSTOM_VALUE_SETTINGS[ computedUnit ?? 'px' ]\r\n\t\t\t\t\t\t\t\t\t?.step ?? 0.1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={ parsedQuantity ?? 0 }\r\n\t\t\t\t\t\t\twithInputField={ false }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputWrapper>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}