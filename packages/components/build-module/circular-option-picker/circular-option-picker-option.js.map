{"version":3,"names":["clsx","useInstanceId","forwardRef","useContext","useEffect","Icon","check","CircularOptionPickerContext","Button","Composite","Tooltip","jsx","_jsx","jsxs","_jsxs","UnforwardedOptionAsButton","props","forwardedRef","isPressed","additionalProps","ref","OptionAsButton","UnforwardedOptionAsOption","id","isSelected","setActiveId","activeId","window","setTimeout","Item","render","role","OptionAsOption","Option","className","selectedIconProps","tooltipText","baseId","commonProps","isListbox","undefined","optionControl","children","text","icon"],"sources":["@wordpress/components/src/circular-option-picker/circular-option-picker-option.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { ForwardedRef } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { forwardRef, useContext, useEffect } from '@wordpress/element';\r\nimport { Icon, check } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { CircularOptionPickerContext } from './circular-option-picker-context';\r\nimport Button from '../button';\r\nimport { Composite } from '../composite';\r\nimport Tooltip from '../tooltip';\r\nimport type { OptionProps } from './types';\r\n\r\nfunction UnforwardedOptionAsButton(\r\n\tprops: {\r\n\t\tid?: string;\r\n\t\tclassName?: string;\r\n\t\tisPressed?: boolean;\r\n\t},\r\n\tforwardedRef: ForwardedRef< any >\r\n) {\r\n\tconst { isPressed, ...additionalProps } = props;\r\n\treturn (\r\n\t\t<Button\r\n\t\t\t{ ...additionalProps }\r\n\t\t\taria-pressed={ isPressed }\r\n\t\t\tref={ forwardedRef }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nconst OptionAsButton = forwardRef( UnforwardedOptionAsButton );\r\n\r\nfunction UnforwardedOptionAsOption(\r\n\tprops: {\r\n\t\tid: string;\r\n\t\tclassName?: string;\r\n\t\tisSelected?: boolean;\r\n\t},\r\n\tforwardedRef: ForwardedRef< any >\r\n) {\r\n\tconst { id, isSelected, ...additionalProps } = props;\r\n\r\n\tconst { setActiveId, activeId } = useContext( CircularOptionPickerContext );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( isSelected && ! activeId ) {\r\n\t\t\t// The setTimeout call is necessary to make sure that this update\r\n\t\t\t// doesn't get overridden by `Composite`'s internal logic, which picks\r\n\t\t\t// an initial active item if one is not specifically set.\r\n\t\t\twindow.setTimeout( () => setActiveId?.( id ), 0 );\r\n\t\t}\r\n\t}, [ isSelected, setActiveId, activeId, id ] );\r\n\r\n\treturn (\r\n\t\t<Composite.Item\r\n\t\t\trender={\r\n\t\t\t\t<Button\r\n\t\t\t\t\t{ ...additionalProps }\r\n\t\t\t\t\trole=\"option\"\r\n\t\t\t\t\taria-selected={ !! isSelected }\r\n\t\t\t\t\tref={ forwardedRef }\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\tid={ id }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nconst OptionAsOption = forwardRef( UnforwardedOptionAsOption );\r\n\r\nexport function Option( {\r\n\tclassName,\r\n\tisSelected,\r\n\tselectedIconProps = {},\r\n\ttooltipText,\r\n\t...additionalProps\r\n}: OptionProps ) {\r\n\tconst { baseId, setActiveId } = useContext( CircularOptionPickerContext );\r\n\tconst id = useInstanceId(\r\n\t\tOption,\r\n\t\tbaseId || 'components-circular-option-picker__option'\r\n\t);\r\n\r\n\tconst commonProps = {\r\n\t\tid,\r\n\t\tclassName: 'components-circular-option-picker__option',\r\n\t\t...additionalProps,\r\n\t};\r\n\r\n\tconst isListbox = setActiveId !== undefined;\r\n\tconst optionControl = isListbox ? (\r\n\t\t<OptionAsOption { ...commonProps } isSelected={ isSelected } />\r\n\t) : (\r\n\t\t<OptionAsButton { ...commonProps } isPressed={ isSelected } />\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={ clsx(\r\n\t\t\t\tclassName,\r\n\t\t\t\t'components-circular-option-picker__option-wrapper'\r\n\t\t\t) }\r\n\t\t>\r\n\t\t\t{ tooltipText ? (\r\n\t\t\t\t<Tooltip text={ tooltipText }>{ optionControl }</Tooltip>\r\n\t\t\t) : (\r\n\t\t\t\toptionControl\r\n\t\t\t) }\r\n\t\t\t{ isSelected && <Icon icon={ check } { ...selectedIconProps } /> }\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}