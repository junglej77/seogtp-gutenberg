{"version":3,"names":["clsx","useInstanceId","isRTL","useMemo","useState","CircularOptionPickerContext","Composite","Option","OptionGroup","ButtonAction","DropdownLinkAction","jsx","_jsx","jsxs","_jsxs","ListboxCircularOptionPicker","props","actions","options","baseId","className","loop","children","additionalProps","activeId","setActiveId","undefined","contextValue","Provider","value","id","focusLoop","rtl","role","ButtonsCircularOptionPicker","CircularOptionPicker","asButtons","actionsProp","optionsProp","OptionPickerImplementation"],"sources":["@wordpress/components/src/circular-option-picker/circular-option-picker.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { isRTL } from '@wordpress/i18n';\r\nimport { useMemo, useState } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { CircularOptionPickerContext } from './circular-option-picker-context';\r\nimport { Composite } from '../composite';\r\nimport type {\r\n\tCircularOptionPickerProps,\r\n\tListboxCircularOptionPickerProps,\r\n\tButtonsCircularOptionPickerProps,\r\n} from './types';\r\nimport { Option } from './circular-option-picker-option';\r\nimport { OptionGroup } from './circular-option-picker-option-group';\r\nimport {\r\n\tButtonAction,\r\n\tDropdownLinkAction,\r\n} from './circular-option-picker-actions';\r\n\r\n/**\r\n *`CircularOptionPicker` is a component that displays a set of options as circular buttons.\r\n *\r\n * ```jsx\r\n * import { CircularOptionPicker } from '../circular-option-picker';\r\n * import { useState } from '@wordpress/element';\r\n *\r\n * const Example = () => {\r\n * \tconst [ currentColor, setCurrentColor ] = useState();\r\n * \tconst colors = [\r\n * \t\t{ color: '#f00', name: 'Red' },\r\n * \t\t{ color: '#0f0', name: 'Green' },\r\n * \t\t{ color: '#00f', name: 'Blue' },\r\n * \t];\r\n * \tconst colorOptions = (\r\n * \t\t<>\r\n * \t\t\t{ colors.map( ( { color, name }, index ) => {\r\n * \t\t\t\treturn (\r\n * \t\t\t\t\t<CircularOptionPicker.Option\r\n * \t\t\t\t\t\tkey={ `${ color }-${ index }` }\r\n * \t\t\t\t\t\ttooltipText={ name }\r\n * \t\t\t\t\t\tstyle={ { backgroundColor: color, color } }\r\n * \t\t\t\t\t\tisSelected={ index === currentColor }\r\n * \t\t\t\t\t\tonClick={ () => setCurrentColor( index ) }\r\n * \t\t\t\t\t\taria-label={ name }\r\n * \t\t\t\t\t/>\r\n * \t\t\t\t);\r\n * \t\t\t} ) }\r\n * \t\t</>\r\n * \t);\r\n * \treturn (\r\n * \t\t<CircularOptionPicker\r\n * \t\t\t\toptions={ colorOptions }\r\n * \t\t\t\tactions={\r\n * \t\t\t\t\t<CircularOptionPicker.ButtonAction\r\n * \t\t\t\t\t\tonClick={ () => setCurrentColor( undefined ) }\r\n * \t\t\t\t\t>\r\n * \t\t\t\t\t\t{ 'Clear' }\r\n * \t\t\t\t\t</CircularOptionPicker.ButtonAction>\r\n * \t\t\t\t}\r\n * \t\t\t/>\r\n * \t);\r\n * };\r\n * ```\r\n */\r\n\r\nfunction ListboxCircularOptionPicker(\r\n\tprops: ListboxCircularOptionPickerProps\r\n) {\r\n\tconst {\r\n\t\tactions,\r\n\t\toptions,\r\n\t\tbaseId,\r\n\t\tclassName,\r\n\t\tloop = true,\r\n\t\tchildren,\r\n\t\t...additionalProps\r\n\t} = props;\r\n\r\n\tconst [ activeId, setActiveId ] = useState< string | null | undefined >(\r\n\t\tundefined\r\n\t);\r\n\r\n\tconst contextValue = useMemo(\r\n\t\t() => ( {\r\n\t\t\tbaseId,\r\n\t\t\tactiveId,\r\n\t\t\tsetActiveId,\r\n\t\t} ),\r\n\t\t[ baseId, activeId, setActiveId ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={ className }>\r\n\t\t\t<CircularOptionPickerContext.Provider value={ contextValue }>\r\n\t\t\t\t<Composite\r\n\t\t\t\t\t{ ...additionalProps }\r\n\t\t\t\t\tid={ baseId }\r\n\t\t\t\t\tfocusLoop={ loop }\r\n\t\t\t\t\trtl={ isRTL() }\r\n\t\t\t\t\trole=\"listbox\"\r\n\t\t\t\t\tactiveId={ activeId }\r\n\t\t\t\t\tsetActiveId={ setActiveId }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ options }\r\n\t\t\t\t</Composite>\r\n\t\t\t\t{ children }\r\n\t\t\t\t{ actions }\r\n\t\t\t</CircularOptionPickerContext.Provider>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ButtonsCircularOptionPicker(\r\n\tprops: ButtonsCircularOptionPickerProps\r\n) {\r\n\tconst { actions, options, children, baseId, ...additionalProps } = props;\r\n\r\n\tconst contextValue = useMemo(\r\n\t\t() => ( {\r\n\t\t\tbaseId,\r\n\t\t} ),\r\n\t\t[ baseId ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div { ...additionalProps } id={ baseId }>\r\n\t\t\t<CircularOptionPickerContext.Provider value={ contextValue }>\r\n\t\t\t\t{ options }\r\n\t\t\t\t{ children }\r\n\t\t\t\t{ actions }\r\n\t\t\t</CircularOptionPickerContext.Provider>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction CircularOptionPicker( props: CircularOptionPickerProps ) {\r\n\tconst {\r\n\t\tasButtons,\r\n\t\tactions: actionsProp,\r\n\t\toptions: optionsProp,\r\n\t\tchildren,\r\n\t\tclassName,\r\n\t\t...additionalProps\r\n\t} = props;\r\n\r\n\tconst baseId = useInstanceId(\r\n\t\tCircularOptionPicker,\r\n\t\t'components-circular-option-picker',\r\n\t\tadditionalProps.id\r\n\t);\r\n\r\n\tconst OptionPickerImplementation = asButtons\r\n\t\t? ButtonsCircularOptionPicker\r\n\t\t: ListboxCircularOptionPicker;\r\n\r\n\tconst actions = actionsProp ? (\r\n\t\t<div className=\"components-circular-option-picker__custom-clear-wrapper\">\r\n\t\t\t{ actionsProp }\r\n\t\t</div>\r\n\t) : undefined;\r\n\r\n\tconst options = (\r\n\t\t<div className=\"components-circular-option-picker__swatches\">\r\n\t\t\t{ optionsProp }\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<OptionPickerImplementation\r\n\t\t\t{ ...additionalProps }\r\n\t\t\tbaseId={ baseId }\r\n\t\t\tclassName={ clsx( 'components-circular-option-picker', className ) }\r\n\t\t\tactions={ actions }\r\n\t\t\toptions={ options }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</OptionPickerImplementation>\r\n\t);\r\n}\r\n\r\nCircularOptionPicker.Option = Option;\r\nCircularOptionPicker.OptionGroup = OptionGroup;\r\nCircularOptionPicker.ButtonAction = ButtonAction;\r\nCircularOptionPicker.DropdownLinkAction = DropdownLinkAction;\r\n\r\nexport default CircularOptionPicker;\r\n"],"mappings":"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","ignoreList":[]}