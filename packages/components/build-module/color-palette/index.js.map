{"version":3,"names":["colord","extend","namesPlugin","a11yPlugin","clsx","useInstanceId","__","sprintf","useCallback","useMemo","useState","forwardRef","Dropdown","ColorPicker","CircularOptionPicker","VStack","Truncate","ColorHeading","DropdownContentWrapper","extractColorNameFromCurrentValue","isMultiplePaletteArray","normalizeColorValue","jsx","_jsx","jsxs","_jsxs","SinglePalette","className","clearColor","colors","onChange","value","additionalProps","colorOptions","map","color","name","index","colordColor","isSelected","Option","selectedIconProps","fill","contrast","tooltipText","style","backgroundColor","onClick","OptionGroup","options","MultiplePalettes","headingLevel","instanceId","length","spacing","children","colorPalette","id","level","newColor","CustomColorPickerDropdown","isRenderedInSidebar","popoverProps","receivedPopoverProps","props","shift","resize","placement","offset","contentClassName","UnforwardedColorPalette","forwardedRef","asButtons","loop","clearable","disableCustomColors","enableAlpha","__experimentalIsRenderedInSidebar","ariaLabel","ariaLabelledby","normalizedColorValue","setNormalizedColorValue","undefined","customColorPaletteCallbackRef","node","hasMultipleColorOrigins","buttonLabelName","renderCustomColorPicker","paddingSize","isHex","startsWith","displayValue","replace","customColorAccessibleLabel","paletteCommonProps","actions","ButtonAction","metaProps","_metaProps","ref","renderContent","renderToggle","isOpen","onToggle","background","type","ColorPalette"],"sources":["@wordpress/components/src/color-palette/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type { ForwardedRef } from 'react';\r\nimport { colord, extend } from 'colord';\r\nimport namesPlugin from 'colord/plugins/names';\r\nimport a11yPlugin from 'colord/plugins/a11y';\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useCallback, useMemo, useState, forwardRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Dropdown from '../dropdown';\r\nimport { ColorPicker } from '../color-picker';\r\nimport CircularOptionPicker from '../circular-option-picker';\r\nimport { VStack } from '../v-stack';\r\nimport { Truncate } from '../truncate';\r\nimport { ColorHeading } from './styles';\r\nimport DropdownContentWrapper from '../dropdown/dropdown-content-wrapper';\r\nimport type {\r\n\tColorObject,\r\n\tColorPaletteProps,\r\n\tCustomColorPickerDropdownProps,\r\n\tMultiplePalettesProps,\r\n\tPaletteObject,\r\n\tSinglePaletteProps,\r\n} from './types';\r\nimport type { WordPressComponentProps } from '../context';\r\nimport type { DropdownProps } from '../dropdown/types';\r\nimport {\r\n\textractColorNameFromCurrentValue,\r\n\tisMultiplePaletteArray,\r\n\tnormalizeColorValue,\r\n} from './utils';\r\n\r\nextend( [ namesPlugin, a11yPlugin ] );\r\n\r\nfunction SinglePalette( {\r\n\tclassName,\r\n\tclearColor,\r\n\tcolors,\r\n\tonChange,\r\n\tvalue,\r\n\t...additionalProps\r\n}: SinglePaletteProps ) {\r\n\tconst colorOptions = useMemo( () => {\r\n\t\treturn colors.map( ( { color, name }, index ) => {\r\n\t\t\tconst colordColor = colord( color );\r\n\t\t\tconst isSelected = value === color;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<CircularOptionPicker.Option\r\n\t\t\t\t\tkey={ `${ color }-${ index }` }\r\n\t\t\t\t\tisSelected={ isSelected }\r\n\t\t\t\t\tselectedIconProps={\r\n\t\t\t\t\t\tisSelected\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\tfill:\r\n\t\t\t\t\t\t\t\t\t\tcolordColor.contrast() >\r\n\t\t\t\t\t\t\t\t\t\tcolordColor.contrast( '#000' )\r\n\t\t\t\t\t\t\t\t\t\t\t? '#fff'\r\n\t\t\t\t\t\t\t\t\t\t\t: '#000',\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttooltipText={\r\n\t\t\t\t\t\tname ||\r\n\t\t\t\t\t\t// translators: %s: color hex code e.g: \"#f00\".\r\n\t\t\t\t\t\tsprintf( __( 'Color code: %s' ), color )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstyle={ { backgroundColor: color, color } }\r\n\t\t\t\t\tonClick={\r\n\t\t\t\t\t\tisSelected ? clearColor : () => onChange( color, index )\r\n\t\t\t\t\t}\r\n\t\t\t\t\taria-label={\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\t? // translators: %s: The name of the color e.g: \"vivid red\".\r\n\t\t\t\t\t\t\t  sprintf( __( 'Color: %s' ), name )\r\n\t\t\t\t\t\t\t: // translators: %s: color hex code e.g: \"#f00\".\r\n\t\t\t\t\t\t\t  sprintf( __( 'Color code: %s' ), color )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t} );\r\n\t}, [ colors, value, onChange, clearColor ] );\r\n\r\n\treturn (\r\n\t\t<CircularOptionPicker.OptionGroup\r\n\t\t\tclassName={ className }\r\n\t\t\toptions={ colorOptions }\r\n\t\t\t{ ...additionalProps }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction MultiplePalettes( {\r\n\tclassName,\r\n\tclearColor,\r\n\tcolors,\r\n\tonChange,\r\n\tvalue,\r\n\theadingLevel,\r\n}: MultiplePalettesProps ) {\r\n\tconst instanceId = useInstanceId( MultiplePalettes, 'color-palette' );\r\n\r\n\tif ( colors.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<VStack spacing={ 3 } className={ className }>\r\n\t\t\t{ colors.map( ( { name, colors: colorPalette }, index ) => {\r\n\t\t\t\tconst id = `${ instanceId }-${ index }`;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<VStack spacing={ 2 } key={ index }>\r\n\t\t\t\t\t\t<ColorHeading id={ id } level={ headingLevel }>\r\n\t\t\t\t\t\t\t{ name }\r\n\t\t\t\t\t\t</ColorHeading>\r\n\t\t\t\t\t\t<SinglePalette\r\n\t\t\t\t\t\t\tclearColor={ clearColor }\r\n\t\t\t\t\t\t\tcolors={ colorPalette }\r\n\t\t\t\t\t\t\tonChange={ ( newColor ) =>\r\n\t\t\t\t\t\t\t\tonChange( newColor, index )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\t\taria-labelledby={ id }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</VStack>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</VStack>\r\n\t);\r\n}\r\n\r\nexport function CustomColorPickerDropdown( {\r\n\tisRenderedInSidebar,\r\n\tpopoverProps: receivedPopoverProps,\r\n\t...props\r\n}: CustomColorPickerDropdownProps ) {\r\n\tconst popoverProps = useMemo< DropdownProps[ 'popoverProps' ] >(\r\n\t\t() => ( {\r\n\t\t\tshift: true,\r\n\t\t\t// Disabling resize as it would otherwise cause the popover to show\r\n\t\t\t// scrollbars while dragging the color picker's handle close to the\r\n\t\t\t// popover edge.\r\n\t\t\tresize: false,\r\n\t\t\t...( isRenderedInSidebar\r\n\t\t\t\t? {\r\n\t\t\t\t\t\t// When in the sidebar: open to the left (stacking),\r\n\t\t\t\t\t\t// leaving the same gap as the parent popover.\r\n\t\t\t\t\t\tplacement: 'left-start',\r\n\t\t\t\t\t\toffset: 34,\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\t// Default behavior: open below the anchor\r\n\t\t\t\t\t\tplacement: 'bottom',\r\n\t\t\t\t\t\toffset: 8,\r\n\t\t\t\t  } ),\r\n\t\t\t...receivedPopoverProps,\r\n\t\t} ),\r\n\t\t[ isRenderedInSidebar, receivedPopoverProps ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\tcontentClassName=\"components-color-palette__custom-color-dropdown-content\"\r\n\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t{ ...props }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction UnforwardedColorPalette(\r\n\tprops: WordPressComponentProps< ColorPaletteProps, 'div' >,\r\n\tforwardedRef: ForwardedRef< any >\r\n) {\r\n\tconst {\r\n\t\tasButtons,\r\n\t\tloop,\r\n\t\tclearable = true,\r\n\t\tcolors = [],\r\n\t\tdisableCustomColors = false,\r\n\t\tenableAlpha = false,\r\n\t\tonChange,\r\n\t\tvalue,\r\n\t\t__experimentalIsRenderedInSidebar = false,\r\n\t\theadingLevel = 2,\r\n\t\t'aria-label': ariaLabel,\r\n\t\t'aria-labelledby': ariaLabelledby,\r\n\t\t...additionalProps\r\n\t} = props;\r\n\tconst [ normalizedColorValue, setNormalizedColorValue ] = useState( value );\r\n\r\n\tconst clearColor = useCallback( () => onChange( undefined ), [ onChange ] );\r\n\r\n\tconst customColorPaletteCallbackRef = useCallback(\r\n\t\t( node: HTMLElement | null ) => {\r\n\t\t\tsetNormalizedColorValue( normalizeColorValue( value, node ) );\r\n\t\t},\r\n\t\t[ value ]\r\n\t);\r\n\r\n\tconst hasMultipleColorOrigins = isMultiplePaletteArray( colors );\r\n\tconst buttonLabelName = useMemo(\r\n\t\t() =>\r\n\t\t\textractColorNameFromCurrentValue(\r\n\t\t\t\tvalue,\r\n\t\t\t\tcolors,\r\n\t\t\t\thasMultipleColorOrigins\r\n\t\t\t),\r\n\t\t[ value, colors, hasMultipleColorOrigins ]\r\n\t);\r\n\r\n\tconst renderCustomColorPicker = () => (\r\n\t\t<DropdownContentWrapper paddingSize=\"none\">\r\n\t\t\t<ColorPicker\r\n\t\t\t\tcolor={ normalizedColorValue }\r\n\t\t\t\tonChange={ ( color ) => onChange( color ) }\r\n\t\t\t\tenableAlpha={ enableAlpha }\r\n\t\t\t/>\r\n\t\t</DropdownContentWrapper>\r\n\t);\r\n\tconst isHex = value?.startsWith( '#' );\r\n\r\n\t// Leave hex values as-is. Remove the `var()` wrapper from CSS vars.\r\n\tconst displayValue = value?.replace( /^var\\((.+)\\)$/, '$1' );\r\n\tconst customColorAccessibleLabel = !! displayValue\r\n\t\t? sprintf(\r\n\t\t\t\t// translators: %1$s: The name of the color e.g: \"vivid red\". %2$s: The color's hex code e.g: \"#f00\".\r\n\t\t\t\t__(\r\n\t\t\t\t\t'Custom color picker. The currently selected color is called \"%1$s\" and has a value of \"%2$s\".'\r\n\t\t\t\t),\r\n\t\t\t\tbuttonLabelName,\r\n\t\t\t\tdisplayValue\r\n\t\t  )\r\n\t\t: __( 'Custom color picker.' );\r\n\r\n\tconst paletteCommonProps = {\r\n\t\tclearColor,\r\n\t\tonChange,\r\n\t\tvalue,\r\n\t};\r\n\r\n\tconst actions = !! clearable && (\r\n\t\t<CircularOptionPicker.ButtonAction onClick={ clearColor }>\r\n\t\t\t{ __( 'Clear' ) }\r\n\t\t</CircularOptionPicker.ButtonAction>\r\n\t);\r\n\r\n\tlet metaProps:\r\n\t\t| { asButtons: false; loop?: boolean; 'aria-label': string }\r\n\t\t| { asButtons: false; loop?: boolean; 'aria-labelledby': string }\r\n\t\t| { asButtons: true };\r\n\r\n\tif ( asButtons ) {\r\n\t\tmetaProps = { asButtons: true };\r\n\t} else {\r\n\t\tconst _metaProps: { asButtons: false; loop?: boolean } = {\r\n\t\t\tasButtons: false,\r\n\t\t\tloop,\r\n\t\t};\r\n\r\n\t\tif ( ariaLabel ) {\r\n\t\t\tmetaProps = { ..._metaProps, 'aria-label': ariaLabel };\r\n\t\t} else if ( ariaLabelledby ) {\r\n\t\t\tmetaProps = {\r\n\t\t\t\t..._metaProps,\r\n\t\t\t\t'aria-labelledby': ariaLabelledby,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tmetaProps = {\r\n\t\t\t\t..._metaProps,\r\n\t\t\t\t'aria-label': __( 'Custom color picker.' ),\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<VStack spacing={ 3 } ref={ forwardedRef } { ...additionalProps }>\r\n\t\t\t{ ! disableCustomColors && (\r\n\t\t\t\t<CustomColorPickerDropdown\r\n\t\t\t\t\tisRenderedInSidebar={ __experimentalIsRenderedInSidebar }\r\n\t\t\t\t\trenderContent={ renderCustomColorPicker }\r\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\r\n\t\t\t\t\t\t<VStack\r\n\t\t\t\t\t\t\tclassName=\"components-color-palette__custom-color-wrapper\"\r\n\t\t\t\t\t\t\tspacing={ 0 }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tref={ customColorPaletteCallbackRef }\r\n\t\t\t\t\t\t\t\tclassName=\"components-color-palette__custom-color-button\"\r\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\r\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\tonClick={ onToggle }\r\n\t\t\t\t\t\t\t\taria-label={ customColorAccessibleLabel }\r\n\t\t\t\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t\t\t\tbackground: value,\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<VStack\r\n\t\t\t\t\t\t\t\tclassName=\"components-color-palette__custom-color-text-wrapper\"\r\n\t\t\t\t\t\t\t\tspacing={ 0.5 }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Truncate className=\"components-color-palette__custom-color-name\">\r\n\t\t\t\t\t\t\t\t\t{ value\r\n\t\t\t\t\t\t\t\t\t\t? buttonLabelName\r\n\t\t\t\t\t\t\t\t\t\t: __( 'No color selected' ) }\r\n\t\t\t\t\t\t\t\t</Truncate>\r\n\t\t\t\t\t\t\t\t{ /*\r\n\t\t\t\t\t\t\t\tThis `Truncate` is always rendered, even if\r\n\t\t\t\t\t\t\t\tthere is no `displayValue`, to ensure the layout\r\n\t\t\t\t\t\t\t\tdoes not shift\r\n\t\t\t\t\t\t\t\t*/ }\r\n\t\t\t\t\t\t\t\t<Truncate\r\n\t\t\t\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t\t\t\t'components-color-palette__custom-color-value',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t'components-color-palette__custom-color-value--is-hex':\r\n\t\t\t\t\t\t\t\t\t\t\t\tisHex,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ displayValue }\r\n\t\t\t\t\t\t\t\t</Truncate>\r\n\t\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ ( colors.length > 0 || actions ) && (\r\n\t\t\t\t<CircularOptionPicker\r\n\t\t\t\t\t{ ...metaProps }\r\n\t\t\t\t\tactions={ actions }\r\n\t\t\t\t\toptions={\r\n\t\t\t\t\t\thasMultipleColorOrigins ? (\r\n\t\t\t\t\t\t\t<MultiplePalettes\r\n\t\t\t\t\t\t\t\t{ ...paletteCommonProps }\r\n\t\t\t\t\t\t\t\theadingLevel={ headingLevel }\r\n\t\t\t\t\t\t\t\tcolors={ colors as PaletteObject[] }\r\n\t\t\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<SinglePalette\r\n\t\t\t\t\t\t\t\t{ ...paletteCommonProps }\r\n\t\t\t\t\t\t\t\tcolors={ colors as ColorObject[] }\r\n\t\t\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</VStack>\r\n\t);\r\n}\r\n\r\n/**\r\n * Allows the user to pick a color from a list of pre-defined color entries.\r\n *\r\n * ```jsx\r\n * import { ColorPalette } from '@wordpress/components';\r\n * import { useState } from '@wordpress/element';\r\n *\r\n * const MyColorPalette = () => {\r\n *   const [ color, setColor ] = useState ( '#f00' )\r\n *   const colors = [\r\n *     { name: 'red', color: '#f00' },\r\n *     { name: 'white', color: '#fff' },\r\n *     { name: 'blue', color: '#00f' },\r\n *   ];\r\n *   return (\r\n *     <ColorPalette\r\n *       colors={ colors }\r\n *       value={ color }\r\n *       onChange={ ( color ) => setColor( color ) }\r\n *     />\r\n *   );\r\n * } );\r\n * ```\r\n */\r\nexport const ColorPalette = forwardRef( UnforwardedColorPalette );\r\n\r\nexport default ColorPalette;\r\n"],"mappings":"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","ignoreList":[]}