{"version":3,"names":["colord","extend","namesPlugin","useCallback","useState","useMemo","useDebounce","__","useContextSystem","contextConnect","ColorfulWrapper","SelectControl","AuxiliaryColorArtefactWrapper","AuxiliaryColorArtefactHStackHeader","ColorInputWrapper","ColorCopyButton","ColorInput","Picker","useControlledValue","jsx","_jsx","jsxs","_jsxs","options","label","value","UnconnectedColorPicker","props","forwardedRef","enableAlpha","color","colorProp","onChange","defaultValue","copyFormat","divProps","setColor","safeColordColor","debouncedSetColor","handleChange","nextValue","toHex","colorType","setColorType","ref","children","justify","__nextHasNoMarginBottom","nextColorType","hideLabelFromVision","variant","direction","gap","ColorPicker"],"sources":["@wordpress/components/src/color-picker/component.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type { ForwardedRef } from 'react';\r\nimport type { Colord } from 'colord';\r\nimport { colord, extend } from 'colord';\r\nimport namesPlugin from 'colord/plugins/names';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useCallback, useState, useMemo } from '@wordpress/element';\r\nimport { useDebounce } from '@wordpress/compose';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useContextSystem, contextConnect } from '../context';\r\nimport {\r\n\tColorfulWrapper,\r\n\tSelectControl,\r\n\tAuxiliaryColorArtefactWrapper,\r\n\tAuxiliaryColorArtefactHStackHeader,\r\n\tColorInputWrapper,\r\n} from './styles';\r\nimport { ColorCopyButton } from './color-copy-button';\r\nimport { ColorInput } from './color-input';\r\nimport { Picker } from './picker';\r\nimport { useControlledValue } from '../utils/hooks';\r\n\r\nimport type { ColorPickerProps, ColorType } from './types';\r\n\r\nextend( [ namesPlugin ] );\r\n\r\nconst options = [\r\n\t{ label: 'RGB', value: 'rgb' as const },\r\n\t{ label: 'HSL', value: 'hsl' as const },\r\n\t{ label: 'Hex', value: 'hex' as const },\r\n];\r\n\r\nconst UnconnectedColorPicker = (\r\n\tprops: ColorPickerProps,\r\n\tforwardedRef: ForwardedRef< any >\r\n) => {\r\n\tconst {\r\n\t\tenableAlpha = false,\r\n\t\tcolor: colorProp,\r\n\t\tonChange,\r\n\t\tdefaultValue = '#fff',\r\n\t\tcopyFormat,\r\n\t\t...divProps\r\n\t} = useContextSystem( props, 'ColorPicker' );\r\n\r\n\t// Use a safe default value for the color and remove the possibility of `undefined`.\r\n\tconst [ color, setColor ] = useControlledValue( {\r\n\t\tonChange,\r\n\t\tvalue: colorProp,\r\n\t\tdefaultValue,\r\n\t} );\r\n\r\n\tconst safeColordColor = useMemo( () => {\r\n\t\treturn colord( color || '' );\r\n\t}, [ color ] );\r\n\r\n\tconst debouncedSetColor = useDebounce( setColor );\r\n\r\n\tconst handleChange = useCallback(\r\n\t\t( nextValue: Colord ) => {\r\n\t\t\tdebouncedSetColor( nextValue.toHex() );\r\n\t\t},\r\n\t\t[ debouncedSetColor ]\r\n\t);\r\n\r\n\tconst [ colorType, setColorType ] = useState< ColorType >(\r\n\t\tcopyFormat || 'hex'\r\n\t);\r\n\r\n\treturn (\r\n\t\t<ColorfulWrapper ref={ forwardedRef } { ...divProps }>\r\n\t\t\t<Picker\r\n\t\t\t\tonChange={ handleChange }\r\n\t\t\t\tcolor={ safeColordColor }\r\n\t\t\t\tenableAlpha={ enableAlpha }\r\n\t\t\t/>\r\n\t\t\t<AuxiliaryColorArtefactWrapper>\r\n\t\t\t\t<AuxiliaryColorArtefactHStackHeader justify=\"space-between\">\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\toptions={ options }\r\n\t\t\t\t\t\tvalue={ colorType }\r\n\t\t\t\t\t\tonChange={ ( nextColorType ) =>\r\n\t\t\t\t\t\t\tsetColorType( nextColorType as ColorType )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={ __( 'Color format' ) }\r\n\t\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\t\tvariant=\"minimal\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ColorCopyButton\r\n\t\t\t\t\t\tcolor={ safeColordColor }\r\n\t\t\t\t\t\tcolorType={ copyFormat || colorType }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</AuxiliaryColorArtefactHStackHeader>\r\n\t\t\t\t<ColorInputWrapper direction=\"column\" gap={ 2 }>\r\n\t\t\t\t\t<ColorInput\r\n\t\t\t\t\t\tcolorType={ colorType }\r\n\t\t\t\t\t\tcolor={ safeColordColor }\r\n\t\t\t\t\t\tonChange={ handleChange }\r\n\t\t\t\t\t\tenableAlpha={ enableAlpha }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ColorInputWrapper>\r\n\t\t\t</AuxiliaryColorArtefactWrapper>\r\n\t\t</ColorfulWrapper>\r\n\t);\r\n};\r\n\r\nexport const ColorPicker = contextConnect(\r\n\tUnconnectedColorPicker,\r\n\t'ColorPicker'\r\n);\r\n\r\nexport default ColorPicker;\r\n"],"mappings":"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","ignoreList":[]}