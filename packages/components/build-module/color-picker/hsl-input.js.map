{"version":3,"names":["colord","useState","useEffect","useMemo","InputWithSlider","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","HslInput","color","onChange","enableAlpha","colorPropHSLA","toHsl","internalHSLA","setInternalHSLA","isInternalColorSameAsReceivedColor","isEqual","colorValue","updateHSLAValue","partialNewValue","nextOnChangeValue","prevHSLA","children","min","max","label","abbreviation","value","h","nextH","s","nextS","l","nextL","Math","trunc","a","nextA"],"sources":["@wordpress/components/src/color-picker/hsl-input.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { colord } from 'colord';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useState, useEffect, useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { InputWithSlider } from './input-with-slider';\r\nimport type { HslInputProps } from './types';\r\n\r\nexport const HslInput = ( { color, onChange, enableAlpha }: HslInputProps ) => {\r\n\tconst colorPropHSLA = useMemo( () => color.toHsl(), [ color ] );\r\n\r\n\tconst [ internalHSLA, setInternalHSLA ] = useState( { ...colorPropHSLA } );\r\n\r\n\tconst isInternalColorSameAsReceivedColor = color.isEqual(\r\n\t\tcolord( internalHSLA )\r\n\t);\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ! isInternalColorSameAsReceivedColor ) {\r\n\t\t\t// Keep internal HSLA color up to date with the received color prop\r\n\t\t\tsetInternalHSLA( colorPropHSLA );\r\n\t\t}\r\n\t}, [ colorPropHSLA, isInternalColorSameAsReceivedColor ] );\r\n\r\n\t// If the internal color is equal to the received color prop, we can use the\r\n\t// HSLA values from the local state which, compared to the received color prop,\r\n\t// retain more details about the actual H and S values that the user selected,\r\n\t// and thus allow for better UX when interacting with the H and S sliders.\r\n\tconst colorValue = isInternalColorSameAsReceivedColor\r\n\t\t? internalHSLA\r\n\t\t: colorPropHSLA;\r\n\r\n\tconst updateHSLAValue = (\r\n\t\tpartialNewValue: Partial< typeof colorPropHSLA >\r\n\t) => {\r\n\t\tconst nextOnChangeValue = colord( {\r\n\t\t\t...colorValue,\r\n\t\t\t...partialNewValue,\r\n\t\t} );\r\n\r\n\t\t// Fire `onChange` only if the resulting color is different from the\r\n\t\t// current one.\r\n\t\t// Otherwise, update the internal HSLA color to cause a re-render.\r\n\t\tif ( ! color.isEqual( nextOnChangeValue ) ) {\r\n\t\t\tonChange( nextOnChangeValue );\r\n\t\t} else {\r\n\t\t\tsetInternalHSLA( ( prevHSLA ) => ( {\r\n\t\t\t\t...prevHSLA,\r\n\t\t\t\t...partialNewValue,\r\n\t\t\t} ) );\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InputWithSlider\r\n\t\t\t\tmin={ 0 }\r\n\t\t\t\tmax={ 359 }\r\n\t\t\t\tlabel=\"Hue\"\r\n\t\t\t\tabbreviation=\"H\"\r\n\t\t\t\tvalue={ colorValue.h }\r\n\t\t\t\tonChange={ ( nextH: number ) => {\r\n\t\t\t\t\tupdateHSLAValue( { h: nextH } );\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t\t<InputWithSlider\r\n\t\t\t\tmin={ 0 }\r\n\t\t\t\tmax={ 100 }\r\n\t\t\t\tlabel=\"Saturation\"\r\n\t\t\t\tabbreviation=\"S\"\r\n\t\t\t\tvalue={ colorValue.s }\r\n\t\t\t\tonChange={ ( nextS: number ) => {\r\n\t\t\t\t\tupdateHSLAValue( { s: nextS } );\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t\t<InputWithSlider\r\n\t\t\t\tmin={ 0 }\r\n\t\t\t\tmax={ 100 }\r\n\t\t\t\tlabel=\"Lightness\"\r\n\t\t\t\tabbreviation=\"L\"\r\n\t\t\t\tvalue={ colorValue.l }\r\n\t\t\t\tonChange={ ( nextL: number ) => {\r\n\t\t\t\t\tupdateHSLAValue( { l: nextL } );\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t\t{ enableAlpha && (\r\n\t\t\t\t<InputWithSlider\r\n\t\t\t\t\tmin={ 0 }\r\n\t\t\t\t\tmax={ 100 }\r\n\t\t\t\t\tlabel=\"Alpha\"\r\n\t\t\t\t\tabbreviation=\"A\"\r\n\t\t\t\t\tvalue={ Math.trunc( 100 * colorValue.a ) }\r\n\t\t\t\t\tonChange={ ( nextA: number ) => {\r\n\t\t\t\t\t\tupdateHSLAValue( { a: nextA / 100 } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n};\r\n"],"mappings":"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","ignoreList":[]}