{"version":3,"names":["Animated","View","PanResponder","LinearGradient","React","Component","styles","jsx","_jsx","jsxs","_jsxs","HuePicker","constructor","props","hueColors","sliderX","Value","barHeight","hue","panResponder","create","onStartShouldSetPanResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","onMoveShouldSetPanResponderCapture","onPanResponderGrant","evt","gestureState","onPress","dragStartValue","computeHueValuePress","nativeEvent","fireDragEvent","onPanResponderMove","onPanResponderTerminationRequest","onPanResponderRelease","onPanResponderTerminate","onShouldBlockNativeResponder","componentDidUpdate","prevProps","barWidth","sliderSize","borderWidth","setValue","normalizeValue","value","getContainerStyle","containerStyle","paddingLeft","paddingTop","paddingBottom","paddingRight","computeHueValueDrag","dx","diff","updatedHue","event","locationX","eventName","firePressEvent","render","borderRadius","style","panHandlers","hitSlop","top","bottom","left","right","children","colors","start","x","y","end","width","height","pointerEvents","transform","translateX"],"sources":["@wordpress/components/src/color-picker/hue-picker.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { Animated, View, PanResponder } from 'react-native';\r\nimport LinearGradient from 'react-native-linear-gradient';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport React, { Component } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './style.scss';\r\n\r\nexport default class HuePicker extends Component {\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\tthis.hueColors = [\r\n\t\t\t'#ff0000',\r\n\t\t\t'#ffff00',\r\n\t\t\t'#00ff00',\r\n\t\t\t'#00ffff',\r\n\t\t\t'#0000ff',\r\n\t\t\t'#ff00ff',\r\n\t\t\t'#ff0000',\r\n\t\t];\r\n\t\tthis.sliderX = new Animated.Value(\r\n\t\t\t( props.barHeight * props.hue ) / 360\r\n\t\t);\r\n\t\tthis.panResponder = PanResponder.create( {\r\n\t\t\tonStartShouldSetPanResponder: () => true,\r\n\t\t\tonStartShouldSetPanResponderCapture: () => true,\r\n\t\t\tonMoveShouldSetPanResponder: () => true,\r\n\t\t\tonMoveShouldSetPanResponderCapture: () => true,\r\n\t\t\tonPanResponderGrant: ( evt, gestureState ) => {\r\n\t\t\t\tconst { onPress } = this.props;\r\n\t\t\t\tthis.dragStartValue = this.computeHueValuePress( evt );\r\n\r\n\t\t\t\tif ( onPress ) {\r\n\t\t\t\t\tonPress( {\r\n\t\t\t\t\t\thue: this.computeHueValuePress( evt ),\r\n\t\t\t\t\t\tnativeEvent: evt.nativeEvent,\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.fireDragEvent( 'onDragStart', gestureState );\r\n\t\t\t},\r\n\t\t\tonPanResponderMove: ( evt, gestureState ) => {\r\n\t\t\t\tthis.fireDragEvent( 'onDragMove', gestureState );\r\n\t\t\t},\r\n\t\t\tonPanResponderTerminationRequest: () => true,\r\n\t\t\tonPanResponderRelease: ( evt, gestureState ) => {\r\n\t\t\t\tthis.fireDragEvent( 'onDragEnd', gestureState );\r\n\t\t\t},\r\n\t\t\tonPanResponderTerminate: ( evt, gestureState ) => {\r\n\t\t\t\tthis.fireDragEvent( 'onDragTerminate', gestureState );\r\n\t\t\t},\r\n\t\t\tonShouldBlockNativeResponder: () => true,\r\n\t\t} );\r\n\t}\r\n\r\n\tcomponentDidUpdate( prevProps ) {\r\n\t\tconst { hue = 0, barWidth = 200, sliderSize = 24 } = this.props;\r\n\t\tconst borderWidth = sliderSize / 10;\r\n\t\tif ( prevProps.hue !== hue || prevProps.barWidth !== barWidth ) {\r\n\t\t\tthis.sliderX.setValue(\r\n\t\t\t\t( ( barWidth - sliderSize + borderWidth ) * hue ) / 360\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tnormalizeValue( value ) {\r\n\t\tif ( value < 0 ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif ( value > 1 ) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tgetContainerStyle() {\r\n\t\tconst {\r\n\t\t\tsliderSize = 24,\r\n\t\t\tbarHeight = 12,\r\n\t\t\tcontainerStyle = {},\r\n\t\t} = this.props;\r\n\t\tconst paddingLeft = sliderSize / 2;\r\n\t\tconst paddingTop =\r\n\t\t\tsliderSize - barHeight > 0 ? ( sliderSize - barHeight ) / 2 : 0;\r\n\t\treturn [\r\n\t\t\tstyles[ 'hsv-container' ],\r\n\t\t\tcontainerStyle,\r\n\t\t\t{\r\n\t\t\t\tpaddingTop,\r\n\t\t\t\tpaddingBottom: paddingTop,\r\n\t\t\t\tpaddingLeft,\r\n\t\t\t\tpaddingRight: paddingLeft,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tcomputeHueValueDrag( gestureState ) {\r\n\t\tconst { dx } = gestureState;\r\n\t\tconst { barWidth = 200 } = this.props;\r\n\t\tconst { dragStartValue } = this;\r\n\t\tconst diff = dx / barWidth;\r\n\t\tconst updatedHue =\r\n\t\t\tthis.normalizeValue( dragStartValue / 360 + diff ) * 360;\r\n\t\treturn updatedHue;\r\n\t}\r\n\r\n\tcomputeHueValuePress( event ) {\r\n\t\tconst { nativeEvent } = event;\r\n\t\tconst { locationX } = nativeEvent;\r\n\t\tconst { barWidth = 200 } = this.props;\r\n\t\tconst updatedHue = this.normalizeValue( locationX / barWidth ) * 360;\r\n\t\treturn updatedHue;\r\n\t}\r\n\r\n\tfireDragEvent( eventName, gestureState ) {\r\n\t\tconst { [ eventName ]: event } = this.props;\r\n\t\tif ( event ) {\r\n\t\t\tevent( {\r\n\t\t\t\thue: this.computeHueValueDrag( gestureState ),\r\n\t\t\t\tgestureState,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\tfirePressEvent( event ) {\r\n\t\tconst { onPress } = this.props;\r\n\t\tif ( onPress ) {\r\n\t\t\tonPress( {\r\n\t\t\t\thue: this.computeHueValuePress( event ),\r\n\t\t\t\tnativeEvent: event.nativeEvent,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { hueColors } = this;\r\n\t\tconst {\r\n\t\t\tsliderSize = 24,\r\n\t\t\tbarWidth = 200,\r\n\t\t\tbarHeight = 12,\r\n\t\t\tborderRadius = 0,\r\n\t\t} = this.props;\r\n\t\tconst borderWidth = sliderSize / 10;\r\n\t\treturn (\r\n\t\t\t<View\r\n\t\t\t\tstyle={ this.getContainerStyle() }\r\n\t\t\t\t{ ...this.panResponder.panHandlers }\r\n\t\t\t\thitSlop={ {\r\n\t\t\t\t\ttop: 10,\r\n\t\t\t\t\tbottom: 10,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\tright: 0,\r\n\t\t\t\t} }\r\n\t\t\t>\r\n\t\t\t\t<LinearGradient\r\n\t\t\t\t\tcolors={ hueColors }\r\n\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\tborderRadius,\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tstart={ { x: 0, y: 0 } }\r\n\t\t\t\t\tend={ { x: 1, y: 0 } }\r\n\t\t\t\t>\r\n\t\t\t\t\t<View\r\n\t\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t\twidth: barWidth,\r\n\t\t\t\t\t\t\theight: barHeight,\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</LinearGradient>\r\n\t\t\t\t<Animated.View\r\n\t\t\t\t\tpointerEvents=\"none\"\r\n\t\t\t\t\tstyle={ [\r\n\t\t\t\t\t\tstyles[ 'hue-slider' ],\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\twidth: sliderSize,\r\n\t\t\t\t\t\t\theight: sliderSize,\r\n\t\t\t\t\t\t\tleft: ( sliderSize - borderWidth ) / 2,\r\n\t\t\t\t\t\t\tborderRadius: sliderSize / 2,\r\n\t\t\t\t\t\t\ttransform: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttranslateX: this.sliderX,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t] }\r\n\t\t\t\t/>\r\n\t\t\t</View>\r\n\t\t);\r\n\t}\r\n}\r\n"],"mappings":"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","ignoreList":[]}