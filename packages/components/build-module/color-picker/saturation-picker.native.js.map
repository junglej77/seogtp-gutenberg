{"version":3,"names":["View","PanResponder","LinearGradient","colord","React","Component","styles","jsx","_jsx","jsxs","_jsxs","SaturationValuePicker","constructor","props","panResponder","create","onStartShouldSetPanResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","onMoveShouldSetPanResponderCapture","onPanResponderGrant","evt","gestureState","onPress","saturation","value","computeSatValPress","dragStartValue","nativeEvent","fireDragEvent","onPanResponderMove","onPanResponderTerminationRequest","onPanResponderRelease","onPanResponderTerminate","onShouldBlockNativeResponder","normalizeValue","computeSatValDrag","dx","dy","size","diffx","width","diffy","height","event","locationX","locationY","eventName","render","sliderSize","hue","containerStyle","borderRadius","currentColor","style","panHandlers","children","colors","h","s","l","toHex","start","x","y","end","pointerEvents","borderWidth","backgroundColor","transform","translateX","translateY"],"sources":["@wordpress/components/src/color-picker/saturation-picker.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View, PanResponder } from 'react-native';\r\nimport LinearGradient from 'react-native-linear-gradient';\r\nimport { colord } from 'colord';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport React, { Component } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './style.native.scss';\r\n\r\nexport default class SaturationValuePicker extends Component {\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\r\n\t\tthis.panResponder = PanResponder.create( {\r\n\t\t\tonStartShouldSetPanResponder: () => true,\r\n\t\t\tonStartShouldSetPanResponderCapture: () => true,\r\n\t\t\tonMoveShouldSetPanResponder: () => true,\r\n\t\t\tonMoveShouldSetPanResponderCapture: () => true,\r\n\t\t\tonPanResponderGrant: ( evt, gestureState ) => {\r\n\t\t\t\tconst { onPress } = this.props;\r\n\t\t\t\tconst { saturation, value } = this.computeSatValPress( evt );\r\n\t\t\t\tthis.dragStartValue = {\r\n\t\t\t\t\tsaturation,\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif ( onPress ) {\r\n\t\t\t\t\tonPress( {\r\n\t\t\t\t\t\t...this.computeSatValPress( evt ),\r\n\t\t\t\t\t\tnativeEvent: evt.nativeEvent,\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.fireDragEvent( 'onDragStart', gestureState );\r\n\t\t\t},\r\n\t\t\tonPanResponderMove: ( evt, gestureState ) => {\r\n\t\t\t\tthis.fireDragEvent( 'onDragMove', gestureState );\r\n\t\t\t},\r\n\t\t\tonPanResponderTerminationRequest: () => true,\r\n\t\t\tonPanResponderRelease: ( evt, gestureState ) => {\r\n\t\t\t\tthis.fireDragEvent( 'onDragEnd', gestureState );\r\n\t\t\t},\r\n\t\t\tonPanResponderTerminate: ( evt, gestureState ) => {\r\n\t\t\t\tthis.fireDragEvent( 'onDragTerminate', gestureState );\r\n\t\t\t},\r\n\t\t\tonShouldBlockNativeResponder: () => true,\r\n\t\t} );\r\n\t}\r\n\r\n\tnormalizeValue( value ) {\r\n\t\tif ( value < 0 ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif ( value > 1 ) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tcomputeSatValDrag( gestureState ) {\r\n\t\tconst { dx, dy } = gestureState;\r\n\t\tconst { size } = this.props;\r\n\t\tconst { saturation, value } = this.dragStartValue;\r\n\t\tconst diffx = dx / size.width;\r\n\t\tconst diffy = dy / size.height;\r\n\t\treturn {\r\n\t\t\tsaturation: this.normalizeValue( saturation + diffx ),\r\n\t\t\tvalue: this.normalizeValue( value - diffy ),\r\n\t\t};\r\n\t}\r\n\r\n\tcomputeSatValPress( event ) {\r\n\t\tconst { nativeEvent } = event;\r\n\t\tconst { locationX, locationY } = nativeEvent;\r\n\t\tconst { size } = this.props;\r\n\t\treturn {\r\n\t\t\tsaturation: this.normalizeValue( locationX / size.width ),\r\n\t\t\tvalue: 1 - this.normalizeValue( locationY / size.height ),\r\n\t\t};\r\n\t}\r\n\r\n\tfireDragEvent( eventName, gestureState ) {\r\n\t\tconst { [ eventName ]: event } = this.props;\r\n\t\tif ( event ) {\r\n\t\t\tevent( {\r\n\t\t\t\t...this.computeSatValDrag( gestureState ),\r\n\t\t\t\tgestureState,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tsize,\r\n\t\t\tsliderSize = 24,\r\n\t\t\thue = 0,\r\n\t\t\tvalue = 1,\r\n\t\t\tsaturation = 1,\r\n\t\t\tcontainerStyle = {},\r\n\t\t\tborderRadius = 0,\r\n\t\t\tcurrentColor,\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<View\r\n\t\t\t\tstyle={ [\r\n\t\t\t\t\tstyles[ 'hsv-container' ],\r\n\t\t\t\t\tcontainerStyle,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theight: size.height + sliderSize,\r\n\t\t\t\t\t\twidth: size.width + sliderSize,\r\n\t\t\t\t\t},\r\n\t\t\t\t] }\r\n\t\t\t\t{ ...this.panResponder.panHandlers }\r\n\t\t\t>\r\n\t\t\t\t<LinearGradient\r\n\t\t\t\t\tstyle={ [\r\n\t\t\t\t\t\tstyles[ 'gradient-container' ],\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tborderRadius,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t] }\r\n\t\t\t\t\tcolors={ [\r\n\t\t\t\t\t\t'#fff',\r\n\t\t\t\t\t\tcolord( { h: hue, s: 100, l: 50 } ).toHex(),\r\n\t\t\t\t\t] }\r\n\t\t\t\t\tstart={ { x: 0, y: 0.5 } }\r\n\t\t\t\t\tend={ { x: 1, y: 0.5 } }\r\n\t\t\t\t>\r\n\t\t\t\t\t<LinearGradient colors={ [ 'rgba(0, 0, 0, 0)', '#000' ] }>\r\n\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t\t\theight: size.height,\r\n\t\t\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</LinearGradient>\r\n\t\t\t\t</LinearGradient>\r\n\t\t\t\t<View\r\n\t\t\t\t\tpointerEvents=\"none\"\r\n\t\t\t\t\tstyle={ [\r\n\t\t\t\t\t\tstyles[ 'saturation-slider' ],\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\twidth: sliderSize,\r\n\t\t\t\t\t\t\theight: sliderSize,\r\n\t\t\t\t\t\t\tborderRadius: sliderSize / 2,\r\n\t\t\t\t\t\t\tborderWidth: sliderSize / 10,\r\n\t\t\t\t\t\t\tbackgroundColor: currentColor,\r\n\t\t\t\t\t\t\ttransform: [\r\n\t\t\t\t\t\t\t\t{ translateX: size.width * saturation },\r\n\t\t\t\t\t\t\t\t{ translateY: size.height * ( 1 - value ) },\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t] }\r\n\t\t\t\t/>\r\n\t\t\t</View>\r\n\t\t);\r\n\t}\r\n}\r\n"],"mappings":"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","ignoreList":[]}