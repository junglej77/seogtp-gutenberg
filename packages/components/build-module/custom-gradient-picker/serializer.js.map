{"version":3,"names":["serializeGradientColor","type","value","join","serializeGradientPosition","position","serializeGradientColorStop","length","serializeGradientOrientation","orientation","Array","isArray","serializeGradient","colorStops","serializedOrientation","serializedColorStops","sort","colorStop1","colorStop2","getNumericStopValue","colorStop","undefined","parseInt","map","filter","Boolean"],"sources":["@wordpress/components/src/custom-gradient-picker/serializer.ts"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type gradientParser from 'gradient-parser';\r\n\r\nexport function serializeGradientColor( {\r\n\ttype,\r\n\tvalue,\r\n}: gradientParser.ColorStop ) {\r\n\tif ( type === 'literal' ) {\r\n\t\treturn value;\r\n\t}\r\n\tif ( type === 'hex' ) {\r\n\t\treturn `#${ value }`;\r\n\t}\r\n\treturn `${ type }(${ value.join( ',' ) })`;\r\n}\r\n\r\nexport function serializeGradientPosition(\r\n\tposition: gradientParser.ColorStop[ 'length' ]\r\n) {\r\n\tif ( ! position ) {\r\n\t\treturn '';\r\n\t}\r\n\tconst { value, type } = position;\r\n\treturn `${ value }${ type }`;\r\n}\r\n\r\nexport function serializeGradientColorStop( {\r\n\ttype,\r\n\tvalue,\r\n\tlength,\r\n}: gradientParser.ColorStop ) {\r\n\treturn `${ serializeGradientColor( {\r\n\t\ttype,\r\n\t\tvalue,\r\n\t} as gradientParser.ColorStop ) } ${ serializeGradientPosition( length ) }`;\r\n}\r\n\r\nexport function serializeGradientOrientation(\r\n\torientation: gradientParser.GradientNode[ 'orientation' ]\r\n) {\r\n\tif (\r\n\t\tArray.isArray( orientation ) ||\r\n\t\t! orientation ||\r\n\t\torientation.type !== 'angular'\r\n\t) {\r\n\t\treturn;\r\n\t}\r\n\treturn `${ orientation.value }deg`;\r\n}\r\n\r\nexport function serializeGradient( {\r\n\ttype,\r\n\torientation,\r\n\tcolorStops,\r\n}: gradientParser.GradientNode ) {\r\n\tconst serializedOrientation = serializeGradientOrientation( orientation );\r\n\tconst serializedColorStops = colorStops\r\n\t\t.sort( ( colorStop1, colorStop2 ) => {\r\n\t\t\tconst getNumericStopValue = (\r\n\t\t\t\tcolorStop: gradientParser.ColorStop\r\n\t\t\t) => {\r\n\t\t\t\treturn colorStop?.length?.value === undefined\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: parseInt( colorStop.length.value );\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\tgetNumericStopValue( colorStop1 ) -\r\n\t\t\t\tgetNumericStopValue( colorStop2 )\r\n\t\t\t);\r\n\t\t} )\r\n\t\t.map( serializeGradientColorStop );\r\n\treturn `${ type }(${ [ serializedOrientation, ...serializedColorStops ]\r\n\t\t.filter( Boolean )\r\n\t\t.join( ',' ) })`;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;;AAGA,OAAO,SAASA,sBAAsBA,CAAE;EACvCC,IAAI;EACJC;AACyB,CAAC,EAAG;EAC7B,IAAKD,IAAI,KAAK,SAAS,EAAG;IACzB,OAAOC,KAAK;EACb;EACA,IAAKD,IAAI,KAAK,KAAK,EAAG;IACrB,OAAQ,IAAIC,KAAO,EAAC;EACrB;EACA,OAAQ,GAAGD,IAAM,IAAIC,KAAK,CAACC,IAAI,CAAE,GAAI,CAAG,GAAE;AAC3C;AAEA,OAAO,SAASC,yBAAyBA,CACxCC,QAA8C,EAC7C;EACD,IAAK,CAAEA,QAAQ,EAAG;IACjB,OAAO,EAAE;EACV;EACA,MAAM;IAAEH,KAAK;IAAED;EAAK,CAAC,GAAGI,QAAQ;EAChC,OAAQ,GAAGH,KAAO,GAAGD,IAAM,EAAC;AAC7B;AAEA,OAAO,SAASK,0BAA0BA,CAAE;EAC3CL,IAAI;EACJC,KAAK;EACLK;AACyB,CAAC,EAAG;EAC7B,OAAQ,GAAGP,sBAAsB,CAAE;IAClCC,IAAI;IACJC;EACD,CAA8B,CAAG,IAAIE,yBAAyB,CAAEG,MAAO,CAAG,EAAC;AAC5E;AAEA,OAAO,SAASC,4BAA4BA,CAC3CC,WAAyD,EACxD;EACD,IACCC,KAAK,CAACC,OAAO,CAAEF,WAAY,CAAC,IAC5B,CAAEA,WAAW,IACbA,WAAW,CAACR,IAAI,KAAK,SAAS,EAC7B;IACD;EACD;EACA,OAAQ,GAAGQ,WAAW,CAACP,KAAO,KAAI;AACnC;AAEA,OAAO,SAASU,iBAAiBA,CAAE;EAClCX,IAAI;EACJQ,WAAW;EACXI;AAC4B,CAAC,EAAG;EAChC,MAAMC,qBAAqB,GAAGN,4BAA4B,CAAEC,WAAY,CAAC;EACzE,MAAMM,oBAAoB,GAAGF,UAAU,CACrCG,IAAI,CAAE,CAAEC,UAAU,EAAEC,UAAU,KAAM;IACpC,MAAMC,mBAAmB,GACxBC,SAAmC,IAC/B;MACJ,OAAOA,SAAS,EAAEb,MAAM,EAAEL,KAAK,KAAKmB,SAAS,GAC1C,CAAC,GACDC,QAAQ,CAAEF,SAAS,CAACb,MAAM,CAACL,KAAM,CAAC;IACtC,CAAC;IAED,OACCiB,mBAAmB,CAAEF,UAAW,CAAC,GACjCE,mBAAmB,CAAED,UAAW,CAAC;EAEnC,CAAE,CAAC,CACFK,GAAG,CAAEjB,0BAA2B,CAAC;EACnC,OAAQ,GAAGL,IAAM,IAAI,CAAEa,qBAAqB,EAAE,GAAGC,oBAAoB,CAAE,CACrES,MAAM,CAAEC,OAAQ,CAAC,CACjBtB,IAAI,CAAE,GAAI,CAAG,GAAE;AAClB","ignoreList":[]}