{"version":3,"names":["clsx","__","Fragment","TimeWrapper","TimeSeparator","HoursInput","MinutesInput","Fieldset","HStack","from12hTo24h","from24hTo12h","buildPadInputStateReducer","validateInputElementTarget","useControlledValue","BaseControl","ToggleGroupControl","ToggleGroupControlOption","jsx","_jsx","jsxs","_jsxs","TimeInput","value","valueProp","defaultValue","is12Hour","label","minutesProps","onChange","hours","Date","getHours","minutes","getMinutes","setValue","dayPeriod","parseDayPeriod","hours12Format","buildNumberControlChangeCallback","method","_value","event","numberValue","Number","buildAmPmChangeCallback","_hours","Wrapper","children","VisualLabel","as","alignment","expanded","className","hideLabelFromVision","__next40pxDefaultSize","String","padStart","step","min","max","required","spinControls","isPressEnterToChange","isDragEnabled","isShiftStepEnabled","__unstableStateReducer","args","__nextHasNoMarginBottom","isBlock","newValue"],"sources":["@wordpress/components/src/date-time/time/time-input/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Fragment } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tTimeWrapper,\r\n\tTimeSeparator,\r\n\tHoursInput,\r\n\tMinutesInput,\r\n\tFieldset,\r\n} from '../styles';\r\nimport { HStack } from '../../../h-stack';\r\nimport {\r\n\tfrom12hTo24h,\r\n\tfrom24hTo12h,\r\n\tbuildPadInputStateReducer,\r\n\tvalidateInputElementTarget,\r\n} from '../../utils';\r\nimport type { TimeInputProps } from '../../types';\r\nimport type { InputChangeCallback } from '../../../input-control/types';\r\nimport { useControlledValue } from '../../../utils';\r\nimport BaseControl from '../../../base-control';\r\nimport {\r\n\tToggleGroupControl,\r\n\tToggleGroupControlOption,\r\n} from '../../../toggle-group-control';\r\n\r\nexport function TimeInput( {\r\n\tvalue: valueProp,\r\n\tdefaultValue,\r\n\tis12Hour,\r\n\tlabel,\r\n\tminutesProps,\r\n\tonChange,\r\n}: TimeInputProps ) {\r\n\tconst [\r\n\t\tvalue = {\r\n\t\t\thours: new Date().getHours(),\r\n\t\t\tminutes: new Date().getMinutes(),\r\n\t\t},\r\n\t\tsetValue,\r\n\t] = useControlledValue( {\r\n\t\tvalue: valueProp,\r\n\t\tonChange,\r\n\t\tdefaultValue,\r\n\t} );\r\n\tconst dayPeriod = parseDayPeriod( value.hours );\r\n\tconst hours12Format = from24hTo12h( value.hours );\r\n\r\n\tconst buildNumberControlChangeCallback = (\r\n\t\tmethod: 'hours' | 'minutes'\r\n\t): InputChangeCallback => {\r\n\t\treturn ( _value, { event } ) => {\r\n\t\t\tif ( ! validateInputElementTarget( event ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// We can safely assume value is a number if target is valid.\r\n\t\t\tconst numberValue = Number( _value );\r\n\r\n\t\t\tsetValue( {\r\n\t\t\t\t...value,\r\n\t\t\t\t[ method ]:\r\n\t\t\t\t\tmethod === 'hours' && is12Hour\r\n\t\t\t\t\t\t? from12hTo24h( numberValue, dayPeriod === 'PM' )\r\n\t\t\t\t\t\t: numberValue,\r\n\t\t\t} );\r\n\t\t};\r\n\t};\r\n\r\n\tconst buildAmPmChangeCallback = ( _value: 'AM' | 'PM' ) => {\r\n\t\treturn () => {\r\n\t\t\tif ( dayPeriod === _value ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsetValue( {\r\n\t\t\t\t...value,\r\n\t\t\t\thours: from12hTo24h( hours12Format, _value === 'PM' ),\r\n\t\t\t} );\r\n\t\t};\r\n\t};\r\n\r\n\tfunction parseDayPeriod( _hours: number ) {\r\n\t\treturn _hours < 12 ? 'AM' : 'PM';\r\n\t}\r\n\r\n\tconst Wrapper = label ? Fieldset : Fragment;\r\n\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t{ label && (\r\n\t\t\t\t<BaseControl.VisualLabel as=\"legend\">\r\n\t\t\t\t\t{ label }\r\n\t\t\t\t</BaseControl.VisualLabel>\r\n\t\t\t) }\r\n\r\n\t\t\t<HStack alignment=\"left\" expanded={ false }>\r\n\t\t\t\t<TimeWrapper\r\n\t\t\t\t\tclassName=\"components-datetime__time-field components-datetime__time-field-time\" // Unused, for backwards compatibility.\r\n\t\t\t\t>\r\n\t\t\t\t\t<HoursInput\r\n\t\t\t\t\t\tclassName=\"components-datetime__time-field-hours-input\" // Unused, for backwards compatibility.\r\n\t\t\t\t\t\tlabel={ __( 'Hours' ) }\r\n\t\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tvalue={ String(\r\n\t\t\t\t\t\t\tis12Hour ? hours12Format : value.hours\r\n\t\t\t\t\t\t).padStart( 2, '0' ) }\r\n\t\t\t\t\t\tstep={ 1 }\r\n\t\t\t\t\t\tmin={ is12Hour ? 1 : 0 }\r\n\t\t\t\t\t\tmax={ is12Hour ? 12 : 23 }\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tspinControls=\"none\"\r\n\t\t\t\t\t\tisPressEnterToChange\r\n\t\t\t\t\t\tisDragEnabled={ false }\r\n\t\t\t\t\t\tisShiftStepEnabled={ false }\r\n\t\t\t\t\t\tonChange={ buildNumberControlChangeCallback( 'hours' ) }\r\n\t\t\t\t\t\t__unstableStateReducer={ buildPadInputStateReducer(\r\n\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TimeSeparator\r\n\t\t\t\t\t\tclassName=\"components-datetime__time-separator\" // Unused, for backwards compatibility.\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t</TimeSeparator>\r\n\t\t\t\t\t<MinutesInput\r\n\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t'components-datetime__time-field-minutes-input', // Unused, for backwards compatibility.\r\n\t\t\t\t\t\t\tminutesProps?.className\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tlabel={ __( 'Minutes' ) }\r\n\t\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tvalue={ String( value.minutes ).padStart( 2, '0' ) }\r\n\t\t\t\t\t\tstep={ 1 }\r\n\t\t\t\t\t\tmin={ 0 }\r\n\t\t\t\t\t\tmax={ 59 }\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tspinControls=\"none\"\r\n\t\t\t\t\t\tisPressEnterToChange\r\n\t\t\t\t\t\tisDragEnabled={ false }\r\n\t\t\t\t\t\tisShiftStepEnabled={ false }\r\n\t\t\t\t\t\tonChange={ ( ...args ) => {\r\n\t\t\t\t\t\t\tbuildNumberControlChangeCallback( 'minutes' )(\r\n\t\t\t\t\t\t\t\t...args\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tminutesProps?.onChange?.( ...args );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t__unstableStateReducer={ buildPadInputStateReducer(\r\n\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ...minutesProps }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TimeWrapper>\r\n\t\t\t\t{ is12Hour && (\r\n\t\t\t\t\t<ToggleGroupControl\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tisBlock\r\n\t\t\t\t\t\tlabel={ __( 'Select AM or PM' ) }\r\n\t\t\t\t\t\thideLabelFromVision\r\n\t\t\t\t\t\tvalue={ dayPeriod }\r\n\t\t\t\t\t\tonChange={ ( newValue ) => {\r\n\t\t\t\t\t\t\tbuildAmPmChangeCallback(\r\n\t\t\t\t\t\t\t\tnewValue as 'AM' | 'PM'\r\n\t\t\t\t\t\t\t)();\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ToggleGroupControlOption\r\n\t\t\t\t\t\t\tvalue=\"AM\"\r\n\t\t\t\t\t\t\tlabel={ __( 'AM' ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ToggleGroupControlOption\r\n\t\t\t\t\t\t\tvalue=\"PM\"\r\n\t\t\t\t\t\t\tlabel={ __( 'PM' ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ToggleGroupControl>\r\n\t\t\t\t) }\r\n\t\t\t</HStack>\r\n\t\t</Wrapper>\r\n\t);\r\n}\r\nexport default TimeInput;\r\n"],"mappings":"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","ignoreList":[]}