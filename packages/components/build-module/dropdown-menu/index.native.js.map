{"version":3,"names":["clsx","Platform","withPreferredColorScheme","menu","Button","Dropdown","BottomSheet","PanelBody","jsx","_jsx","jsxs","_jsxs","mergeProps","defaultProps","props","mergedProps","className","isFunction","maybeFunc","DropdownMenu","children","controls","icon","label","popoverProps","toggleProps","length","controlSets","Array","isArray","mergedPopoverProps","renderToggle","isOpen","onToggle","mergedToggleProps","onClick","event","renderContent","onClose","hideHeader","isVisible","title","style","paddingLeft","paddingRight","flatMap","controlSet","indexOfSet","map","control","indexOfControl","Cell","onPress","editable","leftAlign","isSelected","isActive","separatorType","OS","join"],"sources":["@wordpress/components/src/dropdown-menu/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport { Platform } from 'react-native';\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { withPreferredColorScheme } from '@wordpress/compose';\r\nimport { menu } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Button from '../button';\r\nimport Dropdown from '../dropdown';\r\nimport BottomSheet from '../mobile/bottom-sheet';\r\nimport PanelBody from '../panel/body';\r\n\r\nfunction mergeProps( defaultProps = {}, props = {} ) {\r\n\tconst mergedProps = {\r\n\t\t...defaultProps,\r\n\t\t...props,\r\n\t};\r\n\r\n\tif ( props.className && defaultProps.className ) {\r\n\t\tmergedProps.className = clsx( props.className, defaultProps.className );\r\n\t}\r\n\r\n\treturn mergedProps;\r\n}\r\n\r\n/**\r\n * Whether the argument is a function.\r\n *\r\n * @param {*} maybeFunc The argument to check.\r\n * @return {boolean} True if the argument is a function, false otherwise.\r\n */\r\nfunction isFunction( maybeFunc ) {\r\n\treturn typeof maybeFunc === 'function';\r\n}\r\n\r\nfunction DropdownMenu( {\r\n\tchildren,\r\n\tclassName,\r\n\tcontrols,\r\n\ticon = menu,\r\n\tlabel,\r\n\tpopoverProps,\r\n\ttoggleProps,\r\n} ) {\r\n\tif ( ! controls?.length && ! isFunction( children ) ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Normalize controls to nested array of objects (sets of controls)\r\n\tlet controlSets;\r\n\tif ( controls?.length ) {\r\n\t\tcontrolSets = controls;\r\n\t\tif ( ! Array.isArray( controlSets[ 0 ] ) ) {\r\n\t\t\tcontrolSets = [ controlSets ];\r\n\t\t}\r\n\t}\r\n\tconst mergedPopoverProps = mergeProps(\r\n\t\t{\r\n\t\t\tclassName: 'components-dropdown-menu__popover',\r\n\t\t},\r\n\t\tpopoverProps\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\tclassName={ clsx( 'components-dropdown-menu', className ) }\r\n\t\t\tpopoverProps={ mergedPopoverProps }\r\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => {\r\n\t\t\t\tconst mergedToggleProps = mergeProps(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclassName: clsx( 'components-dropdown-menu__toggle', {\r\n\t\t\t\t\t\t\t'is-opened': isOpen,\r\n\t\t\t\t\t\t} ),\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoggleProps\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t{ ...mergedToggleProps }\r\n\t\t\t\t\t\ticon={ icon }\r\n\t\t\t\t\t\tonClick={ ( event ) => {\r\n\t\t\t\t\t\t\tonToggle( event );\r\n\t\t\t\t\t\t\tif ( mergedToggleProps.onClick ) {\r\n\t\t\t\t\t\t\t\tmergedToggleProps.onClick( event );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\taria-expanded={ isOpen }\r\n\t\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ mergedToggleProps.children }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t);\r\n\t\t\t} }\r\n\t\t\trenderContent={ ( { isOpen, onClose, ...props } ) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<BottomSheet\r\n\t\t\t\t\t\thideHeader\r\n\t\t\t\t\t\tisVisible={ isOpen }\r\n\t\t\t\t\t\tonClose={ onClose }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ isFunction( children ) ? children( props ) : null }\r\n\t\t\t\t\t\t<PanelBody\r\n\t\t\t\t\t\t\ttitle={ label }\r\n\t\t\t\t\t\t\tstyle={ { paddingLeft: 0, paddingRight: 0 } }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ controlSets?.flatMap(\r\n\t\t\t\t\t\t\t\t( controlSet, indexOfSet ) =>\r\n\t\t\t\t\t\t\t\t\tcontrolSet.map(\r\n\t\t\t\t\t\t\t\t\t\t( control, indexOfControl ) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<BottomSheet.Cell\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindexOfSet,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindexOfControl,\r\n\t\t\t\t\t\t\t\t\t\t\t\t].join() }\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={ control.title }\r\n\t\t\t\t\t\t\t\t\t\t\t\tonPress={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( control.onClick ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol.onClick();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t\teditable={ false }\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={ control.icon }\r\n\t\t\t\t\t\t\t\t\t\t\t\tleftAlign\r\n\t\t\t\t\t\t\t\t\t\t\t\tisSelected={ control.isActive }\r\n\t\t\t\t\t\t\t\t\t\t\t\tseparatorType={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPlatform.OS === 'android'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'none'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'leftMargin'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t</BottomSheet>\r\n\t\t\t\t);\r\n\t\t\t} }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default withPreferredColorScheme( DropdownMenu );\r\n"],"mappings":"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","ignoreList":[]}