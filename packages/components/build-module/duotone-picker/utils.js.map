{"version":3,"names":["colord","extend","namesPlugin","getDefaultColors","palette","length","map","color","brightness","reduce","min","max","current","getGradientFromCSSColors","colors","angle","l","stops","c","i","join","getColorStopsFromColors","position","getColorsFromColorStops","colorStops"],"sources":["@wordpress/components/src/duotone-picker/utils.ts"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { colord, extend } from 'colord';\r\nimport namesPlugin from 'colord/plugins/names';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { DuotonePickerProps } from './types';\r\n\r\nextend( [ namesPlugin ] );\r\n\r\n/**\r\n * Object representation for a color.\r\n *\r\n * @typedef {Object} RGBColor\r\n * @property {number} r Red component of the color in the range [0,1].\r\n * @property {number} g Green component of the color in the range [0,1].\r\n * @property {number} b Blue component of the color in the range [0,1].\r\n */\r\n\r\n/**\r\n * Calculate the brightest and darkest values from a color palette.\r\n *\r\n * @param palette Color palette for the theme.\r\n *\r\n * @return Tuple of the darkest color and brightest color.\r\n */\r\nexport function getDefaultColors(\r\n\tpalette: DuotonePickerProps[ 'colorPalette' ]\r\n) {\r\n\t// A default dark and light color are required.\r\n\tif ( ! palette || palette.length < 2 ) {\r\n\t\treturn [ '#000', '#fff' ];\r\n\t}\r\n\r\n\treturn palette\r\n\t\t.map( ( { color } ) => ( {\r\n\t\t\tcolor,\r\n\t\t\tbrightness: colord( color ).brightness(),\r\n\t\t} ) )\r\n\t\t.reduce(\r\n\t\t\t( [ min, max ], current ) => {\r\n\t\t\t\treturn [\r\n\t\t\t\t\tcurrent.brightness <= min.brightness ? current : min,\r\n\t\t\t\t\tcurrent.brightness >= max.brightness ? current : max,\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\t[\r\n\t\t\t\t{ brightness: 1, color: '' },\r\n\t\t\t\t{ brightness: 0, color: '' },\r\n\t\t\t]\r\n\t\t)\r\n\t\t.map( ( { color } ) => color );\r\n}\r\n\r\n/**\r\n * Generate a duotone gradient from a list of colors.\r\n *\r\n * @param colors CSS color strings.\r\n * @param angle  CSS gradient angle.\r\n *\r\n * @return  CSS gradient string for the duotone swatch.\r\n */\r\nexport function getGradientFromCSSColors(\r\n\tcolors: string[] = [],\r\n\tangle = '90deg'\r\n) {\r\n\tconst l = 100 / colors.length;\r\n\r\n\tconst stops = colors\r\n\t\t.map( ( c, i ) => `${ c } ${ i * l }%, ${ c } ${ ( i + 1 ) * l }%` )\r\n\t\t.join( ', ' );\r\n\r\n\treturn `linear-gradient( ${ angle }, ${ stops } )`;\r\n}\r\n\r\n/**\r\n * Convert a color array to an array of color stops.\r\n *\r\n * @param colors CSS colors array\r\n *\r\n * @return Color stop information.\r\n */\r\nexport function getColorStopsFromColors( colors: string[] ) {\r\n\treturn colors.map( ( color, i ) => ( {\r\n\t\tposition: ( i * 100 ) / ( colors.length - 1 ),\r\n\t\tcolor,\r\n\t} ) );\r\n}\r\n\r\n/**\r\n * Convert a color stop array to an array colors.\r\n *\r\n * @param colorStops Color stop information.\r\n *\r\n * @return CSS colors array.\r\n */\r\nexport function getColorsFromColorStops(\r\n\tcolorStops: { position: number; color: string }[] = []\r\n) {\r\n\treturn colorStops.map( ( { color } ) => color );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,MAAM,QAAQ,QAAQ;AACvC,OAAOC,WAAW,MAAM,sBAAsB;;AAE9C;AACA;AACA;;AAGAD,MAAM,CAAE,CAAEC,WAAW,CAAG,CAAC;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAC/BC,OAA6C,EAC5C;EACD;EACA,IAAK,CAAEA,OAAO,IAAIA,OAAO,CAACC,MAAM,GAAG,CAAC,EAAG;IACtC,OAAO,CAAE,MAAM,EAAE,MAAM,CAAE;EAC1B;EAEA,OAAOD,OAAO,CACZE,GAAG,CAAE,CAAE;IAAEC;EAAM,CAAC,MAAQ;IACxBA,KAAK;IACLC,UAAU,EAAER,MAAM,CAAEO,KAAM,CAAC,CAACC,UAAU,CAAC;EACxC,CAAC,CAAG,CAAC,CACJC,MAAM,CACN,CAAE,CAAEC,GAAG,EAAEC,GAAG,CAAE,EAAEC,OAAO,KAAM;IAC5B,OAAO,CACNA,OAAO,CAACJ,UAAU,IAAIE,GAAG,CAACF,UAAU,GAAGI,OAAO,GAAGF,GAAG,EACpDE,OAAO,CAACJ,UAAU,IAAIG,GAAG,CAACH,UAAU,GAAGI,OAAO,GAAGD,GAAG,CACpD;EACF,CAAC,EACD,CACC;IAAEH,UAAU,EAAE,CAAC;IAAED,KAAK,EAAE;EAAG,CAAC,EAC5B;IAAEC,UAAU,EAAE,CAAC;IAAED,KAAK,EAAE;EAAG,CAAC,CAE9B,CAAC,CACAD,GAAG,CAAE,CAAE;IAAEC;EAAM,CAAC,KAAMA,KAAM,CAAC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASM,wBAAwBA,CACvCC,MAAgB,GAAG,EAAE,EACrBC,KAAK,GAAG,OAAO,EACd;EACD,MAAMC,CAAC,GAAG,GAAG,GAAGF,MAAM,CAACT,MAAM;EAE7B,MAAMY,KAAK,GAAGH,MAAM,CAClBR,GAAG,CAAE,CAAEY,CAAC,EAAEC,CAAC,KAAO,GAAGD,CAAG,IAAIC,CAAC,GAAGH,CAAG,MAAME,CAAG,IAAI,CAAEC,CAAC,GAAG,CAAC,IAAKH,CAAG,GAAG,CAAC,CACnEI,IAAI,CAAE,IAAK,CAAC;EAEd,OAAQ,oBAAoBL,KAAO,KAAKE,KAAO,IAAG;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASI,uBAAuBA,CAAEP,MAAgB,EAAG;EAC3D,OAAOA,MAAM,CAACR,GAAG,CAAE,CAAEC,KAAK,EAAEY,CAAC,MAAQ;IACpCG,QAAQ,EAAIH,CAAC,GAAG,GAAG,IAAOL,MAAM,CAACT,MAAM,GAAG,CAAC,CAAE;IAC7CE;EACD,CAAC,CAAG,CAAC;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASgB,uBAAuBA,CACtCC,UAAiD,GAAG,EAAE,EACrD;EACD,OAAOA,UAAU,CAAClB,GAAG,CAAE,CAAE;IAAEC;EAAM,CAAC,KAAMA,KAAM,CAAC;AAChD","ignoreList":[]}