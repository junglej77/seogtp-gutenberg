{"version":3,"names":["css","useMemo","useContextSystem","styles","CONFIG","useCx","isValueDefined","getBoxShadow","value","boxShadowColor","boxShadow","useElevation","props","active","borderRadius","className","focus","hover","isInteractive","offset","otherProps","cx","classes","hoverValue","activeValue","undefined","transition","transitionDuration","transitionTimingFunction","sx","Base","bottom","opacity","elevationIntensity","left","right","top","process","env","NODE_ENV","Elevation"],"sources":["@wordpress/components/src/elevation/hook.ts"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type { SerializedStyles } from '@emotion/react';\r\nimport { css } from '@emotion/react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { WordPressComponentProps } from '../context';\r\nimport { useContextSystem } from '../context';\r\nimport * as styles from './styles';\r\nimport { CONFIG } from '../utils';\r\nimport { useCx } from '../utils/hooks/use-cx';\r\nimport { isValueDefined } from '../utils/values';\r\nimport type { ElevationProps } from './types';\r\n\r\nexport function getBoxShadow( value: number ) {\r\n\tconst boxShadowColor = `rgba(0, 0, 0, ${ value / 20 })`;\r\n\tconst boxShadow = `0 ${ value }px ${ value * 2 }px 0\r\n\t${ boxShadowColor }`;\r\n\r\n\treturn boxShadow;\r\n}\r\n\r\nexport function useElevation(\r\n\tprops: WordPressComponentProps< ElevationProps, 'div' >\r\n) {\r\n\tconst {\r\n\t\tactive,\r\n\t\tborderRadius = 'inherit',\r\n\t\tclassName,\r\n\t\tfocus,\r\n\t\thover,\r\n\t\tisInteractive = false,\r\n\t\toffset = 0,\r\n\t\tvalue = 0,\r\n\t\t...otherProps\r\n\t} = useContextSystem( props, 'Elevation' );\r\n\r\n\tconst cx = useCx();\r\n\r\n\tconst classes = useMemo( () => {\r\n\t\tlet hoverValue: number | undefined = isValueDefined( hover )\r\n\t\t\t? hover\r\n\t\t\t: value * 2;\r\n\t\tlet activeValue: number | undefined = isValueDefined( active )\r\n\t\t\t? active\r\n\t\t\t: value / 2;\r\n\r\n\t\tif ( ! isInteractive ) {\r\n\t\t\thoverValue = isValueDefined( hover ) ? hover : undefined;\r\n\t\t\tactiveValue = isValueDefined( active ) ? active : undefined;\r\n\t\t}\r\n\r\n\t\tconst transition = `box-shadow ${ CONFIG.transitionDuration } ${ CONFIG.transitionTimingFunction }`;\r\n\r\n\t\tconst sx: {\r\n\t\t\tBase?: SerializedStyles;\r\n\t\t\thover?: SerializedStyles;\r\n\t\t\tactive?: SerializedStyles;\r\n\t\t\tfocus?: SerializedStyles;\r\n\t\t} = {};\r\n\r\n\t\tsx.Base = css(\r\n\t\t\t{\r\n\t\t\t\tborderRadius,\r\n\t\t\t\tbottom: offset,\r\n\t\t\t\tboxShadow: getBoxShadow( value ),\r\n\t\t\t\topacity: CONFIG.elevationIntensity,\r\n\t\t\t\tleft: offset,\r\n\t\t\t\tright: offset,\r\n\t\t\t\ttop: offset,\r\n\t\t\t},\r\n\t\t\tcss`\r\n\t\t\t\t@media not ( prefers-reduced-motion ) {\r\n\t\t\t\t\ttransition: ${ transition };\r\n\t\t\t\t}\r\n\t\t\t`\r\n\t\t);\r\n\r\n\t\tif ( isValueDefined( hoverValue ) ) {\r\n\t\t\tsx.hover = css`\r\n\t\t\t\t*:hover > & {\r\n\t\t\t\t\tbox-shadow: ${ getBoxShadow( hoverValue ) };\r\n\t\t\t\t}\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tif ( isValueDefined( activeValue ) ) {\r\n\t\t\tsx.active = css`\r\n\t\t\t\t*:active > & {\r\n\t\t\t\t\tbox-shadow: ${ getBoxShadow( activeValue ) };\r\n\t\t\t\t}\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tif ( isValueDefined( focus ) ) {\r\n\t\t\tsx.focus = css`\r\n\t\t\t\t*:focus > & {\r\n\t\t\t\t\tbox-shadow: ${ getBoxShadow( focus ) };\r\n\t\t\t\t}\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\treturn cx(\r\n\t\t\tstyles.Elevation,\r\n\t\t\tsx.Base,\r\n\t\t\tsx.hover,\r\n\t\t\tsx.focus,\r\n\t\t\tsx.active,\r\n\t\t\tclassName\r\n\t\t);\r\n\t}, [\r\n\t\tactive,\r\n\t\tborderRadius,\r\n\t\tclassName,\r\n\t\tcx,\r\n\t\tfocus,\r\n\t\thover,\r\n\t\tisInteractive,\r\n\t\toffset,\r\n\t\tvalue,\r\n\t] );\r\n\r\n\treturn { ...otherProps, className: classes, 'aria-hidden': true };\r\n}\r\n"],"mappings":"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","ignoreList":[]}