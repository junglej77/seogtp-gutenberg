{"version":3,"names":["View","useWindowDimensions","useNavigation","useState","Icon","chevronRight","check","__","sprintf","default","getPxFromCssUnit","UnitControl","useCustomUnits","styles","BottomSheet","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DEFAULT_FONT_SIZE","FontSizePicker","fontSizes","disableCustomFontSizes","onChange","value","selectedValue","_fontSizes$find","showSubSheet","setShowSubSheet","navigation","height","width","cssUnitOptions","fontSize","selectedPxValue","onChangeValue","goBack","selectedOption","find","option","sizePx","name","openSubSheet","navigate","SubSheet","screenName","label","units","availableUnits","accessibilityLabel","navigationButton","Cell","separatorType","onPress","accessibilityRole","accessibilityHint","children","icon","showSheet","NavBar","BackButton","Heading","style","customActionButton","undefined","leftAlign","map","item","index","parseFloat","subLabel","min","max","step","nextSize"],"sources":["@wordpress/components/src/font-size-picker/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View, useWindowDimensions } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { useState } from '@wordpress/element';\r\nimport { Icon, chevronRight, check } from '@wordpress/icons';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { default as getPxFromCssUnit } from '../mobile/utils/get-px-from-css-unit';\r\nimport { default as UnitControl, useCustomUnits } from '../unit-control';\r\nimport styles from './style.scss';\r\nimport BottomSheet from '../mobile/bottom-sheet';\r\n\r\nconst DEFAULT_FONT_SIZE = 16;\r\n\r\nfunction FontSizePicker( {\r\n\tfontSizes = [],\r\n\tdisableCustomFontSizes = false,\r\n\tonChange,\r\n\tvalue: selectedValue,\r\n} ) {\r\n\tconst [ showSubSheet, setShowSubSheet ] = useState( false );\r\n\tconst navigation = useNavigation();\r\n\r\n\tconst { height, width } = useWindowDimensions();\r\n\tconst cssUnitOptions = { height, width, fontSize: DEFAULT_FONT_SIZE };\r\n\t// We need to always convert to px units because the selected value\r\n\t// could be coming from the web where it could be stored as a different unit.\r\n\tconst selectedPxValue = getPxFromCssUnit( selectedValue, cssUnitOptions );\r\n\r\n\tconst onChangeValue = ( value ) => {\r\n\t\treturn () => {\r\n\t\t\tgoBack();\r\n\t\t\tonChange( value );\r\n\t\t};\r\n\t};\r\n\r\n\tconst selectedOption = fontSizes.find(\r\n\t\t( option ) => option.sizePx === selectedPxValue\r\n\t) ?? { name: 'Custom' };\r\n\r\n\tconst goBack = () => {\r\n\t\tsetShowSubSheet( false );\r\n\t\tnavigation.goBack();\r\n\t};\r\n\r\n\tconst openSubSheet = () => {\r\n\t\tnavigation.navigate( BottomSheet.SubSheet.screenName );\r\n\t\tsetShowSubSheet( true );\r\n\t};\r\n\tconst label = __( 'Font Size' );\r\n\r\n\tconst units = useCustomUnits( {\r\n\t\tavailableUnits: [ 'px', 'em', 'rem', 'vw', 'vh' ],\r\n\t} );\r\n\r\n\tconst accessibilityLabel = sprintf(\r\n\t\t// translators: %1$s: Font size name e.g. Small\r\n\t\t__( 'Font Size, %1$s' ),\r\n\t\tselectedOption.name\r\n\t);\r\n\r\n\treturn (\r\n\t\t<BottomSheet.SubSheet\r\n\t\t\tnavigationButton={\r\n\t\t\t\t<BottomSheet.Cell\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\tseparatorType=\"none\"\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tselectedValue\r\n\t\t\t\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t\t\t\t// translators: %1$s: Select control font size name e.g. Small, %2$s: Select control font size e.g. 12px\r\n\t\t\t\t\t\t\t\t\t__( '%1$s (%2$s)' ),\r\n\t\t\t\t\t\t\t\t\tselectedOption.name,\r\n\t\t\t\t\t\t\t\t\tselectedPxValue\r\n\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t: __( 'Default' )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonPress={ openSubSheet }\r\n\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\taccessibilityLabel={ accessibilityLabel }\r\n\t\t\t\t\taccessibilityHint={ sprintf(\r\n\t\t\t\t\t\t// translators: %s: Select control button label e.g. Small\r\n\t\t\t\t\t\t__( 'Navigates to select %s' ),\r\n\t\t\t\t\t\tselectedOption.name\r\n\t\t\t\t\t) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon icon={ chevronRight }></Icon>\r\n\t\t\t\t</BottomSheet.Cell>\r\n\t\t\t}\r\n\t\t\tshowSheet={ showSubSheet }\r\n\t\t>\r\n\t\t\t<>\r\n\t\t\t\t<BottomSheet.NavBar>\r\n\t\t\t\t\t<BottomSheet.NavBar.BackButton onPress={ goBack } />\r\n\t\t\t\t\t<BottomSheet.NavBar.Heading>\r\n\t\t\t\t\t\t{ label }\r\n\t\t\t\t\t</BottomSheet.NavBar.Heading>\r\n\t\t\t\t</BottomSheet.NavBar>\r\n\t\t\t\t<View style={ styles[ 'components-font-size-picker' ] }>\r\n\t\t\t\t\t<BottomSheet.Cell\r\n\t\t\t\t\t\tcustomActionButton\r\n\t\t\t\t\t\tseparatorType=\"none\"\r\n\t\t\t\t\t\tlabel={ __( 'Default' ) }\r\n\t\t\t\t\t\tonPress={ onChangeValue( undefined ) }\r\n\t\t\t\t\t\tleftAlign\r\n\t\t\t\t\t\tkey=\"default\"\r\n\t\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\t\taccessibilityLabel={ __( 'Selected: Default' ) }\r\n\t\t\t\t\t\taccessibilityHint={ __(\r\n\t\t\t\t\t\t\t'Double tap to select default font size'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t{ selectedValue === undefined && (\r\n\t\t\t\t\t\t\t\t<Icon icon={ check }></Icon>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t</BottomSheet.Cell>\r\n\t\t\t\t\t{ fontSizes.map( ( item, index ) => {\r\n\t\t\t\t\t\t// Only display a choice that we can currenly select.\r\n\t\t\t\t\t\tif ( ! parseFloat( item.sizePx ) ) {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<BottomSheet.Cell\r\n\t\t\t\t\t\t\t\tcustomActionButton\r\n\t\t\t\t\t\t\t\tseparatorType=\"none\"\r\n\t\t\t\t\t\t\t\tlabel={ item.name }\r\n\t\t\t\t\t\t\t\tsubLabel={ item.sizePx }\r\n\t\t\t\t\t\t\t\tonPress={ onChangeValue( item.sizePx ) }\r\n\t\t\t\t\t\t\t\tleftAlign\r\n\t\t\t\t\t\t\t\tkey={ index }\r\n\t\t\t\t\t\t\t\taccessibilityRole=\"button\"\r\n\t\t\t\t\t\t\t\taccessibilityLabel={\r\n\t\t\t\t\t\t\t\t\titem.sizePx === selectedValue\r\n\t\t\t\t\t\t\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t\t\t\t\t\t\t// translators: %s: Select font size option value e.g: \"Selected: Large\".\r\n\t\t\t\t\t\t\t\t\t\t\t\t__( 'Selected: %s' ),\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.name\r\n\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t: item.name\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\taccessibilityHint={ __(\r\n\t\t\t\t\t\t\t\t\t'Double tap to select font size'\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t\t\t{ item.sizePx === selectedPxValue && (\r\n\t\t\t\t\t\t\t\t\t\t<Icon icon={ check }></Icon>\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t</BottomSheet.Cell>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t\t{ ! disableCustomFontSizes && (\r\n\t\t\t\t\t\t<UnitControl\r\n\t\t\t\t\t\t\tlabel={ __( 'Custom' ) }\r\n\t\t\t\t\t\t\tmin={ 0 }\r\n\t\t\t\t\t\t\tmax={ 200 }\r\n\t\t\t\t\t\t\tstep={ 1 }\r\n\t\t\t\t\t\t\tvalue={ selectedValue }\r\n\t\t\t\t\t\t\tonChange={ ( nextSize ) => {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t0 === parseFloat( nextSize ) ||\r\n\t\t\t\t\t\t\t\t\t! nextSize\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\tonChange( undefined );\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tonChange( nextSize );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</View>\r\n\t\t\t</>\r\n\t\t</BottomSheet.SubSheet>\r\n\t);\r\n}\r\n\r\nexport default FontSizePicker;\r\n"],"mappings":"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","ignoreList":[]}