{"version":3,"names":["clsx","useEffect","useRef","useState","__","_n","sprintf","useDebounce","useInstanceId","usePrevious","speak","isShallowEqual","deprecated","Token","TokenInput","TokensAndInputWrapperFlex","SuggestionsList","FlexItem","StyledHelp","StyledLabel","Spacer","useDeprecated36pxDefaultSizeProp","withIgnoreIMEEvents","jsx","_jsx","jsxs","_jsxs","identity","value","FormTokenField","props","autoCapitalize","autoComplete","maxLength","placeholder","label","className","suggestions","maxSuggestions","displayTransform","saveTransform","token","trim","onChange","onInputChange","onFocus","undefined","isBorderless","disabled","tokenizeOnSpace","messages","added","removed","remove","__experimentalInvalid","__experimentalRenderItem","__experimentalExpandOnFocus","__experimentalValidateInput","__experimentalShowHowTo","__next40pxDefaultSize","__experimentalAutoSelectFirstMatch","__nextHasNoMarginBottom","tokenizeOnBlur","since","version","hint","instanceId","incompleteTokenValue","setIncompleteTokenValue","inputOffsetFromEnd","setInputOffsetFromEnd","isActive","setIsActive","isExpanded","setIsExpanded","selectedSuggestionIndex","setSelectedSuggestionIndex","selectedSuggestionScroll","setSelectedSuggestionScroll","prevSuggestions","prevValue","input","tokensAndInput","debouncedSpeak","hasFocus","focus","suggestionsDidUpdate","updateSuggestions","current","ownerDocument","activeElement","onFocusHandler","event","target","onBlur","inputHasValidValue","addNewToken","hasFocusWithin","relatedTarget","onKeyDown","preventDefault","defaultPrevented","key","handleDeleteKey","deleteTokenBeforeInput","addCurrentToken","handleLeftArrowKey","handleUpArrowKey","handleRightArrowKey","handleDownArrowKey","deleteTokenAfterInput","handleEscapeKey","onKeyPress","handleCommaKey","onContainerTouched","onTokenClickRemove","deleteToken","onSuggestionHovered","suggestion","index","getMatchingSuggestions","indexOf","onSuggestionSelected","onInputChangeHandler","text","separator","items","split","tokenValue","length","addNewTokens","slice","_deleteToken","isInputEmpty","moveInputBeforePreviousToken","moveInputAfterNextToken","HTMLInputElement","moveInputToIndex","Math","max","prevInputOffsetFromEnd","min","getIndexOfInput","selectedSuggestion","getSelectedSuggestion","tokens","tokensToAdd","Set","map","filter","Boolean","valueContainsToken","newValue","splice","newTokens","item","getTokenValue","searchValue","_suggestions","_value","_maxSuggestions","_saveTransform","match","startsWithMatch","containsMatch","normalizedValue","includes","toLocaleLowerCase","forEach","push","concat","some","resetSelectedSuggestion","inputHasMinimumChars","matchingSuggestions","hasMatchingSuggestions","shouldExpandIfFocuses","message","renderTokensAndInput","components","renderToken","renderInput","status","termPosition","termsCount","children","title","onClickRemove","onMouseEnter","onMouseLeave","inputProps","ref","classes","tokenFieldProps","tabIndex","Object","assign","htmlFor","onMouseDown","onTouchStart","justify","align","gap","wrap","hasTokens","selectedIndex","scrollIntoView","onHover","onSelect","marginBottom","id"],"sources":["@wordpress/components/src/form-token-field/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { KeyboardEvent, MouseEvent, TouchEvent, FocusEvent } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useRef, useState } from '@wordpress/element';\r\nimport { __, _n, sprintf } from '@wordpress/i18n';\r\nimport { useDebounce, useInstanceId, usePrevious } from '@wordpress/compose';\r\nimport { speak } from '@wordpress/a11y';\r\nimport isShallowEqual from '@wordpress/is-shallow-equal';\r\nimport deprecated from '@wordpress/deprecated';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Token from './token';\r\nimport TokenInput from './token-input';\r\nimport { TokensAndInputWrapperFlex } from './styles';\r\nimport SuggestionsList from './suggestions-list';\r\nimport type { FormTokenFieldProps, TokenItem } from './types';\r\nimport { FlexItem } from '../flex';\r\nimport {\r\n\tStyledHelp,\r\n\tStyledLabel,\r\n} from '../base-control/styles/base-control-styles';\r\nimport { Spacer } from '../spacer';\r\nimport { useDeprecated36pxDefaultSizeProp } from '../utils/use-deprecated-props';\r\nimport { withIgnoreIMEEvents } from '../utils/with-ignore-ime-events';\r\n\r\nconst identity = ( value: string ) => value;\r\n\r\n/**\r\n * A `FormTokenField` is a field similar to the tags and categories fields in the interim editor chrome,\r\n * or the \"to\" field in Mail on OS X. Tokens can be entered by typing them or selecting them from a list of suggested tokens.\r\n *\r\n * Up to one hundred suggestions that match what the user has typed so far will be shown from which the user can pick from (auto-complete).\r\n * Tokens are separated by the \",\" character. Suggestions can be selected with the up or down arrows and added with the tab or enter key.\r\n *\r\n * The `value` property is handled in a manner similar to controlled form components.\r\n * See [Forms](https://react.dev/reference/react-dom/components#form-components) in the React Documentation for more information.\r\n */\r\nexport function FormTokenField( props: FormTokenFieldProps ) {\r\n\tconst {\r\n\t\tautoCapitalize,\r\n\t\tautoComplete,\r\n\t\tmaxLength,\r\n\t\tplaceholder,\r\n\t\tlabel = __( 'Add item' ),\r\n\t\tclassName,\r\n\t\tsuggestions = [],\r\n\t\tmaxSuggestions = 100,\r\n\t\tvalue = [],\r\n\t\tdisplayTransform = identity,\r\n\t\tsaveTransform = ( token ) => token.trim(),\r\n\t\tonChange = () => {},\r\n\t\tonInputChange = () => {},\r\n\t\tonFocus = undefined,\r\n\t\tisBorderless = false,\r\n\t\tdisabled = false,\r\n\t\ttokenizeOnSpace = false,\r\n\t\tmessages = {\r\n\t\t\tadded: __( 'Item added.' ),\r\n\t\t\tremoved: __( 'Item removed.' ),\r\n\t\t\tremove: __( 'Remove item' ),\r\n\t\t\t__experimentalInvalid: __( 'Invalid item' ),\r\n\t\t},\r\n\t\t__experimentalRenderItem,\r\n\t\t__experimentalExpandOnFocus = false,\r\n\t\t__experimentalValidateInput = () => true,\r\n\t\t__experimentalShowHowTo = true,\r\n\t\t__next40pxDefaultSize = false,\r\n\t\t__experimentalAutoSelectFirstMatch = false,\r\n\t\t__nextHasNoMarginBottom = false,\r\n\t\ttokenizeOnBlur = false,\r\n\t} = useDeprecated36pxDefaultSizeProp< FormTokenFieldProps >( props );\r\n\r\n\tif ( ! __nextHasNoMarginBottom ) {\r\n\t\tdeprecated( 'Bottom margin styles for wp.components.FormTokenField', {\r\n\t\t\tsince: '6.7',\r\n\t\t\tversion: '7.0',\r\n\t\t\thint: 'Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version.',\r\n\t\t} );\r\n\t}\r\n\r\n\tconst instanceId = useInstanceId( FormTokenField );\r\n\r\n\t// We reset to these initial values again in the onBlur\r\n\tconst [ incompleteTokenValue, setIncompleteTokenValue ] = useState( '' );\r\n\tconst [ inputOffsetFromEnd, setInputOffsetFromEnd ] = useState( 0 );\r\n\tconst [ isActive, setIsActive ] = useState( false );\r\n\tconst [ isExpanded, setIsExpanded ] = useState( false );\r\n\tconst [ selectedSuggestionIndex, setSelectedSuggestionIndex ] =\r\n\t\tuseState( -1 );\r\n\tconst [ selectedSuggestionScroll, setSelectedSuggestionScroll ] =\r\n\t\tuseState( false );\r\n\r\n\tconst prevSuggestions = usePrevious< string[] >( suggestions );\r\n\tconst prevValue = usePrevious< ( string | TokenItem )[] >( value );\r\n\r\n\tconst input = useRef< HTMLInputElement >( null );\r\n\tconst tokensAndInput = useRef< HTMLInputElement >( null );\r\n\r\n\tconst debouncedSpeak = useDebounce( speak, 500 );\r\n\r\n\tuseEffect( () => {\r\n\t\t// Make sure to focus the input when the isActive state is true.\r\n\t\tif ( isActive && ! hasFocus() ) {\r\n\t\t\tfocus();\r\n\t\t}\r\n\t}, [ isActive ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tconst suggestionsDidUpdate = ! isShallowEqual(\r\n\t\t\tsuggestions,\r\n\t\t\tprevSuggestions || []\r\n\t\t);\r\n\r\n\t\tif ( suggestionsDidUpdate || value !== prevValue ) {\r\n\t\t\tupdateSuggestions( suggestionsDidUpdate );\r\n\t\t}\r\n\r\n\t\t// TODO: updateSuggestions() should first be refactored so its actual deps are clearer.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ suggestions, prevSuggestions, value, prevValue ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tupdateSuggestions();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ incompleteTokenValue ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tupdateSuggestions();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ __experimentalAutoSelectFirstMatch ] );\r\n\r\n\tif ( disabled && isActive ) {\r\n\t\tsetIsActive( false );\r\n\t\tsetIncompleteTokenValue( '' );\r\n\t}\r\n\r\n\tfunction focus() {\r\n\t\tinput.current?.focus();\r\n\t}\r\n\r\n\tfunction hasFocus() {\r\n\t\treturn input.current === input.current?.ownerDocument.activeElement;\r\n\t}\r\n\r\n\tfunction onFocusHandler( event: FocusEvent ) {\r\n\t\t// If focus is on the input or on the container, set the isActive state to true.\r\n\t\tif ( hasFocus() || event.target === tokensAndInput.current ) {\r\n\t\t\tsetIsActive( true );\r\n\t\t\tsetIsExpanded( __experimentalExpandOnFocus || isExpanded );\r\n\t\t} else {\r\n\t\t\t/*\r\n\t\t\t * Otherwise, focus is on one of the token \"remove\" buttons and we\r\n\t\t\t * set the isActive state to false to prevent the input to be\r\n\t\t\t * re-focused, see componentDidUpdate().\r\n\t\t\t */\r\n\t\t\tsetIsActive( false );\r\n\t\t}\r\n\r\n\t\tif ( 'function' === typeof onFocus ) {\r\n\t\t\tonFocus( event );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onBlur( event: FocusEvent ) {\r\n\t\tif (\r\n\t\t\tinputHasValidValue() &&\r\n\t\t\t__experimentalValidateInput( incompleteTokenValue )\r\n\t\t) {\r\n\t\t\tsetIsActive( false );\r\n\t\t\tif ( tokenizeOnBlur && inputHasValidValue() ) {\r\n\t\t\t\taddNewToken( incompleteTokenValue );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Reset to initial state\r\n\t\t\tsetIncompleteTokenValue( '' );\r\n\t\t\tsetInputOffsetFromEnd( 0 );\r\n\t\t\tsetIsActive( false );\r\n\r\n\t\t\tif ( __experimentalExpandOnFocus ) {\r\n\t\t\t\t// If `__experimentalExpandOnFocus` is true, don't close the suggestions list when\r\n\t\t\t\t// the user clicks on it (`tokensAndInput` will be the element that caused the blur).\r\n\t\t\t\tconst hasFocusWithin =\r\n\t\t\t\t\tevent.relatedTarget === tokensAndInput.current;\r\n\t\t\t\tsetIsExpanded( hasFocusWithin );\r\n\t\t\t} else {\r\n\t\t\t\t// Else collapse the suggestion list. This will result in the suggestion list closing\r\n\t\t\t\t// after a suggestion has been submitted since that causes a blur.\r\n\t\t\t\tsetIsExpanded( false );\r\n\t\t\t}\r\n\r\n\t\t\tsetSelectedSuggestionIndex( -1 );\r\n\t\t\tsetSelectedSuggestionScroll( false );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onKeyDown( event: KeyboardEvent ) {\r\n\t\tlet preventDefault = false;\r\n\r\n\t\tif ( event.defaultPrevented ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tswitch ( event.key ) {\r\n\t\t\tcase 'Backspace':\r\n\t\t\t\tpreventDefault = handleDeleteKey( deleteTokenBeforeInput );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Enter':\r\n\t\t\t\tpreventDefault = addCurrentToken();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ArrowLeft':\r\n\t\t\t\tpreventDefault = handleLeftArrowKey();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ArrowUp':\r\n\t\t\t\tpreventDefault = handleUpArrowKey();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ArrowRight':\r\n\t\t\t\tpreventDefault = handleRightArrowKey();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ArrowDown':\r\n\t\t\t\tpreventDefault = handleDownArrowKey();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Delete':\r\n\t\t\t\tpreventDefault = handleDeleteKey( deleteTokenAfterInput );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Space':\r\n\t\t\t\tif ( tokenizeOnSpace ) {\r\n\t\t\t\t\tpreventDefault = addCurrentToken();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Escape':\r\n\t\t\t\tpreventDefault = handleEscapeKey( event );\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif ( preventDefault ) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onKeyPress( event: KeyboardEvent ) {\r\n\t\tlet preventDefault = false;\r\n\r\n\t\tswitch ( event.key ) {\r\n\t\t\tcase ',':\r\n\t\t\t\tpreventDefault = handleCommaKey();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif ( preventDefault ) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onContainerTouched( event: MouseEvent | TouchEvent ) {\r\n\t\t// Prevent clicking/touching the tokensAndInput container from blurring\r\n\t\t// the input and adding the current token.\r\n\t\tif ( event.target === tokensAndInput.current && isActive ) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onTokenClickRemove( event: { value: string } ) {\r\n\t\tdeleteToken( event.value );\r\n\t\tfocus();\r\n\t}\r\n\r\n\tfunction onSuggestionHovered( suggestion: string ) {\r\n\t\tconst index = getMatchingSuggestions().indexOf( suggestion );\r\n\r\n\t\tif ( index >= 0 ) {\r\n\t\t\tsetSelectedSuggestionIndex( index );\r\n\t\t\tsetSelectedSuggestionScroll( false );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onSuggestionSelected( suggestion: string ) {\r\n\t\taddNewToken( suggestion );\r\n\t}\r\n\r\n\tfunction onInputChangeHandler( event: { value: string } ) {\r\n\t\tconst text = event.value;\r\n\t\tconst separator = tokenizeOnSpace ? /[ ,\\t]+/ : /[,\\t]+/;\r\n\t\tconst items = text.split( separator );\r\n\t\tconst tokenValue = items[ items.length - 1 ] || '';\r\n\r\n\t\tif ( items.length > 1 ) {\r\n\t\t\taddNewTokens( items.slice( 0, -1 ) );\r\n\t\t}\r\n\t\tsetIncompleteTokenValue( tokenValue );\r\n\t\tonInputChange( tokenValue );\r\n\t}\r\n\r\n\tfunction handleDeleteKey( _deleteToken: () => void ) {\r\n\t\tlet preventDefault = false;\r\n\t\tif ( hasFocus() && isInputEmpty() ) {\r\n\t\t\t_deleteToken();\r\n\t\t\tpreventDefault = true;\r\n\t\t}\r\n\r\n\t\treturn preventDefault;\r\n\t}\r\n\r\n\tfunction handleLeftArrowKey() {\r\n\t\tlet preventDefault = false;\r\n\t\tif ( isInputEmpty() ) {\r\n\t\t\tmoveInputBeforePreviousToken();\r\n\t\t\tpreventDefault = true;\r\n\t\t}\r\n\r\n\t\treturn preventDefault;\r\n\t}\r\n\r\n\tfunction handleRightArrowKey() {\r\n\t\tlet preventDefault = false;\r\n\t\tif ( isInputEmpty() ) {\r\n\t\t\tmoveInputAfterNextToken();\r\n\t\t\tpreventDefault = true;\r\n\t\t}\r\n\r\n\t\treturn preventDefault;\r\n\t}\r\n\r\n\tfunction handleUpArrowKey() {\r\n\t\tsetSelectedSuggestionIndex( ( index ) => {\r\n\t\t\treturn (\r\n\t\t\t\t( index === 0\r\n\t\t\t\t\t? getMatchingSuggestions(\r\n\t\t\t\t\t\t\tincompleteTokenValue,\r\n\t\t\t\t\t\t\tsuggestions,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\tmaxSuggestions,\r\n\t\t\t\t\t\t\tsaveTransform\r\n\t\t\t\t\t  ).length\r\n\t\t\t\t\t: index ) - 1\r\n\t\t\t);\r\n\t\t} );\r\n\t\tsetSelectedSuggestionScroll( true );\r\n\r\n\t\treturn true; // PreventDefault.\r\n\t}\r\n\r\n\tfunction handleDownArrowKey() {\r\n\t\tsetSelectedSuggestionIndex( ( index ) => {\r\n\t\t\treturn (\r\n\t\t\t\t( index + 1 ) %\r\n\t\t\t\tgetMatchingSuggestions(\r\n\t\t\t\t\tincompleteTokenValue,\r\n\t\t\t\t\tsuggestions,\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t\tmaxSuggestions,\r\n\t\t\t\t\tsaveTransform\r\n\t\t\t\t).length\r\n\t\t\t);\r\n\t\t} );\r\n\r\n\t\tsetSelectedSuggestionScroll( true );\r\n\t\treturn true; // PreventDefault.\r\n\t}\r\n\r\n\tfunction handleEscapeKey( event: KeyboardEvent ) {\r\n\t\tif ( event.target instanceof HTMLInputElement ) {\r\n\t\t\tsetIncompleteTokenValue( event.target.value );\r\n\t\t\tsetIsExpanded( false );\r\n\t\t\tsetSelectedSuggestionIndex( -1 );\r\n\t\t\tsetSelectedSuggestionScroll( false );\r\n\t\t}\r\n\r\n\t\treturn true; // PreventDefault.\r\n\t}\r\n\r\n\tfunction handleCommaKey() {\r\n\t\tif ( inputHasValidValue() ) {\r\n\t\t\taddNewToken( incompleteTokenValue );\r\n\t\t}\r\n\r\n\t\treturn true; // PreventDefault.\r\n\t}\r\n\r\n\tfunction moveInputToIndex( index: number ) {\r\n\t\tsetInputOffsetFromEnd( value.length - Math.max( index, -1 ) - 1 );\r\n\t}\r\n\r\n\tfunction moveInputBeforePreviousToken() {\r\n\t\tsetInputOffsetFromEnd( ( prevInputOffsetFromEnd ) => {\r\n\t\t\treturn Math.min( prevInputOffsetFromEnd + 1, value.length );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction moveInputAfterNextToken() {\r\n\t\tsetInputOffsetFromEnd( ( prevInputOffsetFromEnd ) => {\r\n\t\t\treturn Math.max( prevInputOffsetFromEnd - 1, 0 );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction deleteTokenBeforeInput() {\r\n\t\tconst index = getIndexOfInput() - 1;\r\n\r\n\t\tif ( index > -1 ) {\r\n\t\t\tdeleteToken( value[ index ] );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction deleteTokenAfterInput() {\r\n\t\tconst index = getIndexOfInput();\r\n\r\n\t\tif ( index < value.length ) {\r\n\t\t\tdeleteToken( value[ index ] );\r\n\t\t\t// Update input offset since it's the offset from the last token.\r\n\t\t\tmoveInputToIndex( index );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction addCurrentToken() {\r\n\t\tlet preventDefault = false;\r\n\t\tconst selectedSuggestion = getSelectedSuggestion();\r\n\r\n\t\tif ( selectedSuggestion ) {\r\n\t\t\taddNewToken( selectedSuggestion );\r\n\t\t\tpreventDefault = true;\r\n\t\t} else if ( inputHasValidValue() ) {\r\n\t\t\taddNewToken( incompleteTokenValue );\r\n\t\t\tpreventDefault = true;\r\n\t\t}\r\n\r\n\t\treturn preventDefault;\r\n\t}\r\n\r\n\tfunction addNewTokens( tokens: string[] ) {\r\n\t\tconst tokensToAdd = [\r\n\t\t\t...new Set(\r\n\t\t\t\ttokens\r\n\t\t\t\t\t.map( saveTransform )\r\n\t\t\t\t\t.filter( Boolean )\r\n\t\t\t\t\t.filter( ( token ) => ! valueContainsToken( token ) )\r\n\t\t\t),\r\n\t\t];\r\n\r\n\t\tif ( tokensToAdd.length > 0 ) {\r\n\t\t\tconst newValue = [ ...value ];\r\n\t\t\tnewValue.splice( getIndexOfInput(), 0, ...tokensToAdd );\r\n\t\t\tonChange( newValue );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction addNewToken( token: string ) {\r\n\t\tif ( ! __experimentalValidateInput( token ) ) {\r\n\t\t\tspeak( messages.__experimentalInvalid, 'assertive' );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\taddNewTokens( [ token ] );\r\n\t\tspeak( messages.added, 'assertive' );\r\n\r\n\t\tsetIncompleteTokenValue( '' );\r\n\t\tsetSelectedSuggestionIndex( -1 );\r\n\t\tsetSelectedSuggestionScroll( false );\r\n\t\tsetIsExpanded( ! __experimentalExpandOnFocus );\r\n\r\n\t\tif ( isActive && ! tokenizeOnBlur ) {\r\n\t\t\tfocus();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction deleteToken( token: string | TokenItem ) {\r\n\t\tconst newTokens = value.filter( ( item ) => {\r\n\t\t\treturn getTokenValue( item ) !== getTokenValue( token );\r\n\t\t} );\r\n\t\tonChange( newTokens );\r\n\t\tspeak( messages.removed, 'assertive' );\r\n\t}\r\n\r\n\tfunction getTokenValue( token: { value: string } | string ) {\r\n\t\tif ( 'object' === typeof token ) {\r\n\t\t\treturn token.value;\r\n\t\t}\r\n\r\n\t\treturn token;\r\n\t}\r\n\r\n\tfunction getMatchingSuggestions(\r\n\t\tsearchValue = incompleteTokenValue,\r\n\t\t_suggestions = suggestions,\r\n\t\t_value = value,\r\n\t\t_maxSuggestions = maxSuggestions,\r\n\t\t_saveTransform = saveTransform\r\n\t) {\r\n\t\tlet match = _saveTransform( searchValue );\r\n\t\tconst startsWithMatch: string[] = [];\r\n\t\tconst containsMatch: string[] = [];\r\n\t\tconst normalizedValue = _value.map( ( item ) => {\r\n\t\t\tif ( typeof item === 'string' ) {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t\treturn item.value;\r\n\t\t} );\r\n\r\n\t\tif ( match.length === 0 ) {\r\n\t\t\t_suggestions = _suggestions.filter(\r\n\t\t\t\t( suggestion ) => ! normalizedValue.includes( suggestion )\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tmatch = match.toLocaleLowerCase();\r\n\r\n\t\t\t_suggestions.forEach( ( suggestion ) => {\r\n\t\t\t\tconst index = suggestion.toLocaleLowerCase().indexOf( match );\r\n\t\t\t\tif ( normalizedValue.indexOf( suggestion ) === -1 ) {\r\n\t\t\t\t\tif ( index === 0 ) {\r\n\t\t\t\t\t\tstartsWithMatch.push( suggestion );\r\n\t\t\t\t\t} else if ( index > 0 ) {\r\n\t\t\t\t\t\tcontainsMatch.push( suggestion );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\t_suggestions = startsWithMatch.concat( containsMatch );\r\n\t\t}\r\n\r\n\t\treturn _suggestions.slice( 0, _maxSuggestions );\r\n\t}\r\n\r\n\tfunction getSelectedSuggestion() {\r\n\t\tif ( selectedSuggestionIndex !== -1 ) {\r\n\t\t\treturn getMatchingSuggestions()[ selectedSuggestionIndex ];\r\n\t\t}\r\n\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tfunction valueContainsToken( token: string ) {\r\n\t\treturn value.some( ( item ) => {\r\n\t\t\treturn getTokenValue( token ) === getTokenValue( item );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction getIndexOfInput() {\r\n\t\treturn value.length - inputOffsetFromEnd;\r\n\t}\r\n\r\n\tfunction isInputEmpty() {\r\n\t\treturn incompleteTokenValue.length === 0;\r\n\t}\r\n\r\n\tfunction inputHasValidValue() {\r\n\t\treturn saveTransform( incompleteTokenValue ).length > 0;\r\n\t}\r\n\r\n\tfunction updateSuggestions( resetSelectedSuggestion = true ) {\r\n\t\tconst inputHasMinimumChars = incompleteTokenValue.trim().length > 1;\r\n\t\tconst matchingSuggestions =\r\n\t\t\tgetMatchingSuggestions( incompleteTokenValue );\r\n\t\tconst hasMatchingSuggestions = matchingSuggestions.length > 0;\r\n\r\n\t\tconst shouldExpandIfFocuses = hasFocus() && __experimentalExpandOnFocus;\r\n\t\tsetIsExpanded(\r\n\t\t\tshouldExpandIfFocuses ||\r\n\t\t\t\t( inputHasMinimumChars && hasMatchingSuggestions )\r\n\t\t);\r\n\r\n\t\tif ( resetSelectedSuggestion ) {\r\n\t\t\tif (\r\n\t\t\t\t__experimentalAutoSelectFirstMatch &&\r\n\t\t\t\tinputHasMinimumChars &&\r\n\t\t\t\thasMatchingSuggestions\r\n\t\t\t) {\r\n\t\t\t\tsetSelectedSuggestionIndex( 0 );\r\n\t\t\t\tsetSelectedSuggestionScroll( true );\r\n\t\t\t} else {\r\n\t\t\t\tsetSelectedSuggestionIndex( -1 );\r\n\t\t\t\tsetSelectedSuggestionScroll( false );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( inputHasMinimumChars ) {\r\n\t\t\tconst message = hasMatchingSuggestions\r\n\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t/* translators: %d: number of results. */\r\n\t\t\t\t\t\t_n(\r\n\t\t\t\t\t\t\t'%d result found, use up and down arrow keys to navigate.',\r\n\t\t\t\t\t\t\t'%d results found, use up and down arrow keys to navigate.',\r\n\t\t\t\t\t\t\tmatchingSuggestions.length\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tmatchingSuggestions.length\r\n\t\t\t\t  )\r\n\t\t\t\t: __( 'No results.' );\r\n\r\n\t\t\tdebouncedSpeak( message, 'assertive' );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction renderTokensAndInput() {\r\n\t\tconst components = value.map( renderToken );\r\n\t\tcomponents.splice( getIndexOfInput(), 0, renderInput() );\r\n\r\n\t\treturn components;\r\n\t}\r\n\r\n\tfunction renderToken(\r\n\t\ttoken: string | TokenItem,\r\n\t\tindex: number,\r\n\t\ttokens: ( string | TokenItem )[]\r\n\t) {\r\n\t\tconst _value = getTokenValue( token );\r\n\t\tconst status = typeof token !== 'string' ? token.status : undefined;\r\n\t\tconst termPosition = index + 1;\r\n\t\tconst termsCount = tokens.length;\r\n\r\n\t\treturn (\r\n\t\t\t<FlexItem key={ 'token-' + _value }>\r\n\t\t\t\t<Token\r\n\t\t\t\t\tvalue={ _value }\r\n\t\t\t\t\tstatus={ status }\r\n\t\t\t\t\ttitle={\r\n\t\t\t\t\t\ttypeof token !== 'string' ? token.title : undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdisplayTransform={ displayTransform }\r\n\t\t\t\t\tonClickRemove={ onTokenClickRemove }\r\n\t\t\t\t\tisBorderless={\r\n\t\t\t\t\t\t( typeof token !== 'string' && token.isBorderless ) ||\r\n\t\t\t\t\t\tisBorderless\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonMouseEnter={\r\n\t\t\t\t\t\ttypeof token !== 'string'\r\n\t\t\t\t\t\t\t? token.onMouseEnter\r\n\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonMouseLeave={\r\n\t\t\t\t\t\ttypeof token !== 'string'\r\n\t\t\t\t\t\t\t? token.onMouseLeave\r\n\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdisabled={ 'error' !== status && disabled }\r\n\t\t\t\t\tmessages={ messages }\r\n\t\t\t\t\ttermsCount={ termsCount }\r\n\t\t\t\t\ttermPosition={ termPosition }\r\n\t\t\t\t/>\r\n\t\t\t</FlexItem>\r\n\t\t);\r\n\t}\r\n\r\n\tfunction renderInput() {\r\n\t\tconst inputProps = {\r\n\t\t\tinstanceId,\r\n\t\t\tautoCapitalize,\r\n\t\t\tautoComplete,\r\n\t\t\tplaceholder: value.length === 0 ? placeholder : '',\r\n\t\t\tdisabled,\r\n\t\t\tvalue: incompleteTokenValue,\r\n\t\t\tonBlur,\r\n\t\t\tisExpanded,\r\n\t\t\tselectedSuggestionIndex,\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<TokenInput\r\n\t\t\t\tkey=\"input\"\r\n\t\t\t\t{ ...inputProps }\r\n\t\t\t\tonChange={\r\n\t\t\t\t\t! ( maxLength && value.length >= maxLength )\r\n\t\t\t\t\t\t? onInputChangeHandler\r\n\t\t\t\t\t\t: undefined\r\n\t\t\t\t}\r\n\t\t\t\tref={ input }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tconst classes = clsx(\r\n\t\tclassName,\r\n\t\t'components-form-token-field__input-container',\r\n\t\t{\r\n\t\t\t'is-active': isActive,\r\n\t\t\t'is-disabled': disabled,\r\n\t\t}\r\n\t);\r\n\r\n\tlet tokenFieldProps = {\r\n\t\tclassName: 'components-form-token-field',\r\n\t\ttabIndex: -1,\r\n\t};\r\n\tconst matchingSuggestions = getMatchingSuggestions();\r\n\r\n\tif ( ! disabled ) {\r\n\t\ttokenFieldProps = Object.assign( {}, tokenFieldProps, {\r\n\t\t\tonKeyDown: withIgnoreIMEEvents( onKeyDown ),\r\n\t\t\tonKeyPress,\r\n\t\t\tonFocus: onFocusHandler,\r\n\t\t} );\r\n\t}\r\n\r\n\t// Disable reason: There is no appropriate role which describes the\r\n\t// input container intended accessible usability.\r\n\t// TODO: Refactor click detection to use blur to stop propagation.\r\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\r\n\treturn (\r\n\t\t<div { ...tokenFieldProps }>\r\n\t\t\t{ label && (\r\n\t\t\t\t<StyledLabel\r\n\t\t\t\t\thtmlFor={ `components-form-token-input-${ instanceId }` }\r\n\t\t\t\t\tclassName=\"components-form-token-field__label\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{ label }\r\n\t\t\t\t</StyledLabel>\r\n\t\t\t) }\r\n\t\t\t<div\r\n\t\t\t\tref={ tokensAndInput }\r\n\t\t\t\tclassName={ classes }\r\n\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\tonMouseDown={ onContainerTouched }\r\n\t\t\t\tonTouchStart={ onContainerTouched }\r\n\t\t\t>\r\n\t\t\t\t<TokensAndInputWrapperFlex\r\n\t\t\t\t\tjustify=\"flex-start\"\r\n\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\tgap={ 1 }\r\n\t\t\t\t\twrap\r\n\t\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\r\n\t\t\t\t\thasTokens={ !! value.length }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ renderTokensAndInput() }\r\n\t\t\t\t</TokensAndInputWrapperFlex>\r\n\t\t\t\t{ isExpanded && (\r\n\t\t\t\t\t<SuggestionsList\r\n\t\t\t\t\t\tinstanceId={ instanceId }\r\n\t\t\t\t\t\tmatch={ saveTransform( incompleteTokenValue ) }\r\n\t\t\t\t\t\tdisplayTransform={ displayTransform }\r\n\t\t\t\t\t\tsuggestions={ matchingSuggestions }\r\n\t\t\t\t\t\tselectedIndex={ selectedSuggestionIndex }\r\n\t\t\t\t\t\tscrollIntoView={ selectedSuggestionScroll }\r\n\t\t\t\t\t\tonHover={ onSuggestionHovered }\r\n\t\t\t\t\t\tonSelect={ onSuggestionSelected }\r\n\t\t\t\t\t\t__experimentalRenderItem={ __experimentalRenderItem }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t\t{ ! __nextHasNoMarginBottom && <Spacer marginBottom={ 2 } /> }\r\n\t\t\t{ __experimentalShowHowTo && (\r\n\t\t\t\t<StyledHelp\r\n\t\t\t\t\tid={ `components-form-token-suggestions-howto-${ instanceId }` }\r\n\t\t\t\t\tclassName=\"components-form-token-field__help\"\r\n\t\t\t\t\t__nextHasNoMarginBottom={ __nextHasNoMarginBottom }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ tokenizeOnSpace\r\n\t\t\t\t\t\t? __(\r\n\t\t\t\t\t\t\t\t'Separate with commas, spaces, or the Enter key.'\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: __( 'Separate with commas or the Enter key.' ) }\r\n\t\t\t\t</StyledHelp>\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\r\n}\r\n\r\nexport default FormTokenField;\r\n"],"mappings":"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","ignoreList":[]}