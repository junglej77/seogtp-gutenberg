{"version":3,"names":["clsx","forwardRef","useState","jsx","_jsx","UnForwardedTokenInput","props","ref","value","isExpanded","instanceId","selectedSuggestionIndex","className","onChange","onFocus","onBlur","restProps","hasFocus","setHasFocus","size","length","onChangeHandler","event","target","onFocusHandler","e","onBlurHandler","id","type","autoComplete","role","undefined","TokenInput"],"sources":["@wordpress/components/src/form-token-field/token-input.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { ChangeEvent, ForwardedRef, FocusEventHandler } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { forwardRef, useState } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { WordPressComponentProps } from '../context';\r\nimport type { TokenInputProps } from './types';\r\n\r\nexport function UnForwardedTokenInput(\r\n\tprops: WordPressComponentProps< TokenInputProps, 'input', false >,\r\n\tref: ForwardedRef< HTMLInputElement >\r\n) {\r\n\tconst {\r\n\t\tvalue,\r\n\t\tisExpanded,\r\n\t\tinstanceId,\r\n\t\tselectedSuggestionIndex,\r\n\t\tclassName,\r\n\t\tonChange,\r\n\t\tonFocus,\r\n\t\tonBlur,\r\n\t\t...restProps\r\n\t} = props;\r\n\r\n\tconst [ hasFocus, setHasFocus ] = useState( false );\r\n\r\n\tconst size = value ? value.length + 1 : 0;\r\n\r\n\tconst onChangeHandler = ( event: ChangeEvent< HTMLInputElement > ) => {\r\n\t\tif ( onChange ) {\r\n\t\t\tonChange( {\r\n\t\t\t\tvalue: event.target.value,\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\r\n\tconst onFocusHandler: FocusEventHandler< HTMLInputElement > = ( e ) => {\r\n\t\tsetHasFocus( true );\r\n\t\tonFocus?.( e );\r\n\t};\r\n\r\n\tconst onBlurHandler: FocusEventHandler< HTMLInputElement > = ( e ) => {\r\n\t\tsetHasFocus( false );\r\n\t\tonBlur?.( e );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<input\r\n\t\t\tref={ ref }\r\n\t\t\tid={ `components-form-token-input-${ instanceId }` }\r\n\t\t\ttype=\"text\"\r\n\t\t\t{ ...restProps }\r\n\t\t\tvalue={ value || '' }\r\n\t\t\tonChange={ onChangeHandler }\r\n\t\t\tonFocus={ onFocusHandler }\r\n\t\t\tonBlur={ onBlurHandler }\r\n\t\t\tsize={ size }\r\n\t\t\tclassName={ clsx(\r\n\t\t\t\tclassName,\r\n\t\t\t\t'components-form-token-field__input'\r\n\t\t\t) }\r\n\t\t\tautoComplete=\"off\"\r\n\t\t\trole=\"combobox\"\r\n\t\t\taria-expanded={ isExpanded }\r\n\t\t\taria-autocomplete=\"list\"\r\n\t\t\taria-owns={\r\n\t\t\t\tisExpanded\r\n\t\t\t\t\t? `components-form-token-suggestions-${ instanceId }`\r\n\t\t\t\t\t: undefined\r\n\t\t\t}\r\n\t\t\taria-activedescendant={\r\n\t\t\t\t// Only add the `aria-activedescendant` attribute when:\r\n\t\t\t\t// - the user is actively interacting with the input (`hasFocus`)\r\n\t\t\t\t// - there is a selected suggestion (`selectedSuggestionIndex !== -1`)\r\n\t\t\t\t// - the list of suggestions are rendered in the DOM (`isExpanded`)\r\n\t\t\t\thasFocus && selectedSuggestionIndex !== -1 && isExpanded\r\n\t\t\t\t\t? `components-form-token-suggestions-${ instanceId }-${ selectedSuggestionIndex }`\r\n\t\t\t\t\t: undefined\r\n\t\t\t}\r\n\t\t\taria-describedby={ `components-form-token-suggestions-howto-${ instanceId }` }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport const TokenInput = forwardRef( UnForwardedTokenInput );\r\n\r\nexport default TokenInput;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;AAGvB;AACA;AACA;AACA,SAASC,UAAU,EAAEC,QAAQ,QAAQ,oBAAoB;;AAEzD;AACA;AACA;AAFA,SAAAC,GAAA,IAAAC,IAAA;AAMA,OAAO,SAASC,qBAAqBA,CACpCC,KAAiE,EACjEC,GAAqC,EACpC;EACD,MAAM;IACLC,KAAK;IACLC,UAAU;IACVC,UAAU;IACVC,uBAAuB;IACvBC,SAAS;IACTC,QAAQ;IACRC,OAAO;IACPC,MAAM;IACN,GAAGC;EACJ,CAAC,GAAGV,KAAK;EAET,MAAM,CAAEW,QAAQ,EAAEC,WAAW,CAAE,GAAGhB,QAAQ,CAAE,KAAM,CAAC;EAEnD,MAAMiB,IAAI,GAAGX,KAAK,GAAGA,KAAK,CAACY,MAAM,GAAG,CAAC,GAAG,CAAC;EAEzC,MAAMC,eAAe,GAAKC,KAAsC,IAAM;IACrE,IAAKT,QAAQ,EAAG;MACfA,QAAQ,CAAE;QACTL,KAAK,EAAEc,KAAK,CAACC,MAAM,CAACf;MACrB,CAAE,CAAC;IACJ;EACD,CAAC;EAED,MAAMgB,cAAqD,GAAKC,CAAC,IAAM;IACtEP,WAAW,CAAE,IAAK,CAAC;IACnBJ,OAAO,GAAIW,CAAE,CAAC;EACf,CAAC;EAED,MAAMC,aAAoD,GAAKD,CAAC,IAAM;IACrEP,WAAW,CAAE,KAAM,CAAC;IACpBH,MAAM,GAAIU,CAAE,CAAC;EACd,CAAC;EAED,oBACCrB,IAAA;IACCG,GAAG,EAAGA,GAAK;IACXoB,EAAE,EAAI,+BAA+BjB,UAAY,EAAG;IACpDkB,IAAI,EAAC,MAAM;IAAA,GACNZ,SAAS;IACdR,KAAK,EAAGA,KAAK,IAAI,EAAI;IACrBK,QAAQ,EAAGQ,eAAiB;IAC5BP,OAAO,EAAGU,cAAgB;IAC1BT,MAAM,EAAGW,aAAe;IACxBP,IAAI,EAAGA,IAAM;IACbP,SAAS,EAAGZ,IAAI,CACfY,SAAS,EACT,oCACD,CAAG;IACHiB,YAAY,EAAC,KAAK;IAClBC,IAAI,EAAC,UAAU;IACf,iBAAgBrB,UAAY;IAC5B,qBAAkB,MAAM;IACxB,aACCA,UAAU,GACN,qCAAqCC,UAAY,EAAC,GACnDqB,SACH;IACD;IACC;IACA;IACA;IACA;IACAd,QAAQ,IAAIN,uBAAuB,KAAK,CAAC,CAAC,IAAIF,UAAU,GACpD,qCAAqCC,UAAY,IAAIC,uBAAyB,EAAC,GAChFoB,SACH;IACD,oBAAoB,2CAA2CrB,UAAY;EAAG,CAC9E,CAAC;AAEJ;AAEA,OAAO,MAAMsB,UAAU,GAAG/B,UAAU,CAAEI,qBAAsB,CAAC;AAE7D,eAAe2B,UAAU","ignoreList":[]}