{"version":3,"names":["__","sprintf","useInstanceId","useCallback","useMemo","CircularOptionPicker","CustomGradientPicker","VStack","ColorHeading","jsx","_jsx","jsxs","_jsxs","isMultipleOriginObject","obj","Array","isArray","gradients","isMultipleOriginArray","arr","length","every","gradientObj","SingleOrigin","className","clearGradient","onChange","value","additionalProps","gradientOptions","map","gradient","name","slug","index","Option","isSelected","tooltipText","style","color","background","onClick","OptionGroup","options","MultipleOrigin","headingLevel","instanceId","spacing","children","gradientSet","id","level","Component","props","asButtons","loop","actions","ariaLabel","ariaLabelledby","metaProps","_metaProps","GradientPicker","clearable","disableCustomGradients","__experimentalIsRenderedInSidebar","undefined","ButtonAction"],"sources":["@wordpress/components/src/gradient-picker/index.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { useCallback, useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport CircularOptionPicker from '../circular-option-picker';\r\nimport CustomGradientPicker from '../custom-gradient-picker';\r\nimport { VStack } from '../v-stack';\r\nimport { ColorHeading } from '../color-palette/styles';\r\nimport type {\r\n\tGradientPickerComponentProps,\r\n\tPickerProps,\r\n\tOriginObject,\r\n\tGradientObject,\r\n} from './types';\r\n\r\n// The Multiple Origin Gradients have a `gradients` property (an array of\r\n// gradient objects), while Single Origin ones have a `gradient` property.\r\nconst isMultipleOriginObject = (\r\n\tobj: Record< string, any >\r\n): obj is OriginObject =>\r\n\tArray.isArray( obj.gradients ) && ! ( 'gradient' in obj );\r\n\r\nconst isMultipleOriginArray = ( arr: any[] ): arr is OriginObject[] => {\r\n\treturn (\r\n\t\tarr.length > 0 &&\r\n\t\tarr.every( ( gradientObj ) => isMultipleOriginObject( gradientObj ) )\r\n\t);\r\n};\r\n\r\nfunction SingleOrigin( {\r\n\tclassName,\r\n\tclearGradient,\r\n\tgradients,\r\n\tonChange,\r\n\tvalue,\r\n\t...additionalProps\r\n}: PickerProps< GradientObject > ) {\r\n\tconst gradientOptions = useMemo( () => {\r\n\t\treturn gradients.map( ( { gradient, name, slug }, index ) => (\r\n\t\t\t<CircularOptionPicker.Option\r\n\t\t\t\tkey={ slug }\r\n\t\t\t\tvalue={ gradient }\r\n\t\t\t\tisSelected={ value === gradient }\r\n\t\t\t\ttooltipText={\r\n\t\t\t\t\tname ||\r\n\t\t\t\t\t// translators: %s: gradient code e.g: \"linear-gradient(90deg, rgba(98,16,153,1) 0%, rgba(172,110,22,1) 100%);\".\r\n\t\t\t\t\tsprintf( __( 'Gradient code: %s' ), gradient )\r\n\t\t\t\t}\r\n\t\t\t\tstyle={ { color: 'rgba( 0,0,0,0 )', background: gradient } }\r\n\t\t\t\tonClick={\r\n\t\t\t\t\tvalue === gradient\r\n\t\t\t\t\t\t? clearGradient\r\n\t\t\t\t\t\t: () => onChange( gradient, index )\r\n\t\t\t\t}\r\n\t\t\t\taria-label={\r\n\t\t\t\t\tname\r\n\t\t\t\t\t\t? // translators: %s: The name of the gradient e.g: \"Angular red to blue\".\r\n\t\t\t\t\t\t  sprintf( __( 'Gradient: %s' ), name )\r\n\t\t\t\t\t\t: // translators: %s: gradient code e.g: \"linear-gradient(90deg, rgba(98,16,153,1) 0%, rgba(172,110,22,1) 100%);\".\r\n\t\t\t\t\t\t  sprintf( __( 'Gradient code: %s' ), gradient )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t) );\r\n\t}, [ gradients, value, onChange, clearGradient ] );\r\n\treturn (\r\n\t\t<CircularOptionPicker.OptionGroup\r\n\t\t\tclassName={ className }\r\n\t\t\toptions={ gradientOptions }\r\n\t\t\t{ ...additionalProps }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction MultipleOrigin( {\r\n\tclassName,\r\n\tclearGradient,\r\n\tgradients,\r\n\tonChange,\r\n\tvalue,\r\n\theadingLevel,\r\n}: PickerProps< OriginObject > ) {\r\n\tconst instanceId = useInstanceId( MultipleOrigin );\r\n\r\n\treturn (\r\n\t\t<VStack spacing={ 3 } className={ className }>\r\n\t\t\t{ gradients.map( ( { name, gradients: gradientSet }, index ) => {\r\n\t\t\t\tconst id = `color-palette-${ instanceId }-${ index }`;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<VStack spacing={ 2 } key={ index }>\r\n\t\t\t\t\t\t<ColorHeading level={ headingLevel } id={ id }>\r\n\t\t\t\t\t\t\t{ name }\r\n\t\t\t\t\t\t</ColorHeading>\r\n\t\t\t\t\t\t<SingleOrigin\r\n\t\t\t\t\t\t\tclearGradient={ clearGradient }\r\n\t\t\t\t\t\t\tgradients={ gradientSet }\r\n\t\t\t\t\t\t\tonChange={ ( gradient ) =>\r\n\t\t\t\t\t\t\t\tonChange( gradient, index )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\t\taria-labelledby={ id }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</VStack>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</VStack>\r\n\t);\r\n}\r\n\r\nfunction Component( props: PickerProps< any > ) {\r\n\tconst {\r\n\t\tasButtons,\r\n\t\tloop,\r\n\t\tactions,\r\n\t\theadingLevel,\r\n\t\t'aria-label': ariaLabel,\r\n\t\t'aria-labelledby': ariaLabelledby,\r\n\t\t...additionalProps\r\n\t} = props;\r\n\tconst options = isMultipleOriginArray( props.gradients ) ? (\r\n\t\t<MultipleOrigin headingLevel={ headingLevel } { ...additionalProps } />\r\n\t) : (\r\n\t\t<SingleOrigin { ...additionalProps } />\r\n\t);\r\n\r\n\tlet metaProps:\r\n\t\t| { asButtons: false; loop?: boolean; 'aria-label': string }\r\n\t\t| { asButtons: false; loop?: boolean; 'aria-labelledby': string }\r\n\t\t| { asButtons: true };\r\n\r\n\tif ( asButtons ) {\r\n\t\tmetaProps = { asButtons: true };\r\n\t} else {\r\n\t\tconst _metaProps: { asButtons: false; loop?: boolean } = {\r\n\t\t\tasButtons: false,\r\n\t\t\tloop,\r\n\t\t};\r\n\r\n\t\tif ( ariaLabel ) {\r\n\t\t\tmetaProps = { ..._metaProps, 'aria-label': ariaLabel };\r\n\t\t} else if ( ariaLabelledby ) {\r\n\t\t\tmetaProps = {\r\n\t\t\t\t..._metaProps,\r\n\t\t\t\t'aria-labelledby': ariaLabelledby,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tmetaProps = {\r\n\t\t\t\t..._metaProps,\r\n\t\t\t\t'aria-label': __( 'Custom color picker.' ),\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CircularOptionPicker\r\n\t\t\t{ ...metaProps }\r\n\t\t\tactions={ actions }\r\n\t\t\toptions={ options }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n/**\r\n *  GradientPicker is a React component that renders a color gradient picker to\r\n * define a multi step gradient. There's either a _linear_ or a _radial_ type\r\n * available.\r\n *\r\n * ```jsx\r\n *import { GradientPicker } from '@wordpress/components';\r\n *import { useState } from '@wordpress/element';\r\n *\r\n *const myGradientPicker = () => {\r\n *\tconst [ gradient, setGradient ] = useState( null );\r\n *\r\n *\treturn (\r\n *\t\t<GradientPicker\r\n *\t\t\tvalue={ gradient }\r\n *\t\t\tonChange={ ( currentGradient ) => setGradient( currentGradient ) }\r\n *\t\t\tgradients={ [\r\n *\t\t\t\t{\r\n *\t\t\t\t\tname: 'JShine',\r\n *\t\t\t\t\tgradient:\r\n *\t\t\t\t\t\t'linear-gradient(135deg,#12c2e9 0%,#c471ed 50%,#f64f59 100%)',\r\n *\t\t\t\t\tslug: 'jshine',\r\n *\t\t\t\t},\r\n *\t\t\t\t{\r\n *\t\t\t\t\tname: 'Moonlit Asteroid',\r\n *\t\t\t\t\tgradient:\r\n *\t\t\t\t\t\t'linear-gradient(135deg,#0F2027 0%, #203A43 0%, #2c5364 100%)',\r\n *\t\t\t\t\tslug: 'moonlit-asteroid',\r\n *\t\t\t\t},\r\n *\t\t\t\t{\r\n *\t\t\t\t\tname: 'Rastafarie',\r\n *\t\t\t\t\tgradient:\r\n *\t\t\t\t\t\t'linear-gradient(135deg,#1E9600 0%, #FFF200 0%, #FF0000 100%)',\r\n *\t\t\t\t\tslug: 'rastafari',\r\n *\t\t\t\t},\r\n *\t\t\t] }\r\n *\t\t/>\r\n *\t);\r\n *};\r\n *```\r\n *\r\n */\r\nexport function GradientPicker( {\r\n\tclassName,\r\n\tgradients = [],\r\n\tonChange,\r\n\tvalue,\r\n\tclearable = true,\r\n\tdisableCustomGradients = false,\r\n\t__experimentalIsRenderedInSidebar,\r\n\theadingLevel = 2,\r\n\t...additionalProps\r\n}: GradientPickerComponentProps ) {\r\n\tconst clearGradient = useCallback(\r\n\t\t() => onChange( undefined ),\r\n\t\t[ onChange ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<VStack spacing={ gradients.length ? 4 : 0 }>\r\n\t\t\t{ ! disableCustomGradients && (\r\n\t\t\t\t<CustomGradientPicker\r\n\t\t\t\t\t__experimentalIsRenderedInSidebar={\r\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ ( gradients.length > 0 || clearable ) && (\r\n\t\t\t\t<Component\r\n\t\t\t\t\t{ ...additionalProps }\r\n\t\t\t\t\tclassName={ className }\r\n\t\t\t\t\tclearGradient={ clearGradient }\r\n\t\t\t\t\tgradients={ gradients }\r\n\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\tactions={\r\n\t\t\t\t\t\tclearable &&\r\n\t\t\t\t\t\t! disableCustomGradients && (\r\n\t\t\t\t\t\t\t<CircularOptionPicker.ButtonAction\r\n\t\t\t\t\t\t\t\tonClick={ clearGradient }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Clear' ) }\r\n\t\t\t\t\t\t\t</CircularOptionPicker.ButtonAction>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\theadingLevel={ headingLevel }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</VStack>\r\n\t);\r\n}\r\n\r\nexport default GradientPicker;\r\n"],"mappings":"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","ignoreList":[]}