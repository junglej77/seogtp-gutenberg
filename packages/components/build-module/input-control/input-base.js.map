{"version":3,"names":["useInstanceId","useMemo","Backdrop","Label","Container","Root","Prefix","Suffix","ContextSystemProvider","contextConnect","useContextSystem","useDeprecated36pxDefaultSizeProp","jsx","_jsx","jsxs","_jsxs","useUniqueId","idProp","instanceId","InputBase","id","getUIFlexProps","labelPosition","props","direction","expanded","gap","justify","ref","__next40pxDefaultSize","__unstableInputWidth","children","className","disabled","hideLabelFromVision","isBorderless","label","prefix","size","suffix","restProps","hideLabel","prefixSuffixContextValue","InputControlPrefixWrapper","InputControlSuffixWrapper","htmlFor","value"],"sources":["@wordpress/components/src/input-control/input-base.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type { ForwardedRef } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Backdrop from './backdrop';\r\nimport Label from './label';\r\nimport { Container, Root, Prefix, Suffix } from './styles/input-control-styles';\r\nimport type { InputBaseProps, LabelPosition } from './types';\r\nimport type { WordPressComponentProps } from '../context';\r\nimport {\r\n\tContextSystemProvider,\r\n\tcontextConnect,\r\n\tuseContextSystem,\r\n} from '../context';\r\nimport { useDeprecated36pxDefaultSizeProp } from '../utils/use-deprecated-props';\r\n\r\nfunction useUniqueId( idProp?: string ) {\r\n\tconst instanceId = useInstanceId( InputBase );\r\n\tconst id = `input-base-control-${ instanceId }`;\r\n\r\n\treturn idProp || id;\r\n}\r\n\r\n// Adapter to map props for the new ui/flex component.\r\nfunction getUIFlexProps( labelPosition?: LabelPosition ) {\r\n\tconst props: {\r\n\t\tdirection?: string;\r\n\t\tgap?: number;\r\n\t\tjustify?: string;\r\n\t\texpanded?: boolean;\r\n\t} = {};\r\n\tswitch ( labelPosition ) {\r\n\t\tcase 'top':\r\n\t\t\tprops.direction = 'column';\r\n\t\t\tprops.expanded = false;\r\n\t\t\tprops.gap = 0;\r\n\t\t\tbreak;\r\n\t\tcase 'bottom':\r\n\t\t\tprops.direction = 'column-reverse';\r\n\t\t\tprops.expanded = false;\r\n\t\t\tprops.gap = 0;\r\n\t\t\tbreak;\r\n\t\tcase 'edge':\r\n\t\t\tprops.justify = 'space-between';\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn props;\r\n}\r\n\r\nfunction InputBase(\r\n\tprops: WordPressComponentProps< InputBaseProps, 'div' >,\r\n\tref: ForwardedRef< HTMLDivElement >\r\n) {\r\n\tconst {\r\n\t\t__next40pxDefaultSize,\r\n\t\t__unstableInputWidth,\r\n\t\tchildren,\r\n\t\tclassName,\r\n\t\tdisabled = false,\r\n\t\thideLabelFromVision = false,\r\n\t\tlabelPosition,\r\n\t\tid: idProp,\r\n\t\tisBorderless = false,\r\n\t\tlabel,\r\n\t\tprefix,\r\n\t\tsize = 'default',\r\n\t\tsuffix,\r\n\t\t...restProps\r\n\t} = useDeprecated36pxDefaultSizeProp(\r\n\t\tuseContextSystem( props, 'InputBase' )\r\n\t);\r\n\r\n\tconst id = useUniqueId( idProp );\r\n\tconst hideLabel = hideLabelFromVision || ! label;\r\n\r\n\tconst prefixSuffixContextValue = useMemo( () => {\r\n\t\treturn {\r\n\t\t\tInputControlPrefixWrapper: { __next40pxDefaultSize, size },\r\n\t\t\tInputControlSuffixWrapper: { __next40pxDefaultSize, size },\r\n\t\t};\r\n\t}, [ __next40pxDefaultSize, size ] );\r\n\r\n\treturn (\r\n\t\t// @ts-expect-error The `direction` prop from Flex (FlexDirection) conflicts with legacy SVGAttributes `direction` (string) that come from React intrinsic prop definitions.\r\n\t\t<Root\r\n\t\t\t{ ...restProps }\r\n\t\t\t{ ...getUIFlexProps( labelPosition ) }\r\n\t\t\tclassName={ className }\r\n\t\t\tgap={ 2 }\r\n\t\t\tref={ ref }\r\n\t\t>\r\n\t\t\t<Label\r\n\t\t\t\tclassName=\"components-input-control__label\"\r\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\r\n\t\t\t\tlabelPosition={ labelPosition }\r\n\t\t\t\thtmlFor={ id }\r\n\t\t\t>\r\n\t\t\t\t{ label }\r\n\t\t\t</Label>\r\n\t\t\t<Container\r\n\t\t\t\t__unstableInputWidth={ __unstableInputWidth }\r\n\t\t\t\tclassName=\"components-input-control__container\"\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\thideLabel={ hideLabel }\r\n\t\t\t\tlabelPosition={ labelPosition }\r\n\t\t\t>\r\n\t\t\t\t<ContextSystemProvider value={ prefixSuffixContextValue }>\r\n\t\t\t\t\t{ prefix && (\r\n\t\t\t\t\t\t<Prefix className=\"components-input-control__prefix\">\r\n\t\t\t\t\t\t\t{ prefix }\r\n\t\t\t\t\t\t</Prefix>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t\t{ suffix && (\r\n\t\t\t\t\t\t<Suffix className=\"components-input-control__suffix\">\r\n\t\t\t\t\t\t\t{ suffix }\r\n\t\t\t\t\t\t</Suffix>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</ContextSystemProvider>\r\n\t\t\t\t<Backdrop disabled={ disabled } isBorderless={ isBorderless } />\r\n\t\t\t</Container>\r\n\t\t</Root>\r\n\t);\r\n}\r\n\r\n/**\r\n * `InputBase` is an internal component used to style the standard borders for an input,\r\n * as well as handle the layout for prefix/suffix elements.\r\n */\r\nexport default contextConnect( InputBase, 'InputBase' );\r\n"],"mappings":"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","ignoreList":[]}