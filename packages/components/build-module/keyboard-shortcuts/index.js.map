{"version":3,"names":["useRef","Children","useKeyboardShortcut","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","KeyboardShortcut","target","callback","shortcut","bindGlobal","eventName","KeyboardShortcuts","children","shortcuts","element","Object","entries","map","count","ref"],"sources":["@wordpress/components/src/keyboard-shortcuts/index.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useRef, Children } from '@wordpress/element';\r\nimport { useKeyboardShortcut } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { KeyboardShortcutProps, KeyboardShortcutsProps } from './types';\r\n\r\nfunction KeyboardShortcut( {\r\n\ttarget,\r\n\tcallback,\r\n\tshortcut,\r\n\tbindGlobal,\r\n\teventName,\r\n}: KeyboardShortcutProps ) {\r\n\tuseKeyboardShortcut( shortcut, callback, {\r\n\t\tbindGlobal,\r\n\t\ttarget,\r\n\t\teventName,\r\n\t} );\r\n\r\n\treturn null;\r\n}\r\n\r\n/**\r\n * `KeyboardShortcuts` is a component which handles keyboard sequences during the lifetime of the rendering element.\r\n *\r\n * When passed children, it will capture key events which occur on or within the children. If no children are passed, events are captured on the document.\r\n *\r\n * It uses the [Mousetrap](https://craig.is/killing/mice) library to implement keyboard sequence bindings.\r\n *\r\n * ```jsx\r\n * import { KeyboardShortcuts } from '@wordpress/components';\r\n * import { useState } from '@wordpress/element';\r\n *\r\n * const MyKeyboardShortcuts = () => {\r\n * \tconst [ isAllSelected, setIsAllSelected ] = useState( false );\r\n * \tconst selectAll = () => {\r\n * \t\tsetIsAllSelected( true );\r\n * \t};\r\n *\r\n * \treturn (\r\n * \t\t<div>\r\n * \t\t\t<KeyboardShortcuts\r\n * \t\t\t\tshortcuts={ {\r\n * \t\t\t\t\t'mod+a': selectAll,\r\n * \t\t\t\t} }\r\n * \t\t\t/>\r\n * \t\t\t[cmd/ctrl + A] Combination pressed? { isAllSelected ? 'Yes' : 'No' }\r\n * \t\t</div>\r\n * \t);\r\n * };\r\n * ```\r\n */\r\nfunction KeyboardShortcuts( {\r\n\tchildren,\r\n\tshortcuts,\r\n\tbindGlobal,\r\n\teventName,\r\n}: KeyboardShortcutsProps ) {\r\n\tconst target = useRef( null );\r\n\r\n\tconst element = Object.entries( shortcuts ?? {} ).map(\r\n\t\t( [ shortcut, callback ] ) => (\r\n\t\t\t<KeyboardShortcut\r\n\t\t\t\tkey={ shortcut }\r\n\t\t\t\tshortcut={ shortcut }\r\n\t\t\t\tcallback={ callback }\r\n\t\t\t\tbindGlobal={ bindGlobal }\r\n\t\t\t\teventName={ eventName }\r\n\t\t\t\ttarget={ target }\r\n\t\t\t/>\r\n\t\t)\r\n\t);\r\n\r\n\t// Render as non-visual if there are no children pressed. Keyboard\r\n\t// events will be bound to the document instead.\r\n\tif ( ! Children.count( children ) ) {\r\n\t\treturn <>{ element }</>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div ref={ target }>\r\n\t\t\t{ element }\r\n\t\t\t{ children }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default KeyboardShortcuts;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,QAAQ,QAAQ,oBAAoB;AACrD,SAASC,mBAAmB,QAAQ,oBAAoB;;AAExD;AACA;AACA;AAFA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAKA,SAASC,gBAAgBA,CAAE;EAC1BC,MAAM;EACNC,QAAQ;EACRC,QAAQ;EACRC,UAAU;EACVC;AACsB,CAAC,EAAG;EAC1BZ,mBAAmB,CAAEU,QAAQ,EAAED,QAAQ,EAAE;IACxCE,UAAU;IACVH,MAAM;IACNI;EACD,CAAE,CAAC;EAEH,OAAO,IAAI;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,iBAAiBA,CAAE;EAC3BC,QAAQ;EACRC,SAAS;EACTJ,UAAU;EACVC;AACuB,CAAC,EAAG;EAC3B,MAAMJ,MAAM,GAAGV,MAAM,CAAE,IAAK,CAAC;EAE7B,MAAMkB,OAAO,GAAGC,MAAM,CAACC,OAAO,CAAEH,SAAS,aAATA,SAAS,cAATA,SAAS,GAAI,CAAC,CAAE,CAAC,CAACI,GAAG,CACpD,CAAE,CAAET,QAAQ,EAAED,QAAQ,CAAE,kBACvBP,IAAA,CAACK,gBAAgB;IAEhBG,QAAQ,EAAGA,QAAU;IACrBD,QAAQ,EAAGA,QAAU;IACrBE,UAAU,EAAGA,UAAY;IACzBC,SAAS,EAAGA,SAAW;IACvBJ,MAAM,EAAGA;EAAQ,GALXE,QAMN,CAEH,CAAC;;EAED;EACA;EACA,IAAK,CAAEX,QAAQ,CAACqB,KAAK,CAAEN,QAAS,CAAC,EAAG;IACnC,oBAAOZ,IAAA,CAAAE,SAAA;MAAAU,QAAA,EAAIE;IAAO,CAAI,CAAC;EACxB;EAEA,oBACCV,KAAA;IAAKe,GAAG,EAAGb,MAAQ;IAAAM,QAAA,GAChBE,OAAO,EACPF,QAAQ;EAAA,CACN,CAAC;AAER;AAEA,eAAeD,iBAAiB","ignoreList":[]}