{"version":3,"names":["Dimensions","Keyboard","LayoutAnimation","PanResponder","Platform","ScrollView","StatusBar","Text","TouchableHighlight","View","Modal","SafeArea","subscribeAndroidModalClosed","showAndroidSoftKeyboard","Component","withPreferredColorScheme","styles","Button","Cell","CyclePickerCell","PickerCell","SwitchCell","RangeCell","ColorCell","LinkCell","LinkSuggestionItemCell","RadioCell","NavigationScreen","NavigationContainer","KeyboardAvoidingView","BottomSheetSubSheet","NavBar","BottomSheetProvider","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DEFAULT_LAYOUT_ANIMATION","Presets","easeInEaseOut","BottomSheet","constructor","arguments","onSafeAreaInsetsUpdate","bind","onScroll","isScrolling","onShouldEnableScroll","onDismiss","onShouldSetBottomSheetMaxHeight","setIsFullScreen","onDimensionsChange","onHeaderLayout","onCloseBottomSheet","onHandleClosingBottomSheet","onHardwareButtonPress","onHandleHardwareButtonPress","keyboardShow","keyboardHide","headerHeight","keyboardHeight","lastLayoutAnimation","lastLayoutAnimationFinished","state","safeAreaBottomInset","safeAreaTopInset","bounces","maxHeight","scrollEnabled","handleClosingBottomSheet","handleHardwareButtonPress","isMaxHeightSet","isFullScreen","props","e","isVisible","height","endCoordinates","performKeyboardLayoutAnimation","onSetMaxHeight","onKeyboardShow","onKeyboardHide","event","duration","easing","animationConfig","type","Types","layoutAnimation","update","create","property","Properties","opacity","delete","configureNext","performRegularLayoutAnimation","useLastLayoutAnimation","OS","componentDidMount","getSafeAreaInsetsForRootView","then","androidModalClosedSubscription","onClose","dimensionsChangeSubscription","addEventListener","keyboardShowListener","addListener","keyboardHideListener","safeAreaEventSubscription","componentWillUnmount","remove","result","safeAreaInsets","bottom","top","setState","width","get","statusBarHeight","currentHeight","maxHeightWithOpenKeyboard","Math","min","nativeEvent","layout","round","isCloseToBottom","layoutMeasurement","contentOffset","contentSize","y","isCloseToTop","value","action","getContentStyle","paddingBottom","scrollableContent","render","title","leftButton","rightButton","header","hideHeader","style","contentStyle","getStylesFromColorScheme","children","withHeaderSeparator","hasNavigation","rest","panResponder","onMoveShouldSetPanResponder","evt","gestureState","dy","backgroundStyle","background","backgroundDark","bottomSheetHeaderTitleStyle","bottomSheetHeaderTitle","bottomSheetHeaderTitleDark","listStyle","flexGrow","flexShrink","setMinHeightToMaxHeight","minHeight","listProps","disableScrollViewPanResponder","onScrollBeginDrag","onScrollEndDrag","scrollEventThrottle","contentContainerStyle","content","emptyHeader","automaticallyAdjustContentInsets","WrapperView","getHeader","bottomSheetHeader","flex","maxFontSizeMultiplier","separator","showDragIndicator","allowDragIndicator","bottomModal","animationInTiming","animationOutTiming","backdropTransitionInTiming","backdropTransitionOutTiming","backdropOpacity","onBackdropPress","onBackButtonPress","onSwipeComplete","undefined","onModalHide","swipeDirection","onMoveShouldSetResponder","panHandlers","onMoveShouldSetResponderCapture","onAccessibilityEscape","testID","hardwareAccelerated","useNativeDriverForBackdrop","behavior","borderColor","marginTop","backgroundFullScreen","keyboardVerticalOffset","onLayout","dragIndicator","shouldEnableBottomSheetScroll","shouldEnableBottomSheetMaxHeight","isBottomSheetContentScrolling","accessible","getWidth","maxWidth","ThemedBottomSheet","SubSheet"],"sources":["@wordpress/components/src/mobile/bottom-sheet/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport {\r\n\tDimensions,\r\n\tKeyboard,\r\n\tLayoutAnimation,\r\n\tPanResponder,\r\n\tPlatform,\r\n\tScrollView,\r\n\tStatusBar,\r\n\tText,\r\n\tTouchableHighlight,\r\n\tView,\r\n} from 'react-native';\r\nimport Modal from 'react-native-modal';\r\nimport SafeArea from 'react-native-safe-area';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tsubscribeAndroidModalClosed,\r\n\tshowAndroidSoftKeyboard,\r\n} from '@wordpress/react-native-bridge';\r\nimport { Component } from '@wordpress/element';\r\nimport { withPreferredColorScheme } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './styles.scss';\r\nimport Button from './button';\r\nimport Cell from './cell';\r\nimport CyclePickerCell from './cycle-picker-cell';\r\nimport PickerCell from './picker-cell';\r\nimport SwitchCell from './switch-cell';\r\nimport RangeCell from './range-cell';\r\nimport ColorCell from './color-cell';\r\nimport LinkCell from './link-cell';\r\nimport LinkSuggestionItemCell from './link-suggestion-item-cell';\r\nimport RadioCell from './radio-cell';\r\nimport NavigationScreen from './bottom-sheet-navigation/navigation-screen';\r\nimport NavigationContainer from './bottom-sheet-navigation/navigation-container';\r\nimport KeyboardAvoidingView from './keyboard-avoiding-view';\r\nimport BottomSheetSubSheet from './sub-sheet';\r\nimport NavBar from './nav-bar';\r\nimport { BottomSheetProvider } from './bottom-sheet-context';\r\n\r\nconst DEFAULT_LAYOUT_ANIMATION = LayoutAnimation.Presets.easeInEaseOut;\r\n\r\nclass BottomSheet extends Component {\r\n\tconstructor() {\r\n\t\tsuper( ...arguments );\r\n\t\tthis.onSafeAreaInsetsUpdate = this.onSafeAreaInsetsUpdate.bind( this );\r\n\t\tthis.onScroll = this.onScroll.bind( this );\r\n\t\tthis.isScrolling = this.isScrolling.bind( this );\r\n\t\tthis.onShouldEnableScroll = this.onShouldEnableScroll.bind( this );\r\n\t\tthis.onDismiss = this.onDismiss.bind( this );\r\n\t\tthis.onShouldSetBottomSheetMaxHeight =\r\n\t\t\tthis.onShouldSetBottomSheetMaxHeight.bind( this );\r\n\r\n\t\tthis.setIsFullScreen = this.setIsFullScreen.bind( this );\r\n\r\n\t\tthis.onDimensionsChange = this.onDimensionsChange.bind( this );\r\n\t\tthis.onHeaderLayout = this.onHeaderLayout.bind( this );\r\n\t\tthis.onCloseBottomSheet = this.onCloseBottomSheet.bind( this );\r\n\t\tthis.onHandleClosingBottomSheet =\r\n\t\t\tthis.onHandleClosingBottomSheet.bind( this );\r\n\t\tthis.onHardwareButtonPress = this.onHardwareButtonPress.bind( this );\r\n\t\tthis.onHandleHardwareButtonPress =\r\n\t\t\tthis.onHandleHardwareButtonPress.bind( this );\r\n\t\tthis.keyboardShow = this.keyboardShow.bind( this );\r\n\t\tthis.keyboardHide = this.keyboardHide.bind( this );\r\n\r\n\t\tthis.headerHeight = 0;\r\n\t\tthis.keyboardHeight = 0;\r\n\t\tthis.lastLayoutAnimation = null;\r\n\t\tthis.lastLayoutAnimationFinished = false;\r\n\r\n\t\tthis.state = {\r\n\t\t\tsafeAreaBottomInset: 0,\r\n\t\t\tsafeAreaTopInset: 0,\r\n\t\t\tbounces: false,\r\n\t\t\tmaxHeight: 0,\r\n\t\t\tscrollEnabled: true,\r\n\t\t\tisScrolling: false,\r\n\t\t\thandleClosingBottomSheet: null,\r\n\t\t\thandleHardwareButtonPress: null,\r\n\t\t\tisMaxHeightSet: true,\r\n\t\t\tisFullScreen: this.props.isFullScreen || false,\r\n\t\t};\r\n\t}\r\n\r\n\tkeyboardShow( e ) {\r\n\t\tif ( ! this.props.isVisible ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { height } = e.endCoordinates;\r\n\t\tthis.keyboardHeight = height;\r\n\t\tthis.performKeyboardLayoutAnimation( e );\r\n\t\tthis.onSetMaxHeight();\r\n\t\tthis.props.onKeyboardShow?.();\r\n\t}\r\n\r\n\tkeyboardHide( e ) {\r\n\t\tif ( ! this.props.isVisible ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.keyboardHeight = 0;\r\n\t\tthis.performKeyboardLayoutAnimation( e );\r\n\t\tthis.onSetMaxHeight();\r\n\t\tthis.props.onKeyboardHide?.();\r\n\t}\r\n\r\n\tperformKeyboardLayoutAnimation( event ) {\r\n\t\tconst { duration, easing } = event;\r\n\r\n\t\tif ( duration && easing ) {\r\n\t\t\t// This layout animation is the same as the React Native's KeyboardAvoidingView component.\r\n\t\t\t// Reference: https://github.com/facebook/react-native/blob/266b21baf35e052ff28120f79c06c4f6dddc51a9/Libraries/Components/Keyboard/KeyboardAvoidingView.js#L119-L128.\r\n\t\t\tconst animationConfig = {\r\n\t\t\t\t// We have to pass the duration equal to minimal accepted duration defined here: RCTLayoutAnimation.m.\r\n\t\t\t\tduration: duration > 10 ? duration : 10,\r\n\t\t\t\ttype: LayoutAnimation.Types[ easing ] || 'keyboard',\r\n\t\t\t};\r\n\t\t\tconst layoutAnimation = {\r\n\t\t\t\tduration: animationConfig.duration,\r\n\t\t\t\tupdate: animationConfig,\r\n\t\t\t\tcreate: {\r\n\t\t\t\t\t...animationConfig,\r\n\t\t\t\t\tproperty: LayoutAnimation.Properties.opacity,\r\n\t\t\t\t},\r\n\t\t\t\tdelete: {\r\n\t\t\t\t\t...animationConfig,\r\n\t\t\t\t\tproperty: LayoutAnimation.Properties.opacity,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\tthis.lastLayoutAnimationFinished = false;\r\n\t\t\tLayoutAnimation.configureNext( layoutAnimation, () => {\r\n\t\t\t\tthis.lastLayoutAnimationFinished = true;\r\n\t\t\t} );\r\n\t\t\tthis.lastLayoutAnimation = layoutAnimation;\r\n\t\t} else {\r\n\t\t\t// TODO: Reinstate animations, possibly replacing `LayoutAnimation` with\r\n\t\t\t// more nuanced `Animated` usage or replacing our custom `BottomSheet`\r\n\t\t\t// with `@gorhom/bottom-sheet`. This animation was disabled to avoid a\r\n\t\t\t// preexisting bug: https://github.com/WordPress/gutenberg/issues/30562\r\n\t\t\t// this.performRegularLayoutAnimation( {\r\n\t\t\t// \tuseLastLayoutAnimation: false,\r\n\t\t\t// } );.\r\n\t\t}\r\n\t}\r\n\r\n\tperformRegularLayoutAnimation( { useLastLayoutAnimation } ) {\r\n\t\t// On Android, we should prevent triggering multiple layout animations at the same time because it can produce visual glitches.\r\n\t\tif (\r\n\t\t\tPlatform.OS === 'android' &&\r\n\t\t\tthis.lastLayoutAnimation &&\r\n\t\t\t! this.lastLayoutAnimationFinished\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst layoutAnimation = useLastLayoutAnimation\r\n\t\t\t? this.lastLayoutAnimation || DEFAULT_LAYOUT_ANIMATION\r\n\t\t\t: DEFAULT_LAYOUT_ANIMATION;\r\n\r\n\t\tthis.lastLayoutAnimationFinished = false;\r\n\t\tLayoutAnimation.configureNext( layoutAnimation, () => {\r\n\t\t\tthis.lastLayoutAnimationFinished = true;\r\n\t\t} );\r\n\t\tthis.lastLayoutAnimation = layoutAnimation;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tSafeArea.getSafeAreaInsetsForRootView().then(\r\n\t\t\tthis.onSafeAreaInsetsUpdate\r\n\t\t);\r\n\r\n\t\tif ( Platform.OS === 'android' ) {\r\n\t\t\tthis.androidModalClosedSubscription = subscribeAndroidModalClosed(\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.props.onClose();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.dimensionsChangeSubscription = Dimensions.addEventListener(\r\n\t\t\t'change',\r\n\t\t\tthis.onDimensionsChange\r\n\t\t);\r\n\r\n\t\t// 'Will' keyboard events are not available on Android.\r\n\t\t// Reference: https://reactnative.dev/docs/0.61/keyboard#addlistener.\r\n\t\tthis.keyboardShowListener = Keyboard.addListener(\r\n\t\t\tPlatform.OS === 'ios' ? 'keyboardWillShow' : 'keyboardDidShow',\r\n\t\t\tthis.keyboardShow\r\n\t\t);\r\n\t\tthis.keyboardHideListener = Keyboard.addListener(\r\n\t\t\tPlatform.OS === 'ios' ? 'keyboardWillHide' : 'keyboardDidHide',\r\n\t\t\tthis.keyboardHide\r\n\t\t);\r\n\r\n\t\tthis.safeAreaEventSubscription = SafeArea.addEventListener(\r\n\t\t\t'safeAreaInsetsForRootViewDidChange',\r\n\t\t\tthis.onSafeAreaInsetsUpdate\r\n\t\t);\r\n\t\tthis.onSetMaxHeight();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.dimensionsChangeSubscription.remove();\r\n\t\tthis.keyboardShowListener.remove();\r\n\t\tthis.keyboardHideListener.remove();\r\n\t\tif ( this.androidModalClosedSubscription ) {\r\n\t\t\tthis.androidModalClosedSubscription.remove();\r\n\t\t}\r\n\r\n\t\tif ( this.props.isVisible ) {\r\n\t\t\tshowAndroidSoftKeyboard();\r\n\t\t}\r\n\r\n\t\tif ( this.safeAreaEventSubscription === null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.safeAreaEventSubscription.remove();\r\n\t\tthis.safeAreaEventSubscription = null;\r\n\t}\r\n\r\n\tonSafeAreaInsetsUpdate( result ) {\r\n\t\tconst { safeAreaBottomInset, safeAreaTopInset } = this.state;\r\n\t\tif ( this.safeAreaEventSubscription === null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { safeAreaInsets } = result;\r\n\t\tif (\r\n\t\t\tsafeAreaBottomInset !== safeAreaInsets.bottom ||\r\n\t\t\tsafeAreaTopInset !== safeAreaInsets.top\r\n\t\t) {\r\n\t\t\tthis.setState( {\r\n\t\t\t\tsafeAreaBottomInset: safeAreaInsets.bottom,\r\n\t\t\t\tsafeAreaTopInset: safeAreaInsets.top,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\tonSetMaxHeight() {\r\n\t\tconst { height, width } = Dimensions.get( 'window' );\r\n\t\tconst { safeAreaBottomInset } = this.state;\r\n\t\tconst statusBarHeight =\r\n\t\t\tPlatform.OS === 'android' ? StatusBar.currentHeight : 0;\r\n\r\n\t\t// `maxHeight` when modal is opened along with a keyboard.\r\n\t\tconst maxHeightWithOpenKeyboard =\r\n\t\t\t0.95 *\r\n\t\t\t( Dimensions.get( 'window' ).height -\r\n\t\t\t\tthis.keyboardHeight -\r\n\t\t\t\tstatusBarHeight -\r\n\t\t\t\tthis.headerHeight );\r\n\r\n\t\t// In landscape orientation, set `maxHeight` to ~96% of the height.\r\n\t\tif ( width > height ) {\r\n\t\t\tthis.setState( {\r\n\t\t\t\tmaxHeight: Math.min(\r\n\t\t\t\t\t0.96 * height - this.headerHeight,\r\n\t\t\t\t\tmaxHeightWithOpenKeyboard\r\n\t\t\t\t),\r\n\t\t\t} );\r\n\t\t\t// In portrait orientation, set `maxHeight` to ~59% of the height.\r\n\t\t} else {\r\n\t\t\tthis.setState( {\r\n\t\t\t\tmaxHeight: Math.min(\r\n\t\t\t\t\theight * 0.59 - safeAreaBottomInset - this.headerHeight,\r\n\t\t\t\t\tmaxHeightWithOpenKeyboard\r\n\t\t\t\t),\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\tonDimensionsChange() {\r\n\t\tthis.onSetMaxHeight();\r\n\t\tthis.setState( { bounces: false } );\r\n\t}\r\n\r\n\tonHeaderLayout( { nativeEvent } ) {\r\n\t\tconst { height } = nativeEvent.layout;\r\n\t\t// The layout animation should only be triggered if the header\r\n\t\t// height has changed after being mounted.\r\n\t\tif (\r\n\t\t\tthis.headerHeight !== 0 &&\r\n\t\t\tMath.round( height ) !== Math.round( this.headerHeight )\r\n\t\t) {\r\n\t\t\tthis.performRegularLayoutAnimation( {\r\n\t\t\t\tuseLastLayoutAnimation: true,\r\n\t\t\t} );\r\n\t\t}\r\n\t\tthis.headerHeight = height;\r\n\t\tthis.onSetMaxHeight();\r\n\t}\r\n\r\n\tisCloseToBottom( { layoutMeasurement, contentOffset, contentSize } ) {\r\n\t\treturn (\r\n\t\t\tlayoutMeasurement.height + contentOffset.y >=\r\n\t\t\tcontentSize.height - contentOffset.y\r\n\t\t);\r\n\t}\r\n\r\n\tisCloseToTop( { contentOffset } ) {\r\n\t\treturn contentOffset.y < 10;\r\n\t}\r\n\r\n\tonScroll( { nativeEvent } ) {\r\n\t\tif ( this.isCloseToTop( nativeEvent ) ) {\r\n\t\t\tthis.setState( { bounces: false } );\r\n\t\t} else {\r\n\t\t\tthis.setState( { bounces: true } );\r\n\t\t}\r\n\t}\r\n\r\n\tonDismiss() {\r\n\t\tconst { onDismiss } = this.props;\r\n\r\n\t\t// Restore Keyboard Visibility\r\n\t\tshowAndroidSoftKeyboard();\r\n\r\n\t\tif ( onDismiss ) {\r\n\t\t\tonDismiss();\r\n\t\t}\r\n\r\n\t\tthis.onCloseBottomSheet();\r\n\t}\r\n\r\n\tonShouldEnableScroll( value ) {\r\n\t\tthis.setState( { scrollEnabled: value } );\r\n\t}\r\n\r\n\tonShouldSetBottomSheetMaxHeight( value ) {\r\n\t\tthis.setState( { isMaxHeightSet: value } );\r\n\t}\r\n\r\n\tisScrolling( value ) {\r\n\t\tthis.setState( { isScrolling: value } );\r\n\t}\r\n\r\n\tonHandleClosingBottomSheet( action ) {\r\n\t\tthis.setState( { handleClosingBottomSheet: action } );\r\n\t}\r\n\r\n\tonHandleHardwareButtonPress( action ) {\r\n\t\tthis.setState( { handleHardwareButtonPress: action } );\r\n\t}\r\n\r\n\tonCloseBottomSheet() {\r\n\t\tconst { onClose } = this.props;\r\n\t\tconst { handleClosingBottomSheet } = this.state;\r\n\t\tif ( handleClosingBottomSheet ) {\r\n\t\t\thandleClosingBottomSheet();\r\n\t\t\tthis.onHandleClosingBottomSheet( null );\r\n\t\t}\r\n\t\tif ( onClose ) {\r\n\t\t\tonClose();\r\n\t\t}\r\n\t\tthis.onShouldSetBottomSheetMaxHeight( true );\r\n\t}\r\n\r\n\tsetIsFullScreen( isFullScreen ) {\r\n\t\tif ( isFullScreen !== this.state.isFullScreen ) {\r\n\t\t\tif ( isFullScreen ) {\r\n\t\t\t\tthis.setState( { isFullScreen, isMaxHeightSet: false } );\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState( { isFullScreen, isMaxHeightSet: true } );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonHardwareButtonPress() {\r\n\t\tconst { onClose } = this.props;\r\n\t\tconst { handleHardwareButtonPress } = this.state;\r\n\r\n\t\tif ( handleHardwareButtonPress && handleHardwareButtonPress() ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif ( onClose ) {\r\n\t\t\treturn onClose();\r\n\t\t}\r\n\t}\r\n\r\n\tgetContentStyle() {\r\n\t\tconst { safeAreaBottomInset } = this.state;\r\n\t\treturn {\r\n\t\t\tpaddingBottom:\r\n\t\t\t\t( safeAreaBottomInset || 0 ) +\r\n\t\t\t\tstyles.scrollableContent.paddingBottom,\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttitle = '',\r\n\t\t\tisVisible,\r\n\t\t\tleftButton,\r\n\t\t\trightButton,\r\n\t\t\theader,\r\n\t\t\thideHeader,\r\n\t\t\tstyle = {},\r\n\t\t\tcontentStyle = {},\r\n\t\t\tgetStylesFromColorScheme,\r\n\t\t\tchildren,\r\n\t\t\twithHeaderSeparator = false,\r\n\t\t\thasNavigation,\r\n\t\t\tonDismiss,\r\n\t\t\t...rest\r\n\t\t} = this.props;\r\n\t\tconst {\r\n\t\t\tmaxHeight,\r\n\t\t\tbounces,\r\n\t\t\tsafeAreaBottomInset,\r\n\t\t\tsafeAreaTopInset,\r\n\t\t\tisScrolling,\r\n\t\t\tscrollEnabled,\r\n\t\t\tisMaxHeightSet,\r\n\t\t\tisFullScreen,\r\n\t\t} = this.state;\r\n\r\n\t\tconst panResponder = PanResponder.create( {\r\n\t\t\tonMoveShouldSetPanResponder: ( evt, gestureState ) => {\r\n\t\t\t\t// 'swiping-to-close' option is temporarily and partially disabled\r\n\t\t\t\t// on Android ( swipe / drag is still available in the top most area - near drag indicator).\r\n\t\t\t\tif ( Platform.OS === 'ios' ) {\r\n\t\t\t\t\t// Activates swipe down over child Touchables if the swipe is long enough.\r\n\t\t\t\t\t// With this we can adjust sensibility on the swipe vs tap gestures.\r\n\t\t\t\t\tif ( gestureState.dy > 3 && ! bounces ) {\r\n\t\t\t\t\t\tgestureState.dy = 0;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\tconst backgroundStyle = getStylesFromColorScheme(\r\n\t\t\tstyles.background,\r\n\t\t\tstyles.backgroundDark\r\n\t\t);\r\n\r\n\t\tconst bottomSheetHeaderTitleStyle = getStylesFromColorScheme(\r\n\t\t\tstyles.bottomSheetHeaderTitle,\r\n\t\t\tstyles.bottomSheetHeaderTitleDark\r\n\t\t);\r\n\r\n\t\tlet listStyle = {};\r\n\t\tif ( isFullScreen ) {\r\n\t\t\tlistStyle = { flexGrow: 1, flexShrink: 1 };\r\n\t\t} else if ( isMaxHeightSet ) {\r\n\t\t\tlistStyle = { maxHeight };\r\n\r\n\t\t\t// Allow setting a \"static\" height of the bottom sheet\r\n\t\t\t// by setting the min height to the max height.\r\n\t\t\tif ( this.props.setMinHeightToMaxHeight ) {\r\n\t\t\t\tlistStyle.minHeight = maxHeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst listProps = {\r\n\t\t\tdisableScrollViewPanResponder: true,\r\n\t\t\tbounces,\r\n\t\t\tonScroll: this.onScroll,\r\n\t\t\tonScrollBeginDrag: this.onScrollBeginDrag,\r\n\t\t\tonScrollEndDrag: this.onScrollEndDrag,\r\n\t\t\tscrollEventThrottle: 16,\r\n\t\t\tcontentContainerStyle: [\r\n\t\t\t\tstyles.content,\r\n\t\t\t\thideHeader && styles.emptyHeader,\r\n\t\t\t\tcontentStyle,\r\n\t\t\t\tisFullScreen && { flexGrow: 1 },\r\n\t\t\t],\r\n\t\t\tstyle: listStyle,\r\n\t\t\tsafeAreaBottomInset,\r\n\t\t\tscrollEnabled,\r\n\t\t\tautomaticallyAdjustContentInsets: false,\r\n\t\t};\r\n\r\n\t\tconst WrapperView = hasNavigation ? View : ScrollView;\r\n\r\n\t\tconst getHeader = () => (\r\n\t\t\t<>\r\n\t\t\t\t{ header || (\r\n\t\t\t\t\t<View style={ styles.bottomSheetHeader }>\r\n\t\t\t\t\t\t<View style={ styles.flex }>{ leftButton }</View>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={ bottomSheetHeaderTitleStyle }\r\n\t\t\t\t\t\t\tmaxFontSizeMultiplier={ 3 }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ title }\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<View style={ styles.flex }>{ rightButton }</View>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t) }\r\n\t\t\t\t{ withHeaderSeparator && <View style={ styles.separator } /> }\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\t\tconst showDragIndicator = () => {\r\n\t\t\t// If iOS or not fullscreen show the drag indicator.\r\n\t\t\tif ( Platform.OS === 'ios' || ! this.state.isFullScreen ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise check the allowDragIndicator.\r\n\t\t\treturn this.props.allowDragIndicator;\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tisVisible={ isVisible }\r\n\t\t\t\tstyle={ styles.bottomModal }\r\n\t\t\t\tanimationInTiming={ 400 }\r\n\t\t\t\tanimationOutTiming={ 300 }\r\n\t\t\t\tbackdropTransitionInTiming={ 50 }\r\n\t\t\t\tbackdropTransitionOutTiming={ 50 }\r\n\t\t\t\tbackdropOpacity={ 0.2 }\r\n\t\t\t\tonBackdropPress={ this.onCloseBottomSheet }\r\n\t\t\t\tonBackButtonPress={ this.onHardwareButtonPress }\r\n\t\t\t\tonSwipeComplete={ this.onCloseBottomSheet }\r\n\t\t\t\tonDismiss={ Platform.OS === 'ios' ? this.onDismiss : undefined }\r\n\t\t\t\tonModalHide={\r\n\t\t\t\t\tPlatform.OS === 'android' ? this.onDismiss : undefined\r\n\t\t\t\t}\r\n\t\t\t\tswipeDirection=\"down\"\r\n\t\t\t\tonMoveShouldSetResponder={\r\n\t\t\t\t\tscrollEnabled &&\r\n\t\t\t\t\tpanResponder.panHandlers.onMoveShouldSetResponder\r\n\t\t\t\t}\r\n\t\t\t\tonMoveShouldSetResponderCapture={\r\n\t\t\t\t\tscrollEnabled &&\r\n\t\t\t\t\tpanResponder.panHandlers.onMoveShouldSetResponderCapture\r\n\t\t\t\t}\r\n\t\t\t\tonAccessibilityEscape={ this.onCloseBottomSheet }\r\n\t\t\t\ttestID=\"bottom-sheet\"\r\n\t\t\t\thardwareAccelerated\r\n\t\t\t\tuseNativeDriverForBackdrop\r\n\t\t\t\t{ ...rest }\r\n\t\t\t>\r\n\t\t\t\t<KeyboardAvoidingView\r\n\t\t\t\t\tbehavior={ Platform.OS === 'ios' && 'padding' }\r\n\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t...backgroundStyle,\r\n\t\t\t\t\t\tborderColor: 'rgba(0, 0, 0, 0.1)',\r\n\t\t\t\t\t\tmarginTop:\r\n\t\t\t\t\t\t\tPlatform.OS === 'ios' && isFullScreen\r\n\t\t\t\t\t\t\t\t? safeAreaTopInset\r\n\t\t\t\t\t\t\t\t: 0,\r\n\t\t\t\t\t\tflex: isFullScreen ? 1 : undefined,\r\n\t\t\t\t\t\t...( Platform.OS === 'android' && isFullScreen\r\n\t\t\t\t\t\t\t? styles.backgroundFullScreen\r\n\t\t\t\t\t\t\t: {} ),\r\n\t\t\t\t\t\t...style,\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tkeyboardVerticalOffset={ -safeAreaBottomInset }\r\n\t\t\t\t>\r\n\t\t\t\t\t<View\r\n\t\t\t\t\t\tstyle={ styles.header }\r\n\t\t\t\t\t\tonLayout={ this.onHeaderLayout }\r\n\t\t\t\t\t\ttestID={ `${ rest.testID || 'bottom-sheet' }-header` }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ showDragIndicator() && (\r\n\t\t\t\t\t\t\t<View style={ styles.dragIndicator } />\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ! hideHeader && getHeader() }\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<WrapperView\r\n\t\t\t\t\t\t{ ...( hasNavigation\r\n\t\t\t\t\t\t\t? { style: listProps.style }\r\n\t\t\t\t\t\t\t: listProps ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<BottomSheetProvider\r\n\t\t\t\t\t\t\tvalue={ {\r\n\t\t\t\t\t\t\t\tshouldEnableBottomSheetScroll:\r\n\t\t\t\t\t\t\t\t\tthis.onShouldEnableScroll,\r\n\t\t\t\t\t\t\t\tshouldEnableBottomSheetMaxHeight:\r\n\t\t\t\t\t\t\t\t\tthis.onShouldSetBottomSheetMaxHeight,\r\n\t\t\t\t\t\t\t\tisBottomSheetContentScrolling: isScrolling,\r\n\t\t\t\t\t\t\t\tonHandleClosingBottomSheet:\r\n\t\t\t\t\t\t\t\t\tthis.onHandleClosingBottomSheet,\r\n\t\t\t\t\t\t\t\tonHandleHardwareButtonPress:\r\n\t\t\t\t\t\t\t\t\tthis.onHandleHardwareButtonPress,\r\n\t\t\t\t\t\t\t\tlistProps,\r\n\t\t\t\t\t\t\t\tsetIsFullScreen: this.setIsFullScreen,\r\n\t\t\t\t\t\t\t\tsafeAreaBottomInset,\r\n\t\t\t\t\t\t\t\tmaxHeight,\r\n\t\t\t\t\t\t\t\tisMaxHeightSet,\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ hasNavigation ? (\r\n\t\t\t\t\t\t\t\t<>{ children }</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<TouchableHighlight accessible={ false }>\r\n\t\t\t\t\t\t\t\t\t<>{ children }</>\r\n\t\t\t\t\t\t\t\t</TouchableHighlight>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</BottomSheetProvider>\r\n\t\t\t\t\t\t{ ! hasNavigation && (\r\n\t\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t\t\t\theight:\r\n\t\t\t\t\t\t\t\t\t\tsafeAreaBottomInset ||\r\n\t\t\t\t\t\t\t\t\t\tstyles.scrollableContent.paddingBottom,\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</WrapperView>\r\n\t\t\t\t</KeyboardAvoidingView>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction getWidth() {\r\n\treturn Math.min(\r\n\t\tDimensions.get( 'window' ).width,\r\n\t\tstyles.background.maxWidth\r\n\t);\r\n}\r\n\r\nconst ThemedBottomSheet = withPreferredColorScheme( BottomSheet );\r\n\r\nThemedBottomSheet.getWidth = getWidth;\r\nThemedBottomSheet.Button = Button;\r\nThemedBottomSheet.Cell = Cell;\r\nThemedBottomSheet.SubSheet = BottomSheetSubSheet;\r\nThemedBottomSheet.NavBar = NavBar;\r\nThemedBottomSheet.CyclePickerCell = CyclePickerCell;\r\nThemedBottomSheet.PickerCell = PickerCell;\r\nThemedBottomSheet.SwitchCell = SwitchCell;\r\nThemedBottomSheet.RangeCell = RangeCell;\r\nThemedBottomSheet.ColorCell = ColorCell;\r\nThemedBottomSheet.LinkCell = LinkCell;\r\nThemedBottomSheet.LinkSuggestionItemCell = LinkSuggestionItemCell;\r\nThemedBottomSheet.RadioCell = RadioCell;\r\nThemedBottomSheet.NavigationScreen = NavigationScreen;\r\nThemedBottomSheet.NavigationContainer = NavigationContainer;\r\n\r\nexport default ThemedBottomSheet;\r\n"],"mappings":"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","ignoreList":[]}