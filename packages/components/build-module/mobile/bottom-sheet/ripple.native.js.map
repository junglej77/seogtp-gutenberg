{"version":3,"names":["Platform","TouchableOpacity","TouchableNativeFeedback","View","withPreferredColorScheme","rippleStyles","jsx","_jsx","ANDROID_VERSION_LOLLIPOP","ANDROID_VERSION_PIE","TouchableRipple","style","onPress","disabled","disabledProp","children","activeOpacity","getStylesFromColorScheme","borderless","touchableProps","isTouchableNativeSupported","OS","Version","rippleColor","ripple","rippleDark","backgroundColor","useForeground","background","Ripple","overflow"],"sources":["@wordpress/components/src/mobile/bottom-sheet/ripple.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport {\r\n\tPlatform,\r\n\tTouchableOpacity,\r\n\tTouchableNativeFeedback,\r\n\tView,\r\n} from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { withPreferredColorScheme } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport rippleStyles from './ripple.native.scss';\r\n\r\nconst ANDROID_VERSION_LOLLIPOP = 21;\r\nconst ANDROID_VERSION_PIE = 28;\r\n\r\nconst TouchableRipple = ( {\r\n\tstyle,\r\n\tonPress,\r\n\tdisabled: disabledProp,\r\n\tchildren,\r\n\tactiveOpacity,\r\n\tgetStylesFromColorScheme,\r\n\tborderless = false,\r\n\t...touchableProps\r\n} ) => {\r\n\tconst isTouchableNativeSupported =\r\n\t\tPlatform.OS === 'android' &&\r\n\t\tPlatform.Version >= ANDROID_VERSION_LOLLIPOP;\r\n\r\n\tconst disabled = disabledProp || ! onPress;\r\n\tconst rippleColor = getStylesFromColorScheme(\r\n\t\trippleStyles.ripple,\r\n\t\trippleStyles.rippleDark\r\n\t).backgroundColor;\r\n\r\n\tif ( isTouchableNativeSupported ) {\r\n\t\t// A workaround for ripple on Android P is to use useForeground + overflow: 'hidden'\r\n\t\t// https://github.com/facebook/react-native/issues/6480\r\n\t\tconst useForeground =\r\n\t\t\tPlatform.OS === 'android' &&\r\n\t\t\tPlatform.Version >= ANDROID_VERSION_PIE &&\r\n\t\t\tborderless;\r\n\r\n\t\treturn (\r\n\t\t\t<TouchableNativeFeedback\r\n\t\t\t\t{ ...touchableProps }\r\n\t\t\t\tonPress={ onPress }\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\tuseForeground={ useForeground }\r\n\t\t\t\tbackground={ TouchableNativeFeedback.Ripple(\r\n\t\t\t\t\trippleColor,\r\n\t\t\t\t\tborderless\r\n\t\t\t\t) }\r\n\t\t\t>\r\n\t\t\t\t<View style={ [ borderless && rippleStyles.overflow, style ] }>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</View>\r\n\t\t\t</TouchableNativeFeedback>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<TouchableOpacity\r\n\t\t\t{ ...touchableProps }\r\n\t\t\tonPress={ onPress }\r\n\t\t\tdisabled={ disabled }\r\n\t\t\tactiveOpacity={ activeOpacity }\r\n\t\t\tstyle={ style }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</TouchableOpacity>\r\n\t);\r\n};\r\n\r\nexport default withPreferredColorScheme( TouchableRipple );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,QAAQ,EACRC,gBAAgB,EAChBC,uBAAuB,EACvBC,IAAI,QACE,cAAc;;AAErB;AACA;AACA;AACA,SAASC,wBAAwB,QAAQ,oBAAoB;;AAE7D;AACA;AACA;AACA,OAAOC,YAAY,MAAM,sBAAsB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEhD,MAAMC,wBAAwB,GAAG,EAAE;AACnC,MAAMC,mBAAmB,GAAG,EAAE;AAE9B,MAAMC,eAAe,GAAGA,CAAE;EACzBC,KAAK;EACLC,OAAO;EACPC,QAAQ,EAAEC,YAAY;EACtBC,QAAQ;EACRC,aAAa;EACbC,wBAAwB;EACxBC,UAAU,GAAG,KAAK;EAClB,GAAGC;AACJ,CAAC,KAAM;EACN,MAAMC,0BAA0B,GAC/BpB,QAAQ,CAACqB,EAAE,KAAK,SAAS,IACzBrB,QAAQ,CAACsB,OAAO,IAAId,wBAAwB;EAE7C,MAAMK,QAAQ,GAAGC,YAAY,IAAI,CAAEF,OAAO;EAC1C,MAAMW,WAAW,GAAGN,wBAAwB,CAC3CZ,YAAY,CAACmB,MAAM,EACnBnB,YAAY,CAACoB,UACd,CAAC,CAACC,eAAe;EAEjB,IAAKN,0BAA0B,EAAG;IACjC;IACA;IACA,MAAMO,aAAa,GAClB3B,QAAQ,CAACqB,EAAE,KAAK,SAAS,IACzBrB,QAAQ,CAACsB,OAAO,IAAIb,mBAAmB,IACvCS,UAAU;IAEX,oBACCX,IAAA,CAACL,uBAAuB;MAAA,GAClBiB,cAAc;MACnBP,OAAO,EAAGA,OAAS;MACnBC,QAAQ,EAAGA,QAAU;MACrBc,aAAa,EAAGA,aAAe;MAC/BC,UAAU,EAAG1B,uBAAuB,CAAC2B,MAAM,CAC1CN,WAAW,EACXL,UACD,CAAG;MAAAH,QAAA,eAEHR,IAAA,CAACJ,IAAI;QAACQ,KAAK,EAAG,CAAEO,UAAU,IAAIb,YAAY,CAACyB,QAAQ,EAAEnB,KAAK,CAAI;QAAAI,QAAA,EAC3DA;MAAQ,CACL;IAAC,CACiB,CAAC;EAE5B;EAEA,oBACCR,IAAA,CAACN,gBAAgB;IAAA,GACXkB,cAAc;IACnBP,OAAO,EAAGA,OAAS;IACnBC,QAAQ,EAAGA,QAAU;IACrBG,aAAa,EAAGA,aAAe;IAC/BL,KAAK,EAAGA,KAAO;IAAAI,QAAA,EAEbA;EAAQ,CACO,CAAC;AAErB,CAAC;AAED,eAAeX,wBAAwB,CAAEM,eAAgB,CAAC","ignoreList":[]}