{"version":3,"names":["RCTAztecView","useCallback","useEffect","useState","useTextInputCaretPosition","scrollEnabled","currentCaretData","setCurrentCaretData","onCaretChange","caret","InputState","addCaretChangeListener","removeCaretChangeListener"],"sources":["@wordpress/components/src/mobile/keyboard-aware-flat-list/use-text-input-caret-position.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport RCTAztecView from '@wordpress/react-native-aztec';\r\nimport { useCallback, useEffect, useState } from '@wordpress/element';\r\n\r\n/**\r\n * Hook that listens to caret changes from AztecView TextInputs.\r\n *\r\n * @param {boolean} scrollEnabled Whether the scroll is enabled or not.\r\n * @return {[number]} Current caret's data.\r\n */\r\nexport default function useTextInputCaretPosition( scrollEnabled ) {\r\n\tconst [ currentCaretData, setCurrentCaretData ] = useState();\r\n\r\n\tconst onCaretChange = useCallback( ( caret ) => {\r\n\t\tsetCurrentCaretData( caret );\r\n\t}, [] );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( scrollEnabled ) {\r\n\t\t\tRCTAztecView.InputState.addCaretChangeListener( onCaretChange );\r\n\t\t} else {\r\n\t\t\tRCTAztecView.InputState.removeCaretChangeListener( onCaretChange );\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tif ( scrollEnabled ) {\r\n\t\t\t\tRCTAztecView.InputState.removeCaretChangeListener(\r\n\t\t\t\t\tonCaretChange\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t};\r\n\t}, [ scrollEnabled, onCaretChange ] );\r\n\treturn [ currentCaretData ];\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,YAAY,MAAM,+BAA+B;AACxD,SAASC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;;AAErE;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,yBAAyBA,CAAEC,aAAa,EAAG;EAClE,MAAM,CAAEC,gBAAgB,EAAEC,mBAAmB,CAAE,GAAGJ,QAAQ,CAAC,CAAC;EAE5D,MAAMK,aAAa,GAAGP,WAAW,CAAIQ,KAAK,IAAM;IAC/CF,mBAAmB,CAAEE,KAAM,CAAC;EAC7B,CAAC,EAAE,EAAG,CAAC;EAEPP,SAAS,CAAE,MAAM;IAChB,IAAKG,aAAa,EAAG;MACpBL,YAAY,CAACU,UAAU,CAACC,sBAAsB,CAAEH,aAAc,CAAC;IAChE,CAAC,MAAM;MACNR,YAAY,CAACU,UAAU,CAACE,yBAAyB,CAAEJ,aAAc,CAAC;IACnE;IAEA,OAAO,MAAM;MACZ,IAAKH,aAAa,EAAG;QACpBL,YAAY,CAACU,UAAU,CAACE,yBAAyB,CAChDJ,aACD,CAAC;MACF;IACD,CAAC;EACF,CAAC,EAAE,CAAEH,aAAa,EAAEG,aAAa,CAAG,CAAC;EACrC,OAAO,CAAEF,gBAAgB,CAAE;AAC5B","ignoreList":[]}