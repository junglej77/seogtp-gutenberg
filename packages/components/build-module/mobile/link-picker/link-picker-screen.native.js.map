{"version":3,"names":["Keyboard","useNavigation","useRoute","useEffect","useMemo","useRef","LinkPicker","jsx","_jsx","LinkPickerScreen","returnScreenName","navigation","route","navigateToLinkTimeoutRef","navigateBackTimeoutRef","onLinkPicked","url","title","dismiss","current","setTimeout","navigate","inputValue","text","onCancel","goBack","clearTimeout","params","value"],"sources":["@wordpress/components/src/mobile/link-picker/link-picker-screen.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { Keyboard } from 'react-native';\r\nimport { useNavigation, useRoute } from '@react-navigation/native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useMemo, useRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { LinkPicker } from './';\r\n\r\nconst LinkPickerScreen = ( { returnScreenName } ) => {\r\n\tconst navigation = useNavigation();\r\n\tconst route = useRoute();\r\n\tconst navigateToLinkTimeoutRef = useRef( null );\r\n\tconst navigateBackTimeoutRef = useRef( null );\r\n\r\n\tconst onLinkPicked = ( { url, title } ) => {\r\n\t\tKeyboard.dismiss();\r\n\t\tnavigateToLinkTimeoutRef.current = setTimeout( () => {\r\n\t\t\tnavigation.navigate( returnScreenName, {\r\n\t\t\t\tinputValue: url,\r\n\t\t\t\ttext: title,\r\n\t\t\t} );\r\n\t\t}, 100 );\r\n\t};\r\n\r\n\tconst onCancel = () => {\r\n\t\tKeyboard.dismiss();\r\n\t\tnavigateBackTimeoutRef.current = setTimeout( () => {\r\n\t\t\tnavigation.goBack();\r\n\t\t}, 100 );\r\n\t};\r\n\r\n\tuseEffect( () => {\r\n\t\treturn () => {\r\n\t\t\tclearTimeout( navigateToLinkTimeoutRef.current );\r\n\t\t\tclearTimeout( navigateBackTimeoutRef.current );\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst { inputValue } = route.params;\r\n\treturn useMemo( () => {\r\n\t\treturn (\r\n\t\t\t<LinkPicker\r\n\t\t\t\tvalue={ inputValue }\r\n\t\t\t\tonLinkPicked={ onLinkPicked }\r\n\t\t\t\tonCancel={ onCancel }\r\n\t\t\t/>\r\n\t\t);\r\n\t\t// Disable reason: deferring this refactor to the native team.\r\n\t\t// see https://github.com/WordPress/gutenberg/pull/41166\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ inputValue ] );\r\n};\r\n\r\nexport default LinkPickerScreen;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,cAAc;AACvC,SAASC,aAAa,EAAEC,QAAQ,QAAQ,0BAA0B;;AAElE;AACA;AACA;AACA,SAASC,SAAS,EAAEC,OAAO,EAAEC,MAAM,QAAQ,oBAAoB;;AAE/D;AACA;AACA;AACA,SAASC,UAAU,QAAQ,IAAI;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEhC,MAAMC,gBAAgB,GAAGA,CAAE;EAAEC;AAAiB,CAAC,KAAM;EACpD,MAAMC,UAAU,GAAGV,aAAa,CAAC,CAAC;EAClC,MAAMW,KAAK,GAAGV,QAAQ,CAAC,CAAC;EACxB,MAAMW,wBAAwB,GAAGR,MAAM,CAAE,IAAK,CAAC;EAC/C,MAAMS,sBAAsB,GAAGT,MAAM,CAAE,IAAK,CAAC;EAE7C,MAAMU,YAAY,GAAGA,CAAE;IAAEC,GAAG;IAAEC;EAAM,CAAC,KAAM;IAC1CjB,QAAQ,CAACkB,OAAO,CAAC,CAAC;IAClBL,wBAAwB,CAACM,OAAO,GAAGC,UAAU,CAAE,MAAM;MACpDT,UAAU,CAACU,QAAQ,CAAEX,gBAAgB,EAAE;QACtCY,UAAU,EAAEN,GAAG;QACfO,IAAI,EAAEN;MACP,CAAE,CAAC;IACJ,CAAC,EAAE,GAAI,CAAC;EACT,CAAC;EAED,MAAMO,QAAQ,GAAGA,CAAA,KAAM;IACtBxB,QAAQ,CAACkB,OAAO,CAAC,CAAC;IAClBJ,sBAAsB,CAACK,OAAO,GAAGC,UAAU,CAAE,MAAM;MAClDT,UAAU,CAACc,MAAM,CAAC,CAAC;IACpB,CAAC,EAAE,GAAI,CAAC;EACT,CAAC;EAEDtB,SAAS,CAAE,MAAM;IAChB,OAAO,MAAM;MACZuB,YAAY,CAAEb,wBAAwB,CAACM,OAAQ,CAAC;MAChDO,YAAY,CAAEZ,sBAAsB,CAACK,OAAQ,CAAC;IAC/C,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,MAAM;IAAEG;EAAW,CAAC,GAAGV,KAAK,CAACe,MAAM;EACnC,OAAOvB,OAAO,CAAE,MAAM;IACrB,oBACCI,IAAA,CAACF,UAAU;MACVsB,KAAK,EAAGN,UAAY;MACpBP,YAAY,EAAGA,YAAc;MAC7BS,QAAQ,EAAGA;IAAU,CACrB,CAAC;IAEH;IACA;IACA;EACD,CAAC,EAAE,CAAEF,UAAU,CAAG,CAAC;AACpB,CAAC;AAED,eAAeb,gBAAgB","ignoreList":[]}