{"version":3,"names":["ActionSheetIOS","__","Component","forwardRef","useContext","useDispatch","useSelect","usePreferredColorScheme","styles","BottomSheetContext","jsx","_jsx","Picker","presentPicker","options","onChange","title","destructiveButtonIndex","disabledButtonIndices","getAnchor","isBottomSheetOpened","closeBottomSheet","onHandleClosingBottomSheet","colorScheme","props","labels","map","label","fullOptions","concat","buttonTitleColor","color","showActionSheetWithOptions","cancelButtonIndex","anchor","tintColor","buttonIndex","selected","requiresModal","value","render","PickerComponent","ref","select","isEditorSidebarOpened","closeGeneralSidebar"],"sources":["@wordpress/components/src/mobile/picker/index.ios.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { ActionSheetIOS } from 'react-native';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Component, forwardRef, useContext } from '@wordpress/element';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { usePreferredColorScheme } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './styles.scss';\r\nimport { BottomSheetContext } from '../bottom-sheet/bottom-sheet-context';\r\n\r\nclass Picker extends Component {\r\n\tpresentPicker() {\r\n\t\tconst {\r\n\t\t\toptions,\r\n\t\t\tonChange,\r\n\t\t\ttitle,\r\n\t\t\tdestructiveButtonIndex,\r\n\t\t\tdisabledButtonIndices,\r\n\t\t\tgetAnchor,\r\n\t\t\tisBottomSheetOpened,\r\n\t\t\tcloseBottomSheet,\r\n\t\t\tonHandleClosingBottomSheet,\r\n\t\t\tcolorScheme,\r\n\t\t} = this.props;\r\n\t\tconst labels = options.map( ( { label } ) => label );\r\n\t\tconst fullOptions = [ __( 'Cancel' ) ].concat( labels );\r\n\r\n\t\tconst buttonTitleColor =\r\n\t\t\tcolorScheme === 'light'\r\n\t\t\t\t? styles[ 'components-picker__button-title' ].color\r\n\t\t\t\t: styles[ 'components-picker__button-title--dark' ].color;\r\n\r\n\t\tActionSheetIOS.showActionSheetWithOptions(\r\n\t\t\t{\r\n\t\t\t\ttitle,\r\n\t\t\t\toptions: fullOptions,\r\n\t\t\t\tcancelButtonIndex: 0,\r\n\t\t\t\tdestructiveButtonIndex,\r\n\t\t\t\tdisabledButtonIndices,\r\n\t\t\t\tanchor: getAnchor && getAnchor(),\r\n\t\t\t\ttintColor: buttonTitleColor,\r\n\t\t\t},\r\n\t\t\t( buttonIndex ) => {\r\n\t\t\t\tif ( buttonIndex === 0 ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst selected = options[ buttonIndex - 1 ];\r\n\r\n\t\t\t\tif ( selected.requiresModal && isBottomSheetOpened ) {\r\n\t\t\t\t\tonHandleClosingBottomSheet( () => {\r\n\t\t\t\t\t\tonChange( selected.value );\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tcloseBottomSheet();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tonChange( selected.value );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst PickerComponent = forwardRef( ( props, ref ) => {\r\n\tconst isBottomSheetOpened = useSelect( ( select ) =>\r\n\t\tselect( 'core/edit-post' ).isEditorSidebarOpened()\r\n\t);\r\n\tconst { closeGeneralSidebar } = useDispatch( 'core/edit-post' );\r\n\tconst { onHandleClosingBottomSheet } = useContext( BottomSheetContext );\r\n\r\n\tconst colorScheme = usePreferredColorScheme();\r\n\r\n\treturn (\r\n\t\t<Picker\r\n\t\t\tref={ ref }\r\n\t\t\t{ ...props }\r\n\t\t\tisBottomSheetOpened={ isBottomSheetOpened }\r\n\t\t\tcloseBottomSheet={ closeGeneralSidebar }\r\n\t\t\tonHandleClosingBottomSheet={ onHandleClosingBottomSheet }\r\n\t\t\tcolorScheme={ colorScheme }\r\n\t\t/>\r\n\t);\r\n} );\r\n\r\nexport default PickerComponent;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,cAAc,QAAQ,cAAc;;AAE7C;AACA;AACA;AACA,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,EAAEC,UAAU,EAAEC,UAAU,QAAQ,oBAAoB;AACtE,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,uBAAuB,QAAQ,oBAAoB;;AAE5D;AACA;AACA;AACA,OAAOC,MAAM,MAAM,eAAe;AAClC,SAASC,kBAAkB,QAAQ,sCAAsC;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE1E,MAAMC,MAAM,SAASV,SAAS,CAAC;EAC9BW,aAAaA,CAAA,EAAG;IACf,MAAM;MACLC,OAAO;MACPC,QAAQ;MACRC,KAAK;MACLC,sBAAsB;MACtBC,qBAAqB;MACrBC,SAAS;MACTC,mBAAmB;MACnBC,gBAAgB;MAChBC,0BAA0B;MAC1BC;IACD,CAAC,GAAG,IAAI,CAACC,KAAK;IACd,MAAMC,MAAM,GAAGX,OAAO,CAACY,GAAG,CAAE,CAAE;MAAEC;IAAM,CAAC,KAAMA,KAAM,CAAC;IACpD,MAAMC,WAAW,GAAG,CAAE3B,EAAE,CAAE,QAAS,CAAC,CAAE,CAAC4B,MAAM,CAAEJ,MAAO,CAAC;IAEvD,MAAMK,gBAAgB,GACrBP,WAAW,KAAK,OAAO,GACpBf,MAAM,CAAE,iCAAiC,CAAE,CAACuB,KAAK,GACjDvB,MAAM,CAAE,uCAAuC,CAAE,CAACuB,KAAK;IAE3D/B,cAAc,CAACgC,0BAA0B,CACxC;MACChB,KAAK;MACLF,OAAO,EAAEc,WAAW;MACpBK,iBAAiB,EAAE,CAAC;MACpBhB,sBAAsB;MACtBC,qBAAqB;MACrBgB,MAAM,EAAEf,SAAS,IAAIA,SAAS,CAAC,CAAC;MAChCgB,SAAS,EAAEL;IACZ,CAAC,EACCM,WAAW,IAAM;MAClB,IAAKA,WAAW,KAAK,CAAC,EAAG;QACxB;MACD;MACA,MAAMC,QAAQ,GAAGvB,OAAO,CAAEsB,WAAW,GAAG,CAAC,CAAE;MAE3C,IAAKC,QAAQ,CAACC,aAAa,IAAIlB,mBAAmB,EAAG;QACpDE,0BAA0B,CAAE,MAAM;UACjCP,QAAQ,CAAEsB,QAAQ,CAACE,KAAM,CAAC;QAC3B,CAAE,CAAC;QACHlB,gBAAgB,CAAC,CAAC;MACnB,CAAC,MAAM;QACNN,QAAQ,CAAEsB,QAAQ,CAACE,KAAM,CAAC;MAC3B;IACD,CACD,CAAC;EACF;EAEAC,MAAMA,CAAA,EAAG;IACR,OAAO,IAAI;EACZ;AACD;AAEA,MAAMC,eAAe,GAAGtC,UAAU,CAAE,CAAEqB,KAAK,EAAEkB,GAAG,KAAM;EACrD,MAAMtB,mBAAmB,GAAGd,SAAS,CAAIqC,MAAM,IAC9CA,MAAM,CAAE,gBAAiB,CAAC,CAACC,qBAAqB,CAAC,CAClD,CAAC;EACD,MAAM;IAAEC;EAAoB,CAAC,GAAGxC,WAAW,CAAE,gBAAiB,CAAC;EAC/D,MAAM;IAAEiB;EAA2B,CAAC,GAAGlB,UAAU,CAAEK,kBAAmB,CAAC;EAEvE,MAAMc,WAAW,GAAGhB,uBAAuB,CAAC,CAAC;EAE7C,oBACCI,IAAA,CAACC,MAAM;IACN8B,GAAG,EAAGA,GAAK;IAAA,GACNlB,KAAK;IACVJ,mBAAmB,EAAGA,mBAAqB;IAC3CC,gBAAgB,EAAGwB,mBAAqB;IACxCvB,0BAA0B,EAAGA,0BAA4B;IACzDC,WAAW,EAAGA;EAAa,CAC3B,CAAC;AAEJ,CAAE,CAAC;AAEH,eAAekB,eAAe","ignoreList":[]}