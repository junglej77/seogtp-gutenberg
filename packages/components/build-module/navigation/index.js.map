{"version":3,"names":["clsx","useEffect","useRef","useState","isRTL","getAnimateClassName","ROOT_MENU","NavigationContext","NavigationUI","useCreateNavigationTree","jsx","_jsx","noop","Navigation","activeItem","activeMenu","children","className","onActivateMenu","menu","setMenu","slideOrigin","setSlideOrigin","navigationTree","defaultSlideOrigin","setActiveMenu","menuId","slideInOrigin","getMenu","isMountedRef","current","context","classes","animateClassName","type","origin","undefined","Provider","value"],"sources":["@wordpress/components/src/navigation/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useRef, useState } from '@wordpress/element';\r\nimport { isRTL } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { getAnimateClassName } from '../animate';\r\nimport { ROOT_MENU } from './constants';\r\nimport { NavigationContext } from './context';\r\nimport { NavigationUI } from './styles/navigation-styles';\r\nimport { useCreateNavigationTree } from './use-create-navigation-tree';\r\n\r\nimport type {\r\n\tNavigationProps,\r\n\tNavigationContext as NavigationContextType,\r\n} from './types';\r\n\r\nconst noop = () => {};\r\n\r\n/**\r\n * Render a navigation list with optional groupings and hierarchy.\r\n *\r\n * @deprecated Use `Navigator` instead.\r\n *\r\n * ```jsx\r\n * import {\r\n *   __experimentalNavigation as Navigation,\r\n *   __experimentalNavigationGroup as NavigationGroup,\r\n *   __experimentalNavigationItem as NavigationItem,\r\n *   __experimentalNavigationMenu as NavigationMenu,\r\n * } from '@wordpress/components';\r\n *\r\n * const MyNavigation = () => (\r\n *   <Navigation>\r\n *     <NavigationMenu title=\"Home\">\r\n *       <NavigationGroup title=\"Group 1\">\r\n *         <NavigationItem item=\"item-1\" title=\"Item 1\" />\r\n *         <NavigationItem item=\"item-2\" title=\"Item 2\" />\r\n *       </NavigationGroup>\r\n *       <NavigationGroup title=\"Group 2\">\r\n *         <NavigationItem\r\n *           item=\"item-3\"\r\n *           navigateToMenu=\"category\"\r\n *           title=\"Category\"\r\n *         />\r\n *       </NavigationGroup>\r\n *     </NavigationMenu>\r\n *\r\n *     <NavigationMenu\r\n *       backButtonLabel=\"Home\"\r\n *       menu=\"category\"\r\n *       parentMenu=\"root\"\r\n *       title=\"Category\"\r\n *     >\r\n *       <NavigationItem badge=\"1\" item=\"child-1\" title=\"Child 1\" />\r\n *       <NavigationItem item=\"child-2\" title=\"Child 2\" />\r\n *     </NavigationMenu>\r\n *   </Navigation>\r\n * );\r\n * ```\r\n */\r\nexport function Navigation( {\r\n\tactiveItem,\r\n\tactiveMenu = ROOT_MENU,\r\n\tchildren,\r\n\tclassName,\r\n\tonActivateMenu = noop,\r\n}: NavigationProps ) {\r\n\tconst [ menu, setMenu ] = useState( activeMenu );\r\n\tconst [ slideOrigin, setSlideOrigin ] = useState< 'left' | 'right' >();\r\n\tconst navigationTree = useCreateNavigationTree();\r\n\tconst defaultSlideOrigin = isRTL() ? 'right' : 'left';\r\n\r\n\tconst setActiveMenu: NavigationContextType[ 'setActiveMenu' ] = (\r\n\t\tmenuId,\r\n\t\tslideInOrigin = defaultSlideOrigin\r\n\t) => {\r\n\t\tif ( ! navigationTree.getMenu( menuId ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetSlideOrigin( slideInOrigin );\r\n\t\tsetMenu( menuId );\r\n\t\tonActivateMenu( menuId );\r\n\t};\r\n\r\n\t// Used to prevent the sliding animation on mount\r\n\tconst isMountedRef = useRef( false );\r\n\tuseEffect( () => {\r\n\t\tif ( ! isMountedRef.current ) {\r\n\t\t\tisMountedRef.current = true;\r\n\t\t}\r\n\t}, [] );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( activeMenu !== menu ) {\r\n\t\t\tsetActiveMenu( activeMenu );\r\n\t\t}\r\n\t\t// Ignore exhaustive-deps here, as it would require either a larger refactor or some questionable workarounds.\r\n\t\t// See https://github.com/WordPress/gutenberg/pull/41612 for context.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ activeMenu ] );\r\n\r\n\tconst context = {\r\n\t\tactiveItem,\r\n\t\tactiveMenu: menu,\r\n\t\tsetActiveMenu,\r\n\t\tnavigationTree,\r\n\t};\r\n\r\n\tconst classes = clsx( 'components-navigation', className );\r\n\tconst animateClassName = getAnimateClassName( {\r\n\t\ttype: 'slide-in',\r\n\t\torigin: slideOrigin,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<NavigationUI className={ classes }>\r\n\t\t\t<div\r\n\t\t\t\tkey={ menu }\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tanimateClassName\r\n\t\t\t\t\t\t? clsx( {\r\n\t\t\t\t\t\t\t\t[ animateClassName ]:\r\n\t\t\t\t\t\t\t\t\tisMountedRef.current && slideOrigin,\r\n\t\t\t\t\t\t  } )\r\n\t\t\t\t\t\t: undefined\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<NavigationContext.Provider value={ context }>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</NavigationContext.Provider>\r\n\t\t\t</div>\r\n\t\t</NavigationUI>\r\n\t);\r\n}\r\n\r\nexport default Navigation;\r\n"],"mappings":"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","ignoreList":[]}