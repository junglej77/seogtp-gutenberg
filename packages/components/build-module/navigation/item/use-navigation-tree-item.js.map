{"version":3,"names":["useEffect","useNavigationContext","useNavigationGroupContext","useNavigationMenuContext","normalizedSearch","useNavigationTreeItem","itemId","props","activeMenu","navigationTree","addItem","removeItem","group","menu","search","isMenuActive","isItemVisible","title","undefined","_isVisible"],"sources":["@wordpress/components/src/navigation/item/use-navigation-tree-item.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useNavigationContext } from '../context';\r\nimport { useNavigationGroupContext } from '../group/context';\r\nimport { useNavigationMenuContext } from '../menu/context';\r\nimport { normalizedSearch } from '../utils';\r\n\r\nimport type { NavigationItemProps } from '../types';\r\n\r\nexport const useNavigationTreeItem = (\r\n\titemId: string,\r\n\tprops: NavigationItemProps\r\n) => {\r\n\tconst {\r\n\t\tactiveMenu,\r\n\t\tnavigationTree: { addItem, removeItem },\r\n\t} = useNavigationContext();\r\n\tconst { group } = useNavigationGroupContext();\r\n\tconst { menu, search } = useNavigationMenuContext();\r\n\r\n\tuseEffect( () => {\r\n\t\tconst isMenuActive = activeMenu === menu;\r\n\t\tconst isItemVisible =\r\n\t\t\t! search ||\r\n\t\t\t( props.title !== undefined &&\r\n\t\t\t\tnormalizedSearch( props.title, search ) );\r\n\r\n\t\taddItem( itemId, {\r\n\t\t\t...props,\r\n\t\t\tgroup,\r\n\t\t\tmenu,\r\n\t\t\t_isVisible: isMenuActive && isItemVisible,\r\n\t\t} );\r\n\r\n\t\treturn () => {\r\n\t\t\tremoveItem( itemId );\r\n\t\t};\r\n\t\t// Ignore exhaustive-deps rule for now. See https://github.com/WordPress/gutenberg/pull/41639\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ activeMenu, search ] );\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;;AAE9C;AACA;AACA;AACA,SAASC,oBAAoB,QAAQ,YAAY;AACjD,SAASC,yBAAyB,QAAQ,kBAAkB;AAC5D,SAASC,wBAAwB,QAAQ,iBAAiB;AAC1D,SAASC,gBAAgB,QAAQ,UAAU;AAI3C,OAAO,MAAMC,qBAAqB,GAAGA,CACpCC,MAAc,EACdC,KAA0B,KACtB;EACJ,MAAM;IACLC,UAAU;IACVC,cAAc,EAAE;MAAEC,OAAO;MAAEC;IAAW;EACvC,CAAC,GAAGV,oBAAoB,CAAC,CAAC;EAC1B,MAAM;IAAEW;EAAM,CAAC,GAAGV,yBAAyB,CAAC,CAAC;EAC7C,MAAM;IAAEW,IAAI;IAAEC;EAAO,CAAC,GAAGX,wBAAwB,CAAC,CAAC;EAEnDH,SAAS,CAAE,MAAM;IAChB,MAAMe,YAAY,GAAGP,UAAU,KAAKK,IAAI;IACxC,MAAMG,aAAa,GAClB,CAAEF,MAAM,IACNP,KAAK,CAACU,KAAK,KAAKC,SAAS,IAC1Bd,gBAAgB,CAAEG,KAAK,CAACU,KAAK,EAAEH,MAAO,CAAG;IAE3CJ,OAAO,CAAEJ,MAAM,EAAE;MAChB,GAAGC,KAAK;MACRK,KAAK;MACLC,IAAI;MACJM,UAAU,EAAEJ,YAAY,IAAIC;IAC7B,CAAE,CAAC;IAEH,OAAO,MAAM;MACZL,UAAU,CAAEL,MAAO,CAAC;IACrB,CAAC;IACD;IACA;EACD,CAAC,EAAE,CAAEE,UAAU,EAAEM,MAAM,CAAG,CAAC;AAC5B,CAAC","ignoreList":[]}