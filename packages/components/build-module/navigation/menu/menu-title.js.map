{"version":3,"names":["useRef","useState","__","sprintf","Icon","search","searchIcon","getAnimateClassName","Button","MenuTitleSearch","GroupTitleUI","MenuTitleActionsUI","MenuTitleUI","useNavigationMenuContext","SEARCH_FOCUS_DELAY","jsx","_jsx","jsxs","_jsxs","NavigationMenuTitle","hasSearch","onSearch","title","titleAction","isSearching","setIsSearching","menu","searchButtonRef","onCloseSearch","setTimeout","current","focus","menuTitleId","searchButtonLabel","className","children","as","level","id","size","variant","label","onClick","ref","icon","type","origin"],"sources":["@wordpress/components/src/navigation/menu/menu-title.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useRef, useState } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { Icon, search as searchIcon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { getAnimateClassName } from '../../animate';\r\nimport Button from '../../button';\r\nimport MenuTitleSearch from './menu-title-search';\r\nimport {\r\n\tGroupTitleUI,\r\n\tMenuTitleActionsUI,\r\n\tMenuTitleUI,\r\n} from '../styles/navigation-styles';\r\nimport { useNavigationMenuContext } from './context';\r\nimport { SEARCH_FOCUS_DELAY } from '../constants';\r\n\r\nimport type { NavigationMenuTitleProps } from '../types';\r\n\r\nexport default function NavigationMenuTitle( {\r\n\thasSearch,\r\n\tonSearch,\r\n\tsearch,\r\n\ttitle,\r\n\ttitleAction,\r\n}: NavigationMenuTitleProps ) {\r\n\tconst [ isSearching, setIsSearching ] = useState( false );\r\n\tconst { menu } = useNavigationMenuContext();\r\n\tconst searchButtonRef = useRef< HTMLElement >( null );\r\n\r\n\tif ( ! title ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst onCloseSearch = () => {\r\n\t\tsetIsSearching( false );\r\n\r\n\t\t// Wait for the slide-in animation to complete before focusing the search button.\r\n\t\t// eslint-disable-next-line @wordpress/react-no-unsafe-timeout\r\n\t\tsetTimeout( () => {\r\n\t\t\tsearchButtonRef.current?.focus();\r\n\t\t}, SEARCH_FOCUS_DELAY );\r\n\t};\r\n\r\n\tconst menuTitleId = `components-navigation__menu-title-${ menu }`;\r\n\t/* translators: search button label for menu search box. %s: menu title */\r\n\tconst searchButtonLabel = sprintf( __( 'Search in %s' ), title );\r\n\r\n\treturn (\r\n\t\t<MenuTitleUI className=\"components-navigation__menu-title\">\r\n\t\t\t{ ! isSearching && (\r\n\t\t\t\t<GroupTitleUI\r\n\t\t\t\t\tas=\"h2\"\r\n\t\t\t\t\tclassName=\"components-navigation__menu-title-heading\"\r\n\t\t\t\t\tlevel={ 3 }\r\n\t\t\t\t>\r\n\t\t\t\t\t<span id={ menuTitleId }>{ title }</span>\r\n\r\n\t\t\t\t\t{ ( hasSearch || titleAction ) && (\r\n\t\t\t\t\t\t<MenuTitleActionsUI>\r\n\t\t\t\t\t\t\t{ titleAction }\r\n\r\n\t\t\t\t\t\t\t{ hasSearch && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\t\t\tlabel={ searchButtonLabel }\r\n\t\t\t\t\t\t\t\t\tonClick={ () => setIsSearching( true ) }\r\n\t\t\t\t\t\t\t\t\tref={ searchButtonRef }\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Icon icon={ searchIcon } />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</MenuTitleActionsUI>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</GroupTitleUI>\r\n\t\t\t) }\r\n\r\n\t\t\t{ isSearching && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ getAnimateClassName( {\r\n\t\t\t\t\t\ttype: 'slide-in',\r\n\t\t\t\t\t\torigin: 'left',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<MenuTitleSearch\r\n\t\t\t\t\t\tonCloseSearch={ onCloseSearch }\r\n\t\t\t\t\t\tonSearch={ onSearch }\r\n\t\t\t\t\t\tsearch={ search }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t</MenuTitleUI>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,QAAQ,QAAQ,oBAAoB;AACrD,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,IAAI,EAAEC,MAAM,IAAIC,UAAU,QAAQ,kBAAkB;;AAE7D;AACA;AACA;AACA,SAASC,mBAAmB,QAAQ,eAAe;AACnD,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,eAAe,MAAM,qBAAqB;AACjD,SACCC,YAAY,EACZC,kBAAkB,EAClBC,WAAW,QACL,6BAA6B;AACpC,SAASC,wBAAwB,QAAQ,WAAW;AACpD,SAASC,kBAAkB,QAAQ,cAAc;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAIlD,eAAe,SAASC,mBAAmBA,CAAE;EAC5CC,SAAS;EACTC,QAAQ;EACRhB,MAAM;EACNiB,KAAK;EACLC;AACyB,CAAC,EAAG;EAC7B,MAAM,CAAEC,WAAW,EAAEC,cAAc,CAAE,GAAGxB,QAAQ,CAAE,KAAM,CAAC;EACzD,MAAM;IAAEyB;EAAK,CAAC,GAAGb,wBAAwB,CAAC,CAAC;EAC3C,MAAMc,eAAe,GAAG3B,MAAM,CAAiB,IAAK,CAAC;EAErD,IAAK,CAAEsB,KAAK,EAAG;IACd,OAAO,IAAI;EACZ;EAEA,MAAMM,aAAa,GAAGA,CAAA,KAAM;IAC3BH,cAAc,CAAE,KAAM,CAAC;;IAEvB;IACA;IACAI,UAAU,CAAE,MAAM;MACjBF,eAAe,CAACG,OAAO,EAAEC,KAAK,CAAC,CAAC;IACjC,CAAC,EAAEjB,kBAAmB,CAAC;EACxB,CAAC;EAED,MAAMkB,WAAW,GAAI,qCAAqCN,IAAM,EAAC;EACjE;EACA,MAAMO,iBAAiB,GAAG9B,OAAO,CAAED,EAAE,CAAE,cAAe,CAAC,EAAEoB,KAAM,CAAC;EAEhE,oBACCJ,KAAA,CAACN,WAAW;IAACsB,SAAS,EAAC,mCAAmC;IAAAC,QAAA,GACvD,CAAEX,WAAW,iBACdN,KAAA,CAACR,YAAY;MACZ0B,EAAE,EAAC,IAAI;MACPF,SAAS,EAAC,2CAA2C;MACrDG,KAAK,EAAG,CAAG;MAAAF,QAAA,gBAEXnB,IAAA;QAAMsB,EAAE,EAAGN,WAAa;QAAAG,QAAA,EAAGb;MAAK,CAAQ,CAAC,EAEvC,CAAEF,SAAS,IAAIG,WAAW,kBAC3BL,KAAA,CAACP,kBAAkB;QAAAwB,QAAA,GAChBZ,WAAW,EAEXH,SAAS,iBACVJ,IAAA,CAACR,MAAM;UACN+B,IAAI,EAAC,OAAO;UACZC,OAAO,EAAC,UAAU;UAClBC,KAAK,EAAGR,iBAAmB;UAC3BS,OAAO,EAAGA,CAAA,KAAMjB,cAAc,CAAE,IAAK,CAAG;UACxCkB,GAAG,EAAGhB,eAAiB;UAAAQ,QAAA,eAEvBnB,IAAA,CAACZ,IAAI;YAACwC,IAAI,EAAGtC;UAAY,CAAE;QAAC,CACrB,CACR;MAAA,CACkB,CACpB;IAAA,CACY,CACd,EAECkB,WAAW,iBACZR,IAAA;MACCkB,SAAS,EAAG3B,mBAAmB,CAAE;QAChCsC,IAAI,EAAE,UAAU;QAChBC,MAAM,EAAE;MACT,CAAE,CAAG;MAAAX,QAAA,eAELnB,IAAA,CAACP,eAAe;QACfmB,aAAa,EAAGA,aAAe;QAC/BP,QAAQ,EAAGA,QAAU;QACrBhB,MAAM,EAAGA,MAAQ;QACjBiB,KAAK,EAAGA;MAAO,CACf;IAAC,CACE,CACL;EAAA,CACW,CAAC;AAEhB","ignoreList":[]}