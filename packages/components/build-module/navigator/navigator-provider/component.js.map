{"version":3,"names":["useMemo","useReducer","isShallowEqual","warning","contextConnect","useContextSystem","useCx","patternMatch","findParent","View","NavigatorContext","styles","deprecated","jsx","_jsx","addScreen","screens","screen","some","s","path","globalThis","SCRIPT_DEBUG","id","removeScreen","filter","goTo","state","options","_focusSelectorsCopy2","focusSelectors","currentLocation","isInitial","isBack","skipFocus","replace","focusTargetSelector","restOptions","focusSelectorsCopy","getFocusSelectorsCopy","_focusSelectorsCopy","Map","set","currentFocusSelector","get","delete","hasRestoredFocus","goToParent","currentPath","undefined","parentPath","routerReducer","action","matchedPath","restState","type","params","UnconnectedNavigatorProvider","props","forwardedRef","initialPath","initialPathProp","children","className","otherProps","routerState","dispatch","methods","goBack","since","alternative","navigatorContextValue","_matchedPath$params","location","match","cx","classes","navigatorProviderWrapper","ref","Provider","value","NavigatorProvider"],"sources":["@wordpress/components/src/navigator/navigator-provider/component.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type { ForwardedRef } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo, useReducer } from '@wordpress/element';\r\nimport isShallowEqual from '@wordpress/is-shallow-equal';\r\nimport warning from '@wordpress/warning';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { WordPressComponentProps } from '../../context';\r\nimport { contextConnect, useContextSystem } from '../../context';\r\nimport { useCx } from '../../utils/hooks/use-cx';\r\nimport { patternMatch, findParent } from '../utils/router';\r\nimport { View } from '../../view';\r\nimport { NavigatorContext } from '../context';\r\nimport * as styles from '../styles';\r\nimport type {\r\n\tNavigatorProviderProps,\r\n\tNavigatorLocation,\r\n\tNavigatorContext as NavigatorContextType,\r\n\tNavigateOptions,\r\n\tScreen,\r\n\tNavigateToParentOptions,\r\n} from '../types';\r\nimport deprecated from '@wordpress/deprecated';\r\n\r\ntype MatchedPath = ReturnType< typeof patternMatch >;\r\n\r\ntype RouterAction =\r\n\t| { type: 'add' | 'remove'; screen: Screen }\r\n\t| { type: 'goto'; path: string; options?: NavigateOptions }\r\n\t| { type: 'gotoparent'; options?: NavigateToParentOptions };\r\n\r\ntype RouterState = {\r\n\tinitialPath: string;\r\n\tscreens: Screen[];\r\n\tcurrentLocation: NavigatorLocation;\r\n\tmatchedPath: MatchedPath;\r\n\tfocusSelectors: Map< string, string >;\r\n};\r\n\r\nfunction addScreen( { screens }: RouterState, screen: Screen ) {\r\n\tif ( screens.some( ( s ) => s.path === screen.path ) ) {\r\n\t\twarning(\r\n\t\t\t`Navigator: a screen with path ${ screen.path } already exists.\r\nThe screen with id ${ screen.id } will not be added.`\r\n\t\t);\r\n\t\treturn screens;\r\n\t}\r\n\treturn [ ...screens, screen ];\r\n}\r\n\r\nfunction removeScreen( { screens }: RouterState, screen: Screen ) {\r\n\treturn screens.filter( ( s ) => s.id !== screen.id );\r\n}\r\n\r\nfunction goTo(\r\n\tstate: RouterState,\r\n\tpath: string,\r\n\toptions: NavigateOptions = {}\r\n) {\r\n\tconst { focusSelectors } = state;\r\n\tconst currentLocation = { ...state.currentLocation, isInitial: false };\r\n\r\n\tconst {\r\n\t\t// Default assignments\r\n\t\tisBack = false,\r\n\t\tskipFocus = false,\r\n\t\t// Extract to avoid forwarding\r\n\t\treplace,\r\n\t\tfocusTargetSelector,\r\n\t\t// Rest\r\n\t\t...restOptions\r\n\t} = options;\r\n\r\n\tif ( currentLocation.path === path ) {\r\n\t\treturn { currentLocation, focusSelectors };\r\n\t}\r\n\r\n\tlet focusSelectorsCopy: typeof focusSelectors | undefined;\r\n\tfunction getFocusSelectorsCopy() {\r\n\t\tfocusSelectorsCopy =\r\n\t\t\tfocusSelectorsCopy ?? new Map( state.focusSelectors );\r\n\t\treturn focusSelectorsCopy;\r\n\t}\r\n\r\n\t// Set a focus selector that will be used when navigating\r\n\t// back to the current location.\r\n\tif ( focusTargetSelector && currentLocation.path ) {\r\n\t\tgetFocusSelectorsCopy().set(\r\n\t\t\tcurrentLocation.path,\r\n\t\t\tfocusTargetSelector\r\n\t\t);\r\n\t}\r\n\r\n\t// Get the focus selector for the new location.\r\n\tlet currentFocusSelector;\r\n\tif ( focusSelectors.get( path ) ) {\r\n\t\tif ( isBack ) {\r\n\t\t\t// Use the found focus selector only when navigating back.\r\n\t\t\tcurrentFocusSelector = focusSelectors.get( path );\r\n\t\t}\r\n\t\t// Make a copy of the focusSelectors map to remove the focus selector\r\n\t\t// only if necessary (ie. a focus selector was found).\r\n\t\tgetFocusSelectorsCopy().delete( path );\r\n\t}\r\n\r\n\treturn {\r\n\t\tcurrentLocation: {\r\n\t\t\t...restOptions,\r\n\t\t\tpath,\r\n\t\t\tisBack,\r\n\t\t\thasRestoredFocus: false,\r\n\t\t\tfocusTargetSelector: currentFocusSelector,\r\n\t\t\tskipFocus,\r\n\t\t},\r\n\t\tfocusSelectors: focusSelectorsCopy ?? focusSelectors,\r\n\t};\r\n}\r\n\r\nfunction goToParent(\r\n\tstate: RouterState,\r\n\toptions: NavigateToParentOptions = {}\r\n) {\r\n\tconst { screens, focusSelectors } = state;\r\n\tconst currentLocation = { ...state.currentLocation, isInitial: false };\r\n\tconst currentPath = currentLocation.path;\r\n\tif ( currentPath === undefined ) {\r\n\t\treturn { currentLocation, focusSelectors };\r\n\t}\r\n\tconst parentPath = findParent( currentPath, screens );\r\n\tif ( parentPath === undefined ) {\r\n\t\treturn { currentLocation, focusSelectors };\r\n\t}\r\n\treturn goTo( state, parentPath, {\r\n\t\t...options,\r\n\t\tisBack: true,\r\n\t} );\r\n}\r\n\r\nfunction routerReducer(\r\n\tstate: RouterState,\r\n\taction: RouterAction\r\n): RouterState {\r\n\tlet {\r\n\t\tscreens,\r\n\t\tcurrentLocation,\r\n\t\tmatchedPath,\r\n\t\tfocusSelectors,\r\n\t\t...restState\r\n\t} = state;\r\n\tswitch ( action.type ) {\r\n\t\tcase 'add':\r\n\t\t\tscreens = addScreen( state, action.screen );\r\n\t\t\tbreak;\r\n\t\tcase 'remove':\r\n\t\t\tscreens = removeScreen( state, action.screen );\r\n\t\t\tbreak;\r\n\t\tcase 'goto':\r\n\t\t\t( { currentLocation, focusSelectors } = goTo(\r\n\t\t\t\tstate,\r\n\t\t\t\taction.path,\r\n\t\t\t\taction.options\r\n\t\t\t) );\r\n\t\t\tbreak;\r\n\t\tcase 'gotoparent':\r\n\t\t\t( { currentLocation, focusSelectors } = goToParent(\r\n\t\t\t\tstate,\r\n\t\t\t\taction.options\r\n\t\t\t) );\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\t// Return early in case there is no change\r\n\tif (\r\n\t\tscreens === state.screens &&\r\n\t\tcurrentLocation === state.currentLocation\r\n\t) {\r\n\t\treturn state;\r\n\t}\r\n\r\n\t// Compute the matchedPath\r\n\tconst currentPath = currentLocation.path;\r\n\tmatchedPath =\r\n\t\tcurrentPath !== undefined\r\n\t\t\t? patternMatch( currentPath, screens )\r\n\t\t\t: undefined;\r\n\r\n\t// If the new match is the same as the previous match,\r\n\t// return the previous one to keep immutability.\r\n\tif (\r\n\t\tmatchedPath &&\r\n\t\tstate.matchedPath &&\r\n\t\tmatchedPath.id === state.matchedPath.id &&\r\n\t\tisShallowEqual( matchedPath.params, state.matchedPath.params )\r\n\t) {\r\n\t\tmatchedPath = state.matchedPath;\r\n\t}\r\n\r\n\treturn {\r\n\t\t...restState,\r\n\t\tscreens,\r\n\t\tcurrentLocation,\r\n\t\tmatchedPath,\r\n\t\tfocusSelectors,\r\n\t};\r\n}\r\n\r\nfunction UnconnectedNavigatorProvider(\r\n\tprops: WordPressComponentProps< NavigatorProviderProps, 'div' >,\r\n\tforwardedRef: ForwardedRef< any >\r\n) {\r\n\tconst {\r\n\t\tinitialPath: initialPathProp,\r\n\t\tchildren,\r\n\t\tclassName,\r\n\t\t...otherProps\r\n\t} = useContextSystem( props, 'NavigatorProvider' );\r\n\r\n\tconst [ routerState, dispatch ] = useReducer(\r\n\t\trouterReducer,\r\n\t\tinitialPathProp,\r\n\t\t( path ) => ( {\r\n\t\t\tscreens: [],\r\n\t\t\tcurrentLocation: { path, isInitial: true },\r\n\t\t\tmatchedPath: undefined,\r\n\t\t\tfocusSelectors: new Map(),\r\n\t\t\tinitialPath: initialPathProp,\r\n\t\t} )\r\n\t);\r\n\r\n\t// The methods are constant forever, create stable references to them.\r\n\tconst methods = useMemo(\r\n\t\t() => ( {\r\n\t\t\t// Note: calling goBack calls `goToParent` internally, as it was established\r\n\t\t\t// that `goBack` should behave like `goToParent`, and `goToParent` should\r\n\t\t\t// be marked as deprecated.\r\n\t\t\tgoBack: ( options: NavigateToParentOptions | undefined ) =>\r\n\t\t\t\tdispatch( { type: 'gotoparent', options } ),\r\n\t\t\tgoTo: ( path: string, options?: NavigateOptions ) =>\r\n\t\t\t\tdispatch( { type: 'goto', path, options } ),\r\n\t\t\tgoToParent: ( options: NavigateToParentOptions | undefined ) => {\r\n\t\t\t\tdeprecated( `wp.components.useNavigator().goToParent`, {\r\n\t\t\t\t\tsince: '6.7',\r\n\t\t\t\t\talternative: 'wp.components.useNavigator().goBack',\r\n\t\t\t\t} );\r\n\t\t\t\tdispatch( { type: 'gotoparent', options } );\r\n\t\t\t},\r\n\t\t\taddScreen: ( screen: Screen ) =>\r\n\t\t\t\tdispatch( { type: 'add', screen } ),\r\n\t\t\tremoveScreen: ( screen: Screen ) =>\r\n\t\t\t\tdispatch( { type: 'remove', screen } ),\r\n\t\t} ),\r\n\t\t[]\r\n\t);\r\n\r\n\tconst { currentLocation, matchedPath } = routerState;\r\n\r\n\tconst navigatorContextValue: NavigatorContextType = useMemo(\r\n\t\t() => ( {\r\n\t\t\tlocation: currentLocation,\r\n\t\t\tparams: matchedPath?.params ?? {},\r\n\t\t\tmatch: matchedPath?.id,\r\n\t\t\t...methods,\r\n\t\t} ),\r\n\t\t[ currentLocation, matchedPath, methods ]\r\n\t);\r\n\r\n\tconst cx = useCx();\r\n\tconst classes = useMemo(\r\n\t\t() => cx( styles.navigatorProviderWrapper, className ),\r\n\t\t[ className, cx ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<View ref={ forwardedRef } className={ classes } { ...otherProps }>\r\n\t\t\t<NavigatorContext.Provider value={ navigatorContextValue }>\r\n\t\t\t\t{ children }\r\n\t\t\t</NavigatorContext.Provider>\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\n/**\r\n * The `NavigatorProvider` component allows rendering nested views/panels/menus\r\n * (via the `NavigatorScreen` component and navigate between these different\r\n * view (via the `NavigatorButton` and `NavigatorBackButton` components or the\r\n * `useNavigator` hook).\r\n *\r\n * ```jsx\r\n * import {\r\n *   __experimentalNavigatorProvider as NavigatorProvider,\r\n *   __experimentalNavigatorScreen as NavigatorScreen,\r\n *   __experimentalNavigatorButton as NavigatorButton,\r\n *   __experimentalNavigatorBackButton as NavigatorBackButton,\r\n * } from '@wordpress/components';\r\n *\r\n * const MyNavigation = () => (\r\n *   <NavigatorProvider initialPath=\"/\">\r\n *     <NavigatorScreen path=\"/\">\r\n *       <p>This is the home screen.</p>\r\n *        <NavigatorButton path=\"/child\">\r\n *          Navigate to child screen.\r\n *       </NavigatorButton>\r\n *     </NavigatorScreen>\r\n *\r\n *     <NavigatorScreen path=\"/child\">\r\n *       <p>This is the child screen.</p>\r\n *       <NavigatorBackButton>\r\n *         Go back\r\n *       </NavigatorBackButton>\r\n *     </NavigatorScreen>\r\n *   </NavigatorProvider>\r\n * );\r\n * ```\r\n */\r\nexport const NavigatorProvider = contextConnect(\r\n\tUnconnectedNavigatorProvider,\r\n\t'NavigatorProvider'\r\n);\r\n\r\nexport default NavigatorProvider;\r\n"],"mappings":"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","ignoreList":[]}