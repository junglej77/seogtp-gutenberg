{"version":3,"names":["match","matchPath","path","pattern","matchingFunction","decode","decodeURIComponent","patternMatch","screens","screen","matched","params","id","undefined","findParent","startsWith","pathParts","split","parentPath","length","pop","potentialParentPath","join","find"],"sources":["@wordpress/components/src/navigator/utils/router.ts"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { match } from 'path-to-regexp';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { Screen, MatchParams } from '../types';\r\n\r\nfunction matchPath( path: string, pattern: string ) {\r\n\tconst matchingFunction = match< MatchParams >( pattern, {\r\n\t\tdecode: decodeURIComponent,\r\n\t} );\r\n\treturn matchingFunction( path );\r\n}\r\n\r\nexport function patternMatch( path: string, screens: Screen[] ) {\r\n\tfor ( const screen of screens ) {\r\n\t\tconst matched = matchPath( path, screen.path );\r\n\t\tif ( matched ) {\r\n\t\t\treturn { params: matched.params, id: screen.id };\r\n\t\t}\r\n\t}\r\n\r\n\treturn undefined;\r\n}\r\n\r\nexport function findParent( path: string, screens: Screen[] ) {\r\n\tif ( ! path.startsWith( '/' ) ) {\r\n\t\treturn undefined;\r\n\t}\r\n\tconst pathParts = path.split( '/' );\r\n\tlet parentPath;\r\n\twhile ( pathParts.length > 1 && parentPath === undefined ) {\r\n\t\tpathParts.pop();\r\n\t\tconst potentialParentPath =\r\n\t\t\tpathParts.join( '/' ) === '' ? '/' : pathParts.join( '/' );\r\n\t\tif (\r\n\t\t\tscreens.find( ( screen ) => {\r\n\t\t\t\treturn matchPath( potentialParentPath, screen.path ) !== false;\r\n\t\t\t} )\r\n\t\t) {\r\n\t\t\tparentPath = potentialParentPath;\r\n\t\t}\r\n\t}\r\n\r\n\treturn parentPath;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,QAAQ,gBAAgB;;AAEtC;AACA;AACA;;AAGA,SAASC,SAASA,CAAEC,IAAY,EAAEC,OAAe,EAAG;EACnD,MAAMC,gBAAgB,GAAGJ,KAAK,CAAiBG,OAAO,EAAE;IACvDE,MAAM,EAAEC;EACT,CAAE,CAAC;EACH,OAAOF,gBAAgB,CAAEF,IAAK,CAAC;AAChC;AAEA,OAAO,SAASK,YAAYA,CAAEL,IAAY,EAAEM,OAAiB,EAAG;EAC/D,KAAM,MAAMC,MAAM,IAAID,OAAO,EAAG;IAC/B,MAAME,OAAO,GAAGT,SAAS,CAAEC,IAAI,EAAEO,MAAM,CAACP,IAAK,CAAC;IAC9C,IAAKQ,OAAO,EAAG;MACd,OAAO;QAAEC,MAAM,EAAED,OAAO,CAACC,MAAM;QAAEC,EAAE,EAAEH,MAAM,CAACG;MAAG,CAAC;IACjD;EACD;EAEA,OAAOC,SAAS;AACjB;AAEA,OAAO,SAASC,UAAUA,CAAEZ,IAAY,EAAEM,OAAiB,EAAG;EAC7D,IAAK,CAAEN,IAAI,CAACa,UAAU,CAAE,GAAI,CAAC,EAAG;IAC/B,OAAOF,SAAS;EACjB;EACA,MAAMG,SAAS,GAAGd,IAAI,CAACe,KAAK,CAAE,GAAI,CAAC;EACnC,IAAIC,UAAU;EACd,OAAQF,SAAS,CAACG,MAAM,GAAG,CAAC,IAAID,UAAU,KAAKL,SAAS,EAAG;IAC1DG,SAAS,CAACI,GAAG,CAAC,CAAC;IACf,MAAMC,mBAAmB,GACxBL,SAAS,CAACM,IAAI,CAAE,GAAI,CAAC,KAAK,EAAE,GAAG,GAAG,GAAGN,SAAS,CAACM,IAAI,CAAE,GAAI,CAAC;IAC3D,IACCd,OAAO,CAACe,IAAI,CAAId,MAAM,IAAM;MAC3B,OAAOR,SAAS,CAAEoB,mBAAmB,EAAEZ,MAAM,CAACP,IAAK,CAAC,KAAK,KAAK;IAC/D,CAAE,CAAC,EACF;MACDgB,UAAU,GAAGG,mBAAmB;IACjC;EACD;EAEA,OAAOH,UAAU;AAClB","ignoreList":[]}