{"version":3,"names":["Animated","Easing","Text","TouchableWithoutFeedback","View","useWindowDimensions","BlurView","useEffect","useRef","useCallback","Platform","usePreferredColorSchemeStyle","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HIDE_TIMER","Notice","onNoticeHidden","content","id","status","width","animationValue","Value","current","timer","timing","toValue","duration","useNativeDriver","easing","out","quad","start","finished","setTimeout","onHide","clearTimeout","noticeSolidStyles","noticeSolid","noticeSolidDark","successTextStyles","successText","successTextDark","errorTextStyles","errorText","errorTextDark","textStyles","containerStyles","notice","isIOS","transform","translateY","interpolate","inputRange","outputRange","children","style","onPress","noticeContent","numberOfLines","blurBackground","blurType","blurAmount"],"sources":["@wordpress/components/src/notice/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport {\r\n\tAnimated,\r\n\tEasing,\r\n\tText,\r\n\tTouchableWithoutFeedback,\r\n\tView,\r\n\tuseWindowDimensions,\r\n} from 'react-native';\r\nimport { BlurView } from '@react-native-community/blur';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useRef, useCallback, Platform } from '@wordpress/element';\r\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport styles from './style.scss';\r\n\r\nconst HIDE_TIMER = 3000;\r\n\r\nconst Notice = ( { onNoticeHidden, content, id, status } ) => {\r\n\tconst { width } = useWindowDimensions();\r\n\tconst animationValue = useRef( new Animated.Value( 0 ) ).current;\r\n\tconst timer = useRef( null );\r\n\r\n\tuseEffect( () => {\r\n\t\t// start animation\r\n\t\tAnimated.timing( animationValue, {\r\n\t\t\ttoValue: 1,\r\n\t\t\tduration: 300,\r\n\t\t\tuseNativeDriver: true,\r\n\t\t\teasing: Easing.out( Easing.quad ),\r\n\t\t} ).start( ( { finished } ) => {\r\n\t\t\tif ( finished && onNoticeHidden ) {\r\n\t\t\t\ttimer.current = setTimeout( () => {\r\n\t\t\t\t\tonHide();\r\n\t\t\t\t}, HIDE_TIMER );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\treturn () => {\r\n\t\t\tclearTimeout( timer?.current );\r\n\t\t};\r\n\t}, [ animationValue, onHide, onNoticeHidden ] );\r\n\r\n\tconst onHide = useCallback( () => {\r\n\t\tAnimated.timing( animationValue, {\r\n\t\t\ttoValue: 0,\r\n\t\t\tduration: 150,\r\n\t\t\tuseNativeDriver: true,\r\n\t\t\teasing: Easing.out( Easing.quad ),\r\n\t\t} ).start( ( { finished } ) => {\r\n\t\t\tif ( finished && onNoticeHidden ) {\r\n\t\t\t\tonNoticeHidden( id );\r\n\t\t\t}\r\n\t\t} );\r\n\t}, [ animationValue, onNoticeHidden, id ] );\r\n\r\n\tconst noticeSolidStyles = usePreferredColorSchemeStyle(\r\n\t\tstyles.noticeSolid,\r\n\t\tstyles.noticeSolidDark\r\n\t);\r\n\r\n\tconst successTextStyles = usePreferredColorSchemeStyle(\r\n\t\tstyles.successText,\r\n\t\tstyles.successTextDark\r\n\t);\r\n\r\n\tconst errorTextStyles = usePreferredColorSchemeStyle(\r\n\t\tstyles.errorText,\r\n\t\tstyles.errorTextDark\r\n\t);\r\n\r\n\tconst textStyles = [\r\n\t\tstatus === 'success' && successTextStyles,\r\n\t\tstatus === 'error' && errorTextStyles,\r\n\t];\r\n\r\n\tconst containerStyles = [\r\n\t\tstyles.notice,\r\n\t\t! Platform.isIOS && noticeSolidStyles,\r\n\t\t{\r\n\t\t\twidth,\r\n\t\t\ttransform: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttranslateY: animationValue.interpolate( {\r\n\t\t\t\t\t\tinputRange: [ 0, 1 ],\r\n\t\t\t\t\t\toutputRange: [ -24, 0 ],\r\n\t\t\t\t\t} ),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Animated.View style={ containerStyles }>\r\n\t\t\t\t<TouchableWithoutFeedback onPress={ onHide }>\r\n\t\t\t\t\t<View style={ styles.noticeContent }>\r\n\t\t\t\t\t\t<Text numberOfLines={ 3 } style={ textStyles }>\r\n\t\t\t\t\t\t\t{ content }\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</TouchableWithoutFeedback>\r\n\t\t\t\t{ Platform.isIOS && (\r\n\t\t\t\t\t<BlurView\r\n\t\t\t\t\t\tstyle={ styles.blurBackground }\r\n\t\t\t\t\t\tblurType=\"prominent\"\r\n\t\t\t\t\t\tblurAmount={ 10 }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</Animated.View>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Notice;\r\n"],"mappings":"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","ignoreList":[]}