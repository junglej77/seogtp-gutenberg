{"version":3,"names":["clsx","useRef","forwardRef","isRTL","__","plus","plusIcon","reset","resetIcon","useMergeRefs","deprecated","Input","SpinButton","styles","inputControlActionTypes","add","subtract","roundClamp","ensureNumber","isValueEmpty","HStack","Spacer","useCx","useDeprecated36pxDefaultSizeProp","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","noop","UnforwardedNumberControl","props","forwardedRef","__unstableStateReducer","stateReducerProp","className","dragDirection","hideHTMLArrows","spinControls","isDragEnabled","isShiftStepEnabled","label","max","Infinity","min","required","shiftStep","step","spinFactor","type","typeProp","value","valueProp","size","suffix","onChange","restProps","alternative","since","version","inputRef","mergedRef","isStepAny","baseStep","baseSpin","baseValue","constrainValue","stepOverride","Math","autoComplete","undefined","classes","cx","spinButtonClasses","smallSpinButtons","spinValue","direction","event","preventDefault","shift","shiftKey","delta","nextValue","numberControlStateReducer","state","action","nextState","payload","currentValue","PRESS_UP","PRESS_DOWN","DRAG","x","y","enableShift","modifier","directionModifier","ceil","abs","sign","distance","PRESS_ENTER","COMMIT","applyEmptyValue","buildSpinButtonClickHandler","String","target","current","inputMode","ref","_stateReducerProp","baseState","children","marginBottom","marginRight","spacing","icon","onClick","NumberControl"],"sources":["@wordpress/components/src/number-control/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { ForwardedRef, KeyboardEvent, MouseEvent } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useRef, forwardRef } from '@wordpress/element';\r\nimport { isRTL, __ } from '@wordpress/i18n';\r\nimport { plus as plusIcon, reset as resetIcon } from '@wordpress/icons';\r\nimport { useMergeRefs } from '@wordpress/compose';\r\nimport deprecated from '@wordpress/deprecated';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { Input, SpinButton, styles } from './styles/number-control-styles';\r\nimport * as inputControlActionTypes from '../input-control/reducer/actions';\r\nimport { add, subtract, roundClamp } from '../utils/math';\r\nimport { ensureNumber, isValueEmpty } from '../utils/values';\r\nimport type { WordPressComponentProps } from '../context/wordpress-component';\r\nimport type { NumberControlProps } from './types';\r\nimport { HStack } from '../h-stack';\r\nimport { Spacer } from '../spacer';\r\nimport { useCx } from '../utils';\r\nimport { useDeprecated36pxDefaultSizeProp } from '../utils/use-deprecated-props';\r\n\r\nconst noop = () => {};\r\n\r\nfunction UnforwardedNumberControl(\r\n\tprops: WordPressComponentProps< NumberControlProps, 'input', false >,\r\n\tforwardedRef: ForwardedRef< any >\r\n) {\r\n\tconst {\r\n\t\t__unstableStateReducer: stateReducerProp,\r\n\t\tclassName,\r\n\t\tdragDirection = 'n',\r\n\t\thideHTMLArrows = false,\r\n\t\tspinControls = hideHTMLArrows ? 'none' : 'native',\r\n\t\tisDragEnabled = true,\r\n\t\tisShiftStepEnabled = true,\r\n\t\tlabel,\r\n\t\tmax = Infinity,\r\n\t\tmin = -Infinity,\r\n\t\trequired = false,\r\n\t\tshiftStep = 10,\r\n\t\tstep = 1,\r\n\t\tspinFactor = 1,\r\n\t\ttype: typeProp = 'number',\r\n\t\tvalue: valueProp,\r\n\t\tsize = 'default',\r\n\t\tsuffix,\r\n\t\tonChange = noop,\r\n\t\t...restProps\r\n\t} = useDeprecated36pxDefaultSizeProp< NumberControlProps >( props );\r\n\r\n\tif ( hideHTMLArrows ) {\r\n\t\tdeprecated( 'wp.components.NumberControl hideHTMLArrows prop ', {\r\n\t\t\talternative: 'spinControls=\"none\"',\r\n\t\t\tsince: '6.2',\r\n\t\t\tversion: '6.3',\r\n\t\t} );\r\n\t}\r\n\tconst inputRef = useRef< HTMLInputElement >();\r\n\tconst mergedRef = useMergeRefs( [ inputRef, forwardedRef ] );\r\n\r\n\tconst isStepAny = step === 'any';\r\n\tconst baseStep = isStepAny ? 1 : ensureNumber( step );\r\n\tconst baseSpin = ensureNumber( spinFactor ) * baseStep;\r\n\tconst baseValue = roundClamp( 0, min, max, baseStep );\r\n\tconst constrainValue = (\r\n\t\tvalue: number | string,\r\n\t\tstepOverride?: number\r\n\t) => {\r\n\t\t// When step is \"any\" clamp the value, otherwise round and clamp it.\r\n\t\t// Use '' + to convert to string for use in input value attribute.\r\n\t\treturn isStepAny\r\n\t\t\t? '' + Math.min( max, Math.max( min, ensureNumber( value ) ) )\r\n\t\t\t: '' + roundClamp( value, min, max, stepOverride ?? baseStep );\r\n\t};\r\n\r\n\tconst autoComplete = typeProp === 'number' ? 'off' : undefined;\r\n\tconst classes = clsx( 'components-number-control', className );\r\n\tconst cx = useCx();\r\n\tconst spinButtonClasses = cx( size === 'small' && styles.smallSpinButtons );\r\n\r\n\tconst spinValue = (\r\n\t\tvalue: string | number | undefined,\r\n\t\tdirection: 'up' | 'down',\r\n\t\tevent: KeyboardEvent | MouseEvent | undefined\r\n\t) => {\r\n\t\tevent?.preventDefault();\r\n\t\tconst shift = event?.shiftKey && isShiftStepEnabled;\r\n\t\tconst delta = shift ? ensureNumber( shiftStep ) * baseSpin : baseSpin;\r\n\t\tlet nextValue = isValueEmpty( value ) ? baseValue : value;\r\n\t\tif ( direction === 'up' ) {\r\n\t\t\tnextValue = add( nextValue, delta );\r\n\t\t} else if ( direction === 'down' ) {\r\n\t\t\tnextValue = subtract( nextValue, delta );\r\n\t\t}\r\n\t\treturn constrainValue( nextValue, shift ? delta : undefined );\r\n\t};\r\n\r\n\t/**\r\n\t * \"Middleware\" function that intercepts updates from InputControl.\r\n\t * This allows us to tap into actions to transform the (next) state for\r\n\t * InputControl.\r\n\t *\r\n\t * @return The updated state to apply to InputControl\r\n\t */\r\n\tconst numberControlStateReducer: NumberControlProps[ '__unstableStateReducer' ] =\r\n\t\t( state, action ) => {\r\n\t\t\tconst nextState = { ...state };\r\n\r\n\t\t\tconst { type, payload } = action;\r\n\t\t\tconst event = payload.event;\r\n\t\t\tconst currentValue = nextState.value;\r\n\r\n\t\t\t/**\r\n\t\t\t * Handles custom UP and DOWN Keyboard events\r\n\t\t\t */\r\n\t\t\tif (\r\n\t\t\t\ttype === inputControlActionTypes.PRESS_UP ||\r\n\t\t\t\ttype === inputControlActionTypes.PRESS_DOWN\r\n\t\t\t) {\r\n\t\t\t\tnextState.value = spinValue(\r\n\t\t\t\t\tcurrentValue,\r\n\t\t\t\t\ttype === inputControlActionTypes.PRESS_UP ? 'up' : 'down',\r\n\t\t\t\t\tevent as KeyboardEvent | undefined\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Handles drag to update events\r\n\t\t\t */\r\n\t\t\tif ( type === inputControlActionTypes.DRAG && isDragEnabled ) {\r\n\t\t\t\tconst [ x, y ] = payload.delta;\r\n\t\t\t\tconst enableShift = payload.shiftKey && isShiftStepEnabled;\r\n\t\t\t\tconst modifier = enableShift\r\n\t\t\t\t\t? ensureNumber( shiftStep ) * baseSpin\r\n\t\t\t\t\t: baseSpin;\r\n\r\n\t\t\t\tlet directionModifier;\r\n\t\t\t\tlet delta;\r\n\r\n\t\t\t\tswitch ( dragDirection ) {\r\n\t\t\t\t\tcase 'n':\r\n\t\t\t\t\t\tdelta = y;\r\n\t\t\t\t\t\tdirectionModifier = -1;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'e':\r\n\t\t\t\t\t\tdelta = x;\r\n\t\t\t\t\t\tdirectionModifier = isRTL() ? -1 : 1;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 's':\r\n\t\t\t\t\t\tdelta = y;\r\n\t\t\t\t\t\tdirectionModifier = 1;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'w':\r\n\t\t\t\t\t\tdelta = x;\r\n\t\t\t\t\t\tdirectionModifier = isRTL() ? 1 : -1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( delta !== 0 ) {\r\n\t\t\t\t\tdelta = Math.ceil( Math.abs( delta ) ) * Math.sign( delta );\r\n\t\t\t\t\tconst distance = delta * modifier * directionModifier;\r\n\r\n\t\t\t\t\tnextState.value = constrainValue(\r\n\t\t\t\t\t\t// @ts-expect-error TODO: Investigate if it's ok for currentValue to be undefined\r\n\t\t\t\t\t\tadd( currentValue, distance ),\r\n\t\t\t\t\t\tenableShift ? modifier : undefined\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Handles commit (ENTER key press or blur)\r\n\t\t\t */\r\n\t\t\tif (\r\n\t\t\t\ttype === inputControlActionTypes.PRESS_ENTER ||\r\n\t\t\t\ttype === inputControlActionTypes.COMMIT\r\n\t\t\t) {\r\n\t\t\t\tconst applyEmptyValue =\r\n\t\t\t\t\trequired === false && currentValue === '';\r\n\r\n\t\t\t\tnextState.value = applyEmptyValue\r\n\t\t\t\t\t? currentValue\r\n\t\t\t\t\t: // @ts-expect-error TODO: Investigate if it's ok for currentValue to be undefined\r\n\t\t\t\t\t  constrainValue( currentValue );\r\n\t\t\t}\r\n\r\n\t\t\treturn nextState;\r\n\t\t};\r\n\r\n\tconst buildSpinButtonClickHandler =\r\n\t\t( direction: 'up' | 'down' ) =>\r\n\t\t( event: MouseEvent< HTMLButtonElement > ) =>\r\n\t\t\tonChange( String( spinValue( valueProp, direction, event ) ), {\r\n\t\t\t\t// Set event.target to the <input> so that consumers can use\r\n\t\t\t\t// e.g. event.target.validity.\r\n\t\t\t\tevent: {\r\n\t\t\t\t\t...event,\r\n\t\t\t\t\ttarget: inputRef.current!,\r\n\t\t\t\t},\r\n\t\t\t} );\r\n\r\n\treturn (\r\n\t\t<Input\r\n\t\t\tautoComplete={ autoComplete }\r\n\t\t\tinputMode=\"numeric\"\r\n\t\t\t{ ...restProps }\r\n\t\t\tclassName={ classes }\r\n\t\t\tdragDirection={ dragDirection }\r\n\t\t\thideHTMLArrows={ spinControls !== 'native' }\r\n\t\t\tisDragEnabled={ isDragEnabled }\r\n\t\t\tlabel={ label }\r\n\t\t\tmax={ max }\r\n\t\t\tmin={ min }\r\n\t\t\tref={ mergedRef }\r\n\t\t\trequired={ required }\r\n\t\t\tstep={ step }\r\n\t\t\ttype={ typeProp }\r\n\t\t\t// @ts-expect-error TODO: Resolve discrepancy between `value` types in InputControl based components\r\n\t\t\tvalue={ valueProp }\r\n\t\t\t__unstableStateReducer={ ( state, action ) => {\r\n\t\t\t\tconst baseState = numberControlStateReducer( state, action );\r\n\t\t\t\treturn stateReducerProp?.( baseState, action ) ?? baseState;\r\n\t\t\t} }\r\n\t\t\tsize={ size }\r\n\t\t\tsuffix={\r\n\t\t\t\tspinControls === 'custom' ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{ suffix }\r\n\t\t\t\t\t\t<Spacer marginBottom={ 0 } marginRight={ 2 }>\r\n\t\t\t\t\t\t\t<HStack spacing={ 1 }>\r\n\t\t\t\t\t\t\t\t<SpinButton\r\n\t\t\t\t\t\t\t\t\tclassName={ spinButtonClasses }\r\n\t\t\t\t\t\t\t\t\ticon={ plusIcon }\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Increment' ) }\r\n\t\t\t\t\t\t\t\t\tonClick={ buildSpinButtonClickHandler(\r\n\t\t\t\t\t\t\t\t\t\t'up'\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<SpinButton\r\n\t\t\t\t\t\t\t\t\tclassName={ spinButtonClasses }\r\n\t\t\t\t\t\t\t\t\ticon={ resetIcon }\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Decrement' ) }\r\n\t\t\t\t\t\t\t\t\tonClick={ buildSpinButtonClickHandler(\r\n\t\t\t\t\t\t\t\t\t\t'down'\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t\t</Spacer>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tsuffix\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tonChange={ onChange }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport const NumberControl = forwardRef( UnforwardedNumberControl );\r\n\r\nexport default NumberControl;\r\n"],"mappings":"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","ignoreList":[]}