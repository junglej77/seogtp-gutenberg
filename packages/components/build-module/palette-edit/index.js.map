{"version":3,"names":["clsx","useState","useRef","useEffect","useCallback","useMemo","__","sprintf","lineSolid","moreVertical","plus","useDebounce","Button","ColorPicker","FlexItem","HStack","ItemGroup","VStack","GradientPicker","ColorPalette","DropdownMenu","Popover","PaletteActionsContainer","PaletteEditStyles","PaletteHeading","IndicatorStyled","PaletteItem","NameContainer","NameInputControl","DoneButton","RemoveButton","PaletteEditContents","NavigableMenu","DEFAULT_GRADIENT","CustomGradientPicker","kebabCase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DEFAULT_COLOR","NameInput","value","onChange","label","hideLabelFromVision","getNameAndSlugForPosition","elements","slugPrefix","nameRegex","RegExp","position","reduce","previousValue","currentValue","slug","matches","match","id","parseInt","name","ColorPickerPopover","isGradient","element","popoverProps","receivedPopoverProps","onClose","shift","offset","resize","placement","className","children","color","enableAlpha","newColor","__experimentalIsRenderedInSidebar","gradient","newGradient","Option","canOnlyChangeValues","onRemove","isEditingColor","setIsEditingColor","popoverAnchor","setPopoverAnchor","anchor","ref","as","justify","onClick","trim","length","style","padding","colorValue","nextName","baseSlug","counter","some","el","size","icon","PaletteEditListView","addColorRef","elementsReferenceRef","current","debounceOnChange","spacing","isRounded","map","index","newElement","currentElement","currentIndex","newElements","filter","_currentElement","undefined","focus","EMPTY_ARRAY","PaletteEdit","gradients","colors","paletteLabel","paletteLabelHeadingLevel","emptyMessage","canReset","isEditing","setIsEditing","editingElement","setEditingElement","isAdding","elementsLength","hasElements","onSelectPaletteItem","newEditingElementIndex","selectedElement","key","level","isPressed","toggleProps","role","variant","clearable","disableCustomGradients","disableCustomColors"],"sources":["@wordpress/components/src/palette-edit/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tuseState,\r\n\tuseRef,\r\n\tuseEffect,\r\n\tuseCallback,\r\n\tuseMemo,\r\n} from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { lineSolid, moreVertical, plus } from '@wordpress/icons';\r\nimport { useDebounce } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Button from '../button';\r\nimport { ColorPicker } from '../color-picker';\r\nimport { FlexItem } from '../flex';\r\nimport { HStack } from '../h-stack';\r\nimport { ItemGroup } from '../item-group';\r\nimport { VStack } from '../v-stack';\r\nimport GradientPicker from '../gradient-picker';\r\nimport ColorPalette from '../color-palette';\r\nimport DropdownMenu from '../dropdown-menu';\r\nimport Popover from '../popover';\r\nimport {\r\n\tPaletteActionsContainer,\r\n\tPaletteEditStyles,\r\n\tPaletteHeading,\r\n\tIndicatorStyled,\r\n\tPaletteItem,\r\n\tNameContainer,\r\n\tNameInputControl,\r\n\tDoneButton,\r\n\tRemoveButton,\r\n\tPaletteEditContents,\r\n} from './styles';\r\nimport { NavigableMenu } from '../navigable-container';\r\nimport { DEFAULT_GRADIENT } from '../custom-gradient-picker/constants';\r\nimport CustomGradientPicker from '../custom-gradient-picker';\r\nimport { kebabCase } from '../utils/strings';\r\nimport type {\r\n\tColor,\r\n\tColorPickerPopoverProps,\r\n\tGradient,\r\n\tNameInputProps,\r\n\tOptionProps,\r\n\tPaletteEditListViewProps,\r\n\tPaletteEditProps,\r\n\tPaletteElement,\r\n} from './types';\r\n\r\nconst DEFAULT_COLOR = '#000';\r\n\r\nfunction NameInput( { value, onChange, label }: NameInputProps ) {\r\n\treturn (\r\n\t\t<NameInputControl\r\n\t\t\tlabel={ label }\r\n\t\t\thideLabelFromVision\r\n\t\t\tvalue={ value }\r\n\t\t\tonChange={ onChange }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n/**\r\n * Returns a name and slug for a palette item. The name takes the format \"Color + id\".\r\n * To ensure there are no duplicate ids, this function checks all slugs.\r\n * It expects slugs to be in the format: slugPrefix + color- + number.\r\n * It then sets the id component of the new name based on the incremented id of the highest existing slug id.\r\n *\r\n * @param elements   An array of color palette items.\r\n * @param slugPrefix The slug prefix used to match the element slug.\r\n *\r\n * @return A name and slug for the new palette item.\r\n */\r\nexport function getNameAndSlugForPosition(\r\n\telements: PaletteElement[],\r\n\tslugPrefix: string\r\n) {\r\n\tconst nameRegex = new RegExp( `^${ slugPrefix }color-([\\\\d]+)$` );\r\n\tconst position = elements.reduce( ( previousValue, currentValue ) => {\r\n\t\tif ( typeof currentValue?.slug === 'string' ) {\r\n\t\t\tconst matches = currentValue?.slug.match( nameRegex );\r\n\t\t\tif ( matches ) {\r\n\t\t\t\tconst id = parseInt( matches[ 1 ], 10 );\r\n\t\t\t\tif ( id >= previousValue ) {\r\n\t\t\t\t\treturn id + 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn previousValue;\r\n\t}, 1 );\r\n\r\n\treturn {\r\n\t\tname: sprintf(\r\n\t\t\t/* translators: %s: is an id for a custom color */\r\n\t\t\t__( 'Color %s' ),\r\n\t\t\tposition\r\n\t\t),\r\n\t\tslug: `${ slugPrefix }color-${ position }`,\r\n\t};\r\n}\r\n\r\nfunction ColorPickerPopover< T extends Color | Gradient >( {\r\n\tisGradient,\r\n\telement,\r\n\tonChange,\r\n\tpopoverProps: receivedPopoverProps,\r\n\tonClose = () => {},\r\n}: ColorPickerPopoverProps< T > ) {\r\n\tconst popoverProps: ColorPickerPopoverProps< T >[ 'popoverProps' ] =\r\n\t\tuseMemo(\r\n\t\t\t() => ( {\r\n\t\t\t\tshift: true,\r\n\t\t\t\toffset: 20,\r\n\t\t\t\t// Disabling resize as it would otherwise cause the popover to show\r\n\t\t\t\t// scrollbars while dragging the color picker's handle close to the\r\n\t\t\t\t// popover edge.\r\n\t\t\t\tresize: false,\r\n\t\t\t\tplacement: 'left-start',\r\n\t\t\t\t...receivedPopoverProps,\r\n\t\t\t\tclassName: clsx(\r\n\t\t\t\t\t'components-palette-edit__popover',\r\n\t\t\t\t\treceivedPopoverProps?.className\r\n\t\t\t\t),\r\n\t\t\t} ),\r\n\t\t\t[ receivedPopoverProps ]\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<Popover { ...popoverProps } onClose={ onClose }>\r\n\t\t\t{ ! isGradient && (\r\n\t\t\t\t<ColorPicker\r\n\t\t\t\t\tcolor={ element.color }\r\n\t\t\t\t\tenableAlpha\r\n\t\t\t\t\tonChange={ ( newColor ) => {\r\n\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t...element,\r\n\t\t\t\t\t\t\tcolor: newColor,\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ isGradient && (\r\n\t\t\t\t<div className=\"components-palette-edit__popover-gradient-picker\">\r\n\t\t\t\t\t<CustomGradientPicker\r\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar\r\n\t\t\t\t\t\tvalue={ element.gradient }\r\n\t\t\t\t\t\tonChange={ ( newGradient ) => {\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t...element,\r\n\t\t\t\t\t\t\t\tgradient: newGradient,\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t</Popover>\r\n\t);\r\n}\r\n\r\nfunction Option< T extends Color | Gradient >( {\r\n\tcanOnlyChangeValues,\r\n\telements,\r\n\telement,\r\n\tonChange,\r\n\tonRemove,\r\n\tpopoverProps: receivedPopoverProps,\r\n\tslugPrefix,\r\n\tisGradient,\r\n}: OptionProps< T > ) {\r\n\tconst value = isGradient ? element.gradient : element.color;\r\n\tconst [ isEditingColor, setIsEditingColor ] = useState( false );\r\n\r\n\t// Use internal state instead of a ref to make sure that the component\r\n\t// re-renders when the popover's anchor updates.\r\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\r\n\tconst popoverProps = useMemo(\r\n\t\t() => ( {\r\n\t\t\t...receivedPopoverProps,\r\n\t\t\t// Use the custom palette color item as the popover anchor.\r\n\t\t\tanchor: popoverAnchor,\r\n\t\t} ),\r\n\t\t[ popoverAnchor, receivedPopoverProps ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<PaletteItem ref={ setPopoverAnchor } as=\"div\">\r\n\t\t\t<HStack justify=\"flex-start\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\tsetIsEditingColor( true );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\taria-label={ sprintf(\r\n\t\t\t\t\t\t// translators: %s is a color or gradient name, e.g. \"Red\".\r\n\t\t\t\t\t\t__( 'Edit: %s' ),\r\n\t\t\t\t\t\telement.name.trim().length ? element.name : value\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tstyle={ { padding: 0 } }\r\n\t\t\t\t>\r\n\t\t\t\t\t<IndicatorStyled colorValue={ value } />\r\n\t\t\t\t</Button>\r\n\t\t\t\t<FlexItem>\r\n\t\t\t\t\t{ ! canOnlyChangeValues ? (\r\n\t\t\t\t\t\t<NameInput\r\n\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\tisGradient\r\n\t\t\t\t\t\t\t\t\t? __( 'Gradient name' )\r\n\t\t\t\t\t\t\t\t\t: __( 'Color name' )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={ element.name }\r\n\t\t\t\t\t\t\tonChange={ ( nextName?: string ) => {\r\n\t\t\t\t\t\t\t\t// 生成基础的 slug\r\n\t\t\t\t\t\t\t\tlet baseSlug = slugPrefix + kebabCase(nextName ?? '');\r\n\r\n\t\t\t\t\t\t\t\t// 如果生成的 slug 为空，使用默认值\r\n\t\t\t\t\t\t\t\tif (!baseSlug) {\r\n\t\t\t\t\t\t\t\t\tbaseSlug = slugPrefix + 'custom';\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// 检查现有元素中的 slug 是否重复，并递增\r\n\t\t\t\t\t\t\t\tlet slug = baseSlug;\r\n\t\t\t\t\t\t\t\tlet counter = 1;\r\n\t\t\t\t\t\t\t\twhile (elements.some((el) => el.slug && el.slug === slug)) {\r\n\t\t\t\t\t\t\t\t\tslug = `${baseSlug}-${counter}`;\r\n\t\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// 调用 onChange，并传递生成的唯一 slug 和 name\r\n\t\t\t\t\t\t\t\tonChange({\r\n\t\t\t\t\t\t\t\t\t...element,\r\n\t\t\t\t\t\t\t\t\tname: nextName,\r\n\t\t\t\t\t\t\t\t\tslug: slug,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<NameContainer>\r\n\t\t\t\t\t\t\t{ element.name.trim().length\r\n\t\t\t\t\t\t\t\t? element.name\r\n\t\t\t\t\t\t\t\t: /* Fall back to non-breaking space to maintain height */\r\n\t\t\t\t\t\t\t\t  '\\u00A0' }\r\n\t\t\t\t\t\t</NameContainer>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</FlexItem>\r\n\t\t\t\t{ ! canOnlyChangeValues && (\r\n\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t<RemoveButton\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\ticon={ lineSolid }\r\n\t\t\t\t\t\t\tlabel={ sprintf(\r\n\t\t\t\t\t\t\t\t// translators: %s is a color or gradient name, e.g. \"Red\".\r\n\t\t\t\t\t\t\t\t__( 'Remove color: %s' ),\r\n\t\t\t\t\t\t\t\telement.name.trim().length\r\n\t\t\t\t\t\t\t\t\t? element.name\r\n\t\t\t\t\t\t\t\t\t: value\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tonClick={ onRemove }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FlexItem>\r\n\t\t\t\t) }\r\n\t\t\t</HStack>\r\n\t\t\t{ isEditingColor && (\r\n\t\t\t\t<ColorPickerPopover\r\n\t\t\t\t\tisGradient={ isGradient }\r\n\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t\telement={ element }\r\n\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\tonClose={ () => setIsEditingColor( false ) }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</PaletteItem>\r\n\t);\r\n}\r\n\r\nfunction PaletteEditListView< T extends Color | Gradient >( {\r\n\telements,\r\n\tonChange,\r\n\tcanOnlyChangeValues,\r\n\tslugPrefix,\r\n\tisGradient,\r\n\tpopoverProps,\r\n\taddColorRef,\r\n}: PaletteEditListViewProps< T > ) {\r\n\t// When unmounting the component if there are empty elements (the user did not complete the insertion) clean them.\r\n\tconst elementsReferenceRef = useRef< typeof elements >();\r\n\tuseEffect( () => {\r\n\t\telementsReferenceRef.current = elements;\r\n\t}, [ elements ] );\r\n\r\n\tconst debounceOnChange = useDebounce( onChange, 100 );\r\n\r\n\treturn (\r\n\t\t<VStack spacing={ 3 }>\r\n\t\t\t<ItemGroup isRounded>\r\n\t\t\t\t{ elements.map( ( element, index ) => (\r\n\t\t\t\t\t<Option\r\n\t\t\t\t\t\tisGradient={ isGradient }\r\n\t\t\t\t\t\tcanOnlyChangeValues={ canOnlyChangeValues }\r\n\t\t\t\t\t\tkey={ index }\r\n\t\t\t\t\t\telements = { elements }\r\n\t\t\t\t\t\telement={ element }\r\n\t\t\t\t\t\tonChange={ ( newElement ) => {\r\n\t\t\t\t\t\t\tdebounceOnChange(\r\n\t\t\t\t\t\t\t\telements.map(\r\n\t\t\t\t\t\t\t\t\t( currentElement, currentIndex ) => {\r\n\t\t\t\t\t\t\t\t\t\tif ( currentIndex === index ) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn newElement;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn currentElement;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tonRemove={ () => {\r\n\t\t\t\t\t\t\tconst newElements = elements.filter(\r\n\t\t\t\t\t\t\t\t( _currentElement, currentIndex ) => {\r\n\t\t\t\t\t\t\t\t\tif ( currentIndex === index ) {\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tonChange(\r\n\t\t\t\t\t\t\t\tnewElements.length ? newElements : undefined\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\taddColorRef.current?.focus();\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tslugPrefix={ slugPrefix }\r\n\t\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) ) }\r\n\t\t\t</ItemGroup>\r\n\t\t</VStack>\r\n\t);\r\n}\r\n\r\nconst EMPTY_ARRAY: Color[] = [];\r\n\r\n/**\r\n * Allows editing a palette of colors or gradients.\r\n *\r\n * ```jsx\r\n * import { PaletteEdit } from '@wordpress/components';\r\n * const MyPaletteEdit = () => {\r\n *   const [ controlledColors, setControlledColors ] = useState( colors );\r\n *\r\n *   return (\r\n *     <PaletteEdit\r\n *       colors={ controlledColors }\r\n *       onChange={ ( newColors?: Color[] ) => {\r\n *         setControlledColors( newColors );\r\n *       } }\r\n *       paletteLabel=\"Here is a label\"\r\n *     />\r\n *   );\r\n * };\r\n * ```\r\n */\r\nexport function PaletteEdit( {\r\n\tgradients,\r\n\tcolors = EMPTY_ARRAY,\r\n\tonChange,\r\n\tpaletteLabel,\r\n\tpaletteLabelHeadingLevel = 2,\r\n\temptyMessage,\r\n\tcanOnlyChangeValues,\r\n\tcanReset,\r\n\tslugPrefix = '',\r\n\tpopoverProps,\r\n}: PaletteEditProps ) {\r\n\tconst isGradient = !! gradients;\r\n\tconst elements = isGradient ? gradients : colors;\r\n\tconst [ isEditing, setIsEditing ] = useState( false );\r\n\tconst [ editingElement, setEditingElement ] = useState<\r\n\t\tnumber | null | undefined\r\n\t>( null );\r\n\tconst isAdding =\r\n\t\tisEditing &&\r\n\t\t!! editingElement &&\r\n\t\telements[ editingElement ] &&\r\n\t\t! elements[ editingElement ].slug;\r\n\tconst elementsLength = elements.length;\r\n\tconst hasElements = elementsLength > 0;\r\n\tconst debounceOnChange = useDebounce( onChange, 100 );\r\n\tconst onSelectPaletteItem = useCallback(\r\n\t\t(\r\n\t\t\tvalue?: PaletteElement[ keyof PaletteElement ],\r\n\t\t\tnewEditingElementIndex?: number\r\n\t\t) => {\r\n\t\t\tconst selectedElement =\r\n\t\t\t\tnewEditingElementIndex === undefined\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: elements[ newEditingElementIndex ];\r\n\t\t\tconst key = isGradient ? 'gradient' : 'color';\r\n\t\t\t// Ensures that the index returned matches a known element value.\r\n\t\t\tif ( !! selectedElement && selectedElement[ key ] === value ) {\r\n\t\t\t\tsetEditingElement( newEditingElementIndex );\r\n\t\t\t} else {\r\n\t\t\t\tsetIsEditing( true );\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ isGradient, elements ]\r\n\t);\r\n\r\n\tconst addColorRef = useRef< HTMLButtonElement | null >( null );\r\n\r\n\treturn (\r\n\t\t<PaletteEditStyles>\r\n\t\t\t<HStack>\r\n\t\t\t\t<PaletteHeading level={ paletteLabelHeadingLevel }>\r\n\t\t\t\t\t{ paletteLabel }\r\n\t\t\t\t</PaletteHeading>\r\n\t\t\t\t<PaletteActionsContainer>\r\n\t\t\t\t\t{ hasElements && isEditing && (\r\n\t\t\t\t\t\t<DoneButton\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tsetIsEditing( false );\r\n\t\t\t\t\t\t\t\tsetEditingElement( null );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Done' ) }\r\n\t\t\t\t\t\t</DoneButton>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ ! canOnlyChangeValues && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tref={ addColorRef }\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tisPressed={ isAdding }\r\n\t\t\t\t\t\t\ticon={ plus }\r\n\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\tisGradient\r\n\t\t\t\t\t\t\t\t\t? __( 'Add gradient' )\r\n\t\t\t\t\t\t\t\t\t: __( 'Add color' )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tconst { name, slug } =\r\n\t\t\t\t\t\t\t\t\tgetNameAndSlugForPosition(\r\n\t\t\t\t\t\t\t\t\t\telements,\r\n\t\t\t\t\t\t\t\t\t\tslugPrefix\r\n\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\tif ( !! gradients ) {\r\n\t\t\t\t\t\t\t\t\tonChange( [\r\n\t\t\t\t\t\t\t\t\t\t...gradients,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tgradient: DEFAULT_GRADIENT,\r\n\t\t\t\t\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\t\t\t\t\tslug,\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t] );\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tonChange( [\r\n\t\t\t\t\t\t\t\t\t\t...colors,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: DEFAULT_COLOR,\r\n\t\t\t\t\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\t\t\t\t\tslug,\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsetIsEditing( true );\r\n\t\t\t\t\t\t\t\tsetEditingElement( elements.length );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\r\n\t\t\t\t\t{ hasElements &&\r\n\t\t\t\t\t\t( ! isEditing ||\r\n\t\t\t\t\t\t\t! canOnlyChangeValues ||\r\n\t\t\t\t\t\t\tcanReset ) && (\r\n\t\t\t\t\t\t\t<DropdownMenu\r\n\t\t\t\t\t\t\t\ticon={ moreVertical }\r\n\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\tisGradient\r\n\t\t\t\t\t\t\t\t\t\t? __( 'Gradient options' )\r\n\t\t\t\t\t\t\t\t\t\t: __( 'Color options' )\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttoggleProps={ {\r\n\t\t\t\t\t\t\t\t\tsize: 'small',\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ ( { onClose }: { onClose: () => void } ) => (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<NavigableMenu role=\"menu\">\r\n\t\t\t\t\t\t\t\t\t\t\t{ ! isEditing && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsEditing( true );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"components-palette-edit__menu-button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Show details' ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\t\t{ ! canOnlyChangeValues && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEditingElement(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsEditing( false );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"components-palette-edit__menu-button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ isGradient\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? __(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Remove all gradients'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: __(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Remove all colors'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\t\t{ canReset && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEditingElement(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ isGradient\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? __( 'Reset gradient' )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: __( 'Reset colors' ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\t</NavigableMenu>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t</PaletteActionsContainer>\r\n\t\t\t</HStack>\r\n\t\t\t{ hasElements && (\r\n\t\t\t\t<PaletteEditContents>\r\n\t\t\t\t\t{ isEditing && (\r\n\t\t\t\t\t\t<PaletteEditListView< ( typeof elements )[ number ] >\r\n\t\t\t\t\t\t\tcanOnlyChangeValues={ canOnlyChangeValues }\r\n\t\t\t\t\t\t\telements={ elements }\r\n\t\t\t\t\t\t\t// @ts-expect-error TODO: Don't know how to resolve\r\n\t\t\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t\t\t\tslugPrefix={ slugPrefix }\r\n\t\t\t\t\t\t\tisGradient={ isGradient }\r\n\t\t\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\t\t\taddColorRef={ addColorRef }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ ! isEditing && editingElement !== null && (\r\n\t\t\t\t\t\t<ColorPickerPopover\r\n\t\t\t\t\t\t\tisGradient={ isGradient }\r\n\t\t\t\t\t\t\tonClose={ () => setEditingElement( null ) }\r\n\t\t\t\t\t\t\tonChange={ (\r\n\t\t\t\t\t\t\t\tnewElement: ( typeof elements )[ number ]\r\n\t\t\t\t\t\t\t) => {\r\n\t\t\t\t\t\t\t\tdebounceOnChange(\r\n\t\t\t\t\t\t\t\t\t// @ts-expect-error TODO: Don't know how to resolve\r\n\t\t\t\t\t\t\t\t\telements.map(\r\n\t\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentElement: ( typeof elements )[ number ],\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentIndex: number\r\n\t\t\t\t\t\t\t\t\t\t) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentIndex === editingElement\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn newElement;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn currentElement;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\telement={ elements[ editingElement ?? -1 ] }\r\n\t\t\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ ! isEditing &&\r\n\t\t\t\t\t\t( isGradient ? (\r\n\t\t\t\t\t\t\t<GradientPicker\r\n\t\t\t\t\t\t\t\tgradients={ gradients }\r\n\t\t\t\t\t\t\t\tonChange={ onSelectPaletteItem }\r\n\t\t\t\t\t\t\t\tclearable={ false }\r\n\t\t\t\t\t\t\t\tdisableCustomGradients\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<ColorPalette\r\n\t\t\t\t\t\t\t\tcolors={ colors }\r\n\t\t\t\t\t\t\t\tonChange={ onSelectPaletteItem }\r\n\t\t\t\t\t\t\t\tclearable={ false }\r\n\t\t\t\t\t\t\t\tdisableCustomColors\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) ) }\r\n\t\t\t\t</PaletteEditContents>\r\n\t\t\t) }\r\n\t\t\t{ ! hasElements && emptyMessage && (\r\n\t\t\t\t<PaletteEditContents>{ emptyMessage }</PaletteEditContents>\r\n\t\t\t) }\r\n\t\t</PaletteEditStyles>\r\n\t);\r\n}\r\n\r\nexport default PaletteEdit;\r\n"],"mappings":"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","ignoreList":[]}