{"version":3,"names":["__","_x","AuthorSelect","CategorySelect","FormTokenField","RangeControl","SelectControl","VStack","jsx","_jsx","DEFAULT_MIN_ITEMS","DEFAULT_MAX_ITEMS","MAX_CATEGORIES_SUGGESTIONS","isSingleCategorySelection","props","isMultipleCategorySelection","QueryControls","authorList","selectedAuthorId","numberOfItems","order","orderBy","maxItems","minItems","onAuthorChange","onNumberOfItemsChange","onOrderChange","onOrderByChange","spacing","className","children","__nextHasNoMarginBottom","__next40pxDefaultSize","label","value","undefined","options","onChange","newOrderBy","newOrder","split","categoriesList","onCategoryChange","noOptionLabel","selectedCategoryId","categorySuggestions","selectedCategories","map","item","id","name","suggestions","Object","keys","maxSuggestions","min","max","required"],"sources":["@wordpress/components/src/query-controls/index.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport AuthorSelect from './author-select';\r\nimport CategorySelect from './category-select';\r\nimport FormTokenField from '../form-token-field';\r\nimport RangeControl from '../range-control';\r\nimport SelectControl from '../select-control';\r\nimport { VStack } from '../v-stack';\r\nimport type {\r\n\tQueryControlsProps,\r\n\tQueryControlsWithMultipleCategorySelectionProps,\r\n\tQueryControlsWithSingleCategorySelectionProps,\r\n} from './types';\r\n\r\nconst DEFAULT_MIN_ITEMS = 1;\r\nconst DEFAULT_MAX_ITEMS = 100;\r\nconst MAX_CATEGORIES_SUGGESTIONS = 20;\r\n\r\nfunction isSingleCategorySelection(\r\n\tprops: QueryControlsProps\r\n): props is QueryControlsWithSingleCategorySelectionProps {\r\n\treturn 'categoriesList' in props;\r\n}\r\n\r\nfunction isMultipleCategorySelection(\r\n\tprops: QueryControlsProps\r\n): props is QueryControlsWithMultipleCategorySelectionProps {\r\n\treturn 'categorySuggestions' in props;\r\n}\r\n\r\n/**\r\n * Controls to query for posts.\r\n *\r\n * ```jsx\r\n * const MyQueryControls = () => (\r\n *   <QueryControls\r\n *     { ...{ maxItems, minItems, numberOfItems, order, orderBy } }\r\n *     onOrderByChange={ ( newOrderBy ) => {\r\n *       updateQuery( { orderBy: newOrderBy } )\r\n *     }\r\n *     onOrderChange={ ( newOrder ) => {\r\n *       updateQuery( { order: newOrder } )\r\n *     }\r\n *     categoriesList={ categories }\r\n *     selectedCategoryId={ category }\r\n *     onCategoryChange={ ( newCategory ) => {\r\n *       updateQuery( { category: newCategory } )\r\n *     }\r\n *     onNumberOfItemsChange={ ( newNumberOfItems ) => {\r\n *       updateQuery( { numberOfItems: newNumberOfItems } )\r\n *     } }\r\n *   />\r\n * );\r\n * ```\r\n */\r\nexport function QueryControls( {\r\n\tauthorList,\r\n\tselectedAuthorId,\r\n\tnumberOfItems,\r\n\torder,\r\n\torderBy,\r\n\tmaxItems = DEFAULT_MAX_ITEMS,\r\n\tminItems = DEFAULT_MIN_ITEMS,\r\n\tonAuthorChange,\r\n\tonNumberOfItemsChange,\r\n\tonOrderChange,\r\n\tonOrderByChange,\r\n\t// Props for single OR multiple category selection are not destructured here,\r\n\t// but instead are destructured inline where necessary.\r\n\t...props\r\n}: QueryControlsProps ) {\r\n\treturn (\r\n\t\t<VStack spacing=\"4\" className=\"components-query-controls\">\r\n\t\t\t{ [\r\n\t\t\t\tonOrderChange && onOrderByChange && (\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tkey=\"query-controls-order-select\"\r\n\t\t\t\t\t\tlabel={ __( 'Order by' ) }\r\n\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\torderBy === undefined || order === undefined\r\n\t\t\t\t\t\t\t\t? undefined\r\n\t\t\t\t\t\t\t\t: `${ orderBy }/${ order }`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toptions={ [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: __( 'Newest to oldest' ),\r\n\t\t\t\t\t\t\t\tvalue: 'date/desc',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: __( 'Oldest to newest' ),\r\n\t\t\t\t\t\t\t\tvalue: 'date/asc',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t/* translators: Label for ordering posts by title in ascending order. */\r\n\t\t\t\t\t\t\t\tlabel: __( 'A → Z' ),\r\n\t\t\t\t\t\t\t\tvalue: 'title/asc',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t/* translators: Label for ordering posts by title in descending order. */\r\n\t\t\t\t\t\t\t\tlabel: __( 'Z → A' ),\r\n\t\t\t\t\t\t\t\tvalue: 'title/desc',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t] }\r\n\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\tif ( typeof value !== 'string' ) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst [ newOrderBy, newOrder ] = value.split( '/' );\r\n\t\t\t\t\t\t\tif ( newOrder !== order ) {\r\n\t\t\t\t\t\t\t\tonOrderChange(\r\n\t\t\t\t\t\t\t\t\tnewOrder as NonNullable<\r\n\t\t\t\t\t\t\t\t\t\tQueryControlsProps[ 'order' ]\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( newOrderBy !== orderBy ) {\r\n\t\t\t\t\t\t\t\tonOrderByChange(\r\n\t\t\t\t\t\t\t\t\tnewOrderBy as NonNullable<\r\n\t\t\t\t\t\t\t\t\t\tQueryControlsProps[ 'orderBy' ]\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t\tisSingleCategorySelection( props ) &&\r\n\t\t\t\t\tprops.categoriesList &&\r\n\t\t\t\t\tprops.onCategoryChange && (\r\n\t\t\t\t\t\t<CategorySelect\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tkey=\"query-controls-category-select\"\r\n\t\t\t\t\t\t\tcategoriesList={ props.categoriesList }\r\n\t\t\t\t\t\t\tlabel={ __( 'Category' ) }\r\n\t\t\t\t\t\t\tnoOptionLabel={ _x( 'All', 'categories' ) }\r\n\t\t\t\t\t\t\tselectedCategoryId={ props.selectedCategoryId }\r\n\t\t\t\t\t\t\tonChange={ props.onCategoryChange }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t),\r\n\t\t\t\tisMultipleCategorySelection( props ) &&\r\n\t\t\t\t\tprops.categorySuggestions &&\r\n\t\t\t\t\tprops.onCategoryChange && (\r\n\t\t\t\t\t\t<FormTokenField\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tkey=\"query-controls-categories-select\"\r\n\t\t\t\t\t\t\tlabel={ __( 'Categories' ) }\r\n\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\tprops.selectedCategories &&\r\n\t\t\t\t\t\t\t\tprops.selectedCategories.map( ( item ) => ( {\r\n\t\t\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\t\t\t// Keeping the fallback to `item.value` for legacy reasons,\r\n\t\t\t\t\t\t\t\t\t// even if items of `selectedCategories` should not have a\r\n\t\t\t\t\t\t\t\t\t// `value` property.\r\n\t\t\t\t\t\t\t\t\t// @ts-expect-error\r\n\t\t\t\t\t\t\t\t\tvalue: item.name || item.value,\r\n\t\t\t\t\t\t\t\t} ) )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsuggestions={ Object.keys(\r\n\t\t\t\t\t\t\t\tprops.categorySuggestions\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tonChange={ props.onCategoryChange }\r\n\t\t\t\t\t\t\tmaxSuggestions={ MAX_CATEGORIES_SUGGESTIONS }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t),\r\n\t\t\t\tonAuthorChange && (\r\n\t\t\t\t\t<AuthorSelect\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tkey=\"query-controls-author-select\"\r\n\t\t\t\t\t\tauthorList={ authorList }\r\n\t\t\t\t\t\tlabel={ __( 'Author' ) }\r\n\t\t\t\t\t\tnoOptionLabel={ _x( 'All', 'authors' ) }\r\n\t\t\t\t\t\tselectedAuthorId={ selectedAuthorId }\r\n\t\t\t\t\t\tonChange={ onAuthorChange }\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t\tonNumberOfItemsChange && (\r\n\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tkey=\"query-controls-range-control\"\r\n\t\t\t\t\t\tlabel={ __( 'Number of items' ) }\r\n\t\t\t\t\t\tvalue={ numberOfItems }\r\n\t\t\t\t\t\tonChange={ onNumberOfItemsChange }\r\n\t\t\t\t\t\tmin={ minItems }\r\n\t\t\t\t\t\tmax={ maxItems }\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t] }\r\n\t\t</VStack>\r\n\t);\r\n}\r\n\r\nexport default QueryControls;\r\n"],"mappings":"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","ignoreList":[]}