{"version":3,"names":["isRTL","RangeMark","MarksWrapper","Rail","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","createElement","_createElement","RangeRail","props","disabled","marks","min","max","step","value","restProps","children","Marks","stepProp","marksData","useMarks","className","map","mark","key","range","Array","isArray","count","Math","round","push","length","placedMarks","forEach","index","isFilled","offset","offsetStyle","style"],"sources":["@wordpress/components/src/range-control/rail.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { isRTL } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport RangeMark from './mark';\r\nimport { MarksWrapper, Rail } from './styles/range-control-styles';\r\n\r\nimport type { WordPressComponentProps } from '../context';\r\nimport type {\r\n\tMarksProps,\r\n\tRangeMarkProps,\r\n\tRailProps,\r\n\tUseMarksArgs,\r\n} from './types';\r\n\r\nexport default function RangeRail(\r\n\tprops: WordPressComponentProps< RailProps, 'span' >\r\n) {\r\n\tconst {\r\n\t\tdisabled = false,\r\n\t\tmarks = false,\r\n\t\tmin = 0,\r\n\t\tmax = 100,\r\n\t\tstep = 1,\r\n\t\tvalue = 0,\r\n\t\t...restProps\r\n\t} = props;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Rail disabled={ disabled } { ...restProps } />\r\n\t\t\t{ marks && (\r\n\t\t\t\t<Marks\r\n\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\tmarks={ marks }\r\n\t\t\t\t\tmin={ min }\r\n\t\t\t\t\tmax={ max }\r\n\t\t\t\t\tstep={ step }\r\n\t\t\t\t\tvalue={ value }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction Marks( props: WordPressComponentProps< MarksProps, 'span' > ) {\r\n\tconst {\r\n\t\tdisabled = false,\r\n\t\tmarks = false,\r\n\t\tmin = 0,\r\n\t\tmax = 100,\r\n\t\tstep: stepProp = 1,\r\n\t\tvalue = 0,\r\n\t} = props;\r\n\r\n\tconst step = stepProp === 'any' ? 1 : stepProp;\r\n\tconst marksData = useMarks( { marks, min, max, step, value } );\r\n\r\n\treturn (\r\n\t\t<MarksWrapper\r\n\t\t\taria-hidden=\"true\"\r\n\t\t\tclassName=\"components-range-control__marks\"\r\n\t\t>\r\n\t\t\t{ marksData.map( ( mark ) => (\r\n\t\t\t\t<RangeMark\r\n\t\t\t\t\t{ ...mark }\r\n\t\t\t\t\tkey={ mark.key }\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t/>\r\n\t\t\t) ) }\r\n\t\t</MarksWrapper>\r\n\t);\r\n}\r\n\r\nfunction useMarks( {\r\n\tmarks,\r\n\tmin = 0,\r\n\tmax = 100,\r\n\tstep = 1,\r\n\tvalue = 0,\r\n}: UseMarksArgs ) {\r\n\tif ( ! marks ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tconst range = max - min;\r\n\tif ( ! Array.isArray( marks ) ) {\r\n\t\tmarks = [];\r\n\t\tconst count = 1 + Math.round( range / step );\r\n\t\twhile ( count > marks.push( { value: step * marks.length + min } ) ) {}\r\n\t}\r\n\r\n\tconst placedMarks: RangeMarkProps[] = [];\r\n\tmarks.forEach( ( mark, index ) => {\r\n\t\tif ( mark.value < min || mark.value > max ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst key = `mark-${ index }`;\r\n\t\tconst isFilled = mark.value <= value;\r\n\t\tconst offset = `${ ( ( mark.value - min ) / range ) * 100 }%`;\r\n\r\n\t\tconst offsetStyle = {\r\n\t\t\t[ isRTL() ? 'right' : 'left' ]: offset,\r\n\t\t};\r\n\r\n\t\tplacedMarks.push( {\r\n\t\t\t...mark,\r\n\t\t\tisFilled,\r\n\t\t\tkey,\r\n\t\t\tstyle: offsetStyle,\r\n\t\t} );\r\n\t} );\r\n\r\n\treturn placedMarks;\r\n}\r\n"],"mappings":"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","ignoreList":[]}