{"version":3,"names":["clsx","useInstanceId","forwardRef","BaseControl","Select","StyledInputBase","SelectControlChevronDown","useDeprecated36pxDefaultSizeProp","jsx","_jsx","useUniqueId","idProp","instanceId","SelectControl","id","SelectOptions","options","map","label","value","optionProps","index","key","children","UnforwardedSelectControl","props","ref","className","disabled","help","hideLabelFromVision","multiple","onChange","size","valueProp","labelPosition","prefix","suffix","variant","__next40pxDefaultSize","__nextHasNoMarginBottom","restProps","helpId","undefined","length","handleOnChange","event","selectedOptions","Array","from","target","filter","selected","newValues","classes","__associatedWPComponentName","isBorderless","__unstableInputWidth","selectSize"],"sources":["@wordpress/components/src/select-control/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { forwardRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BaseControl from '../base-control';\r\nimport { Select, StyledInputBase } from './styles/select-control-styles';\r\nimport type { WordPressComponentProps } from '../context';\r\nimport type { SelectControlProps } from './types';\r\nimport SelectControlChevronDown from './chevron-down';\r\nimport { useDeprecated36pxDefaultSizeProp } from '../utils/use-deprecated-props';\r\n\r\nfunction useUniqueId( idProp?: string ) {\r\n\tconst instanceId = useInstanceId( SelectControl );\r\n\tconst id = `inspector-select-control-${ instanceId }`;\r\n\r\n\treturn idProp || id;\r\n}\r\n\r\nfunction SelectOptions( {\r\n\toptions,\r\n}: {\r\n\toptions: NonNullable< SelectControlProps[ 'options' ] >;\r\n} ) {\r\n\treturn options.map( ( { id, label, value, ...optionProps }, index ) => {\r\n\t\tconst key = id || `${ label }-${ value }-${ index }`;\r\n\r\n\t\treturn (\r\n\t\t\t<option key={ key } value={ value } { ...optionProps }>\r\n\t\t\t\t{ label }\r\n\t\t\t</option>\r\n\t\t);\r\n\t} );\r\n}\r\n\r\nfunction UnforwardedSelectControl< V extends string >(\r\n\tprops: WordPressComponentProps< SelectControlProps< V >, 'select', false >,\r\n\tref: React.ForwardedRef< HTMLSelectElement >\r\n) {\r\n\tconst {\r\n\t\tclassName,\r\n\t\tdisabled = false,\r\n\t\thelp,\r\n\t\thideLabelFromVision,\r\n\t\tid: idProp,\r\n\t\tlabel,\r\n\t\tmultiple = false,\r\n\t\tonChange,\r\n\t\toptions = [],\r\n\t\tsize = 'default',\r\n\t\tvalue: valueProp,\r\n\t\tlabelPosition = 'top',\r\n\t\tchildren,\r\n\t\tprefix,\r\n\t\tsuffix,\r\n\t\tvariant = 'default',\r\n\t\t__next40pxDefaultSize = false,\r\n\t\t__nextHasNoMarginBottom = false,\r\n\t\t...restProps\r\n\t} = useDeprecated36pxDefaultSizeProp( props );\r\n\tconst id = useUniqueId( idProp );\r\n\tconst helpId = help ? `${ id }__help` : undefined;\r\n\r\n\t// Disable reason: A select with an onchange throws a warning.\r\n\tif ( ! options?.length && ! children ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst handleOnChange = (\r\n\t\tevent: React.ChangeEvent< HTMLSelectElement >\r\n\t) => {\r\n\t\tif ( props.multiple ) {\r\n\t\t\tconst selectedOptions = Array.from( event.target.options ).filter(\r\n\t\t\t\t( { selected } ) => selected\r\n\t\t\t);\r\n\t\t\tconst newValues = selectedOptions.map(\r\n\t\t\t\t( { value } ) => value as V\r\n\t\t\t);\r\n\t\t\tprops.onChange?.( newValues, { event } );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tprops.onChange?.( event.target.value as V, { event } );\r\n\t};\r\n\r\n\tconst classes = clsx( 'components-select-control', className );\r\n\r\n\treturn (\r\n\t\t<BaseControl\r\n\t\t\thelp={ help }\r\n\t\t\tid={ id }\r\n\t\t\t__nextHasNoMarginBottom={ __nextHasNoMarginBottom }\r\n\t\t\t__associatedWPComponentName=\"SelectControl\"\r\n\t\t>\r\n\t\t\t<StyledInputBase\r\n\t\t\t\tclassName={ classes }\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\r\n\t\t\t\tid={ id }\r\n\t\t\t\tisBorderless={ variant === 'minimal' }\r\n\t\t\t\tlabel={ label }\r\n\t\t\t\tsize={ size }\r\n\t\t\t\tsuffix={\r\n\t\t\t\t\tsuffix || ( ! multiple && <SelectControlChevronDown /> )\r\n\t\t\t\t}\r\n\t\t\t\tprefix={ prefix }\r\n\t\t\t\tlabelPosition={ labelPosition }\r\n\t\t\t\t__unstableInputWidth={\r\n\t\t\t\t\tvariant === 'minimal' ? 'auto' : undefined\r\n\t\t\t\t}\r\n\t\t\t\tvariant={ variant }\r\n\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\r\n\t\t\t>\r\n\t\t\t\t<Select\r\n\t\t\t\t\t{ ...restProps }\r\n\t\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\r\n\t\t\t\t\taria-describedby={ helpId }\r\n\t\t\t\t\tclassName=\"components-select-control__input\"\r\n\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\tid={ id }\r\n\t\t\t\t\tmultiple={ multiple }\r\n\t\t\t\t\tonChange={ handleOnChange }\r\n\t\t\t\t\tref={ ref }\r\n\t\t\t\t\tselectSize={ size }\r\n\t\t\t\t\tvalue={ valueProp }\r\n\t\t\t\t\tvariant={ variant }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ children || <SelectOptions options={ options } /> }\r\n\t\t\t\t</Select>\r\n\t\t\t</StyledInputBase>\r\n\t\t</BaseControl>\r\n\t);\r\n}\r\n\r\n/**\r\n * `SelectControl` allows users to select from a single or multiple option menu.\r\n * It functions as a wrapper around the browser's native `<select>` element.\r\n *\r\n * ```jsx\r\n * import { SelectControl } from '@wordpress/components';\r\n * import { useState } from '@wordpress/element';\r\n *\r\n * const MySelectControl = () => {\r\n *   const [ size, setSize ] = useState( '50%' );\r\n *\r\n *   return (\r\n *     <SelectControl\r\n *       __nextHasNoMarginBottom\r\n *       label=\"Size\"\r\n *       value={ size }\r\n *       options={ [\r\n *         { label: 'Big', value: '100%' },\r\n *         { label: 'Medium', value: '50%' },\r\n *         { label: 'Small', value: '25%' },\r\n *       ] }\r\n *       onChange={ setSize }\r\n *     />\r\n *   );\r\n * };\r\n * ```\r\n */\r\nexport const SelectControl = forwardRef( UnforwardedSelectControl ) as <\r\n\tV extends string,\r\n>(\r\n\tprops: WordPressComponentProps<\r\n\t\tSelectControlProps< V >,\r\n\t\t'select',\r\n\t\tfalse\r\n\t> & { ref?: React.Ref< HTMLSelectElement > }\r\n) => React.JSX.Element | null;\r\n\r\nexport default SelectControl;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,UAAU,QAAQ,oBAAoB;;AAE/C;AACA;AACA;AACA,OAAOC,WAAW,MAAM,iBAAiB;AACzC,SAASC,MAAM,EAAEC,eAAe,QAAQ,gCAAgC;AAGxE,OAAOC,wBAAwB,MAAM,gBAAgB;AACrD,SAASC,gCAAgC,QAAQ,+BAA+B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEjF,SAASC,WAAWA,CAAEC,MAAe,EAAG;EACvC,MAAMC,UAAU,GAAGX,aAAa,CAAEY,aAAc,CAAC;EACjD,MAAMC,EAAE,GAAI,4BAA4BF,UAAY,EAAC;EAErD,OAAOD,MAAM,IAAIG,EAAE;AACpB;AAEA,SAASC,aAAaA,CAAE;EACvBC;AAGD,CAAC,EAAG;EACH,OAAOA,OAAO,CAACC,GAAG,CAAE,CAAE;IAAEH,EAAE;IAAEI,KAAK;IAAEC,KAAK;IAAE,GAAGC;EAAY,CAAC,EAAEC,KAAK,KAAM;IACtE,MAAMC,GAAG,GAAGR,EAAE,IAAK,GAAGI,KAAO,IAAIC,KAAO,IAAIE,KAAO,EAAC;IAEpD,oBACCZ,IAAA;MAAoBU,KAAK,EAAGA,KAAO;MAAA,GAAMC,WAAW;MAAAG,QAAA,EACjDL;IAAK,GADMI,GAEN,CAAC;EAEX,CAAE,CAAC;AACJ;AAEA,SAASE,wBAAwBA,CAChCC,KAA0E,EAC1EC,GAA4C,EAC3C;EACD,MAAM;IACLC,SAAS;IACTC,QAAQ,GAAG,KAAK;IAChBC,IAAI;IACJC,mBAAmB;IACnBhB,EAAE,EAAEH,MAAM;IACVO,KAAK;IACLa,QAAQ,GAAG,KAAK;IAChBC,QAAQ;IACRhB,OAAO,GAAG,EAAE;IACZiB,IAAI,GAAG,SAAS;IAChBd,KAAK,EAAEe,SAAS;IAChBC,aAAa,GAAG,KAAK;IACrBZ,QAAQ;IACRa,MAAM;IACNC,MAAM;IACNC,OAAO,GAAG,SAAS;IACnBC,qBAAqB,GAAG,KAAK;IAC7BC,uBAAuB,GAAG,KAAK;IAC/B,GAAGC;EACJ,CAAC,GAAGlC,gCAAgC,CAAEkB,KAAM,CAAC;EAC7C,MAAMX,EAAE,GAAGJ,WAAW,CAAEC,MAAO,CAAC;EAChC,MAAM+B,MAAM,GAAGb,IAAI,GAAI,GAAGf,EAAI,QAAO,GAAG6B,SAAS;;EAEjD;EACA,IAAK,CAAE3B,OAAO,EAAE4B,MAAM,IAAI,CAAErB,QAAQ,EAAG;IACtC,OAAO,IAAI;EACZ;EAEA,MAAMsB,cAAc,GACnBC,KAA6C,IACzC;IACJ,IAAKrB,KAAK,CAACM,QAAQ,EAAG;MACrB,MAAMgB,eAAe,GAAGC,KAAK,CAACC,IAAI,CAAEH,KAAK,CAACI,MAAM,CAAClC,OAAQ,CAAC,CAACmC,MAAM,CAChE,CAAE;QAAEC;MAAS,CAAC,KAAMA,QACrB,CAAC;MACD,MAAMC,SAAS,GAAGN,eAAe,CAAC9B,GAAG,CACpC,CAAE;QAAEE;MAAM,CAAC,KAAMA,KAClB,CAAC;MACDM,KAAK,CAACO,QAAQ,GAAIqB,SAAS,EAAE;QAAEP;MAAM,CAAE,CAAC;MACxC;IACD;IAEArB,KAAK,CAACO,QAAQ,GAAIc,KAAK,CAACI,MAAM,CAAC/B,KAAK,EAAO;MAAE2B;IAAM,CAAE,CAAC;EACvD,CAAC;EAED,MAAMQ,OAAO,GAAGtD,IAAI,CAAE,2BAA2B,EAAE2B,SAAU,CAAC;EAE9D,oBACClB,IAAA,CAACN,WAAW;IACX0B,IAAI,EAAGA,IAAM;IACbf,EAAE,EAAGA,EAAI;IACT0B,uBAAuB,EAAGA,uBAAyB;IACnDe,2BAA2B,EAAC,eAAe;IAAAhC,QAAA,eAE3Cd,IAAA,CAACJ,eAAe;MACfsB,SAAS,EAAG2B,OAAS;MACrB1B,QAAQ,EAAGA,QAAU;MACrBE,mBAAmB,EAAGA,mBAAqB;MAC3ChB,EAAE,EAAGA,EAAI;MACT0C,YAAY,EAAGlB,OAAO,KAAK,SAAW;MACtCpB,KAAK,EAAGA,KAAO;MACfe,IAAI,EAAGA,IAAM;MACbI,MAAM,EACLA,MAAM,IAAM,CAAEN,QAAQ,iBAAItB,IAAA,CAACH,wBAAwB,IAAE,CACrD;MACD8B,MAAM,EAAGA,MAAQ;MACjBD,aAAa,EAAGA,aAAe;MAC/BsB,oBAAoB,EACnBnB,OAAO,KAAK,SAAS,GAAG,MAAM,GAAGK,SACjC;MACDL,OAAO,EAAGA,OAAS;MACnBC,qBAAqB,EAAGA,qBAAuB;MAAAhB,QAAA,eAE/Cd,IAAA,CAACL,MAAM;QAAA,GACDqC,SAAS;QACdF,qBAAqB,EAAGA,qBAAuB;QAC/C,oBAAmBG,MAAQ;QAC3Bf,SAAS,EAAC,kCAAkC;QAC5CC,QAAQ,EAAGA,QAAU;QACrBd,EAAE,EAAGA,EAAI;QACTiB,QAAQ,EAAGA,QAAU;QACrBC,QAAQ,EAAGa,cAAgB;QAC3BnB,GAAG,EAAGA,GAAK;QACXgC,UAAU,EAAGzB,IAAM;QACnBd,KAAK,EAAGe,SAAW;QACnBI,OAAO,EAAGA,OAAS;QAAAf,QAAA,EAEjBA,QAAQ,iBAAId,IAAA,CAACM,aAAa;UAACC,OAAO,EAAGA;QAAS,CAAE;MAAC,CAC5C;IAAC,CACO;EAAC,CACN,CAAC;AAEhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMH,aAAa,GAAGX,UAAU,CAAEsB,wBAAyB,CAQrC;AAE7B,eAAeX,aAAa","ignoreList":[]}