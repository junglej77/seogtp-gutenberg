{"version":3,"names":["useContext","useLayoutEffect","useRef","SlotFillContext","useSlot","Fill","name","children","registerFill","unregisterFill","slot","ref","refValue","current","forceUpdate"],"sources":["@wordpress/components/src/slot-fill/fill.ts"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useContext, useLayoutEffect, useRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport SlotFillContext from './context';\r\nimport useSlot from './use-slot';\r\nimport type { FillComponentProps } from './types';\r\n\r\nexport default function Fill( { name, children }: FillComponentProps ) {\r\n\tconst { registerFill, unregisterFill } = useContext( SlotFillContext );\r\n\tconst slot = useSlot( name );\r\n\r\n\tconst ref = useRef( {\r\n\t\tname,\r\n\t\tchildren,\r\n\t} );\r\n\r\n\tuseLayoutEffect( () => {\r\n\t\tconst refValue = ref.current;\r\n\t\tregisterFill( name, refValue );\r\n\t\treturn () => unregisterFill( name, refValue );\r\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\r\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [] );\r\n\r\n\tuseLayoutEffect( () => {\r\n\t\tref.current.children = children;\r\n\t\tif ( slot ) {\r\n\t\t\tslot.forceUpdate();\r\n\t\t}\r\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\r\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ children ] );\r\n\r\n\tuseLayoutEffect( () => {\r\n\t\tif ( name === ref.current.name ) {\r\n\t\t\t// Ignore initial effect.\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tunregisterFill( ref.current.name, ref.current );\r\n\t\tref.current.name = name;\r\n\t\tregisterFill( name, ref.current );\r\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\r\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ name ] );\r\n\r\n\treturn null;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,UAAU,EAAEC,eAAe,EAAEC,MAAM,QAAQ,oBAAoB;;AAExE;AACA;AACA;AACA,OAAOC,eAAe,MAAM,WAAW;AACvC,OAAOC,OAAO,MAAM,YAAY;AAGhC,eAAe,SAASC,IAAIA,CAAE;EAAEC,IAAI;EAAEC;AAA6B,CAAC,EAAG;EACtE,MAAM;IAAEC,YAAY;IAAEC;EAAe,CAAC,GAAGT,UAAU,CAAEG,eAAgB,CAAC;EACtE,MAAMO,IAAI,GAAGN,OAAO,CAAEE,IAAK,CAAC;EAE5B,MAAMK,GAAG,GAAGT,MAAM,CAAE;IACnBI,IAAI;IACJC;EACD,CAAE,CAAC;EAEHN,eAAe,CAAE,MAAM;IACtB,MAAMW,QAAQ,GAAGD,GAAG,CAACE,OAAO;IAC5BL,YAAY,CAAEF,IAAI,EAAEM,QAAS,CAAC;IAC9B,OAAO,MAAMH,cAAc,CAAEH,IAAI,EAAEM,QAAS,CAAC;IAC7C;IACA;IACA;EACD,CAAC,EAAE,EAAG,CAAC;EAEPX,eAAe,CAAE,MAAM;IACtBU,GAAG,CAACE,OAAO,CAACN,QAAQ,GAAGA,QAAQ;IAC/B,IAAKG,IAAI,EAAG;MACXA,IAAI,CAACI,WAAW,CAAC,CAAC;IACnB;IACA;IACA;IACA;EACD,CAAC,EAAE,CAAEP,QAAQ,CAAG,CAAC;EAEjBN,eAAe,CAAE,MAAM;IACtB,IAAKK,IAAI,KAAKK,GAAG,CAACE,OAAO,CAACP,IAAI,EAAG;MAChC;MACA;IACD;IACAG,cAAc,CAAEE,GAAG,CAACE,OAAO,CAACP,IAAI,EAAEK,GAAG,CAACE,OAAQ,CAAC;IAC/CF,GAAG,CAACE,OAAO,CAACP,IAAI,GAAGA,IAAI;IACvBE,YAAY,CAAEF,IAAI,EAAEK,GAAG,CAACE,OAAQ,CAAC;IACjC;IACA;IACA;EACD,CAAC,EAAE,CAAEP,IAAI,CAAG,CAAC;EAEb,OAAO,IAAI;AACZ","ignoreList":[]}