{"version":3,"names":["Ariakit","useStoreState","warning","forwardRef","useState","useTabsContext","TabListWrapper","clsx","useTrackElementOffsetRect","useOnValueUpdate","jsx","_jsx","TabList","children","otherProps","ref","context","tabStoreState","store","selectedId","indicatorPosition","item","element","animationEnabled","setAnimationEnabled","previousValue","globalThis","SCRIPT_DEBUG","activeId","selectOnMove","setActiveId","onBlur","render","onTransitionEnd","event","pseudoElement","style","left","top","width","height","className"],"sources":["@wordpress/components/src/tabs/tablist.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport * as Ariakit from '@ariakit/react';\r\nimport { useStoreState } from '@ariakit/react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport warning from '@wordpress/warning';\r\nimport { forwardRef, useState } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { TabListProps } from './types';\r\nimport { useTabsContext } from './context';\r\nimport { TabListWrapper } from './styles';\r\nimport type { WordPressComponentProps } from '../context';\r\nimport clsx from 'clsx';\r\nimport { useTrackElementOffsetRect } from '../utils/element-rect';\r\nimport { useOnValueUpdate } from '../utils/hooks/use-on-value-update';\r\n\r\nexport const TabList = forwardRef<\r\n\tHTMLDivElement,\r\n\tWordPressComponentProps< TabListProps, 'div', false >\r\n>( function TabList( { children, ...otherProps }, ref ) {\r\n\tconst context = useTabsContext();\r\n\r\n\tconst tabStoreState = useStoreState( context?.store );\r\n\tconst selectedId = tabStoreState?.selectedId;\r\n\tconst indicatorPosition = useTrackElementOffsetRect(\r\n\t\tcontext?.store.item( selectedId )?.element\r\n\t);\r\n\r\n\tconst [ animationEnabled, setAnimationEnabled ] = useState( false );\r\n\tuseOnValueUpdate(\r\n\t\tselectedId,\r\n\t\t( { previousValue } ) => previousValue && setAnimationEnabled( true )\r\n\t);\r\n\r\n\tif ( ! context || ! tabStoreState ) {\r\n\t\twarning( '`Tabs.TabList` must be wrapped in a `Tabs` component.' );\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst { store } = context;\r\n\tconst { activeId, selectOnMove } = tabStoreState;\r\n\tconst { setActiveId } = store;\r\n\r\n\tconst onBlur = () => {\r\n\t\tif ( ! selectOnMove ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// When automatic tab selection is on, make sure that the active tab is up\r\n\t\t// to date with the selected tab when leaving the tablist. This makes sure\r\n\t\t// that the selected tab will receive keyboard focus when tabbing back into\r\n\t\t// the tablist.\r\n\t\tif ( selectedId !== activeId ) {\r\n\t\t\tsetActiveId( selectedId );\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Ariakit.TabList\r\n\t\t\tref={ ref }\r\n\t\t\tstore={ store }\r\n\t\t\trender={\r\n\t\t\t\t<TabListWrapper\r\n\t\t\t\t\tonTransitionEnd={ ( event ) => {\r\n\t\t\t\t\t\tif ( event.pseudoElement === '::after' ) {\r\n\t\t\t\t\t\t\tsetAnimationEnabled( false );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\tonBlur={ onBlur }\r\n\t\t\t{ ...otherProps }\r\n\t\t\tstyle={ {\r\n\t\t\t\t'--indicator-left': `${ indicatorPosition.left }px`,\r\n\t\t\t\t'--indicator-top': `${ indicatorPosition.top }px`,\r\n\t\t\t\t'--indicator-width': `${ indicatorPosition.width }px`,\r\n\t\t\t\t'--indicator-height': `${ indicatorPosition.height }px`,\r\n\t\t\t\t...otherProps.style,\r\n\t\t\t} }\r\n\t\t\tclassName={ clsx(\r\n\t\t\t\tanimationEnabled ? 'is-animation-enabled' : '',\r\n\t\t\t\totherProps.className\r\n\t\t\t) }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</Ariakit.TabList>\r\n\t);\r\n} );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAO,KAAKA,OAAO,MAAM,gBAAgB;AACzC,SAASC,aAAa,QAAQ,gBAAgB;;AAE9C;AACA;AACA;AACA,OAAOC,OAAO,MAAM,oBAAoB;AACxC,SAASC,UAAU,EAAEC,QAAQ,QAAQ,oBAAoB;;AAEzD;AACA;AACA;;AAEA,SAASC,cAAc,QAAQ,WAAW;AAC1C,SAASC,cAAc,QAAQ,UAAU;AAEzC,OAAOC,IAAI,MAAM,MAAM;AACvB,SAASC,yBAAyB,QAAQ,uBAAuB;AACjE,SAASC,gBAAgB,QAAQ,oCAAoC;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEtE,OAAO,MAAMC,OAAO,GAAGT,UAAU,CAG9B,SAASS,OAAOA,CAAE;EAAEC,QAAQ;EAAE,GAAGC;AAAW,CAAC,EAAEC,GAAG,EAAG;EACvD,MAAMC,OAAO,GAAGX,cAAc,CAAC,CAAC;EAEhC,MAAMY,aAAa,GAAGhB,aAAa,CAAEe,OAAO,EAAEE,KAAM,CAAC;EACrD,MAAMC,UAAU,GAAGF,aAAa,EAAEE,UAAU;EAC5C,MAAMC,iBAAiB,GAAGZ,yBAAyB,CAClDQ,OAAO,EAAEE,KAAK,CAACG,IAAI,CAAEF,UAAW,CAAC,EAAEG,OACpC,CAAC;EAED,MAAM,CAAEC,gBAAgB,EAAEC,mBAAmB,CAAE,GAAGpB,QAAQ,CAAE,KAAM,CAAC;EACnEK,gBAAgB,CACfU,UAAU,EACV,CAAE;IAAEM;EAAc,CAAC,KAAMA,aAAa,IAAID,mBAAmB,CAAE,IAAK,CACrE,CAAC;EAED,IAAK,CAAER,OAAO,IAAI,CAAEC,aAAa,EAAG;IACnCS,UAAA,CAAAC,YAAA,YAAAzB,OAAO,CAAE,uDAAwD,CAAC;IAClE,OAAO,IAAI;EACZ;EAEA,MAAM;IAAEgB;EAAM,CAAC,GAAGF,OAAO;EACzB,MAAM;IAAEY,QAAQ;IAAEC;EAAa,CAAC,GAAGZ,aAAa;EAChD,MAAM;IAAEa;EAAY,CAAC,GAAGZ,KAAK;EAE7B,MAAMa,MAAM,GAAGA,CAAA,KAAM;IACpB,IAAK,CAAEF,YAAY,EAAG;MACrB;IACD;;IAEA;IACA;IACA;IACA;IACA,IAAKV,UAAU,KAAKS,QAAQ,EAAG;MAC9BE,WAAW,CAAEX,UAAW,CAAC;IAC1B;EACD,CAAC;EAED,oBACCR,IAAA,CAACX,OAAO,CAACY,OAAO;IACfG,GAAG,EAAGA,GAAK;IACXG,KAAK,EAAGA,KAAO;IACfc,MAAM,eACLrB,IAAA,CAACL,cAAc;MACd2B,eAAe,EAAKC,KAAK,IAAM;QAC9B,IAAKA,KAAK,CAACC,aAAa,KAAK,SAAS,EAAG;UACxCX,mBAAmB,CAAE,KAAM,CAAC;QAC7B;MACD;IAAG,CACH,CACD;IACDO,MAAM,EAAGA,MAAQ;IAAA,GACZjB,UAAU;IACfsB,KAAK,EAAG;MACP,kBAAkB,EAAG,GAAGhB,iBAAiB,CAACiB,IAAM,IAAG;MACnD,iBAAiB,EAAG,GAAGjB,iBAAiB,CAACkB,GAAK,IAAG;MACjD,mBAAmB,EAAG,GAAGlB,iBAAiB,CAACmB,KAAO,IAAG;MACrD,oBAAoB,EAAG,GAAGnB,iBAAiB,CAACoB,MAAQ,IAAG;MACvD,GAAG1B,UAAU,CAACsB;IACf,CAAG;IACHK,SAAS,EAAGlC,IAAI,CACfgB,gBAAgB,GAAG,sBAAsB,GAAG,EAAE,EAC9CT,UAAU,CAAC2B,SACZ,CAAG;IAAA5B,QAAA,EAEDA;EAAQ,CACM,CAAC;AAEpB,CAAE,CAAC","ignoreList":[]}