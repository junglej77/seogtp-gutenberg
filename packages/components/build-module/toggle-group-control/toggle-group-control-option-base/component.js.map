{"version":3,"names":["Ariakit","motion","useReducedMotion","useInstanceId","useMemo","contextConnect","useContextSystem","useToggleGroupControlContext","styles","useCx","Tooltip","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ButtonContentView","LabelView","REDUCED_MOTION_TRANSITION_CONFIG","duration","LAYOUT_ID","WithToolTip","showTooltip","text","children","placement","ToggleGroupControlOptionBase","props","forwardedRef","shouldReduceMotion","toggleGroupControlContext","id","baseId","buttonProps","isBlock","isDeselectable","size","className","isIcon","value","onFocus","onFocusProp","disabled","otherButtonProps","isPressed","cx","labelViewClasses","labelBlock","itemClasses","buttonView","backdropClasses","backdropView","buttonOnClick","setValue","undefined","commonProps","ref","type","onClick","Radio","render","event","defaultPrevented","div","layout","layoutRoot","transition","role","layoutId","ConnectedToggleGroupControlOptionBase"],"sources":["@wordpress/components/src/toggle-group-control/toggle-group-control-option-base/component.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type { ForwardedRef } from 'react';\r\nimport * as Ariakit from '@ariakit/react';\r\nimport { motion } from 'framer-motion';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useReducedMotion, useInstanceId } from '@wordpress/compose';\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { WordPressComponentProps } from '../../context';\r\nimport { contextConnect, useContextSystem } from '../../context';\r\nimport type {\r\n\tToggleGroupControlOptionBaseProps,\r\n\tWithToolTipProps,\r\n} from '../types';\r\nimport { useToggleGroupControlContext } from '../context';\r\nimport * as styles from './styles';\r\nimport { useCx } from '../../utils/hooks';\r\nimport Tooltip from '../../tooltip';\r\n\r\nconst { ButtonContentView, LabelView } = styles;\r\n\r\nconst REDUCED_MOTION_TRANSITION_CONFIG = {\r\n\tduration: 0,\r\n};\r\n\r\nconst LAYOUT_ID = 'toggle-group-backdrop-shared-layout-id';\r\n\r\nconst WithToolTip = ( { showTooltip, text, children }: WithToolTipProps ) => {\r\n\tif ( showTooltip && text ) {\r\n\t\treturn (\r\n\t\t\t<Tooltip text={ text } placement=\"top\">\r\n\t\t\t\t{ children }\r\n\t\t\t</Tooltip>\r\n\t\t);\r\n\t}\r\n\treturn <>{ children }</>;\r\n};\r\n\r\nfunction ToggleGroupControlOptionBase(\r\n\tprops: Omit<\r\n\t\tWordPressComponentProps<\r\n\t\t\tToggleGroupControlOptionBaseProps,\r\n\t\t\t'button',\r\n\t\t\tfalse\r\n\t\t>,\r\n\t\t// the element's id is generated internally\r\n\t\t| 'id'\r\n\t\t// due to how the component works, only the `disabled` prop should be used\r\n\t\t| 'aria-disabled'\r\n\t>,\r\n\tforwardedRef: ForwardedRef< any >\r\n) {\r\n\tconst shouldReduceMotion = useReducedMotion();\r\n\tconst toggleGroupControlContext = useToggleGroupControlContext();\r\n\r\n\tconst id = useInstanceId(\r\n\t\tToggleGroupControlOptionBase,\r\n\t\ttoggleGroupControlContext.baseId || 'toggle-group-control-option-base'\r\n\t);\r\n\r\n\tconst buttonProps = useContextSystem(\r\n\t\t{ ...props, id },\r\n\t\t'ToggleGroupControlOptionBase'\r\n\t);\r\n\r\n\tconst {\r\n\t\tisBlock = false,\r\n\t\tisDeselectable = false,\r\n\t\tsize = 'default',\r\n\t} = toggleGroupControlContext;\r\n\r\n\tconst {\r\n\t\tclassName,\r\n\t\tisIcon = false,\r\n\t\tvalue,\r\n\t\tchildren,\r\n\t\tshowTooltip = false,\r\n\t\tonFocus: onFocusProp,\r\n\t\tdisabled,\r\n\t\t...otherButtonProps\r\n\t} = buttonProps;\r\n\r\n\tconst isPressed = toggleGroupControlContext.value === value;\r\n\tconst cx = useCx();\r\n\tconst labelViewClasses = useMemo(\r\n\t\t() => cx( isBlock && styles.labelBlock ),\r\n\t\t[ cx, isBlock ]\r\n\t);\r\n\tconst itemClasses = useMemo(\r\n\t\t() =>\r\n\t\t\tcx(\r\n\t\t\t\tstyles.buttonView( {\r\n\t\t\t\t\tisDeselectable,\r\n\t\t\t\t\tisIcon,\r\n\t\t\t\t\tisPressed,\r\n\t\t\t\t\tsize,\r\n\t\t\t\t} ),\r\n\t\t\t\tclassName\r\n\t\t\t),\r\n\t\t[ cx, isDeselectable, isIcon, isPressed, size, className ]\r\n\t);\r\n\tconst backdropClasses = useMemo( () => cx( styles.backdropView ), [ cx ] );\r\n\r\n\tconst buttonOnClick = () => {\r\n\t\tif ( isDeselectable && isPressed ) {\r\n\t\t\ttoggleGroupControlContext.setValue( undefined );\r\n\t\t} else {\r\n\t\t\ttoggleGroupControlContext.setValue( value );\r\n\t\t}\r\n\t};\r\n\r\n\tconst commonProps = {\r\n\t\t...otherButtonProps,\r\n\t\tclassName: itemClasses,\r\n\t\t'data-value': value,\r\n\t\tref: forwardedRef,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<LabelView className={ labelViewClasses }>\r\n\t\t\t<WithToolTip\r\n\t\t\t\tshowTooltip={ showTooltip }\r\n\t\t\t\ttext={ otherButtonProps[ 'aria-label' ] }\r\n\t\t\t>\r\n\t\t\t\t{ isDeselectable ? (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\t{ ...commonProps }\r\n\t\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\t\tonFocus={ onFocusProp }\r\n\t\t\t\t\t\taria-pressed={ isPressed }\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={ buttonOnClick }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ButtonContentView>{ children }</ButtonContentView>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Ariakit.Radio\r\n\t\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\t\trender={\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t{ ...commonProps }\r\n\t\t\t\t\t\t\t\tonFocus={ ( event ) => {\r\n\t\t\t\t\t\t\t\t\tonFocusProp?.( event );\r\n\t\t\t\t\t\t\t\t\tif ( event.defaultPrevented ) {\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttoggleGroupControlContext.setValue( value );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ButtonContentView>{ children }</ButtonContentView>\r\n\t\t\t\t\t</Ariakit.Radio>\r\n\t\t\t\t) }\r\n\t\t\t</WithToolTip>\r\n\t\t\t{ /* Animated backdrop using framer motion's shared layout animation */ }\r\n\t\t\t{ isPressed ? (\r\n\t\t\t\t<motion.div layout layoutRoot>\r\n\t\t\t\t\t<motion.div\r\n\t\t\t\t\t\tclassName={ backdropClasses }\r\n\t\t\t\t\t\ttransition={\r\n\t\t\t\t\t\t\tshouldReduceMotion\r\n\t\t\t\t\t\t\t\t? REDUCED_MOTION_TRANSITION_CONFIG\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t\t\tlayoutId={ LAYOUT_ID }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</motion.div>\r\n\t\t\t) : null }\r\n\t\t</LabelView>\r\n\t);\r\n}\r\n\r\n/**\r\n * `ToggleGroupControlOptionBase` is a form component and is meant to be used as an internal,\r\n * generic component for any children of `ToggleGroupControl`.\r\n *\r\n * @example\r\n * ```jsx\r\n * import {\r\n *   __experimentalToggleGroupControl as ToggleGroupControl,\r\n *   __experimentalToggleGroupControlOptionBase as ToggleGroupControlOptionBase,\r\n * } from '@wordpress/components';\r\n *\r\n * function Example() {\r\n *   return (\r\n *     <ToggleGroupControl label=\"my label\" value=\"vertical\" isBlock>\r\n *       <ToggleGroupControlOption value=\"horizontal\" label=\"Horizontal\" />\r\n *       <ToggleGroupControlOption value=\"vertical\" label=\"Vertical\" />\r\n *     </ToggleGroupControl>\r\n *   );\r\n * }\r\n * ```\r\n */\r\nconst ConnectedToggleGroupControlOptionBase = contextConnect(\r\n\tToggleGroupControlOptionBase,\r\n\t'ToggleGroupControlOptionBase'\r\n);\r\n\r\nexport default ConnectedToggleGroupControlOptionBase;\r\n"],"mappings":"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","ignoreList":[]}