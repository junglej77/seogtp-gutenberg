{"version":3,"names":["clsx","useContext","forwardRef","Button","ToolbarItem","ToolbarContext","ToolbarButtonContainer","jsx","_jsx","useDeprecatedProps","isDisabled","otherProps","disabled","UnforwardedToolbarButton","props","ref","children","className","containerClassName","extraProps","isActive","title","restProps","accessibleToolbarState","icon","label","shortcut","subscript","onClick","event","stopPropagation","isPressed","accessibleWhenDisabled","toolbarItemProps","ToolbarButton"],"sources":["@wordpress/components/src/toolbar/toolbar-button/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\nimport type { ForwardedRef, MouseEvent as ReactMouseEvent } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useContext, forwardRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Button from '../../button';\r\nimport ToolbarItem from '../toolbar-item';\r\nimport ToolbarContext from '../toolbar-context';\r\nimport ToolbarButtonContainer from './toolbar-button-container';\r\nimport type { ToolbarButtonOverriddenProps, ToolbarButtonProps } from './types';\r\nimport type { WordPressComponentProps } from '../../context';\r\n\r\nfunction useDeprecatedProps( {\r\n\tisDisabled,\r\n\t...otherProps\r\n}: React.ComponentProps< typeof ToolbarButton > ) {\r\n\treturn {\r\n\t\tdisabled: isDisabled,\r\n\t\t...otherProps,\r\n\t};\r\n}\r\n\r\nfunction UnforwardedToolbarButton(\r\n\tprops: Omit<\r\n\t\tWordPressComponentProps< ToolbarButtonProps, typeof Button, false >,\r\n\t\t'accessibleWhenDisabled' // By default, ToolbarButton will be focusable when disabled.\r\n\t> &\r\n\t\tToolbarButtonOverriddenProps,\r\n\tref: ForwardedRef< any >\r\n) {\r\n\tconst {\r\n\t\tchildren,\r\n\t\tclassName,\r\n\t\tcontainerClassName,\r\n\t\textraProps,\r\n\t\tisActive,\r\n\t\ttitle,\r\n\t\t...restProps\r\n\t} = useDeprecatedProps( props );\r\n\tconst accessibleToolbarState = useContext( ToolbarContext );\r\n\r\n\tif ( ! accessibleToolbarState ) {\r\n\t\treturn (\r\n\t\t\t<ToolbarButtonContainer className={ containerClassName }>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tref={ ref }\r\n\t\t\t\t\ticon={ restProps.icon }\r\n\t\t\t\t\tlabel={ title }\r\n\t\t\t\t\tshortcut={ restProps.shortcut }\r\n\t\t\t\t\tdata-subscript={ restProps.subscript }\r\n\t\t\t\t\tonClick={ (\r\n\t\t\t\t\t\tevent: ReactMouseEvent<\r\n\t\t\t\t\t\t\tHTMLButtonElement & HTMLAnchorElement,\r\n\t\t\t\t\t\t\tMouseEvent\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t) => {\r\n\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t// TODO: Possible bug; maybe use onClick instead of restProps.onClick.\r\n\t\t\t\t\t\tif ( restProps.onClick ) {\r\n\t\t\t\t\t\t\trestProps.onClick( event );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t'components-toolbar__control',\r\n\t\t\t\t\t\tclassName\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tisPressed={ isActive }\r\n\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\tdata-toolbar-item\r\n\t\t\t\t\t{ ...extraProps }\r\n\t\t\t\t\t{ ...restProps }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</Button>\r\n\t\t\t</ToolbarButtonContainer>\r\n\t\t);\r\n\t}\r\n\r\n\t// ToobarItem will pass all props to the render prop child, which will pass\r\n\t// all props to Button. This means that ToolbarButton has the same API as\r\n\t// Button.\r\n\treturn (\r\n\t\t<ToolbarItem\r\n\t\t\tclassName={ clsx( 'components-toolbar-button', className ) }\r\n\t\t\t{ ...extraProps }\r\n\t\t\t{ ...restProps }\r\n\t\t\tref={ ref }\r\n\t\t>\r\n\t\t\t{ ( toolbarItemProps ) => (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tlabel={ title }\r\n\t\t\t\t\tisPressed={ isActive }\r\n\t\t\t\t\t{ ...toolbarItemProps }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</Button>\r\n\t\t\t) }\r\n\t\t</ToolbarItem>\r\n\t);\r\n}\r\n\r\n/**\r\n * ToolbarButton can be used to add actions to a toolbar, usually inside a Toolbar\r\n * or ToolbarGroup when used to create general interfaces.\r\n *\r\n * ```jsx\r\n * import { Toolbar, ToolbarButton } from '@wordpress/components';\r\n * import { edit } from '@wordpress/icons';\r\n *\r\n * function MyToolbar() {\r\n *   return (\r\n *\t\t<Toolbar label=\"Options\">\r\n *\t\t\t<ToolbarButton\r\n *\t\t\t\ticon={ edit }\r\n *\t\t\t\tlabel=\"Edit\"\r\n *\t\t\t\tonClick={ () => alert( 'Editing' ) }\r\n *\t\t\t/>\r\n *\t\t</Toolbar>\r\n *   );\r\n * }\r\n * ```\r\n */\r\nexport const ToolbarButton = forwardRef( UnforwardedToolbarButton );\r\nexport default ToolbarButton;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;AAGvB;AACA;AACA;AACA,SAASC,UAAU,EAAEC,UAAU,QAAQ,oBAAoB;;AAE3D;AACA;AACA;AACA,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,WAAW,MAAM,iBAAiB;AACzC,OAAOC,cAAc,MAAM,oBAAoB;AAC/C,OAAOC,sBAAsB,MAAM,4BAA4B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAIhE,SAASC,kBAAkBA,CAAE;EAC5BC,UAAU;EACV,GAAGC;AAC0C,CAAC,EAAG;EACjD,OAAO;IACNC,QAAQ,EAAEF,UAAU;IACpB,GAAGC;EACJ,CAAC;AACF;AAEA,SAASE,wBAAwBA,CAChCC,KAI6B,EAC7BC,GAAwB,EACvB;EACD,MAAM;IACLC,QAAQ;IACRC,SAAS;IACTC,kBAAkB;IAClBC,UAAU;IACVC,QAAQ;IACRC,KAAK;IACL,GAAGC;EACJ,CAAC,GAAGb,kBAAkB,CAAEK,KAAM,CAAC;EAC/B,MAAMS,sBAAsB,GAAGtB,UAAU,CAAEI,cAAe,CAAC;EAE3D,IAAK,CAAEkB,sBAAsB,EAAG;IAC/B,oBACCf,IAAA,CAACF,sBAAsB;MAACW,SAAS,EAAGC,kBAAoB;MAAAF,QAAA,eACvDR,IAAA,CAACL,MAAM;QACNY,GAAG,EAAGA,GAAK;QACXS,IAAI,EAAGF,SAAS,CAACE,IAAM;QACvBC,KAAK,EAAGJ,KAAO;QACfK,QAAQ,EAAGJ,SAAS,CAACI,QAAU;QAC/B,kBAAiBJ,SAAS,CAACK,SAAW;QACtCC,OAAO,EACNC,KAGC,IACG;UACJA,KAAK,CAACC,eAAe,CAAC,CAAC;UACvB;UACA,IAAKR,SAAS,CAACM,OAAO,EAAG;YACxBN,SAAS,CAACM,OAAO,CAAEC,KAAM,CAAC;UAC3B;QACD,CAAG;QACHZ,SAAS,EAAGjB,IAAI,CACf,6BAA6B,EAC7BiB,SACD,CAAG;QACHc,SAAS,EAAGX,QAAU;QACtBY,sBAAsB;QACtB,yBAAiB;QAAA,GACZb,UAAU;QAAA,GACVG,SAAS;QAAAN,QAAA,EAEZA;MAAQ,CACH;IAAC,CACc,CAAC;EAE3B;;EAEA;EACA;EACA;EACA,oBACCR,IAAA,CAACJ,WAAW;IACXa,SAAS,EAAGjB,IAAI,CAAE,2BAA2B,EAAEiB,SAAU,CAAG;IAAA,GACvDE,UAAU;IAAA,GACVG,SAAS;IACdP,GAAG,EAAGA,GAAK;IAAAC,QAAA,EAEPiB,gBAAgB,iBACnBzB,IAAA,CAACL,MAAM;MACNsB,KAAK,EAAGJ,KAAO;MACfU,SAAS,EAAGX,QAAU;MAAA,GACjBa,gBAAgB;MAAAjB,QAAA,EAEnBA;IAAQ,CACH;EACR,CACW,CAAC;AAEhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMkB,aAAa,GAAGhC,UAAU,CAAEW,wBAAyB,CAAC;AACnE,eAAeqB,aAAa","ignoreList":[]}