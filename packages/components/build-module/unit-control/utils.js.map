{"version":3,"names":["__","_x","Platform","isWeb","OS","allUnits","px","value","label","a11yLabel","step","em","rem","vw","vh","vmin","vmax","ch","ex","cm","mm","in","pc","pt","svw","svh","svi","svb","svmin","lvw","lvh","lvi","lvb","lvmin","dvw","dvh","dvi","dvb","dvmin","dvmax","svmax","lvmax","ALL_CSS_UNITS","Object","values","CSS_UNITS","DEFAULT_UNIT","getParsedQuantityAndUnit","rawValue","fallbackUnit","allowedUnits","initialValue","parseQuantityAndUnitFromRawValue","hasUnits","units","Array","isArray","length","trimmedValue","quantityToReturn","trim","parsedQuantity","parseFloat","isFinite","undefined","unitMatch","match","matchedUnit","toLowerCase","unitToReturn","find","item","getValidParsedQuantityAndUnit","fallbackQuantity","parsedUnit","getAccessibleLabelForUnit","unit","filterUnitsWithSettings","allowedUnitValues","availableUnits","filter","includes","useCustomUnits","defaultValues","customUnitsToReturn","forEach","i","parsedDefaultValue","default","getUnitsWithCurrentUnit","legacyUnit","unitsToReturn","currentUnit","some","unshift"],"sources":["@wordpress/components/src/unit-control/utils.ts"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport { Platform } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { WPUnitControlUnit } from './types';\r\n\r\nconst isWeb = Platform.OS === 'web';\r\n\r\nconst allUnits: Record< string, WPUnitControlUnit > = {\r\n\tpx: {\r\n\t\tvalue: 'px',\r\n\t\tlabel: isWeb ? 'px' : __( 'Pixels (px)' ),\r\n\t\ta11yLabel: __( 'Pixels (px)' ),\r\n\t\tstep: 1,\r\n\t},\r\n\t'%': {\r\n\t\tvalue: '%',\r\n\t\tlabel: isWeb ? '%' : __( 'Percentage (%)' ),\r\n\t\ta11yLabel: __( 'Percent (%)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tem: {\r\n\t\tvalue: 'em',\r\n\t\tlabel: isWeb ? 'em' : __( 'Relative to parent font size (em)' ),\r\n\t\ta11yLabel: _x( 'ems', 'Relative to parent font size (em)' ),\r\n\t\tstep: 0.01,\r\n\t},\r\n\trem: {\r\n\t\tvalue: 'rem',\r\n\t\tlabel: isWeb ? 'rem' : __( 'Relative to root font size (rem)' ),\r\n\t\ta11yLabel: _x( 'rems', 'Relative to root font size (rem)' ),\r\n\t\tstep: 0.01,\r\n\t},\r\n\tvw: {\r\n\t\tvalue: 'vw',\r\n\t\tlabel: isWeb ? 'vw' : __( 'Viewport width (vw)' ),\r\n\t\ta11yLabel: __( 'Viewport width (vw)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tvh: {\r\n\t\tvalue: 'vh',\r\n\t\tlabel: isWeb ? 'vh' : __( 'Viewport height (vh)' ),\r\n\t\ta11yLabel: __( 'Viewport height (vh)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tvmin: {\r\n\t\tvalue: 'vmin',\r\n\t\tlabel: isWeb ? 'vmin' : __( 'Viewport smallest dimension (vmin)' ),\r\n\t\ta11yLabel: __( 'Viewport smallest dimension (vmin)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tvmax: {\r\n\t\tvalue: 'vmax',\r\n\t\tlabel: isWeb ? 'vmax' : __( 'Viewport largest dimension (vmax)' ),\r\n\t\ta11yLabel: __( 'Viewport largest dimension (vmax)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tch: {\r\n\t\tvalue: 'ch',\r\n\t\tlabel: isWeb ? 'ch' : __( 'Width of the zero (0) character (ch)' ),\r\n\t\ta11yLabel: __( 'Width of the zero (0) character (ch)' ),\r\n\t\tstep: 0.01,\r\n\t},\r\n\tex: {\r\n\t\tvalue: 'ex',\r\n\t\tlabel: isWeb ? 'ex' : __( 'x-height of the font (ex)' ),\r\n\t\ta11yLabel: __( 'x-height of the font (ex)' ),\r\n\t\tstep: 0.01,\r\n\t},\r\n\tcm: {\r\n\t\tvalue: 'cm',\r\n\t\tlabel: isWeb ? 'cm' : __( 'Centimeters (cm)' ),\r\n\t\ta11yLabel: __( 'Centimeters (cm)' ),\r\n\t\tstep: 0.001,\r\n\t},\r\n\tmm: {\r\n\t\tvalue: 'mm',\r\n\t\tlabel: isWeb ? 'mm' : __( 'Millimeters (mm)' ),\r\n\t\ta11yLabel: __( 'Millimeters (mm)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tin: {\r\n\t\tvalue: 'in',\r\n\t\tlabel: isWeb ? 'in' : __( 'Inches (in)' ),\r\n\t\ta11yLabel: __( 'Inches (in)' ),\r\n\t\tstep: 0.001,\r\n\t},\r\n\tpc: {\r\n\t\tvalue: 'pc',\r\n\t\tlabel: isWeb ? 'pc' : __( 'Picas (pc)' ),\r\n\t\ta11yLabel: __( 'Picas (pc)' ),\r\n\t\tstep: 1,\r\n\t},\r\n\tpt: {\r\n\t\tvalue: 'pt',\r\n\t\tlabel: isWeb ? 'pt' : __( 'Points (pt)' ),\r\n\t\ta11yLabel: __( 'Points (pt)' ),\r\n\t\tstep: 1,\r\n\t},\r\n\tsvw: {\r\n\t\tvalue: 'svw',\r\n\t\tlabel: isWeb ? 'svw' : __( 'Small viewport width (svw)' ),\r\n\t\ta11yLabel: __( 'Small viewport width (svw)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tsvh: {\r\n\t\tvalue: 'svh',\r\n\t\tlabel: isWeb ? 'svh' : __( 'Small viewport height (svh)' ),\r\n\t\ta11yLabel: __( 'Small viewport height (svh)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tsvi: {\r\n\t\tvalue: 'svi',\r\n\t\tlabel: isWeb\r\n\t\t\t? 'svi'\r\n\t\t\t: __( 'Viewport smallest size in the inline direction (svi)' ),\r\n\t\ta11yLabel: __( 'Small viewport width or height (svi)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tsvb: {\r\n\t\tvalue: 'svb',\r\n\t\tlabel: isWeb\r\n\t\t\t? 'svb'\r\n\t\t\t: __( 'Viewport smallest size in the block direction (svb)' ),\r\n\t\ta11yLabel: __( 'Small viewport width or height (svb)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tsvmin: {\r\n\t\tvalue: 'svmin',\r\n\t\tlabel: isWeb\r\n\t\t\t? 'svmin'\r\n\t\t\t: __( 'Small viewport smallest dimension (svmin)' ),\r\n\t\ta11yLabel: __( 'Small viewport smallest dimension (svmin)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tlvw: {\r\n\t\tvalue: 'lvw',\r\n\t\tlabel: isWeb ? 'lvw' : __( 'Large viewport width (lvw)' ),\r\n\t\ta11yLabel: __( 'Large viewport width (lvw)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tlvh: {\r\n\t\tvalue: 'lvh',\r\n\t\tlabel: isWeb ? 'lvh' : __( 'Large viewport height (lvh)' ),\r\n\t\ta11yLabel: __( 'Large viewport height (lvh)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tlvi: {\r\n\t\tvalue: 'lvi',\r\n\t\tlabel: isWeb ? 'lvi' : __( 'Large viewport width or height (lvi)' ),\r\n\t\ta11yLabel: __( 'Large viewport width or height (lvi)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tlvb: {\r\n\t\tvalue: 'lvb',\r\n\t\tlabel: isWeb ? 'lvb' : __( 'Large viewport width or height (lvb)' ),\r\n\t\ta11yLabel: __( 'Large viewport width or height (lvb)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tlvmin: {\r\n\t\tvalue: 'lvmin',\r\n\t\tlabel: isWeb\r\n\t\t\t? 'lvmin'\r\n\t\t\t: __( 'Large viewport smallest dimension (lvmin)' ),\r\n\t\ta11yLabel: __( 'Large viewport smallest dimension (lvmin)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tdvw: {\r\n\t\tvalue: 'dvw',\r\n\t\tlabel: isWeb ? 'dvw' : __( 'Dynamic viewport width (dvw)' ),\r\n\t\ta11yLabel: __( 'Dynamic viewport width (dvw)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tdvh: {\r\n\t\tvalue: 'dvh',\r\n\t\tlabel: isWeb ? 'dvh' : __( 'Dynamic viewport height (dvh)' ),\r\n\t\ta11yLabel: __( 'Dynamic viewport height (dvh)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tdvi: {\r\n\t\tvalue: 'dvi',\r\n\t\tlabel: isWeb ? 'dvi' : __( 'Dynamic viewport width or height (dvi)' ),\r\n\t\ta11yLabel: __( 'Dynamic viewport width or height (dvi)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tdvb: {\r\n\t\tvalue: 'dvb',\r\n\t\tlabel: isWeb ? 'dvb' : __( 'Dynamic viewport width or height (dvb)' ),\r\n\t\ta11yLabel: __( 'Dynamic viewport width or height (dvb)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tdvmin: {\r\n\t\tvalue: 'dvmin',\r\n\t\tlabel: isWeb\r\n\t\t\t? 'dvmin'\r\n\t\t\t: __( 'Dynamic viewport smallest dimension (dvmin)' ),\r\n\t\ta11yLabel: __( 'Dynamic viewport smallest dimension (dvmin)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tdvmax: {\r\n\t\tvalue: 'dvmax',\r\n\t\tlabel: isWeb\r\n\t\t\t? 'dvmax'\r\n\t\t\t: __( 'Dynamic viewport largest dimension (dvmax)' ),\r\n\t\ta11yLabel: __( 'Dynamic viewport largest dimension (dvmax)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tsvmax: {\r\n\t\tvalue: 'svmax',\r\n\t\tlabel: isWeb\r\n\t\t\t? 'svmax'\r\n\t\t\t: __( 'Small viewport largest dimension (svmax)' ),\r\n\t\ta11yLabel: __( 'Small viewport largest dimension (svmax)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n\tlvmax: {\r\n\t\tvalue: 'lvmax',\r\n\t\tlabel: isWeb\r\n\t\t\t? 'lvmax'\r\n\t\t\t: __( 'Large viewport largest dimension (lvmax)' ),\r\n\t\ta11yLabel: __( 'Large viewport largest dimension (lvmax)' ),\r\n\t\tstep: 0.1,\r\n\t},\r\n};\r\n\r\n/**\r\n * An array of all available CSS length units.\r\n */\r\nexport const ALL_CSS_UNITS = Object.values( allUnits );\r\n\r\n/**\r\n * Units of measurements. `a11yLabel` is used by screenreaders.\r\n */\r\nexport const CSS_UNITS = [\r\n\tallUnits.px,\r\n\tallUnits[ '%' ],\r\n\tallUnits.em,\r\n\tallUnits.rem,\r\n\tallUnits.vw,\r\n\tallUnits.vh,\r\n];\r\n\r\nexport const DEFAULT_UNIT = allUnits.px;\r\n\r\n/**\r\n * Handles legacy value + unit handling.\r\n * This component use to manage both incoming value and units separately.\r\n *\r\n * Moving forward, ideally the value should be a string that contains both\r\n * the value and unit, example: '10px'\r\n *\r\n * @param rawValue     The raw value as a string (may or may not contain the unit)\r\n * @param fallbackUnit The unit used as a fallback, if not unit is detected in the `value`\r\n * @param allowedUnits Units to derive from.\r\n * @return The extracted quantity and unit. The quantity can be `undefined` in case the raw value\r\n * could not be parsed to a number correctly. The unit can be `undefined` in case the unit parse\r\n * from the raw value could not be matched against the list of allowed units.\r\n */\r\nexport function getParsedQuantityAndUnit(\r\n\trawValue?: string | number,\r\n\tfallbackUnit?: string,\r\n\tallowedUnits?: WPUnitControlUnit[]\r\n): [ number | undefined, string | undefined ] {\r\n\tconst initialValue = fallbackUnit\r\n\t\t? `${ rawValue ?? '' }${ fallbackUnit }`\r\n\t\t: rawValue;\r\n\r\n\treturn parseQuantityAndUnitFromRawValue( initialValue, allowedUnits );\r\n}\r\n\r\n/**\r\n * Checks if units are defined.\r\n *\r\n * @param units List of units.\r\n * @return Whether the list actually contains any units.\r\n */\r\nexport function hasUnits(\r\n\tunits?: WPUnitControlUnit[]\r\n): units is WPUnitControlUnit[] {\r\n\t// Although the `isArray` check shouldn't be necessary (given the signature of\r\n\t// this typed function), it's better to stay on the side of caution, since\r\n\t// this function may be called from un-typed environments.\r\n\treturn Array.isArray( units ) && !! units.length;\r\n}\r\n\r\n/**\r\n * Parses a quantity and unit from a raw string value, given a list of allowed\r\n * units and otherwise falling back to the default unit.\r\n *\r\n * @param rawValue     The raw value as a string (may or may not contain the unit)\r\n * @param allowedUnits Units to derive from.\r\n * @return The extracted quantity and unit. The quantity can be `undefined` in case the raw value\r\n * could not be parsed to a number correctly. The unit can be `undefined` in case the unit parsed\r\n * from the raw value could not be matched against the list of allowed units.\r\n */\r\nexport function parseQuantityAndUnitFromRawValue(\r\n\trawValue?: string | number,\r\n\tallowedUnits: WPUnitControlUnit[] = ALL_CSS_UNITS\r\n): [ number | undefined, string | undefined ] {\r\n\tlet trimmedValue;\r\n\tlet quantityToReturn;\r\n\r\n\tif ( typeof rawValue !== 'undefined' || rawValue === null ) {\r\n\t\ttrimmedValue = `${ rawValue }`.trim();\r\n\t\tconst parsedQuantity = parseFloat( trimmedValue );\r\n\t\tquantityToReturn = ! isFinite( parsedQuantity )\r\n\t\t\t? undefined\r\n\t\t\t: parsedQuantity;\r\n\t}\r\n\r\n\tconst unitMatch = trimmedValue?.match( /[\\d.\\-\\+]*\\s*(.*)/ );\r\n\tconst matchedUnit = unitMatch?.[ 1 ]?.toLowerCase();\r\n\tlet unitToReturn: string | undefined;\r\n\tif ( hasUnits( allowedUnits ) ) {\r\n\t\tconst match = allowedUnits.find(\r\n\t\t\t( item ) => item.value === matchedUnit\r\n\t\t);\r\n\t\tunitToReturn = match?.value;\r\n\t} else {\r\n\t\tunitToReturn = DEFAULT_UNIT.value;\r\n\t}\r\n\r\n\treturn [ quantityToReturn, unitToReturn ];\r\n}\r\n\r\n/**\r\n * Parses quantity and unit from a raw value. Validates parsed value, using fallback\r\n * value if invalid.\r\n *\r\n * @param rawValue         The next value.\r\n * @param allowedUnits     Units to derive from.\r\n * @param fallbackQuantity The fallback quantity, used in case it's not possible to parse a valid quantity from the raw value.\r\n * @param fallbackUnit     The fallback unit, used in case it's not possible to parse a valid unit from the raw value.\r\n * @return The extracted quantity and unit. The quantity can be `undefined` in case the raw value\r\n * could not be parsed to a number correctly, and the `fallbackQuantity` was also `undefined`. The\r\n * unit can be `undefined` only if the unit parsed from the raw value could not be matched against\r\n * the list of allowed units, the `fallbackQuantity` is also `undefined` and the list of\r\n * `allowedUnits` is passed empty.\r\n */\r\nexport function getValidParsedQuantityAndUnit(\r\n\trawValue: string | number,\r\n\tallowedUnits?: WPUnitControlUnit[],\r\n\tfallbackQuantity?: number,\r\n\tfallbackUnit?: string\r\n): [ number | undefined, string | undefined ] {\r\n\tconst [ parsedQuantity, parsedUnit ] = parseQuantityAndUnitFromRawValue(\r\n\t\trawValue,\r\n\t\tallowedUnits\r\n\t);\r\n\r\n\t// The parsed value from `parseQuantityAndUnitFromRawValue` should now be\r\n\t// either a real number or undefined. If undefined, use the fallback value.\r\n\tconst quantityToReturn = parsedQuantity ?? fallbackQuantity;\r\n\r\n\t// If no unit is parsed from the raw value, or if the fallback unit is not\r\n\t// defined, use the first value from the list of allowed units as fallback.\r\n\tlet unitToReturn = parsedUnit || fallbackUnit;\r\n\r\n\tif ( ! unitToReturn && hasUnits( allowedUnits ) ) {\r\n\t\tunitToReturn = allowedUnits[ 0 ].value;\r\n\t}\r\n\r\n\treturn [ quantityToReturn, unitToReturn ];\r\n}\r\n\r\n/**\r\n * Takes a unit value and finds the matching accessibility label for the\r\n * unit abbreviation.\r\n *\r\n * @param unit Unit value (example: `px`)\r\n * @return a11y label for the unit abbreviation\r\n */\r\nexport function getAccessibleLabelForUnit( unit: string ): string | undefined {\r\n\tconst match = ALL_CSS_UNITS.find( ( item ) => item.value === unit );\r\n\treturn match?.a11yLabel ? match?.a11yLabel : match?.value;\r\n}\r\n\r\n/**\r\n * Filters available units based on values defined a list of allowed unit values.\r\n *\r\n * @param allowedUnitValues Collection of allowed unit value strings.\r\n * @param availableUnits    Collection of available unit objects.\r\n * @return Filtered units.\r\n */\r\nexport function filterUnitsWithSettings(\r\n\tallowedUnitValues: string[] = [],\r\n\tavailableUnits: WPUnitControlUnit[]\r\n): WPUnitControlUnit[] {\r\n\t// Although the `isArray` check shouldn't be necessary (given the signature of\r\n\t// this typed function), it's better to stay on the side of caution, since\r\n\t// this function may be called from un-typed environments.\r\n\treturn Array.isArray( availableUnits )\r\n\t\t? availableUnits.filter( ( unit ) =>\r\n\t\t\t\tallowedUnitValues.includes( unit.value )\r\n\t\t  )\r\n\t\t: [];\r\n}\r\n\r\n/**\r\n * Custom hook to retrieve and consolidate units setting from add_theme_support().\r\n * TODO: ideally this hook shouldn't be needed\r\n * https://github.com/WordPress/gutenberg/pull/31822#discussion_r633280823\r\n *\r\n * @param args                An object containing units, settingPath & defaultUnits.\r\n * @param args.units          Collection of all potentially available units.\r\n * @param args.availableUnits Collection of unit value strings for filtering available units.\r\n * @param args.defaultValues  Collection of default values for defined units. Example: `{ px: 350, em: 15 }`.\r\n *\r\n * @return Filtered list of units, with their default values updated following the `defaultValues`\r\n * argument's property.\r\n */\r\nexport const useCustomUnits = ( {\r\n\tunits = ALL_CSS_UNITS,\r\n\tavailableUnits = [],\r\n\tdefaultValues,\r\n}: {\r\n\tunits?: WPUnitControlUnit[];\r\n\tavailableUnits?: string[];\r\n\tdefaultValues?: Record< string, number >;\r\n} ): WPUnitControlUnit[] => {\r\n\tconst customUnitsToReturn = filterUnitsWithSettings(\r\n\t\tavailableUnits,\r\n\t\tunits\r\n\t);\r\n\r\n\tif ( defaultValues ) {\r\n\t\tcustomUnitsToReturn.forEach( ( unit, i ) => {\r\n\t\t\tif ( defaultValues[ unit.value ] ) {\r\n\t\t\t\tconst [ parsedDefaultValue ] = parseQuantityAndUnitFromRawValue(\r\n\t\t\t\t\tdefaultValues[ unit.value ]\r\n\t\t\t\t);\r\n\r\n\t\t\t\tcustomUnitsToReturn[ i ].default = parsedDefaultValue;\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\treturn customUnitsToReturn;\r\n};\r\n\r\n/**\r\n * Get available units with the unit for the currently selected value\r\n * prepended if it is not available in the list of units.\r\n *\r\n * This is useful to ensure that the current value's unit is always\r\n * accurately displayed in the UI, even if the intention is to hide\r\n * the availability of that unit.\r\n *\r\n * @param rawValue   Selected value to parse.\r\n * @param legacyUnit Legacy unit value, if rawValue needs it appended.\r\n * @param units      List of available units.\r\n *\r\n * @return A collection of units containing the unit for the current value.\r\n */\r\nexport function getUnitsWithCurrentUnit(\r\n\trawValue?: string | number,\r\n\tlegacyUnit?: string,\r\n\tunits: WPUnitControlUnit[] = ALL_CSS_UNITS\r\n): WPUnitControlUnit[] {\r\n\tconst unitsToReturn = Array.isArray( units ) ? [ ...units ] : [];\r\n\tconst [ , currentUnit ] = getParsedQuantityAndUnit(\r\n\t\trawValue,\r\n\t\tlegacyUnit,\r\n\t\tALL_CSS_UNITS\r\n\t);\r\n\r\n\tif (\r\n\t\tcurrentUnit &&\r\n\t\t! unitsToReturn.some( ( unit ) => unit.value === currentUnit )\r\n\t) {\r\n\t\tif ( allUnits[ currentUnit ] ) {\r\n\t\t\tunitsToReturn.unshift( allUnits[ currentUnit ] );\r\n\t\t}\r\n\t}\r\n\r\n\treturn unitsToReturn;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,EAAEC,EAAE,QAAQ,iBAAiB;AACxC,SAASC,QAAQ,QAAQ,oBAAoB;;AAE7C;AACA;AACA;;AAGA,MAAMC,KAAK,GAAGD,QAAQ,CAACE,EAAE,KAAK,KAAK;AAEnC,MAAMC,QAA6C,GAAG;EACrDC,EAAE,EAAE;IACHC,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,aAAc,CAAC;IACzCS,SAAS,EAAET,EAAE,CAAE,aAAc,CAAC;IAC9BU,IAAI,EAAE;EACP,CAAC;EACD,GAAG,EAAE;IACJH,KAAK,EAAE,GAAG;IACVC,KAAK,EAAEL,KAAK,GAAG,GAAG,GAAGH,EAAE,CAAE,gBAAiB,CAAC;IAC3CS,SAAS,EAAET,EAAE,CAAE,aAAc,CAAC;IAC9BU,IAAI,EAAE;EACP,CAAC;EACDC,EAAE,EAAE;IACHJ,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,mCAAoC,CAAC;IAC/DS,SAAS,EAAER,EAAE,CAAE,KAAK,EAAE,mCAAoC,CAAC;IAC3DS,IAAI,EAAE;EACP,CAAC;EACDE,GAAG,EAAE;IACJL,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,kCAAmC,CAAC;IAC/DS,SAAS,EAAER,EAAE,CAAE,MAAM,EAAE,kCAAmC,CAAC;IAC3DS,IAAI,EAAE;EACP,CAAC;EACDG,EAAE,EAAE;IACHN,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,qBAAsB,CAAC;IACjDS,SAAS,EAAET,EAAE,CAAE,qBAAsB,CAAC;IACtCU,IAAI,EAAE;EACP,CAAC;EACDI,EAAE,EAAE;IACHP,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,sBAAuB,CAAC;IAClDS,SAAS,EAAET,EAAE,CAAE,sBAAuB,CAAC;IACvCU,IAAI,EAAE;EACP,CAAC;EACDK,IAAI,EAAE;IACLR,KAAK,EAAE,MAAM;IACbC,KAAK,EAAEL,KAAK,GAAG,MAAM,GAAGH,EAAE,CAAE,oCAAqC,CAAC;IAClES,SAAS,EAAET,EAAE,CAAE,oCAAqC,CAAC;IACrDU,IAAI,EAAE;EACP,CAAC;EACDM,IAAI,EAAE;IACLT,KAAK,EAAE,MAAM;IACbC,KAAK,EAAEL,KAAK,GAAG,MAAM,GAAGH,EAAE,CAAE,mCAAoC,CAAC;IACjES,SAAS,EAAET,EAAE,CAAE,mCAAoC,CAAC;IACpDU,IAAI,EAAE;EACP,CAAC;EACDO,EAAE,EAAE;IACHV,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,sCAAuC,CAAC;IAClES,SAAS,EAAET,EAAE,CAAE,sCAAuC,CAAC;IACvDU,IAAI,EAAE;EACP,CAAC;EACDQ,EAAE,EAAE;IACHX,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,2BAA4B,CAAC;IACvDS,SAAS,EAAET,EAAE,CAAE,2BAA4B,CAAC;IAC5CU,IAAI,EAAE;EACP,CAAC;EACDS,EAAE,EAAE;IACHZ,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,kBAAmB,CAAC;IAC9CS,SAAS,EAAET,EAAE,CAAE,kBAAmB,CAAC;IACnCU,IAAI,EAAE;EACP,CAAC;EACDU,EAAE,EAAE;IACHb,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,kBAAmB,CAAC;IAC9CS,SAAS,EAAET,EAAE,CAAE,kBAAmB,CAAC;IACnCU,IAAI,EAAE;EACP,CAAC;EACDW,EAAE,EAAE;IACHd,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,aAAc,CAAC;IACzCS,SAAS,EAAET,EAAE,CAAE,aAAc,CAAC;IAC9BU,IAAI,EAAE;EACP,CAAC;EACDY,EAAE,EAAE;IACHf,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,YAAa,CAAC;IACxCS,SAAS,EAAET,EAAE,CAAE,YAAa,CAAC;IAC7BU,IAAI,EAAE;EACP,CAAC;EACDa,EAAE,EAAE;IACHhB,KAAK,EAAE,IAAI;IACXC,KAAK,EAAEL,KAAK,GAAG,IAAI,GAAGH,EAAE,CAAE,aAAc,CAAC;IACzCS,SAAS,EAAET,EAAE,CAAE,aAAc,CAAC;IAC9BU,IAAI,EAAE;EACP,CAAC;EACDc,GAAG,EAAE;IACJjB,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,4BAA6B,CAAC;IACzDS,SAAS,EAAET,EAAE,CAAE,4BAA6B,CAAC;IAC7CU,IAAI,EAAE;EACP,CAAC;EACDe,GAAG,EAAE;IACJlB,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,6BAA8B,CAAC;IAC1DS,SAAS,EAAET,EAAE,CAAE,6BAA8B,CAAC;IAC9CU,IAAI,EAAE;EACP,CAAC;EACDgB,GAAG,EAAE;IACJnB,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GACT,KAAK,GACLH,EAAE,CAAE,sDAAuD,CAAC;IAC/DS,SAAS,EAAET,EAAE,CAAE,sCAAuC,CAAC;IACvDU,IAAI,EAAE;EACP,CAAC;EACDiB,GAAG,EAAE;IACJpB,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GACT,KAAK,GACLH,EAAE,CAAE,qDAAsD,CAAC;IAC9DS,SAAS,EAAET,EAAE,CAAE,sCAAuC,CAAC;IACvDU,IAAI,EAAE;EACP,CAAC;EACDkB,KAAK,EAAE;IACNrB,KAAK,EAAE,OAAO;IACdC,KAAK,EAAEL,KAAK,GACT,OAAO,GACPH,EAAE,CAAE,2CAA4C,CAAC;IACpDS,SAAS,EAAET,EAAE,CAAE,2CAA4C,CAAC;IAC5DU,IAAI,EAAE;EACP,CAAC;EACDmB,GAAG,EAAE;IACJtB,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,4BAA6B,CAAC;IACzDS,SAAS,EAAET,EAAE,CAAE,4BAA6B,CAAC;IAC7CU,IAAI,EAAE;EACP,CAAC;EACDoB,GAAG,EAAE;IACJvB,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,6BAA8B,CAAC;IAC1DS,SAAS,EAAET,EAAE,CAAE,6BAA8B,CAAC;IAC9CU,IAAI,EAAE;EACP,CAAC;EACDqB,GAAG,EAAE;IACJxB,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,sCAAuC,CAAC;IACnES,SAAS,EAAET,EAAE,CAAE,sCAAuC,CAAC;IACvDU,IAAI,EAAE;EACP,CAAC;EACDsB,GAAG,EAAE;IACJzB,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,sCAAuC,CAAC;IACnES,SAAS,EAAET,EAAE,CAAE,sCAAuC,CAAC;IACvDU,IAAI,EAAE;EACP,CAAC;EACDuB,KAAK,EAAE;IACN1B,KAAK,EAAE,OAAO;IACdC,KAAK,EAAEL,KAAK,GACT,OAAO,GACPH,EAAE,CAAE,2CAA4C,CAAC;IACpDS,SAAS,EAAET,EAAE,CAAE,2CAA4C,CAAC;IAC5DU,IAAI,EAAE;EACP,CAAC;EACDwB,GAAG,EAAE;IACJ3B,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,8BAA+B,CAAC;IAC3DS,SAAS,EAAET,EAAE,CAAE,8BAA+B,CAAC;IAC/CU,IAAI,EAAE;EACP,CAAC;EACDyB,GAAG,EAAE;IACJ5B,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,+BAAgC,CAAC;IAC5DS,SAAS,EAAET,EAAE,CAAE,+BAAgC,CAAC;IAChDU,IAAI,EAAE;EACP,CAAC;EACD0B,GAAG,EAAE;IACJ7B,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,wCAAyC,CAAC;IACrES,SAAS,EAAET,EAAE,CAAE,wCAAyC,CAAC;IACzDU,IAAI,EAAE;EACP,CAAC;EACD2B,GAAG,EAAE;IACJ9B,KAAK,EAAE,KAAK;IACZC,KAAK,EAAEL,KAAK,GAAG,KAAK,GAAGH,EAAE,CAAE,wCAAyC,CAAC;IACrES,SAAS,EAAET,EAAE,CAAE,wCAAyC,CAAC;IACzDU,IAAI,EAAE;EACP,CAAC;EACD4B,KAAK,EAAE;IACN/B,KAAK,EAAE,OAAO;IACdC,KAAK,EAAEL,KAAK,GACT,OAAO,GACPH,EAAE,CAAE,6CAA8C,CAAC;IACtDS,SAAS,EAAET,EAAE,CAAE,6CAA8C,CAAC;IAC9DU,IAAI,EAAE;EACP,CAAC;EACD6B,KAAK,EAAE;IACNhC,KAAK,EAAE,OAAO;IACdC,KAAK,EAAEL,KAAK,GACT,OAAO,GACPH,EAAE,CAAE,4CAA6C,CAAC;IACrDS,SAAS,EAAET,EAAE,CAAE,4CAA6C,CAAC;IAC7DU,IAAI,EAAE;EACP,CAAC;EACD8B,KAAK,EAAE;IACNjC,KAAK,EAAE,OAAO;IACdC,KAAK,EAAEL,KAAK,GACT,OAAO,GACPH,EAAE,CAAE,0CAA2C,CAAC;IACnDS,SAAS,EAAET,EAAE,CAAE,0CAA2C,CAAC;IAC3DU,IAAI,EAAE;EACP,CAAC;EACD+B,KAAK,EAAE;IACNlC,KAAK,EAAE,OAAO;IACdC,KAAK,EAAEL,KAAK,GACT,OAAO,GACPH,EAAE,CAAE,0CAA2C,CAAC;IACnDS,SAAS,EAAET,EAAE,CAAE,0CAA2C,CAAC;IAC3DU,IAAI,EAAE;EACP;AACD,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMgC,aAAa,GAAGC,MAAM,CAACC,MAAM,CAAEvC,QAAS,CAAC;;AAEtD;AACA;AACA;AACA,OAAO,MAAMwC,SAAS,GAAG,CACxBxC,QAAQ,CAACC,EAAE,EACXD,QAAQ,CAAE,GAAG,CAAE,EACfA,QAAQ,CAACM,EAAE,EACXN,QAAQ,CAACO,GAAG,EACZP,QAAQ,CAACQ,EAAE,EACXR,QAAQ,CAACS,EAAE,CACX;AAED,OAAO,MAAMgC,YAAY,GAAGzC,QAAQ,CAACC,EAAE;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASyC,wBAAwBA,CACvCC,QAA0B,EAC1BC,YAAqB,EACrBC,YAAkC,EACW;EAC7C,MAAMC,YAAY,GAAGF,YAAY,GAC7B,GAAGD,QAAQ,aAARA,QAAQ,cAARA,QAAQ,GAAI,EAAI,GAAGC,YAAc,EAAC,GACtCD,QAAQ;EAEX,OAAOI,gCAAgC,CAAED,YAAY,EAAED,YAAa,CAAC;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,QAAQA,CACvBC,KAA2B,EACI;EAC/B;EACA;EACA;EACA,OAAOC,KAAK,CAACC,OAAO,CAAEF,KAAM,CAAC,IAAI,CAAC,CAAEA,KAAK,CAACG,MAAM;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASL,gCAAgCA,CAC/CJ,QAA0B,EAC1BE,YAAiC,GAAGR,aAAa,EACJ;EAC7C,IAAIgB,YAAY;EAChB,IAAIC,gBAAgB;EAEpB,IAAK,OAAOX,QAAQ,KAAK,WAAW,IAAIA,QAAQ,KAAK,IAAI,EAAG;IAC3DU,YAAY,GAAI,GAAGV,QAAU,EAAC,CAACY,IAAI,CAAC,CAAC;IACrC,MAAMC,cAAc,GAAGC,UAAU,CAAEJ,YAAa,CAAC;IACjDC,gBAAgB,GAAG,CAAEI,QAAQ,CAAEF,cAAe,CAAC,GAC5CG,SAAS,GACTH,cAAc;EAClB;EAEA,MAAMI,SAAS,GAAGP,YAAY,EAAEQ,KAAK,CAAE,mBAAoB,CAAC;EAC5D,MAAMC,WAAW,GAAGF,SAAS,GAAI,CAAC,CAAE,EAAEG,WAAW,CAAC,CAAC;EACnD,IAAIC,YAAgC;EACpC,IAAKhB,QAAQ,CAAEH,YAAa,CAAC,EAAG;IAC/B,MAAMgB,KAAK,GAAGhB,YAAY,CAACoB,IAAI,CAC5BC,IAAI,IAAMA,IAAI,CAAChE,KAAK,KAAK4D,WAC5B,CAAC;IACDE,YAAY,GAAGH,KAAK,EAAE3D,KAAK;EAC5B,CAAC,MAAM;IACN8D,YAAY,GAAGvB,YAAY,CAACvC,KAAK;EAClC;EAEA,OAAO,CAAEoD,gBAAgB,EAAEU,YAAY,CAAE;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,6BAA6BA,CAC5CxB,QAAyB,EACzBE,YAAkC,EAClCuB,gBAAyB,EACzBxB,YAAqB,EACwB;EAC7C,MAAM,CAAEY,cAAc,EAAEa,UAAU,CAAE,GAAGtB,gCAAgC,CACtEJ,QAAQ,EACRE,YACD,CAAC;;EAED;EACA;EACA,MAAMS,gBAAgB,GAAGE,cAAc,aAAdA,cAAc,cAAdA,cAAc,GAAIY,gBAAgB;;EAE3D;EACA;EACA,IAAIJ,YAAY,GAAGK,UAAU,IAAIzB,YAAY;EAE7C,IAAK,CAAEoB,YAAY,IAAIhB,QAAQ,CAAEH,YAAa,CAAC,EAAG;IACjDmB,YAAY,GAAGnB,YAAY,CAAE,CAAC,CAAE,CAAC3C,KAAK;EACvC;EAEA,OAAO,CAAEoD,gBAAgB,EAAEU,YAAY,CAAE;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASM,yBAAyBA,CAAEC,IAAY,EAAuB;EAC7E,MAAMV,KAAK,GAAGxB,aAAa,CAAC4B,IAAI,CAAIC,IAAI,IAAMA,IAAI,CAAChE,KAAK,KAAKqE,IAAK,CAAC;EACnE,OAAOV,KAAK,EAAEzD,SAAS,GAAGyD,KAAK,EAAEzD,SAAS,GAAGyD,KAAK,EAAE3D,KAAK;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASsE,uBAAuBA,CACtCC,iBAA2B,GAAG,EAAE,EAChCC,cAAmC,EACb;EACtB;EACA;EACA;EACA,OAAOxB,KAAK,CAACC,OAAO,CAAEuB,cAAe,CAAC,GACnCA,cAAc,CAACC,MAAM,CAAIJ,IAAI,IAC7BE,iBAAiB,CAACG,QAAQ,CAAEL,IAAI,CAACrE,KAAM,CACvC,CAAC,GACD,EAAE;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAM2E,cAAc,GAAGA,CAAE;EAC/B5B,KAAK,GAAGZ,aAAa;EACrBqC,cAAc,GAAG,EAAE;EACnBI;AAKD,CAAC,KAA2B;EAC3B,MAAMC,mBAAmB,GAAGP,uBAAuB,CAClDE,cAAc,EACdzB,KACD,CAAC;EAED,IAAK6B,aAAa,EAAG;IACpBC,mBAAmB,CAACC,OAAO,CAAE,CAAET,IAAI,EAAEU,CAAC,KAAM;MAC3C,IAAKH,aAAa,CAAEP,IAAI,CAACrE,KAAK,CAAE,EAAG;QAClC,MAAM,CAAEgF,kBAAkB,CAAE,GAAGnC,gCAAgC,CAC9D+B,aAAa,CAAEP,IAAI,CAACrE,KAAK,CAC1B,CAAC;QAED6E,mBAAmB,CAAEE,CAAC,CAAE,CAACE,OAAO,GAAGD,kBAAkB;MACtD;IACD,CAAE,CAAC;EACJ;EAEA,OAAOH,mBAAmB;AAC3B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASK,uBAAuBA,CACtCzC,QAA0B,EAC1B0C,UAAmB,EACnBpC,KAA0B,GAAGZ,aAAa,EACpB;EACtB,MAAMiD,aAAa,GAAGpC,KAAK,CAACC,OAAO,CAAEF,KAAM,CAAC,GAAG,CAAE,GAAGA,KAAK,CAAE,GAAG,EAAE;EAChE,MAAM,GAAIsC,WAAW,CAAE,GAAG7C,wBAAwB,CACjDC,QAAQ,EACR0C,UAAU,EACVhD,aACD,CAAC;EAED,IACCkD,WAAW,IACX,CAAED,aAAa,CAACE,IAAI,CAAIjB,IAAI,IAAMA,IAAI,CAACrE,KAAK,KAAKqF,WAAY,CAAC,EAC7D;IACD,IAAKvF,QAAQ,CAAEuF,WAAW,CAAE,EAAG;MAC9BD,aAAa,CAACG,OAAO,CAAEzF,QAAQ,CAAEuF,WAAW,CAAG,CAAC;IACjD;EACD;EAEA,OAAOD,aAAa;AACrB","ignoreList":[]}