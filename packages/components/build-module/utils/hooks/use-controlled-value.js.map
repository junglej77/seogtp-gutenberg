{"version":3,"names":["useState","useControlledValue","defaultValue","onChange","value","valueProp","hasValue","initialValue","state","setState","setValue","nextValue"],"sources":["@wordpress/components/src/utils/hooks/use-controlled-value.ts"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useState } from '@wordpress/element';\r\n\r\ntype Props< T > = {\r\n\tdefaultValue?: T;\r\n\tvalue?: T;\r\n\tonChange?: ( value: T ) => void;\r\n};\r\n\r\n/**\r\n * Simplified and improved implementation of useControlledState.\r\n *\r\n * @param props\r\n * @param props.defaultValue\r\n * @param props.value\r\n * @param props.onChange\r\n * @return The controlled value and the value setter.\r\n */\r\nexport function useControlledValue< T >( {\r\n\tdefaultValue,\r\n\tonChange,\r\n\tvalue: valueProp,\r\n}: Props< T > ) {\r\n\tconst hasValue = typeof valueProp !== 'undefined';\r\n\tconst initialValue = hasValue ? valueProp : defaultValue;\r\n\tconst [ state, setState ] = useState( initialValue );\r\n\tconst value = hasValue ? valueProp : state;\r\n\r\n\tlet setValue: ( nextValue: T ) => void;\r\n\tif ( hasValue && typeof onChange === 'function' ) {\r\n\t\tsetValue = onChange;\r\n\t} else if ( ! hasValue && typeof onChange === 'function' ) {\r\n\t\tsetValue = ( nextValue ) => {\r\n\t\t\tonChange( nextValue );\r\n\t\t\tsetState( nextValue );\r\n\t\t};\r\n\t} else {\r\n\t\tsetValue = setState;\r\n\t}\r\n\r\n\treturn [ value, setValue as typeof setState ] as const;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,oBAAoB;AAQ7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,kBAAkBA,CAAO;EACxCC,YAAY;EACZC,QAAQ;EACRC,KAAK,EAAEC;AACI,CAAC,EAAG;EACf,MAAMC,QAAQ,GAAG,OAAOD,SAAS,KAAK,WAAW;EACjD,MAAME,YAAY,GAAGD,QAAQ,GAAGD,SAAS,GAAGH,YAAY;EACxD,MAAM,CAAEM,KAAK,EAAEC,QAAQ,CAAE,GAAGT,QAAQ,CAAEO,YAAa,CAAC;EACpD,MAAMH,KAAK,GAAGE,QAAQ,GAAGD,SAAS,GAAGG,KAAK;EAE1C,IAAIE,QAAkC;EACtC,IAAKJ,QAAQ,IAAI,OAAOH,QAAQ,KAAK,UAAU,EAAG;IACjDO,QAAQ,GAAGP,QAAQ;EACpB,CAAC,MAAM,IAAK,CAAEG,QAAQ,IAAI,OAAOH,QAAQ,KAAK,UAAU,EAAG;IAC1DO,QAAQ,GAAKC,SAAS,IAAM;MAC3BR,QAAQ,CAAEQ,SAAU,CAAC;MACrBF,QAAQ,CAAEE,SAAU,CAAC;IACtB,CAAC;EACF,CAAC,MAAM;IACND,QAAQ,GAAGD,QAAQ;EACpB;EAEA,OAAO,CAAEL,KAAK,EAAEM,QAAQ,CAAqB;AAC9C","ignoreList":[]}