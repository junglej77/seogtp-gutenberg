{"version":3,"names":["useRef","useEffect","useUpdateEffect","effect","deps","mountedRef","current","undefined"],"sources":["@wordpress/components/src/utils/hooks/use-update-effect.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useRef, useEffect } from '@wordpress/element';\r\n\r\n/**\r\n * A `React.useEffect` that will not run on the first render.\r\n * Source:\r\n * https://github.com/ariakit/ariakit/blob/main/packages/ariakit-react-core/src/utils/hooks.ts\r\n *\r\n * @param {import('react').EffectCallback} effect\r\n * @param {import('react').DependencyList} deps\r\n */\r\nfunction useUpdateEffect( effect, deps ) {\r\n\tconst mountedRef = useRef( false );\r\n\tuseEffect( () => {\r\n\t\tif ( mountedRef.current ) {\r\n\t\t\treturn effect();\r\n\t\t}\r\n\t\tmountedRef.current = true;\r\n\t\treturn undefined;\r\n\t\t// Disable reasons:\r\n\t\t// 1. This hook needs to pass a dep list that isn't an array literal\r\n\t\t// 2. `effect` is missing from the array, and will need to be added carefully to avoid additional warnings\r\n\t\t// see https://github.com/WordPress/gutenberg/pull/41166\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, deps );\r\n\r\n\tuseEffect(\r\n\t\t() => () => {\r\n\t\t\tmountedRef.current = false;\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n}\r\n\r\nexport default useUpdateEffect;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,SAAS,QAAQ,oBAAoB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,eAAeA,CAAEC,MAAM,EAAEC,IAAI,EAAG;EACxC,MAAMC,UAAU,GAAGL,MAAM,CAAE,KAAM,CAAC;EAClCC,SAAS,CAAE,MAAM;IAChB,IAAKI,UAAU,CAACC,OAAO,EAAG;MACzB,OAAOH,MAAM,CAAC,CAAC;IAChB;IACAE,UAAU,CAACC,OAAO,GAAG,IAAI;IACzB,OAAOC,SAAS;IAChB;IACA;IACA;IACA;IACA;EACD,CAAC,EAAEH,IAAK,CAAC;EAETH,SAAS,CACR,MAAM,MAAM;IACXI,UAAU,CAACC,OAAO,GAAG,KAAK;EAC3B,CAAC,EACD,EACD,CAAC;AACF;AAEA,eAAeJ,eAAe","ignoreList":[]}