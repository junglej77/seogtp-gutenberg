{"version":3,"names":["getNumber","value","number","Number","isNaN","add","args","reduce","sum","arg","subtract","diff","index","getPrecision","split","undefined","length","clamp","min","max","baseValue","Math","roundClamp","Infinity","step","stepValue","precision","rounded","round","clampedValue","toFixed"],"sources":["@wordpress/components/src/utils/math.js"],"sourcesContent":["/**\r\n * Parses and retrieves a number value.\r\n *\r\n * @param {unknown} value The incoming value.\r\n *\r\n * @return {number} The parsed number value.\r\n */\r\nexport function getNumber( value ) {\r\n\tconst number = Number( value );\r\n\r\n\treturn isNaN( number ) ? 0 : number;\r\n}\r\n\r\n/**\r\n * Safely adds 2 values.\r\n *\r\n * @param {Array<number|string>} args Values to add together.\r\n *\r\n * @return {number} The sum of values.\r\n */\r\nexport function add( ...args ) {\r\n\treturn args.reduce(\r\n\t\t/** @type {(sum:number, arg: number|string) => number} */\r\n\t\t( sum, arg ) => sum + getNumber( arg ),\r\n\t\t0\r\n\t);\r\n}\r\n\r\n/**\r\n * Safely subtracts 2 values.\r\n *\r\n * @param {Array<number|string>} args Values to subtract together.\r\n *\r\n * @return {number} The difference of the values.\r\n */\r\nexport function subtract( ...args ) {\r\n\treturn args.reduce(\r\n\t\t/** @type {(diff:number, arg: number|string, index:number) => number} */\r\n\t\t( diff, arg, index ) => {\r\n\t\t\tconst value = getNumber( arg );\r\n\t\t\treturn index === 0 ? value : diff - value;\r\n\t\t},\r\n\t\t0\r\n\t);\r\n}\r\n\r\n/**\r\n * Determines the decimal position of a number value.\r\n *\r\n * @param {number} value The number to evaluate.\r\n *\r\n * @return {number} The number of decimal places.\r\n */\r\nfunction getPrecision( value ) {\r\n\tconst split = ( value + '' ).split( '.' );\r\n\treturn split[ 1 ] !== undefined ? split[ 1 ].length : 0;\r\n}\r\n\r\n/**\r\n * Clamps a value based on a min/max range.\r\n *\r\n * @param {number} value The value.\r\n * @param {number} min   The minimum range.\r\n * @param {number} max   The maximum range.\r\n *\r\n * @return {number} The clamped value.\r\n */\r\nexport function clamp( value, min, max ) {\r\n\tconst baseValue = getNumber( value );\r\n\treturn Math.max( min, Math.min( baseValue, max ) );\r\n}\r\n\r\n/**\r\n * Clamps a value based on a min/max range with rounding\r\n *\r\n * @param {number | string} value The value.\r\n * @param {number}          min   The minimum range.\r\n * @param {number}          max   The maximum range.\r\n * @param {number}          step  A multiplier for the value.\r\n *\r\n * @return {number} The rounded and clamped value.\r\n */\r\nexport function roundClamp(\r\n\tvalue = 0,\r\n\tmin = Infinity,\r\n\tmax = Infinity,\r\n\tstep = 1\r\n) {\r\n\tconst baseValue = getNumber( value );\r\n\tconst stepValue = getNumber( step );\r\n\tconst precision = getPrecision( step );\r\n\tconst rounded = Math.round( baseValue / stepValue ) * stepValue;\r\n\tconst clampedValue = clamp( rounded, min, max );\r\n\r\n\treturn precision\r\n\t\t? getNumber( clampedValue.toFixed( precision ) )\r\n\t\t: clampedValue;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,SAASA,CAAEC,KAAK,EAAG;EAClC,MAAMC,MAAM,GAAGC,MAAM,CAAEF,KAAM,CAAC;EAE9B,OAAOG,KAAK,CAAEF,MAAO,CAAC,GAAG,CAAC,GAAGA,MAAM;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,GAAGA,CAAE,GAAGC,IAAI,EAAG;EAC9B,OAAOA,IAAI,CAACC,MAAM,EACjB;EACA,CAAEC,GAAG,EAAEC,GAAG,KAAMD,GAAG,GAAGR,SAAS,CAAES,GAAI,CAAC,EACtC,CACD,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,QAAQA,CAAE,GAAGJ,IAAI,EAAG;EACnC,OAAOA,IAAI,CAACC,MAAM,EACjB;EACA,CAAEI,IAAI,EAAEF,GAAG,EAAEG,KAAK,KAAM;IACvB,MAAMX,KAAK,GAAGD,SAAS,CAAES,GAAI,CAAC;IAC9B,OAAOG,KAAK,KAAK,CAAC,GAAGX,KAAK,GAAGU,IAAI,GAAGV,KAAK;EAC1C,CAAC,EACD,CACD,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASY,YAAYA,CAAEZ,KAAK,EAAG;EAC9B,MAAMa,KAAK,GAAG,CAAEb,KAAK,GAAG,EAAE,EAAGa,KAAK,CAAE,GAAI,CAAC;EACzC,OAAOA,KAAK,CAAE,CAAC,CAAE,KAAKC,SAAS,GAAGD,KAAK,CAAE,CAAC,CAAE,CAACE,MAAM,GAAG,CAAC;AACxD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,KAAKA,CAAEhB,KAAK,EAAEiB,GAAG,EAAEC,GAAG,EAAG;EACxC,MAAMC,SAAS,GAAGpB,SAAS,CAAEC,KAAM,CAAC;EACpC,OAAOoB,IAAI,CAACF,GAAG,CAAED,GAAG,EAAEG,IAAI,CAACH,GAAG,CAAEE,SAAS,EAAED,GAAI,CAAE,CAAC;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,UAAUA,CACzBrB,KAAK,GAAG,CAAC,EACTiB,GAAG,GAAGK,QAAQ,EACdJ,GAAG,GAAGI,QAAQ,EACdC,IAAI,GAAG,CAAC,EACP;EACD,MAAMJ,SAAS,GAAGpB,SAAS,CAAEC,KAAM,CAAC;EACpC,MAAMwB,SAAS,GAAGzB,SAAS,CAAEwB,IAAK,CAAC;EACnC,MAAME,SAAS,GAAGb,YAAY,CAAEW,IAAK,CAAC;EACtC,MAAMG,OAAO,GAAGN,IAAI,CAACO,KAAK,CAAER,SAAS,GAAGK,SAAU,CAAC,GAAGA,SAAS;EAC/D,MAAMI,YAAY,GAAGZ,KAAK,CAAEU,OAAO,EAAET,GAAG,EAAEC,GAAI,CAAC;EAE/C,OAAOO,SAAS,GACb1B,SAAS,CAAE6B,YAAY,CAACC,OAAO,CAAEJ,SAAU,CAAE,CAAC,GAC9CG,YAAY;AAChB","ignoreList":[]}