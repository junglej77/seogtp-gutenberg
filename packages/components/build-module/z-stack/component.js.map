{"version":3,"names":["isValidElement","getValidChildren","contextConnect","useContextSystem","ZStackView","ZStackChildView","jsx","_jsx","UnconnectedZStack","props","forwardedRef","children","className","isLayered","isReversed","offset","otherProps","validChildren","childrenLastIndex","length","clonedChildren","map","child","index","zIndex","offsetAmount","key","ref","ZStack"],"sources":["@wordpress/components/src/z-stack/component.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type { ForwardedRef } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { isValidElement } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { getValidChildren } from '../utils/get-valid-children';\r\nimport { contextConnect, useContextSystem } from '../context';\r\nimport { ZStackView, ZStackChildView } from './styles';\r\nimport type { ZStackProps } from './types';\r\nimport type { WordPressComponentProps } from '../context';\r\n\r\nfunction UnconnectedZStack(\r\n\tprops: WordPressComponentProps< ZStackProps, 'div' >,\r\n\tforwardedRef: ForwardedRef< any >\r\n) {\r\n\tconst {\r\n\t\tchildren,\r\n\t\tclassName,\r\n\t\tisLayered = true,\r\n\t\tisReversed = false,\r\n\t\toffset = 0,\r\n\t\t...otherProps\r\n\t} = useContextSystem( props, 'ZStack' );\r\n\r\n\tconst validChildren = getValidChildren( children );\r\n\tconst childrenLastIndex = validChildren.length - 1;\r\n\r\n\tconst clonedChildren = validChildren.map( ( child, index ) => {\r\n\t\tconst zIndex = isReversed ? childrenLastIndex - index : index;\r\n\t\t// Only when the component is layered, the offset needs to be multiplied by\r\n\t\t// the item's index, so that items can correctly stack at the right distance\r\n\t\tconst offsetAmount = isLayered ? offset * index : offset;\r\n\r\n\t\tconst key = isValidElement( child ) ? child.key : index;\r\n\r\n\t\treturn (\r\n\t\t\t<ZStackChildView\r\n\t\t\t\toffsetAmount={ offsetAmount }\r\n\t\t\t\tzIndex={ zIndex }\r\n\t\t\t\tkey={ key }\r\n\t\t\t>\r\n\t\t\t\t{ child }\r\n\t\t\t</ZStackChildView>\r\n\t\t);\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<ZStackView\r\n\t\t\t{ ...otherProps }\r\n\t\t\tclassName={ className }\r\n\t\t\tisLayered={ isLayered }\r\n\t\t\tref={ forwardedRef }\r\n\t\t>\r\n\t\t\t{ clonedChildren }\r\n\t\t</ZStackView>\r\n\t);\r\n}\r\n\r\n/**\r\n * `ZStack` allows you to stack things along the Z-axis.\r\n *\r\n * ```jsx\r\n * import { __experimentalZStack as ZStack } from '@wordpress/components';\r\n *\r\n * function Example() {\r\n *   return (\r\n *     <ZStack offset={ 20 } isLayered>\r\n *       <ExampleImage />\r\n *       <ExampleImage />\r\n *       <ExampleImage />\r\n *     </ZStack>\r\n *   );\r\n * }\r\n * ```\r\n */\r\nexport const ZStack = contextConnect( UnconnectedZStack, 'ZStack' );\r\n\r\nexport default ZStack;\r\n"],"mappings":"AAAA;AACA;AACA;;AAGA;AACA;AACA;AACA,SAASA,cAAc,QAAQ,oBAAoB;;AAEnD;AACA;AACA;AACA,SAASC,gBAAgB,QAAQ,6BAA6B;AAC9D,SAASC,cAAc,EAAEC,gBAAgB,QAAQ,YAAY;AAC7D,SAASC,UAAU,EAAEC,eAAe,QAAQ,UAAU;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAIvD,SAASC,iBAAiBA,CACzBC,KAAoD,EACpDC,YAAiC,EAChC;EACD,MAAM;IACLC,QAAQ;IACRC,SAAS;IACTC,SAAS,GAAG,IAAI;IAChBC,UAAU,GAAG,KAAK;IAClBC,MAAM,GAAG,CAAC;IACV,GAAGC;EACJ,CAAC,GAAGb,gBAAgB,CAAEM,KAAK,EAAE,QAAS,CAAC;EAEvC,MAAMQ,aAAa,GAAGhB,gBAAgB,CAAEU,QAAS,CAAC;EAClD,MAAMO,iBAAiB,GAAGD,aAAa,CAACE,MAAM,GAAG,CAAC;EAElD,MAAMC,cAAc,GAAGH,aAAa,CAACI,GAAG,CAAE,CAAEC,KAAK,EAAEC,KAAK,KAAM;IAC7D,MAAMC,MAAM,GAAGV,UAAU,GAAGI,iBAAiB,GAAGK,KAAK,GAAGA,KAAK;IAC7D;IACA;IACA,MAAME,YAAY,GAAGZ,SAAS,GAAGE,MAAM,GAAGQ,KAAK,GAAGR,MAAM;IAExD,MAAMW,GAAG,GAAG1B,cAAc,CAAEsB,KAAM,CAAC,GAAGA,KAAK,CAACI,GAAG,GAAGH,KAAK;IAEvD,oBACChB,IAAA,CAACF,eAAe;MACfoB,YAAY,EAAGA,YAAc;MAC7BD,MAAM,EAAGA,MAAQ;MAAAb,QAAA,EAGfW;IAAK,GAFDI,GAGU,CAAC;EAEpB,CAAE,CAAC;EAEH,oBACCnB,IAAA,CAACH,UAAU;IAAA,GACLY,UAAU;IACfJ,SAAS,EAAGA,SAAW;IACvBC,SAAS,EAAGA,SAAW;IACvBc,GAAG,EAAGjB,YAAc;IAAAC,QAAA,EAElBS;EAAc,CACL,CAAC;AAEf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMQ,MAAM,GAAG1B,cAAc,CAAEM,iBAAiB,EAAE,QAAS,CAAC;AAEnE,eAAeoB,MAAM","ignoreList":[]}