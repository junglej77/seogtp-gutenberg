{"version":3,"names":["useRef","useInsertionEffect","useCallback","useEvent","callback","ref","Error","current","args"],"sources":["@wordpress/compose/src/hooks/use-event/index.ts"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useRef, useInsertionEffect, useCallback } from '@wordpress/element';\r\n\r\n/**\r\n * Any function.\r\n */\r\nexport type AnyFunction = ( ...args: any ) => any;\r\n\r\n/**\r\n * Creates a stable callback function that has access to the latest state and\r\n * can be used within event handlers and effect callbacks. Throws when used in\r\n * the render phase.\r\n *\r\n * @param callback The callback function to wrap.\r\n *\r\n * @example\r\n *\r\n * ```tsx\r\n * function Component( props ) {\r\n *   const onClick = useEvent( props.onClick );\r\n *   useEffect( () => {\r\n *     onClick();\r\n *     // Won't trigger the effect again when props.onClick is updated.\r\n *   }, [ onClick ] );\r\n *   // Won't re-render Button when props.onClick is updated (if `Button` is\r\n *   // wrapped in `React.memo`).\r\n *   return <Button onClick={ onClick } />;\r\n * }\r\n * ```\r\n */\r\nexport default function useEvent< T extends AnyFunction >(\r\n\t/**\r\n\t * The callback function to wrap.\r\n\t */\r\n\tcallback?: T\r\n) {\r\n\tconst ref = useRef< AnyFunction | undefined >( () => {\r\n\t\tthrow new Error(\r\n\t\t\t'Callbacks created with `useEvent` cannot be called during rendering.'\r\n\t\t);\r\n\t} );\r\n\tuseInsertionEffect( () => {\r\n\t\tref.current = callback;\r\n\t} );\r\n\treturn useCallback< AnyFunction >(\r\n\t\t( ...args ) => ref.current?.( ...args ),\r\n\t\t[]\r\n\t) as T;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,kBAAkB,EAAEC,WAAW,QAAQ,oBAAoB;;AAE5E;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,QAAQA;AAC/B;AACD;AACA;AACCC,QAAY,EACX;EACD,MAAMC,GAAG,GAAGL,MAAM,CAA6B,MAAM;IACpD,MAAM,IAAIM,KAAK,CACd,sEACD,CAAC;EACF,CAAE,CAAC;EACHL,kBAAkB,CAAE,MAAM;IACzBI,GAAG,CAACE,OAAO,GAAGH,QAAQ;EACvB,CAAE,CAAC;EACH,OAAOF,WAAW,CACjB,CAAE,GAAGM,IAAI,KAAMH,GAAG,CAACE,OAAO,GAAI,GAAGC,IAAK,CAAC,EACvC,EACD,CAAC;AACF","ignoreList":[]}