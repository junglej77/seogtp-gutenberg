{"version":3,"names":["useEffect","useState","requestConnectionStatus","subscribeConnectionStatus","useNetworkConnectivity","isConnected","setIsConnected","isCurrent","isBridgeConnected","subscription","remove"],"sources":["@wordpress/compose/src/hooks/use-network-connectivity/index.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useState } from '@wordpress/element';\r\nimport {\r\n\trequestConnectionStatus,\r\n\tsubscribeConnectionStatus,\r\n} from '@wordpress/react-native-bridge';\r\n\r\n/**\r\n * @typedef {Object} NetworkInformation\r\n *\r\n * @property {boolean} [isConnected] Whether the device is connected to a network.\r\n */\r\n\r\n/**\r\n * Returns the current network connectivity status provided by the native bridge.\r\n *\r\n * @example\r\n *\r\n * ```jsx\r\n * const { isConnected } = useNetworkConnectivity();\r\n * ```\r\n *\r\n * @return {NetworkInformation} Network information.\r\n */\r\nexport default function useNetworkConnectivity() {\r\n\tconst [ isConnected, setIsConnected ] = useState( true );\r\n\r\n\tuseEffect( () => {\r\n\t\tlet isCurrent = true;\r\n\r\n\t\trequestConnectionStatus( ( isBridgeConnected ) => {\r\n\t\t\tif ( ! isCurrent ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsetIsConnected( isBridgeConnected );\r\n\t\t} );\r\n\r\n\t\treturn () => {\r\n\t\t\tisCurrent = false;\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tuseEffect( () => {\r\n\t\tconst subscription = subscribeConnectionStatus(\r\n\t\t\t( { isConnected: isBridgeConnected } ) => {\r\n\t\t\t\tsetIsConnected( isBridgeConnected );\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\tsubscription.remove();\r\n\t\t};\r\n\t}, [] );\r\n\r\n\treturn { isConnected };\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;AACxD,SACCC,uBAAuB,EACvBC,yBAAyB,QACnB,gCAAgC;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,sBAAsBA,CAAA,EAAG;EAChD,MAAM,CAAEC,WAAW,EAAEC,cAAc,CAAE,GAAGL,QAAQ,CAAE,IAAK,CAAC;EAExDD,SAAS,CAAE,MAAM;IAChB,IAAIO,SAAS,GAAG,IAAI;IAEpBL,uBAAuB,CAAIM,iBAAiB,IAAM;MACjD,IAAK,CAAED,SAAS,EAAG;QAClB;MACD;MAEAD,cAAc,CAAEE,iBAAkB,CAAC;IACpC,CAAE,CAAC;IAEH,OAAO,MAAM;MACZD,SAAS,GAAG,KAAK;IAClB,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEPP,SAAS,CAAE,MAAM;IAChB,MAAMS,YAAY,GAAGN,yBAAyB,CAC7C,CAAE;MAAEE,WAAW,EAAEG;IAAkB,CAAC,KAAM;MACzCF,cAAc,CAAEE,iBAAkB,CAAC;IACpC,CACD,CAAC;IAED,OAAO,MAAM;MACZC,YAAY,CAACC,MAAM,CAAC,CAAC;IACtB,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,OAAO;IAAEL;EAAY,CAAC;AACvB","ignoreList":[]}