{"version":3,"names":["View","StyleSheet","useState","useCallback","jsx","_jsx","useResizeObserver","measurements","setMeasurements","onLayout","nativeEvent","width","height","layout","prevState","Math","floor","observer","testID","style","absoluteFill"],"sources":["@wordpress/compose/src/hooks/use-resize-observer/_legacy/index.native.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { View, StyleSheet } from 'react-native';\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useState, useCallback } from '@wordpress/element';\r\n\r\n/**\r\n * Hook which allows to listen the resize event of any target element when it changes sizes.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * const App = () => {\r\n * \tconst [ resizeListener, sizes ] = useResizeObserver();\r\n *\r\n * \treturn (\r\n * \t\t<View>\r\n * \t\t\t{ resizeListener }\r\n * \t\t\tYour content here\r\n * \t\t</View>\r\n * \t);\r\n * };\r\n * ```\r\n */\r\nconst useResizeObserver = () => {\r\n\tconst [ measurements, setMeasurements ] = useState( null );\r\n\r\n\tconst onLayout = useCallback( ( { nativeEvent } ) => {\r\n\t\tconst { width, height } = nativeEvent.layout;\r\n\t\tsetMeasurements( ( prevState ) => {\r\n\t\t\tif (\r\n\t\t\t\t! prevState ||\r\n\t\t\t\tprevState.width !== width ||\r\n\t\t\t\tprevState.height !== height\r\n\t\t\t) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: Math.floor( width ),\r\n\t\t\t\t\theight: Math.floor( height ),\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn prevState;\r\n\t\t} );\r\n\t}, [] );\r\n\r\n\tconst observer = (\r\n\t\t<View\r\n\t\t\ttestID=\"resize-observer\"\r\n\t\t\tstyle={ StyleSheet.absoluteFill }\r\n\t\t\tonLayout={ onLayout }\r\n\t\t/>\r\n\t);\r\n\r\n\treturn [ observer, measurements ];\r\n};\r\n\r\nexport default useResizeObserver;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,IAAI,EAAEC,UAAU,QAAQ,cAAc;AAC/C;AACA;AACA;AACA,SAASC,QAAQ,EAAEC,WAAW,QAAQ,oBAAoB;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA,SAAAC,GAAA,IAAAC,IAAA;AAkBA,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAC/B,MAAM,CAAEC,YAAY,EAAEC,eAAe,CAAE,GAAGN,QAAQ,CAAE,IAAK,CAAC;EAE1D,MAAMO,QAAQ,GAAGN,WAAW,CAAE,CAAE;IAAEO;EAAY,CAAC,KAAM;IACpD,MAAM;MAAEC,KAAK;MAAEC;IAAO,CAAC,GAAGF,WAAW,CAACG,MAAM;IAC5CL,eAAe,CAAIM,SAAS,IAAM;MACjC,IACC,CAAEA,SAAS,IACXA,SAAS,CAACH,KAAK,KAAKA,KAAK,IACzBG,SAAS,CAACF,MAAM,KAAKA,MAAM,EAC1B;QACD,OAAO;UACND,KAAK,EAAEI,IAAI,CAACC,KAAK,CAAEL,KAAM,CAAC;UAC1BC,MAAM,EAAEG,IAAI,CAACC,KAAK,CAAEJ,MAAO;QAC5B,CAAC;MACF;MACA,OAAOE,SAAS;IACjB,CAAE,CAAC;EACJ,CAAC,EAAE,EAAG,CAAC;EAEP,MAAMG,QAAQ,gBACbZ,IAAA,CAACL,IAAI;IACJkB,MAAM,EAAC,iBAAiB;IACxBC,KAAK,EAAGlB,UAAU,CAACmB,YAAc;IACjCX,QAAQ,EAAGA;EAAU,CACrB,CACD;EAED,OAAO,CAAEQ,QAAQ,EAAEV,YAAY,CAAE;AAClC,CAAC;AAED,eAAeD,iBAAiB","ignoreList":[]}