{"version":3,"names":["debounce","throttle","func","wait","options","leading","trailing","maxWait"],"sources":["@wordpress/compose/src/utils/throttle/index.ts"],"sourcesContent":["/**\r\n * Parts of this source were derived and modified from lodash,\r\n * released under the MIT license.\r\n *\r\n * https://github.com/lodash/lodash\r\n *\r\n * Copyright JS Foundation and other contributors <https://js.foundation/>\r\n *\r\n * Based on Underscore.js, copyright Jeremy Ashkenas,\r\n * DocumentCloud and Investigative Reporters & Editors <http://underscorejs.org/>\r\n *\r\n * This software consists of voluntary contributions made by many\r\n * individuals. For exact contribution history, see the revision history\r\n * available at https://github.com/lodash/lodash\r\n *\r\n * The following license applies to all parts of this software except as\r\n * documented below:\r\n *\r\n * ====\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { debounce } from '../debounce';\r\n\r\nexport interface ThrottleOptions {\r\n\tleading?: boolean;\r\n\ttrailing?: boolean;\r\n}\r\n\r\n/**\r\n * A simplified and properly typed version of lodash's `throttle`, that\r\n * always uses timers instead of sometimes using rAF.\r\n *\r\n * Creates a throttled function that only invokes `func` at most once per\r\n * every `wait` milliseconds. The throttled function comes with a `cancel`\r\n * method to cancel delayed `func` invocations and a `flush` method to\r\n * immediately invoke them. Provide `options` to indicate whether `func`\r\n * should be invoked on the leading and/or trailing edge of the `wait`\r\n * timeout. The `func` is invoked with the last arguments provided to the\r\n * throttled function. Subsequent calls to the throttled function return\r\n * the result of the last `func` invocation.\r\n *\r\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\r\n * invoked on the trailing edge of the timeout only if the throttled function\r\n * is invoked more than once during the `wait` timeout.\r\n *\r\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\r\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\r\n *\r\n * @param {Function}                   func             The function to throttle.\r\n * @param {number}                     wait             The number of milliseconds to throttle invocations to.\r\n * @param {Partial< ThrottleOptions >} options          The options object.\r\n * @param {boolean}                    options.leading  Specify invoking on the leading edge of the timeout.\r\n * @param {boolean}                    options.trailing Specify invoking on the trailing edge of the timeout.\r\n * @return Returns the new throttled function.\r\n */\r\nexport const throttle = < FunctionT extends ( ...args: unknown[] ) => unknown >(\r\n\tfunc: FunctionT,\r\n\twait: number,\r\n\toptions?: ThrottleOptions\r\n) => {\r\n\tlet leading = true;\r\n\tlet trailing = true;\r\n\r\n\tif ( options ) {\r\n\t\tleading = 'leading' in options ? !! options.leading : leading;\r\n\t\ttrailing = 'trailing' in options ? !! options.trailing : trailing;\r\n\t}\r\n\treturn debounce( func, wait, {\r\n\t\tleading,\r\n\t\ttrailing,\r\n\t\tmaxWait: wait,\r\n\t} );\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,aAAa;AAOtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,QAAQ,GAAGA,CACvBC,IAAe,EACfC,IAAY,EACZC,OAAyB,KACrB;EACJ,IAAIC,OAAO,GAAG,IAAI;EAClB,IAAIC,QAAQ,GAAG,IAAI;EAEnB,IAAKF,OAAO,EAAG;IACdC,OAAO,GAAG,SAAS,IAAID,OAAO,GAAG,CAAC,CAAEA,OAAO,CAACC,OAAO,GAAGA,OAAO;IAC7DC,QAAQ,GAAG,UAAU,IAAIF,OAAO,GAAG,CAAC,CAAEA,OAAO,CAACE,QAAQ,GAAGA,QAAQ;EAClE;EACA,OAAON,QAAQ,CAAEE,IAAI,EAAEC,IAAI,EAAE;IAC5BE,OAAO;IACPC,QAAQ;IACRC,OAAO,EAAEJ;EACV,CAAE,CAAC;AACJ,CAAC","ignoreList":[]}