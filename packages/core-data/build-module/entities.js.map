{"version":3,"names":["capitalCase","pascalCase","apiFetch","__","RichTextData","addEntities","getSyncProvider","DEFAULT_ENTITY_KEY","POST_RAW_ATTRIBUTES","rootEntitiesConfig","label","kind","name","baseURL","baseURLParams","_fields","join","plural","syncConfig","fetch","path","applyChangesToDoc","doc","changes","document","getMap","Object","entries","forEach","key","value","get","set","fromCRDTDoc","toJSON","syncObjectType","getSyncObjectId","context","id","rawAttributes","supportsPagination","transientEdits","blocks","getTitle","record","title","rendered","getRevisionsUrl","parentId","revisionId","additionalEntityConfigLoaders","loadEntities","loadPostTypeEntities","loadTaxonomyEntities","loadSiteEntity","prePersistPostType","persistedRecord","edits","newEdits","status","serialisableBlocksCache","WeakMap","makeBlockAttributesSerializable","attributes","newAttributes","valueOf","makeBlocksSerializable","map","block","innerBlocks","rest","postTypes","postType","_postType$rest_namesp","isTemplate","includes","namespace","rest_namespace","rest_base","selection","mergedEdits","meta","_record$slug","slug","String","__unstablePrePersist","undefined","__unstable_rest_base","has","revisionKey","taxonomies","taxonomy","_taxonomy$rest_namesp","_site$schema$properti","entity","site","method","labels","schema","properties","getMethodName","prefix","kindPrefix","suffix","registerSyncConfigs","configs","register","editSyncConfig","getOrLoadEntitiesConfig","select","dispatch","getEntitiesConfig","hasConfig","getEntityConfig","length","window","__experimentalEnableSync","globalThis","IS_GUTENBERG_PLUGIN","loader","find","l"],"sources":["@wordpress/core-data/src/entities.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { capitalCase, pascalCase } from 'change-case';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { RichTextData } from '@wordpress/rich-text';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { addEntities } from './actions';\r\nimport { getSyncProvider } from './sync';\r\n\r\nexport const DEFAULT_ENTITY_KEY = 'id';\r\n\r\nconst POST_RAW_ATTRIBUTES = [ 'title', 'excerpt', 'content' ];\r\n\r\nexport const rootEntitiesConfig = [\r\n\t{\r\n\t\tlabel: __( 'Base' ),\r\n\t\tkind: 'root',\r\n\t\tname: '__unstableBase',\r\n\t\tbaseURL: '/',\r\n\t\tbaseURLParams: {\r\n\t\t\t_fields: [\r\n\t\t\t\t'description',\r\n\t\t\t\t'gmt_offset',\r\n\t\t\t\t'home',\r\n\t\t\t\t'name',\r\n\t\t\t\t'site_icon',\r\n\t\t\t\t'site_icon_url',\r\n\t\t\t\t'site_logo',\r\n\t\t\t\t'timezone_string',\r\n\t\t\t\t'url',\r\n\t\t\t].join( ',' ),\r\n\t\t},\r\n\t\t// The entity doesn't support selecting multiple records.\r\n\t\t// The property is maintained for backward compatibility.\r\n\t\tplural: '__unstableBases',\r\n\t\tsyncConfig: {\r\n\t\t\tfetch: async () => {\r\n\t\t\t\treturn apiFetch( { path: '/' } );\r\n\t\t\t},\r\n\t\t\tapplyChangesToDoc: ( doc, changes ) => {\r\n\t\t\t\tconst document = doc.getMap( 'document' );\r\n\t\t\t\tObject.entries( changes ).forEach( ( [ key, value ] ) => {\r\n\t\t\t\t\tif ( document.get( key ) !== value ) {\r\n\t\t\t\t\t\tdocument.set( key, value );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t\tfromCRDTDoc: ( doc ) => {\r\n\t\t\t\treturn doc.getMap( 'document' ).toJSON();\r\n\t\t\t},\r\n\t\t},\r\n\t\tsyncObjectType: 'root/base',\r\n\t\tgetSyncObjectId: () => 'index',\r\n\t},\r\n\t{\r\n\t\tlabel: __( 'Post Type' ),\r\n\t\tname: 'postType',\r\n\t\tkind: 'root',\r\n\t\tkey: 'slug',\r\n\t\tbaseURL: '/wp/v2/types',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'postTypes',\r\n\t\tsyncConfig: {\r\n\t\t\tfetch: async ( id ) => {\r\n\t\t\t\treturn apiFetch( {\r\n\t\t\t\t\tpath: `/wp/v2/types/${ id }?context=edit`,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t\tapplyChangesToDoc: ( doc, changes ) => {\r\n\t\t\t\tconst document = doc.getMap( 'document' );\r\n\t\t\t\tObject.entries( changes ).forEach( ( [ key, value ] ) => {\r\n\t\t\t\t\tif ( document.get( key ) !== value ) {\r\n\t\t\t\t\t\tdocument.set( key, value );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t\tfromCRDTDoc: ( doc ) => {\r\n\t\t\t\treturn doc.getMap( 'document' ).toJSON();\r\n\t\t\t},\r\n\t\t},\r\n\t\tsyncObjectType: 'root/postType',\r\n\t\tgetSyncObjectId: ( id ) => id,\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/media',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'mediaItems',\r\n\t\tlabel: __( 'Media' ),\r\n\t\trawAttributes: [ 'caption', 'title', 'description' ],\r\n\t\tsupportsPagination: true,\r\n\t},\r\n\t{\r\n\t\tname: 'taxonomy',\r\n\t\tkind: 'root',\r\n\t\tkey: 'slug',\r\n\t\tbaseURL: '/wp/v2/taxonomies',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'taxonomies',\r\n\t\tlabel: __( 'Taxonomy' ),\r\n\t},\r\n\t{\r\n\t\tname: 'sidebar',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/sidebars',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'sidebars',\r\n\t\ttransientEdits: { blocks: true },\r\n\t\tlabel: __( 'Widget areas' ),\r\n\t},\r\n\t{\r\n\t\tname: 'widget',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/widgets',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'widgets',\r\n\t\ttransientEdits: { blocks: true },\r\n\t\tlabel: __( 'Widgets' ),\r\n\t},\r\n\t{\r\n\t\tname: 'widgetType',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/widget-types',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'widgetTypes',\r\n\t\tlabel: __( 'Widget types' ),\r\n\t},\r\n\t{\r\n\t\tlabel: __( 'User' ),\r\n\t\tname: 'user',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/users',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'users',\r\n\t},\r\n\t{\r\n\t\tname: 'comment',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/comments',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'comments',\r\n\t\tlabel: __( 'Comment' ),\r\n\t},\r\n\t{\r\n\t\tname: 'menu',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/menus',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'menus',\r\n\t\tlabel: __( 'Menu' ),\r\n\t},\r\n\t{\r\n\t\tname: 'menuItem',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/menu-items',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'menuItems',\r\n\t\tlabel: __( 'Menu Item' ),\r\n\t\trawAttributes: [ 'title' ],\r\n\t},\r\n\t{\r\n\t\tname: 'menuLocation',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/menu-locations',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'menuLocations',\r\n\t\tlabel: __( 'Menu Location' ),\r\n\t\tkey: 'name',\r\n\t},\r\n\t{\r\n\t\tlabel: __( 'Global Styles' ),\r\n\t\tname: 'globalStyles',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/global-styles',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'globalStylesVariations', // Should be different from name.\r\n\t\tgetTitle: ( record ) => record?.title?.rendered || record?.title,\r\n\t\tgetRevisionsUrl: ( parentId, revisionId ) =>\r\n\t\t\t`/wp/v2/global-styles/${ parentId }/revisions${\r\n\t\t\t\trevisionId ? '/' + revisionId : ''\r\n\t\t\t}`,\r\n\t\tsupportsPagination: true,\r\n\t},\r\n\t{\r\n\t\tlabel: __( 'Themes' ),\r\n\t\tname: 'theme',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/themes',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'themes',\r\n\t\tkey: 'stylesheet',\r\n\t},\r\n\t{\r\n\t\tlabel: __( 'Plugins' ),\r\n\t\tname: 'plugin',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/plugins',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'plugins',\r\n\t\tkey: 'plugin',\r\n\t},\r\n\t{\r\n\t\tlabel: __( 'Status' ),\r\n\t\tname: 'status',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/statuses',\r\n\t\tbaseURLParams: { context: 'edit' },\r\n\t\tplural: 'statuses',\r\n\t\tkey: 'slug',\r\n\t},\r\n];\r\n\r\nexport const additionalEntityConfigLoaders = [\r\n\t{ kind: 'postType', loadEntities: loadPostTypeEntities },\r\n\t{ kind: 'taxonomy', loadEntities: loadTaxonomyEntities },\r\n\t{\r\n\t\tkind: 'root',\r\n\t\tname: 'site',\r\n\t\tplural: 'sites',\r\n\t\tloadEntities: loadSiteEntity,\r\n\t},\r\n];\r\n\r\n/**\r\n * Returns a function to be used to retrieve extra edits to apply before persisting a post type.\r\n *\r\n * @param {Object} persistedRecord Already persisted Post\r\n * @param {Object} edits           Edits.\r\n * @return {Object} Updated edits.\r\n */\r\nexport const prePersistPostType = ( persistedRecord, edits ) => {\r\n\tconst newEdits = {};\r\n\r\n\tif ( persistedRecord?.status === 'auto-draft' ) {\r\n\t\t// Saving an auto-draft should create a draft by default.\r\n\t\tif ( ! edits.status && ! newEdits.status ) {\r\n\t\t\tnewEdits.status = 'draft';\r\n\t\t}\r\n\r\n\t\t// Fix the auto-draft default title.\r\n\t\tif (\r\n\t\t\t( ! edits.title || edits.title === 'Auto Draft' ) &&\r\n\t\t\t! newEdits.title &&\r\n\t\t\t( ! persistedRecord?.title ||\r\n\t\t\t\tpersistedRecord?.title === 'Auto Draft' )\r\n\t\t) {\r\n\t\t\tnewEdits.title = '';\r\n\t\t}\r\n\t}\r\n\r\n\treturn newEdits;\r\n};\r\n\r\nconst serialisableBlocksCache = new WeakMap();\r\n\r\nfunction makeBlockAttributesSerializable( attributes ) {\r\n\tconst newAttributes = { ...attributes };\r\n\tfor ( const [ key, value ] of Object.entries( attributes ) ) {\r\n\t\tif ( value instanceof RichTextData ) {\r\n\t\t\tnewAttributes[ key ] = value.valueOf();\r\n\t\t}\r\n\t}\r\n\treturn newAttributes;\r\n}\r\n\r\nfunction makeBlocksSerializable( blocks ) {\r\n\treturn blocks.map( ( block ) => {\r\n\t\tconst { innerBlocks, attributes, ...rest } = block;\r\n\t\treturn {\r\n\t\t\t...rest,\r\n\t\t\tattributes: makeBlockAttributesSerializable( attributes ),\r\n\t\t\tinnerBlocks: makeBlocksSerializable( innerBlocks ),\r\n\t\t};\r\n\t} );\r\n}\r\n\r\n/**\r\n * Returns the list of post type entities.\r\n *\r\n * @return {Promise} Entities promise\r\n */\r\nasync function loadPostTypeEntities() {\r\n\tconst postTypes = await apiFetch( {\r\n\t\tpath: '/wp/v2/types?context=view',\r\n\t} );\r\n\treturn Object.entries( postTypes ?? {} ).map( ( [ name, postType ] ) => {\r\n\t\tconst isTemplate = [ 'wp_template', 'wp_template_part' ].includes(\r\n\t\t\tname\r\n\t\t);\r\n\t\tconst namespace = postType?.rest_namespace ?? 'wp/v2';\r\n\t\treturn {\r\n\t\t\tkind: 'postType',\r\n\t\t\tbaseURL: `/${ namespace }/${ postType.rest_base }`,\r\n\t\t\tbaseURLParams: { context: 'edit' },\r\n\t\t\tname,\r\n\t\t\tlabel: postType.name,\r\n\t\t\ttransientEdits: {\r\n\t\t\t\tblocks: true,\r\n\t\t\t\tselection: true,\r\n\t\t\t},\r\n\t\t\tmergedEdits: { meta: true },\r\n\t\t\trawAttributes: POST_RAW_ATTRIBUTES,\r\n\t\t\tgetTitle: ( record ) =>\r\n\t\t\t\trecord?.title?.rendered ||\r\n\t\t\t\trecord?.title ||\r\n\t\t\t\t( isTemplate\r\n\t\t\t\t\t? capitalCase( record.slug ?? '' )\r\n\t\t\t\t\t: String( record.id ) ),\r\n\t\t\t__unstablePrePersist: isTemplate ? undefined : prePersistPostType,\r\n\t\t\t__unstable_rest_base: postType.rest_base,\r\n\t\t\tsyncConfig: {\r\n\t\t\t\tfetch: async ( id ) => {\r\n\t\t\t\t\treturn apiFetch( {\r\n\t\t\t\t\t\tpath: `/${ namespace }/${ postType.rest_base }/${ id }?context=edit`,\r\n\t\t\t\t\t} );\r\n\t\t\t\t},\r\n\t\t\t\tapplyChangesToDoc: ( doc, changes ) => {\r\n\t\t\t\t\tconst document = doc.getMap( 'document' );\r\n\r\n\t\t\t\t\tObject.entries( changes ).forEach( ( [ key, value ] ) => {\r\n\t\t\t\t\t\tif ( typeof value !== 'function' ) {\r\n\t\t\t\t\t\t\tif ( key === 'blocks' ) {\r\n\t\t\t\t\t\t\t\tif ( ! serialisableBlocksCache.has( value ) ) {\r\n\t\t\t\t\t\t\t\t\tserialisableBlocksCache.set(\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tmakeBlocksSerializable( value )\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvalue = serialisableBlocksCache.get( value );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( document.get( key ) !== value ) {\r\n\t\t\t\t\t\t\t\tdocument.set( key, value );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t},\r\n\t\t\t\tfromCRDTDoc: ( doc ) => {\r\n\t\t\t\t\treturn doc.getMap( 'document' ).toJSON();\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tsyncObjectType: 'postType/' + postType.name,\r\n\t\t\tgetSyncObjectId: ( id ) => id,\r\n\t\t\tsupportsPagination: true,\r\n\t\t\tgetRevisionsUrl: ( parentId, revisionId ) =>\r\n\t\t\t\t`/${ namespace }/${\r\n\t\t\t\t\tpostType.rest_base\r\n\t\t\t\t}/${ parentId }/revisions${\r\n\t\t\t\t\trevisionId ? '/' + revisionId : ''\r\n\t\t\t\t}`,\r\n\t\t\trevisionKey: isTemplate ? 'wp_id' : DEFAULT_ENTITY_KEY,\r\n\t\t};\r\n\t} );\r\n}\r\n\r\n/**\r\n * Returns the list of the taxonomies entities.\r\n *\r\n * @return {Promise} Entities promise\r\n */\r\nasync function loadTaxonomyEntities() {\r\n\tconst taxonomies = await apiFetch( {\r\n\t\tpath: '/wp/v2/taxonomies?context=view',\r\n\t} );\r\n\treturn Object.entries( taxonomies ?? {} ).map( ( [ name, taxonomy ] ) => {\r\n\t\tconst namespace = taxonomy?.rest_namespace ?? 'wp/v2';\r\n\t\treturn {\r\n\t\t\tkind: 'taxonomy',\r\n\t\t\tbaseURL: `/${ namespace }/${ taxonomy.rest_base }`,\r\n\t\t\tbaseURLParams: { context: 'edit' },\r\n\t\t\tname,\r\n\t\t\tlabel: taxonomy.name,\r\n\t\t};\r\n\t} );\r\n}\r\n\r\n/**\r\n * Returns the Site entity.\r\n *\r\n * @return {Promise} Entity promise\r\n */\r\nasync function loadSiteEntity() {\r\n\tconst entity = {\r\n\t\tlabel: __( 'Site' ),\r\n\t\tname: 'site',\r\n\t\tkind: 'root',\r\n\t\tbaseURL: '/wp/v2/settings',\r\n\t\tsyncConfig: {\r\n\t\t\tfetch: async () => {\r\n\t\t\t\treturn apiFetch( { path: '/wp/v2/settings' } );\r\n\t\t\t},\r\n\t\t\tapplyChangesToDoc: ( doc, changes ) => {\r\n\t\t\t\tconst document = doc.getMap( 'document' );\r\n\t\t\t\tObject.entries( changes ).forEach( ( [ key, value ] ) => {\r\n\t\t\t\t\tif ( document.get( key ) !== value ) {\r\n\t\t\t\t\t\tdocument.set( key, value );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t\tfromCRDTDoc: ( doc ) => {\r\n\t\t\t\treturn doc.getMap( 'document' ).toJSON();\r\n\t\t\t},\r\n\t\t},\r\n\t\tsyncObjectType: 'root/site',\r\n\t\tgetSyncObjectId: () => 'index',\r\n\t\tmeta: {},\r\n\t};\r\n\r\n\tconst site = await apiFetch( {\r\n\t\tpath: entity.baseURL,\r\n\t\tmethod: 'OPTIONS',\r\n\t} );\r\n\r\n\tconst labels = {};\r\n\tObject.entries( site?.schema?.properties ?? {} ).forEach(\r\n\t\t( [ key, value ] ) => {\r\n\t\t\t// Ignore properties `title` and `type` keys.\r\n\t\t\tif ( typeof value === 'object' && value.title ) {\r\n\t\t\t\tlabels[ key ] = value.title;\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\treturn [ { ...entity, meta: { labels } } ];\r\n}\r\n\r\n/**\r\n * Returns the entity's getter method name given its kind and name or plural name.\r\n *\r\n * @example\r\n * ```js\r\n * const nameSingular = getMethodName( 'root', 'theme', 'get' );\r\n * // nameSingular is getRootTheme\r\n *\r\n * const namePlural = getMethodName( 'root', 'themes', 'set' );\r\n * // namePlural is setRootThemes\r\n * ```\r\n *\r\n * @param {string} kind   Entity kind.\r\n * @param {string} name   Entity name or plural name.\r\n * @param {string} prefix Function prefix.\r\n *\r\n * @return {string} Method name\r\n */\r\nexport const getMethodName = ( kind, name, prefix = 'get' ) => {\r\n\tconst kindPrefix = kind === 'root' ? '' : pascalCase( kind );\r\n\tconst suffix = pascalCase( name );\r\n\treturn `${ prefix }${ kindPrefix }${ suffix }`;\r\n};\r\n\r\nfunction registerSyncConfigs( configs ) {\r\n\tconfigs.forEach( ( { syncObjectType, syncConfig } ) => {\r\n\t\tgetSyncProvider().register( syncObjectType, syncConfig );\r\n\t\tconst editSyncConfig = { ...syncConfig };\r\n\t\tdelete editSyncConfig.fetch;\r\n\t\tgetSyncProvider().register( syncObjectType + '--edit', editSyncConfig );\r\n\t} );\r\n}\r\n\r\n/**\r\n * Loads the entities into the store.\r\n *\r\n * Note: The `name` argument is used for `root` entities requiring additional server data.\r\n *\r\n * @param {string} kind Kind\r\n * @param {string} name Name\r\n * @return {(thunkArgs: object) => Promise<Array>} Entities\r\n */\r\nexport const getOrLoadEntitiesConfig =\r\n\t( kind, name ) =>\r\n\tasync ( { select, dispatch } ) => {\r\n\t\tlet configs = select.getEntitiesConfig( kind );\r\n\t\tconst hasConfig = !! select.getEntityConfig( kind, name );\r\n\r\n\t\tif ( configs?.length > 0 && hasConfig ) {\r\n\t\t\tif ( window.__experimentalEnableSync ) {\r\n\t\t\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t\t\t\tregisterSyncConfigs( configs );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn configs;\r\n\t\t}\r\n\r\n\t\tconst loader = additionalEntityConfigLoaders.find( ( l ) => {\r\n\t\t\tif ( ! name || ! l.name ) {\r\n\t\t\t\treturn l.kind === kind;\r\n\t\t\t}\r\n\r\n\t\t\treturn l.kind === kind && l.name === name;\r\n\t\t} );\r\n\t\tif ( ! loader ) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tconfigs = await loader.loadEntities();\r\n\t\tif ( window.__experimentalEnableSync ) {\r\n\t\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t\t\tregisterSyncConfigs( configs );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdispatch( addEntities( configs ) );\r\n\r\n\t\treturn configs;\r\n\t};\r\n"],"mappings":"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","ignoreList":[]}