{"version":3,"names":["useCallback","useDispatch","useSelect","STORE_NAME","useEntityId","useEntityProp","kind","name","prop","_id","providerId","id","value","fullValue","select","getEntityRecord","getEditedEntityRecord","record","editedRecord","editEntityRecord","setValue","newValue"],"sources":["@wordpress/core-data/src/hooks/use-entity-prop.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useCallback } from '@wordpress/element';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { STORE_NAME } from '../name';\r\nimport useEntityId from './use-entity-id';\r\n\r\n/**\r\n * Hook that returns the value and a setter for the\r\n * specified property of the nearest provided\r\n * entity of the specified type.\r\n *\r\n * @param {string}        kind  The entity kind.\r\n * @param {string}        name  The entity name.\r\n * @param {string}        prop  The property name.\r\n * @param {number|string} [_id] An entity ID to use instead of the context-provided one.\r\n *\r\n * @return {[*, Function, *]} An array where the first item is the\r\n *                            property value, the second is the\r\n *                            setter and the third is the full value\r\n * \t\t\t\t\t\t\t  object from REST API containing more\r\n * \t\t\t\t\t\t\t  information like `raw`, `rendered` and\r\n * \t\t\t\t\t\t\t  `protected` props.\r\n */\r\nexport default function useEntityProp( kind, name, prop, _id ) {\r\n\tconst providerId = useEntityId( kind, name );\r\n\tconst id = _id ?? providerId;\r\n\r\n\tconst { value, fullValue } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getEntityRecord, getEditedEntityRecord } =\r\n\t\t\t\tselect( STORE_NAME );\r\n\t\t\tconst record = getEntityRecord( kind, name, id ); // Trigger resolver.\r\n\t\t\tconst editedRecord = getEditedEntityRecord( kind, name, id );\r\n\t\t\treturn record && editedRecord\r\n\t\t\t\t? {\r\n\t\t\t\t\t\tvalue: editedRecord[ prop ],\r\n\t\t\t\t\t\tfullValue: record[ prop ],\r\n\t\t\t\t  }\r\n\t\t\t\t: {};\r\n\t\t},\r\n\t\t[ kind, name, id, prop ]\r\n\t);\r\n\tconst { editEntityRecord } = useDispatch( STORE_NAME );\r\n\tconst setValue = useCallback(\r\n\t\t( newValue ) => {\r\n\t\t\teditEntityRecord( kind, name, id, {\r\n\t\t\t\t[ prop ]: newValue,\r\n\t\t\t} );\r\n\t\t},\r\n\t\t[ editEntityRecord, kind, name, id, prop ]\r\n\t);\r\n\r\n\treturn [ value, setValue, fullValue ];\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,QAAQ,oBAAoB;AAChD,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;;AAExD;AACA;AACA;AACA,SAASC,UAAU,QAAQ,SAAS;AACpC,OAAOC,WAAW,MAAM,iBAAiB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,aAAaA,CAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAG;EAC9D,MAAMC,UAAU,GAAGN,WAAW,CAAEE,IAAI,EAAEC,IAAK,CAAC;EAC5C,MAAMI,EAAE,GAAGF,GAAG,aAAHA,GAAG,cAAHA,GAAG,GAAIC,UAAU;EAE5B,MAAM;IAAEE,KAAK;IAAEC;EAAU,CAAC,GAAGX,SAAS,CACnCY,MAAM,IAAM;IACb,MAAM;MAAEC,eAAe;MAAEC;IAAsB,CAAC,GAC/CF,MAAM,CAAEX,UAAW,CAAC;IACrB,MAAMc,MAAM,GAAGF,eAAe,CAAET,IAAI,EAAEC,IAAI,EAAEI,EAAG,CAAC,CAAC,CAAC;IAClD,MAAMO,YAAY,GAAGF,qBAAqB,CAAEV,IAAI,EAAEC,IAAI,EAAEI,EAAG,CAAC;IAC5D,OAAOM,MAAM,IAAIC,YAAY,GAC1B;MACAN,KAAK,EAAEM,YAAY,CAAEV,IAAI,CAAE;MAC3BK,SAAS,EAAEI,MAAM,CAAET,IAAI;IACvB,CAAC,GACD,CAAC,CAAC;EACN,CAAC,EACD,CAAEF,IAAI,EAAEC,IAAI,EAAEI,EAAE,EAAEH,IAAI,CACvB,CAAC;EACD,MAAM;IAAEW;EAAiB,CAAC,GAAGlB,WAAW,CAAEE,UAAW,CAAC;EACtD,MAAMiB,QAAQ,GAAGpB,WAAW,CACzBqB,QAAQ,IAAM;IACfF,gBAAgB,CAAEb,IAAI,EAAEC,IAAI,EAAEI,EAAE,EAAE;MACjC,CAAEH,IAAI,GAAIa;IACX,CAAE,CAAC;EACJ,CAAC,EACD,CAAEF,gBAAgB,EAAEb,IAAI,EAAEC,IAAI,EAAEI,EAAE,EAAEH,IAAI,CACzC,CAAC;EAED,OAAO,CAAEI,KAAK,EAAEQ,QAAQ,EAAEP,SAAS,CAAE;AACtC","ignoreList":[]}