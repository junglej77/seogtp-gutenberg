{"version":3,"names":["fastDeepEqual","conservativeMapItem","item","nextItem","hasChanges","result","key","hasOwnProperty"],"sources":["@wordpress/core-data/src/utils/conservative-map-item.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport fastDeepEqual from 'fast-deep-equal/es6';\r\n\r\n/**\r\n * Given the current and next item entity record, returns the minimally \"modified\"\r\n * result of the next item, preferring value references from the original item\r\n * if equal. If all values match, the original item is returned.\r\n *\r\n * @param {Object} item     Original item.\r\n * @param {Object} nextItem Next item.\r\n *\r\n * @return {Object} Minimally modified merged item.\r\n */\r\nexport default function conservativeMapItem( item, nextItem ) {\r\n\t// Return next item in its entirety if there is no original item.\r\n\tif ( ! item ) {\r\n\t\treturn nextItem;\r\n\t}\r\n\r\n\tlet hasChanges = false;\r\n\tconst result = {};\r\n\tfor ( const key in nextItem ) {\r\n\t\tif ( fastDeepEqual( item[ key ], nextItem[ key ] ) ) {\r\n\t\t\tresult[ key ] = item[ key ];\r\n\t\t} else {\r\n\t\t\thasChanges = true;\r\n\t\t\tresult[ key ] = nextItem[ key ];\r\n\t\t}\r\n\t}\r\n\r\n\tif ( ! hasChanges ) {\r\n\t\treturn item;\r\n\t}\r\n\r\n\t// Only at this point, backfill properties from the original item which\r\n\t// weren't explicitly set into the result above. This is an optimization\r\n\t// to allow `hasChanges` to return early.\r\n\tfor ( const key in item ) {\r\n\t\tif ( ! result.hasOwnProperty( key ) ) {\r\n\t\t\tresult[ key ] = item[ key ];\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,aAAa,MAAM,qBAAqB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,mBAAmBA,CAAEC,IAAI,EAAEC,QAAQ,EAAG;EAC7D;EACA,IAAK,CAAED,IAAI,EAAG;IACb,OAAOC,QAAQ;EAChB;EAEA,IAAIC,UAAU,GAAG,KAAK;EACtB,MAAMC,MAAM,GAAG,CAAC,CAAC;EACjB,KAAM,MAAMC,GAAG,IAAIH,QAAQ,EAAG;IAC7B,IAAKH,aAAa,CAAEE,IAAI,CAAEI,GAAG,CAAE,EAAEH,QAAQ,CAAEG,GAAG,CAAG,CAAC,EAAG;MACpDD,MAAM,CAAEC,GAAG,CAAE,GAAGJ,IAAI,CAAEI,GAAG,CAAE;IAC5B,CAAC,MAAM;MACNF,UAAU,GAAG,IAAI;MACjBC,MAAM,CAAEC,GAAG,CAAE,GAAGH,QAAQ,CAAEG,GAAG,CAAE;IAChC;EACD;EAEA,IAAK,CAAEF,UAAU,EAAG;IACnB,OAAOF,IAAI;EACZ;;EAEA;EACA;EACA;EACA,KAAM,MAAMI,GAAG,IAAIJ,IAAI,EAAG;IACzB,IAAK,CAAEG,MAAM,CAACE,cAAc,CAAED,GAAI,CAAC,EAAG;MACrCD,MAAM,CAAEC,GAAG,CAAE,GAAGJ,IAAI,CAAEI,GAAG,CAAE;IAC5B;EACD;EAEA,OAAOD,MAAM;AACd","ignoreList":[]}