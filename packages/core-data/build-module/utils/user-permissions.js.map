{"version":3,"names":["ALLOWED_RESOURCE_ACTIONS","getUserPermissionsFromAllowHeader","allowedMethods","permissions","methods","create","read","update","delete","actionName","methodName","Object","entries","includes","getUserPermissionCacheKey","action","resource","id","key","kind","name","filter","Boolean","join"],"sources":["@wordpress/core-data/src/utils/user-permissions.js"],"sourcesContent":["export const ALLOWED_RESOURCE_ACTIONS = [\r\n\t'create',\r\n\t'read',\r\n\t'update',\r\n\t'delete',\r\n];\r\n\r\nexport function getUserPermissionsFromAllowHeader( allowedMethods ) {\r\n\tconst permissions = {};\r\n\tif ( ! allowedMethods ) {\r\n\t\treturn permissions;\r\n\t}\r\n\r\n\tconst methods = {\r\n\t\tcreate: 'POST',\r\n\t\tread: 'GET',\r\n\t\tupdate: 'PUT',\r\n\t\tdelete: 'DELETE',\r\n\t};\r\n\tfor ( const [ actionName, methodName ] of Object.entries( methods ) ) {\r\n\t\tpermissions[ actionName ] = allowedMethods.includes( methodName );\r\n\t}\r\n\r\n\treturn permissions;\r\n}\r\n\r\nexport function getUserPermissionCacheKey( action, resource, id ) {\r\n\tconst key = (\r\n\t\ttypeof resource === 'object'\r\n\t\t\t? [ action, resource.kind, resource.name, resource.id ]\r\n\t\t\t: [ action, resource, id ]\r\n\t)\r\n\t\t.filter( Boolean )\r\n\t\t.join( '/' );\r\n\r\n\treturn key;\r\n}\r\n"],"mappings":"AAAA,OAAO,MAAMA,wBAAwB,GAAG,CACvC,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,QAAQ,CACR;AAED,OAAO,SAASC,iCAAiCA,CAAEC,cAAc,EAAG;EACnE,MAAMC,WAAW,GAAG,CAAC,CAAC;EACtB,IAAK,CAAED,cAAc,EAAG;IACvB,OAAOC,WAAW;EACnB;EAEA,MAAMC,OAAO,GAAG;IACfC,MAAM,EAAE,MAAM;IACdC,IAAI,EAAE,KAAK;IACXC,MAAM,EAAE,KAAK;IACbC,MAAM,EAAE;EACT,CAAC;EACD,KAAM,MAAM,CAAEC,UAAU,EAAEC,UAAU,CAAE,IAAIC,MAAM,CAACC,OAAO,CAAER,OAAQ,CAAC,EAAG;IACrED,WAAW,CAAEM,UAAU,CAAE,GAAGP,cAAc,CAACW,QAAQ,CAAEH,UAAW,CAAC;EAClE;EAEA,OAAOP,WAAW;AACnB;AAEA,OAAO,SAASW,yBAAyBA,CAAEC,MAAM,EAAEC,QAAQ,EAAEC,EAAE,EAAG;EACjE,MAAMC,GAAG,GAAG,CACX,OAAOF,QAAQ,KAAK,QAAQ,GACzB,CAAED,MAAM,EAAEC,QAAQ,CAACG,IAAI,EAAEH,QAAQ,CAACI,IAAI,EAAEJ,QAAQ,CAACC,EAAE,CAAE,GACrD,CAAEF,MAAM,EAAEC,QAAQ,EAAEC,EAAE,CAAE,EAE1BI,MAAM,CAAEC,OAAQ,CAAC,CACjBC,IAAI,CAAE,GAAI,CAAC;EAEb,OAAOL,GAAG;AACX","ignoreList":[]}