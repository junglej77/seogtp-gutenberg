{"version":3,"names":["Component","__","Button","Warning","useCopyToClipboard","doAction","jsx","_jsx","CopyButton","text","children","ref","__next40pxDefaultSize","variant","ErrorBoundary","constructor","arguments","state","error","componentDidCatch","setState","render","props","className","actions","stack"],"sources":["@wordpress/customize-widgets/src/components/error-boundary/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { Component } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Button } from '@wordpress/components';\r\nimport { Warning } from '@wordpress/block-editor';\r\nimport { useCopyToClipboard } from '@wordpress/compose';\r\nimport { doAction } from '@wordpress/hooks';\r\n\r\nfunction CopyButton( { text, children } ) {\r\n\tconst ref = useCopyToClipboard( text );\r\n\treturn (\r\n\t\t<Button\r\n\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\tvariant=\"secondary\"\r\n\t\t\tref={ ref }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\nexport default class ErrorBoundary extends Component {\r\n\tconstructor() {\r\n\t\tsuper( ...arguments );\r\n\t\tthis.state = {\r\n\t\t\terror: null,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidCatch( error ) {\r\n\t\tthis.setState( { error } );\r\n\r\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { error } = this.state;\r\n\t\tif ( ! error ) {\r\n\t\t\treturn this.props.children;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Warning\r\n\t\t\t\tclassName=\"customize-widgets-error-boundary\"\r\n\t\t\t\tactions={ [\r\n\t\t\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\r\n\t\t\t\t\t\t{ __( 'Copy Error' ) }\r\n\t\t\t\t\t</CopyButton>,\r\n\t\t\t\t] }\r\n\t\t\t>\r\n\t\t\t\t{ __( 'The editor has encountered an unexpected error.' ) }\r\n\t\t\t</Warning>\r\n\t\t);\r\n\t}\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,kBAAkB,QAAQ,oBAAoB;AACvD,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE5C,SAASC,UAAUA,CAAE;EAAEC,IAAI;EAAEC;AAAS,CAAC,EAAG;EACzC,MAAMC,GAAG,GAAGP,kBAAkB,CAAEK,IAAK,CAAC;EACtC,oBACCF,IAAA,CAACL;EACA;EAAA;IACAU,qBAAqB,EAAG,KAAO;IAC/BC,OAAO,EAAC,WAAW;IACnBF,GAAG,EAAGA,GAAK;IAAAD,QAAA,EAETA;EAAQ,CACH,CAAC;AAEX;AAEA,eAAe,MAAMI,aAAa,SAASd,SAAS,CAAC;EACpDe,WAAWA,CAAA,EAAG;IACb,KAAK,CAAE,GAAGC,SAAU,CAAC;IACrB,IAAI,CAACC,KAAK,GAAG;MACZC,KAAK,EAAE;IACR,CAAC;EACF;EAEAC,iBAAiBA,CAAED,KAAK,EAAG;IAC1B,IAAI,CAACE,QAAQ,CAAE;MAAEF;IAAM,CAAE,CAAC;IAE1Bb,QAAQ,CAAE,kCAAkC,EAAEa,KAAM,CAAC;EACtD;EAEAG,MAAMA,CAAA,EAAG;IACR,MAAM;MAAEH;IAAM,CAAC,GAAG,IAAI,CAACD,KAAK;IAC5B,IAAK,CAAEC,KAAK,EAAG;MACd,OAAO,IAAI,CAACI,KAAK,CAACZ,QAAQ;IAC3B;IAEA,oBACCH,IAAA,CAACJ,OAAO;MACPoB,SAAS,EAAC,kCAAkC;MAC5CC,OAAO,EAAG,cACTjB,IAAA,CAACC,UAAU;QAAkBC,IAAI,EAAGS,KAAK,CAACO,KAAO;QAAAf,QAAA,EAC9CT,EAAE,CAAE,YAAa;MAAC,GADL,YAEJ,CAAC,CACX;MAAAS,QAAA,EAEDT,EAAE,CAAE,iDAAkD;IAAC,CACjD,CAAC;EAEZ;AACD","ignoreList":[]}