{"version":3,"names":["clsx","ToolbarButton","NavigableToolbar","createPortal","useEffect","useState","displayShortcut","isAppleOS","__","_x","isRTL","plus","undo","undoIcon","redo","redoIcon","Inserter","MoreMenu","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","sidebar","inserter","isInserterOpened","setIsInserterOpened","isFixedToolbarActive","hasUndo","hasRedo","setUndoRedo","shortcut","primaryShift","primary","subscribeHistory","children","className","icon","label","disabled","onClick","isPressed","variant","isOpen","setIsOpened","contentContainer"],"sources":["@wordpress/customize-widgets/src/components/header/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { ToolbarButton } from '@wordpress/components';\r\nimport { NavigableToolbar } from '@wordpress/block-editor';\r\nimport { createPortal, useEffect, useState } from '@wordpress/element';\r\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\r\nimport { __, _x, isRTL } from '@wordpress/i18n';\r\nimport { plus, undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Inserter from '../inserter';\r\nimport MoreMenu from '../more-menu';\r\n\r\nfunction Header( {\r\n\tsidebar,\r\n\tinserter,\r\n\tisInserterOpened,\r\n\tsetIsInserterOpened,\r\n\tisFixedToolbarActive,\r\n} ) {\r\n\tconst [ [ hasUndo, hasRedo ], setUndoRedo ] = useState( [\r\n\t\tsidebar.hasUndo(),\r\n\t\tsidebar.hasRedo(),\r\n\t] );\r\n\r\n\tconst shortcut = isAppleOS()\r\n\t\t? displayShortcut.primaryShift( 'z' )\r\n\t\t: displayShortcut.primary( 'y' );\r\n\r\n\tuseEffect( () => {\r\n\t\treturn sidebar.subscribeHistory( () => {\r\n\t\t\tsetUndoRedo( [ sidebar.hasUndo(), sidebar.hasRedo() ] );\r\n\t\t} );\r\n\t}, [ sidebar ] );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tclassName={ clsx( 'customize-widgets-header', {\r\n\t\t\t\t\t'is-fixed-toolbar-active': isFixedToolbarActive,\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t<NavigableToolbar\r\n\t\t\t\t\tclassName=\"customize-widgets-header-toolbar\"\r\n\t\t\t\t\taria-label={ __( 'Document tools' ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\r\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\r\n\t\t\t\t\t\tlabel={ __( 'Undo' ) }\r\n\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\r\n\t\t\t\t\t\tdisabled={ ! hasUndo }\r\n\t\t\t\t\t\tonClick={ sidebar.undo }\r\n\t\t\t\t\t\tclassName=\"customize-widgets-editor-history-button undo-button\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\r\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\r\n\t\t\t\t\t\tlabel={ __( 'Redo' ) }\r\n\t\t\t\t\t\tshortcut={ shortcut }\r\n\t\t\t\t\t\tdisabled={ ! hasRedo }\r\n\t\t\t\t\t\tonClick={ sidebar.redo }\r\n\t\t\t\t\t\tclassName=\"customize-widgets-editor-history-button redo-button\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tclassName=\"customize-widgets-header-toolbar__inserter-toggle\"\r\n\t\t\t\t\t\tisPressed={ isInserterOpened }\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\ticon={ plus }\r\n\t\t\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t\t\t'Add block',\r\n\t\t\t\t\t\t\t'Generic label for block inserter button'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\tsetIsInserterOpened( ( isOpen ) => ! isOpen );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MoreMenu />\r\n\t\t\t\t</NavigableToolbar>\r\n\t\t\t</div>\r\n\r\n\t\t\t{ createPortal(\r\n\t\t\t\t<Inserter setIsOpened={ setIsInserterOpened } />,\r\n\t\t\t\tinserter.contentContainer[ 0 ]\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,gBAAgB,QAAQ,yBAAyB;AAC1D,SAASC,YAAY,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;AACtE,SAASC,eAAe,EAAEC,SAAS,QAAQ,qBAAqB;AAChE,SAASC,EAAE,EAAEC,EAAE,EAAEC,KAAK,QAAQ,iBAAiB;AAC/C,SAASC,IAAI,EAAEC,IAAI,IAAIC,QAAQ,EAAEC,IAAI,IAAIC,QAAQ,QAAQ,kBAAkB;;AAE3E;AACA;AACA;AACA,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,QAAQ,MAAM,cAAc;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpC,SAASC,MAAMA,CAAE;EAChBC,OAAO;EACPC,QAAQ;EACRC,gBAAgB;EAChBC,mBAAmB;EACnBC;AACD,CAAC,EAAG;EACH,MAAM,CAAE,CAAEC,OAAO,EAAEC,OAAO,CAAE,EAAEC,WAAW,CAAE,GAAG3B,QAAQ,CAAE,CACvDoB,OAAO,CAACK,OAAO,CAAC,CAAC,EACjBL,OAAO,CAACM,OAAO,CAAC,CAAC,CAChB,CAAC;EAEH,MAAME,QAAQ,GAAG1B,SAAS,CAAC,CAAC,GACzBD,eAAe,CAAC4B,YAAY,CAAE,GAAI,CAAC,GACnC5B,eAAe,CAAC6B,OAAO,CAAE,GAAI,CAAC;EAEjC/B,SAAS,CAAE,MAAM;IAChB,OAAOqB,OAAO,CAACW,gBAAgB,CAAE,MAAM;MACtCJ,WAAW,CAAE,CAAEP,OAAO,CAACK,OAAO,CAAC,CAAC,EAAEL,OAAO,CAACM,OAAO,CAAC,CAAC,CAAG,CAAC;IACxD,CAAE,CAAC;EACJ,CAAC,EAAE,CAAEN,OAAO,CAAG,CAAC;EAEhB,oBACCJ,KAAA,CAAAE,SAAA;IAAAc,QAAA,gBACClB,IAAA;MACCmB,SAAS,EAAGtC,IAAI,CAAE,0BAA0B,EAAE;QAC7C,yBAAyB,EAAE6B;MAC5B,CAAE,CAAG;MAAAQ,QAAA,eAELhB,KAAA,CAACnB,gBAAgB;QAChBoC,SAAS,EAAC,kCAAkC;QAC5C,cAAa9B,EAAE,CAAE,gBAAiB,CAAG;QAAA6B,QAAA,gBAErClB,IAAA,CAAClB,aAAa;UACbsC,IAAI,EAAG,CAAE7B,KAAK,CAAC,CAAC,GAAGG,QAAQ,GAAGE;UAC9B;UACAyB,KAAK,EAAGhC,EAAE,CAAE,MAAO,CAAG;UACtByB,QAAQ,EAAG3B,eAAe,CAAC6B,OAAO,CAAE,GAAI,CAAG;UAC3CM,QAAQ,EAAG,CAAEX,OAAS;UACtBY,OAAO,EAAGjB,OAAO,CAACb,IAAM;UACxB0B,SAAS,EAAC;QAAqD,CAC/D,CAAC,eACFnB,IAAA,CAAClB,aAAa;UACbsC,IAAI,EAAG,CAAE7B,KAAK,CAAC,CAAC,GAAGK,QAAQ,GAAGF;UAC9B;UACA2B,KAAK,EAAGhC,EAAE,CAAE,MAAO,CAAG;UACtByB,QAAQ,EAAGA,QAAU;UACrBQ,QAAQ,EAAG,CAAEV,OAAS;UACtBW,OAAO,EAAGjB,OAAO,CAACX,IAAM;UACxBwB,SAAS,EAAC;QAAqD,CAC/D,CAAC,eAEFnB,IAAA,CAAClB,aAAa;UACbqC,SAAS,EAAC,mDAAmD;UAC7DK,SAAS,EAAGhB,gBAAkB;UAC9BiB,OAAO,EAAC,SAAS;UACjBL,IAAI,EAAG5B,IAAM;UACb6B,KAAK,EAAG/B,EAAE,CACT,WAAW,EACX,yCACD,CAAG;UACHiC,OAAO,EAAGA,CAAA,KAAM;YACfd,mBAAmB,CAAIiB,MAAM,IAAM,CAAEA,MAAO,CAAC;UAC9C;QAAG,CACH,CAAC,eACF1B,IAAA,CAACF,QAAQ,IAAE,CAAC;MAAA,CACK;IAAC,CACf,CAAC,EAEJd,YAAY,eACbgB,IAAA,CAACH,QAAQ;MAAC8B,WAAW,EAAGlB;IAAqB,CAAE,CAAC,EAChDF,QAAQ,CAACqB,gBAAgB,CAAE,CAAC,CAC7B,CAAC;EAAA,CACA,CAAC;AAEL;AAEA,eAAevB,MAAM","ignoreList":[]}