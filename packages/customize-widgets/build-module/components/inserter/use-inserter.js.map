{"version":3,"names":["useEffect","useCallback","useSelect","useDispatch","select","selectStore","store","customizeWidgetsStore","useInserter","inserter","isInserterOpened","setIsInserterOpened","open","close","updater","isOpen"],"sources":["@wordpress/customize-widgets/src/components/inserter/use-inserter.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useCallback } from '@wordpress/element';\r\nimport { useSelect, useDispatch, select as selectStore } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as customizeWidgetsStore } from '../../store';\r\n\r\nexport default function useInserter( inserter ) {\r\n\tconst isInserterOpened = useSelect(\r\n\t\t( select ) => select( customizeWidgetsStore ).isInserterOpened(),\r\n\t\t[]\r\n\t);\r\n\tconst { setIsInserterOpened } = useDispatch( customizeWidgetsStore );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( isInserterOpened ) {\r\n\t\t\tinserter.open();\r\n\t\t} else {\r\n\t\t\tinserter.close();\r\n\t\t}\r\n\t}, [ inserter, isInserterOpened ] );\r\n\r\n\treturn [\r\n\t\tisInserterOpened,\r\n\t\tuseCallback(\r\n\t\t\t( updater ) => {\r\n\t\t\t\tlet isOpen = updater;\r\n\t\t\t\tif ( typeof updater === 'function' ) {\r\n\t\t\t\t\tisOpen = updater(\r\n\t\t\t\t\t\tselectStore( customizeWidgetsStore ).isInserterOpened()\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetIsInserterOpened( isOpen );\r\n\t\t\t},\r\n\t\t\t[ setIsInserterOpened ]\r\n\t\t),\r\n\t];\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,EAAEC,WAAW,QAAQ,oBAAoB;AAC3D,SAASC,SAAS,EAAEC,WAAW,EAAEC,MAAM,IAAIC,WAAW,QAAQ,iBAAiB;;AAE/E;AACA;AACA;AACA,SAASC,KAAK,IAAIC,qBAAqB,QAAQ,aAAa;AAE5D,eAAe,SAASC,WAAWA,CAAEC,QAAQ,EAAG;EAC/C,MAAMC,gBAAgB,GAAGR,SAAS,CAC/BE,MAAM,IAAMA,MAAM,CAAEG,qBAAsB,CAAC,CAACG,gBAAgB,CAAC,CAAC,EAChE,EACD,CAAC;EACD,MAAM;IAAEC;EAAoB,CAAC,GAAGR,WAAW,CAAEI,qBAAsB,CAAC;EAEpEP,SAAS,CAAE,MAAM;IAChB,IAAKU,gBAAgB,EAAG;MACvBD,QAAQ,CAACG,IAAI,CAAC,CAAC;IAChB,CAAC,MAAM;MACNH,QAAQ,CAACI,KAAK,CAAC,CAAC;IACjB;EACD,CAAC,EAAE,CAAEJ,QAAQ,EAAEC,gBAAgB,CAAG,CAAC;EAEnC,OAAO,CACNA,gBAAgB,EAChBT,WAAW,CACRa,OAAO,IAAM;IACd,IAAIC,MAAM,GAAGD,OAAO;IACpB,IAAK,OAAOA,OAAO,KAAK,UAAU,EAAG;MACpCC,MAAM,GAAGD,OAAO,CACfT,WAAW,CAAEE,qBAAsB,CAAC,CAACG,gBAAgB,CAAC,CACvD,CAAC;IACF;IAEAC,mBAAmB,CAAEI,MAAO,CAAC;EAC9B,CAAC,EACD,CAAEJ,mBAAmB,CACtB,CAAC,CACD;AACF","ignoreList":[]}