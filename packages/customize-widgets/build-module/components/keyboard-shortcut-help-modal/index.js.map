{"version":3,"names":["clsx","Modal","__","useShortcut","store","keyboardShortcutsStore","useDispatch","useSelect","textFormattingShortcuts","Shortcut","DynamicShortcut","jsx","_jsx","jsxs","_jsxs","ShortcutList","shortcuts","className","role","children","map","shortcut","index","name","ShortcutSection","title","ShortcutCategorySection","categoryName","additionalShortcuts","categoryShortcuts","select","getCategoryShortcuts","concat","KeyboardShortcutHelpModal","isModalActive","toggleModal","registerShortcut","category","description","keyCombination","modifier","character","onRequestClose","ariaLabel"],"sources":["@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { Modal } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tuseShortcut,\r\n\tstore as keyboardShortcutsStore,\r\n} from '@wordpress/keyboard-shortcuts';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { textFormattingShortcuts } from './config';\r\nimport Shortcut from './shortcut';\r\nimport DynamicShortcut from './dynamic-shortcut';\r\n\r\nconst ShortcutList = ( { shortcuts } ) => (\r\n\t/*\r\n\t * Disable reason: The `list` ARIA role is redundant but\r\n\t * Safari+VoiceOver won't announce the list otherwise.\r\n\t */\r\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\r\n\t<ul\r\n\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-list\"\r\n\t\trole=\"list\"\r\n\t>\r\n\t\t{ shortcuts.map( ( shortcut, index ) => (\r\n\t\t\t<li\r\n\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut\"\r\n\t\t\t\tkey={ index }\r\n\t\t\t>\r\n\t\t\t\t{ typeof shortcut === 'string' ? (\r\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Shortcut { ...shortcut } />\r\n\t\t\t\t) }\r\n\t\t\t</li>\r\n\t\t) ) }\r\n\t</ul>\r\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\r\n);\r\n\r\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\r\n\t<section\r\n\t\tclassName={ clsx(\r\n\t\t\t'customize-widgets-keyboard-shortcut-help-modal__section',\r\n\t\t\tclassName\r\n\t\t) }\r\n\t>\r\n\t\t{ !! title && (\r\n\t\t\t<h2 className=\"customize-widgets-keyboard-shortcut-help-modal__section-title\">\r\n\t\t\t\t{ title }\r\n\t\t\t</h2>\r\n\t\t) }\r\n\t\t<ShortcutList shortcuts={ shortcuts } />\r\n\t</section>\r\n);\r\n\r\nconst ShortcutCategorySection = ( {\r\n\ttitle,\r\n\tcategoryName,\r\n\tadditionalShortcuts = [],\r\n} ) => {\r\n\tconst categoryShortcuts = useSelect(\r\n\t\t( select ) => {\r\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\r\n\t\t\t\tcategoryName\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ categoryName ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<ShortcutSection\r\n\t\t\ttitle={ title }\r\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default function KeyboardShortcutHelpModal( {\r\n\tisModalActive,\r\n\ttoggleModal,\r\n} ) {\r\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\r\n\tregisterShortcut( {\r\n\t\tname: 'core/customize-widgets/keyboard-shortcuts',\r\n\t\tcategory: 'main',\r\n\t\tdescription: __( 'Display these keyboard shortcuts.' ),\r\n\t\tkeyCombination: {\r\n\t\t\tmodifier: 'access',\r\n\t\t\tcharacter: 'h',\r\n\t\t},\r\n\t} );\r\n\r\n\tuseShortcut( 'core/customize-widgets/keyboard-shortcuts', toggleModal );\r\n\r\n\tif ( ! isModalActive ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal\"\r\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\r\n\t\t\tonRequestClose={ toggleModal }\r\n\t\t>\r\n\t\t\t<ShortcutSection\r\n\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__main-shortcuts\"\r\n\t\t\t\tshortcuts={ [ 'core/customize-widgets/keyboard-shortcuts' ] }\r\n\t\t\t/>\r\n\t\t\t<ShortcutCategorySection\r\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\r\n\t\t\t\tcategoryName=\"global\"\r\n\t\t\t/>\r\n\r\n\t\t\t<ShortcutCategorySection\r\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\r\n\t\t\t\tcategoryName=\"selection\"\r\n\t\t\t/>\r\n\r\n\t\t\t<ShortcutCategorySection\r\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\r\n\t\t\t\tcategoryName=\"block\"\r\n\t\t\t\tadditionalShortcuts={ [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkeyCombination: { character: '/' },\r\n\t\t\t\t\t\tdescription: __(\r\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\r\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\r\n\t\t\t\t\t},\r\n\t\t\t\t] }\r\n\t\t\t/>\r\n\t\t\t<ShortcutSection\r\n\t\t\t\ttitle={ __( 'Text formatting' ) }\r\n\t\t\t\tshortcuts={ textFormattingShortcuts }\r\n\t\t\t/>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}