{"version":3,"names":["useEffect","useShortcut","store","keyboardShortcutsStore","isAppleOS","useDispatch","__","KeyboardShortcuts","undo","redo","save","event","preventDefault","KeyboardShortcutsRegister","registerShortcut","unregisterShortcut","name","category","description","keyCombination","modifier","character","aliases","Register"],"sources":["@wordpress/customize-widgets/src/components/keyboard-shortcuts/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect } from '@wordpress/element';\r\nimport {\r\n\tuseShortcut,\r\n\tstore as keyboardShortcutsStore,\r\n} from '@wordpress/keyboard-shortcuts';\r\nimport { isAppleOS } from '@wordpress/keycodes';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nfunction KeyboardShortcuts( { undo, redo, save } ) {\r\n\tuseShortcut( 'core/customize-widgets/undo', ( event ) => {\r\n\t\tundo();\r\n\t\tevent.preventDefault();\r\n\t} );\r\n\r\n\tuseShortcut( 'core/customize-widgets/redo', ( event ) => {\r\n\t\tredo();\r\n\t\tevent.preventDefault();\r\n\t} );\r\n\r\n\tuseShortcut( 'core/customize-widgets/save', ( event ) => {\r\n\t\tevent.preventDefault();\r\n\t\tsave();\r\n\t} );\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction KeyboardShortcutsRegister() {\r\n\tconst { registerShortcut, unregisterShortcut } = useDispatch(\r\n\t\tkeyboardShortcutsStore\r\n\t);\r\n\r\n\tuseEffect( () => {\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/customize-widgets/undo',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Undo your last changes.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'primary',\r\n\t\t\t\tcharacter: 'z',\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/customize-widgets/redo',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Redo your last undo.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'primaryShift',\r\n\t\t\t\tcharacter: 'z',\r\n\t\t\t},\r\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\r\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\r\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\r\n\t\t\t// Linux, we keep it as the default for consistency.\r\n\t\t\taliases: isAppleOS()\r\n\t\t\t\t? []\r\n\t\t\t\t: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmodifier: 'primary',\r\n\t\t\t\t\t\t\tcharacter: 'y',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  ],\r\n\t\t} );\r\n\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/customize-widgets/save',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Save your changes.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'primary',\r\n\t\t\t\tcharacter: 's',\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\treturn () => {\r\n\t\t\tunregisterShortcut( 'core/customize-widgets/undo' );\r\n\t\t\tunregisterShortcut( 'core/customize-widgets/redo' );\r\n\t\t\tunregisterShortcut( 'core/customize-widgets/save' );\r\n\t\t};\r\n\t}, [ registerShortcut ] );\r\n\r\n\treturn null;\r\n}\r\n\r\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\r\nexport default KeyboardShortcuts;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SACCC,WAAW,EACXC,KAAK,IAAIC,sBAAsB,QACzB,+BAA+B;AACtC,SAASC,SAAS,QAAQ,qBAAqB;AAC/C,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,EAAE,QAAQ,iBAAiB;AAEpC,SAASC,iBAAiBA,CAAE;EAAEC,IAAI;EAAEC,IAAI;EAAEC;AAAK,CAAC,EAAG;EAClDT,WAAW,CAAE,6BAA6B,EAAIU,KAAK,IAAM;IACxDH,IAAI,CAAC,CAAC;IACNG,KAAK,CAACC,cAAc,CAAC,CAAC;EACvB,CAAE,CAAC;EAEHX,WAAW,CAAE,6BAA6B,EAAIU,KAAK,IAAM;IACxDF,IAAI,CAAC,CAAC;IACNE,KAAK,CAACC,cAAc,CAAC,CAAC;EACvB,CAAE,CAAC;EAEHX,WAAW,CAAE,6BAA6B,EAAIU,KAAK,IAAM;IACxDA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtBF,IAAI,CAAC,CAAC;EACP,CAAE,CAAC;EAEH,OAAO,IAAI;AACZ;AAEA,SAASG,yBAAyBA,CAAA,EAAG;EACpC,MAAM;IAAEC,gBAAgB;IAAEC;EAAmB,CAAC,GAAGV,WAAW,CAC3DF,sBACD,CAAC;EAEDH,SAAS,CAAE,MAAM;IAChBc,gBAAgB,CAAE;MACjBE,IAAI,EAAE,6BAA6B;MACnCC,QAAQ,EAAE,QAAQ;MAClBC,WAAW,EAAEZ,EAAE,CAAE,yBAA0B,CAAC;MAC5Ca,cAAc,EAAE;QACfC,QAAQ,EAAE,SAAS;QACnBC,SAAS,EAAE;MACZ;IACD,CAAE,CAAC;IAEHP,gBAAgB,CAAE;MACjBE,IAAI,EAAE,6BAA6B;MACnCC,QAAQ,EAAE,QAAQ;MAClBC,WAAW,EAAEZ,EAAE,CAAE,sBAAuB,CAAC;MACzCa,cAAc,EAAE;QACfC,QAAQ,EAAE,cAAc;QACxBC,SAAS,EAAE;MACZ,CAAC;MACD;MACA;MACA;MACA;MACAC,OAAO,EAAElB,SAAS,CAAC,CAAC,GACjB,EAAE,GACF,CACA;QACCgB,QAAQ,EAAE,SAAS;QACnBC,SAAS,EAAE;MACZ,CAAC;IAEL,CAAE,CAAC;IAEHP,gBAAgB,CAAE;MACjBE,IAAI,EAAE,6BAA6B;MACnCC,QAAQ,EAAE,QAAQ;MAClBC,WAAW,EAAEZ,EAAE,CAAE,oBAAqB,CAAC;MACvCa,cAAc,EAAE;QACfC,QAAQ,EAAE,SAAS;QACnBC,SAAS,EAAE;MACZ;IACD,CAAE,CAAC;IAEH,OAAO,MAAM;MACZN,kBAAkB,CAAE,6BAA8B,CAAC;MACnDA,kBAAkB,CAAE,6BAA8B,CAAC;MACnDA,kBAAkB,CAAE,6BAA8B,CAAC;IACpD,CAAC;EACF,CAAC,EAAE,CAAED,gBAAgB,CAAG,CAAC;EAEzB,OAAO,IAAI;AACZ;AAEAP,iBAAiB,CAACgB,QAAQ,GAAGV,yBAAyB;AACtD,eAAeN,iBAAiB","ignoreList":[]}