{"version":3,"names":["Button","CheckboxControl","__experimentalHStack","HStack","__","sprintf","_n","useMemo","useState","useRef","useContext","useRegistry","closeSmall","DataViewsContext","ActionWithModal","jsx","_jsx","jsxs","_jsxs","useHasAPossibleBulkAction","actions","item","some","action","supportsBulk","isEligible","useSomeItemHasAPossibleBulkAction","data","BulkSelectionCheckbox","selection","onChangeSelection","getItemId","selectableItems","filter","selectedItems","includes","areAllSelected","length","className","__nextHasNoMarginBottom","checked","indeterminate","onChange","map","ActionTrigger","onClick","isBusy","items","label","disabled","accessibleWhenDisabled","icon","isDestructive","size","tooltipPosition","EMPTY_ARRAY","ActionButton","actionInProgress","setActionInProgress","registry","selectedEligibleItems","id","callback","renderFooterContent","actionsToShow","message","expanded","spacing","children","showTooltip","FooterContent","footerContent","bulkActions","current","BulkActionsFooter"],"sources":["@wordpress/dataviews/src/components/dataviews-bulk-actions/index.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tButton,\r\n\tCheckboxControl,\r\n\t__experimentalHStack as HStack,\r\n} from '@wordpress/components';\r\nimport { __, sprintf, _n } from '@wordpress/i18n';\r\nimport { useMemo, useState, useRef, useContext } from '@wordpress/element';\r\nimport { useRegistry } from '@wordpress/data';\r\nimport { closeSmall } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport DataViewsContext from '../dataviews-context';\r\nimport { ActionWithModal } from '../dataviews-item-actions';\r\nimport type { Action } from '../../types';\r\nimport type { SetSelection } from '../../private-types';\r\nimport type { ActionTriggerProps } from '../dataviews-item-actions';\r\n\r\nexport function useHasAPossibleBulkAction< Item >(\r\n\tactions: Action< Item >[],\r\n\titem: Item\r\n) {\r\n\treturn useMemo( () => {\r\n\t\treturn actions.some( ( action ) => {\r\n\t\t\treturn (\r\n\t\t\t\taction.supportsBulk &&\r\n\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\r\n\t\t\t);\r\n\t\t} );\r\n\t}, [ actions, item ] );\r\n}\r\n\r\nexport function useSomeItemHasAPossibleBulkAction< Item >(\r\n\tactions: Action< Item >[],\r\n\tdata: Item[]\r\n) {\r\n\treturn useMemo( () => {\r\n\t\treturn data.some( ( item ) => {\r\n\t\t\treturn actions.some( ( action ) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\taction.supportsBulk &&\r\n\t\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\r\n\t\t\t\t);\r\n\t\t\t} );\r\n\t\t} );\r\n\t}, [ actions, data ] );\r\n}\r\n\r\ninterface BulkSelectionCheckboxProps< Item > {\r\n\tselection: string[];\r\n\tonChangeSelection: SetSelection;\r\n\tdata: Item[];\r\n\tactions: Action< Item >[];\r\n\tgetItemId: ( item: Item ) => string;\r\n}\r\n\r\nexport function BulkSelectionCheckbox< Item >( {\r\n\tselection,\r\n\tonChangeSelection,\r\n\tdata,\r\n\tactions,\r\n\tgetItemId,\r\n}: BulkSelectionCheckboxProps< Item > ) {\r\n\tconst selectableItems = useMemo( () => {\r\n\t\treturn data.filter( ( item ) => {\r\n\t\t\treturn actions.some(\r\n\t\t\t\t( action ) =>\r\n\t\t\t\t\taction.supportsBulk &&\r\n\t\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\r\n\t\t\t);\r\n\t\t} );\r\n\t}, [ data, actions ] );\r\n\tconst selectedItems = data.filter(\r\n\t\t( item ) =>\r\n\t\t\tselection.includes( getItemId( item ) ) &&\r\n\t\t\tselectableItems.includes( item )\r\n\t);\r\n\tconst areAllSelected = selectedItems.length === selectableItems.length;\r\n\treturn (\r\n\t\t<CheckboxControl\r\n\t\t\tclassName=\"dataviews-view-table-selection-checkbox\"\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tchecked={ areAllSelected }\r\n\t\t\tindeterminate={ ! areAllSelected && !! selectedItems.length }\r\n\t\t\tonChange={ () => {\r\n\t\t\t\tif ( areAllSelected ) {\r\n\t\t\t\t\tonChangeSelection( [] );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tonChangeSelection(\r\n\t\t\t\t\t\tselectableItems.map( ( item ) => getItemId( item ) )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} }\r\n\t\t\taria-label={\r\n\t\t\t\tareAllSelected ? __( 'Deselect all' ) : __( 'Select all' )\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\ninterface ActionButtonProps< Item > {\r\n\taction: Action< Item >;\r\n\tselectedItems: Item[];\r\n\tactionInProgress: string | null;\r\n\tsetActionInProgress: ( actionId: string | null ) => void;\r\n}\r\n\r\ninterface ToolbarContentProps< Item > {\r\n\tselection: string[];\r\n\tonChangeSelection: SetSelection;\r\n\tdata: Item[];\r\n\tactions: Action< Item >[];\r\n\tgetItemId: ( item: Item ) => string;\r\n}\r\n\r\nfunction ActionTrigger< Item >( {\r\n\taction,\r\n\tonClick,\r\n\tisBusy,\r\n\titems,\r\n}: ActionTriggerProps< Item > ) {\r\n\tconst label =\r\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tdisabled={ isBusy }\r\n\t\t\taccessibleWhenDisabled\r\n\t\t\tlabel={ label }\r\n\t\t\ticon={ action.icon }\r\n\t\t\tisDestructive={ action.isDestructive }\r\n\t\t\tsize=\"compact\"\r\n\t\t\tonClick={ onClick }\r\n\t\t\tisBusy={ isBusy }\r\n\t\t\ttooltipPosition=\"top\"\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nconst EMPTY_ARRAY: [] = [];\r\n\r\nfunction ActionButton< Item >( {\r\n\taction,\r\n\tselectedItems,\r\n\tactionInProgress,\r\n\tsetActionInProgress,\r\n}: ActionButtonProps< Item > ) {\r\n\tconst registry = useRegistry();\r\n\tconst selectedEligibleItems = useMemo( () => {\r\n\t\treturn selectedItems.filter( ( item ) => {\r\n\t\t\treturn ! action.isEligible || action.isEligible( item );\r\n\t\t} );\r\n\t}, [ action, selectedItems ] );\r\n\tif ( 'RenderModal' in action ) {\r\n\t\treturn (\r\n\t\t\t<ActionWithModal\r\n\t\t\t\tkey={ action.id }\r\n\t\t\t\taction={ action }\r\n\t\t\t\titems={ selectedEligibleItems }\r\n\t\t\t\tActionTrigger={ ActionTrigger }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<ActionTrigger\r\n\t\t\tkey={ action.id }\r\n\t\t\taction={ action }\r\n\t\t\tonClick={ async () => {\r\n\t\t\t\tsetActionInProgress( action.id );\r\n\t\t\t\tawait action.callback( selectedItems, {\r\n\t\t\t\t\tregistry,\r\n\t\t\t\t} );\r\n\t\t\t\tsetActionInProgress( null );\r\n\t\t\t} }\r\n\t\t\titems={ selectedEligibleItems }\r\n\t\t\tisBusy={ actionInProgress === action.id }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction renderFooterContent< Item >(\r\n\tdata: Item[],\r\n\tactions: Action< Item >[],\r\n\tgetItemId: ( item: Item ) => string,\r\n\tselection: string[],\r\n\tactionsToShow: Action< Item >[],\r\n\tselectedItems: Item[],\r\n\tactionInProgress: string | null,\r\n\tsetActionInProgress: ( actionId: string | null ) => void,\r\n\tonChangeSelection: SetSelection\r\n) {\r\n\tconst message =\r\n\t\tselectedItems.length > 0\r\n\t\t\t? sprintf(\r\n\t\t\t\t\t/* translators: %d: number of items. */\r\n\t\t\t\t\t_n(\r\n\t\t\t\t\t\t'%d Item selected',\r\n\t\t\t\t\t\t'%d Items selected',\r\n\t\t\t\t\t\tselectedItems.length\r\n\t\t\t\t\t),\r\n\t\t\t\t\tselectedItems.length\r\n\t\t\t  )\r\n\t\t\t: sprintf(\r\n\t\t\t\t\t/* translators: %d: number of items. */\r\n\t\t\t\t\t_n( '%d Item', '%d Items', data.length ),\r\n\t\t\t\t\tdata.length\r\n\t\t\t  );\r\n\treturn (\r\n\t\t<HStack\r\n\t\t\texpanded={ false }\r\n\t\t\tclassName=\"dataviews-bulk-actions-footer__container\"\r\n\t\t\tspacing={ 3 }\r\n\t\t>\r\n\t\t\t<BulkSelectionCheckbox\r\n\t\t\t\tselection={ selection }\r\n\t\t\t\tonChangeSelection={ onChangeSelection }\r\n\t\t\t\tdata={ data }\r\n\t\t\t\tactions={ actions }\r\n\t\t\t\tgetItemId={ getItemId }\r\n\t\t\t/>\r\n\t\t\t<span className=\"dataviews-bulk-actions-footer__item-count\">\r\n\t\t\t\t{ message }\r\n\t\t\t</span>\r\n\t\t\t<HStack\r\n\t\t\t\tclassName=\"dataviews-bulk-actions-footer__action-buttons\"\r\n\t\t\t\texpanded={ false }\r\n\t\t\t\tspacing={ 1 }\r\n\t\t\t>\r\n\t\t\t\t{ actionsToShow.map( ( action ) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\tkey={ action.id }\r\n\t\t\t\t\t\t\taction={ action }\r\n\t\t\t\t\t\t\tselectedItems={ selectedItems }\r\n\t\t\t\t\t\t\tactionInProgress={ actionInProgress }\r\n\t\t\t\t\t\t\tsetActionInProgress={ setActionInProgress }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t\t\t{ selectedItems.length > 0 && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ticon={ closeSmall }\r\n\t\t\t\t\t\tshowTooltip\r\n\t\t\t\t\t\ttooltipPosition=\"top\"\r\n\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\tlabel={ __( 'Cancel' ) }\r\n\t\t\t\t\t\tdisabled={ !! actionInProgress }\r\n\t\t\t\t\t\taccessibleWhenDisabled={ false }\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\tonChangeSelection( EMPTY_ARRAY );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</HStack>\r\n\t\t</HStack>\r\n\t);\r\n}\r\n\r\nfunction FooterContent< Item >( {\r\n\tselection,\r\n\tactions,\r\n\tonChangeSelection,\r\n\tdata,\r\n\tgetItemId,\r\n}: ToolbarContentProps< Item > ) {\r\n\tconst [ actionInProgress, setActionInProgress ] = useState< string | null >(\r\n\t\tnull\r\n\t);\r\n\tconst footerContent = useRef< JSX.Element | null >( null );\r\n\r\n\tconst bulkActions = useMemo(\r\n\t\t() => actions.filter( ( action ) => action.supportsBulk ),\r\n\t\t[ actions ]\r\n\t);\r\n\tconst selectableItems = useMemo( () => {\r\n\t\treturn data.filter( ( item ) => {\r\n\t\t\treturn bulkActions.some(\r\n\t\t\t\t( action ) => ! action.isEligible || action.isEligible( item )\r\n\t\t\t);\r\n\t\t} );\r\n\t}, [ data, bulkActions ] );\r\n\r\n\tconst selectedItems = useMemo( () => {\r\n\t\treturn data.filter(\r\n\t\t\t( item ) =>\r\n\t\t\t\tselection.includes( getItemId( item ) ) &&\r\n\t\t\t\tselectableItems.includes( item )\r\n\t\t);\r\n\t}, [ selection, data, getItemId, selectableItems ] );\r\n\r\n\tconst actionsToShow = useMemo(\r\n\t\t() =>\r\n\t\t\tactions.filter( ( action ) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\taction.supportsBulk &&\r\n\t\t\t\t\taction.icon &&\r\n\t\t\t\t\tselectedItems.some(\r\n\t\t\t\t\t\t( item ) =>\r\n\t\t\t\t\t\t\t! action.isEligible || action.isEligible( item )\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} ),\r\n\t\t[ actions, selectedItems ]\r\n\t);\r\n\tif ( ! actionInProgress ) {\r\n\t\tif ( footerContent.current ) {\r\n\t\t\tfooterContent.current = null;\r\n\t\t}\r\n\t\treturn renderFooterContent(\r\n\t\t\tdata,\r\n\t\t\tactions,\r\n\t\t\tgetItemId,\r\n\t\t\tselection,\r\n\t\t\tactionsToShow,\r\n\t\t\tselectedItems,\r\n\t\t\tactionInProgress,\r\n\t\t\tsetActionInProgress,\r\n\t\t\tonChangeSelection\r\n\t\t);\r\n\t} else if ( ! footerContent.current ) {\r\n\t\tfooterContent.current = renderFooterContent(\r\n\t\t\tdata,\r\n\t\t\tactions,\r\n\t\t\tgetItemId,\r\n\t\t\tselection,\r\n\t\t\tactionsToShow,\r\n\t\t\tselectedItems,\r\n\t\t\tactionInProgress,\r\n\t\t\tsetActionInProgress,\r\n\t\t\tonChangeSelection\r\n\t\t);\r\n\t}\r\n\treturn footerContent.current;\r\n}\r\n\r\nexport function BulkActionsFooter() {\r\n\tconst {\r\n\t\tdata,\r\n\t\tselection,\r\n\t\tactions = EMPTY_ARRAY,\r\n\t\tonChangeSelection,\r\n\t\tgetItemId,\r\n\t} = useContext( DataViewsContext );\r\n\treturn (\r\n\t\t<FooterContent\r\n\t\t\tselection={ selection }\r\n\t\t\tonChangeSelection={ onChangeSelection }\r\n\t\t\tdata={ data }\r\n\t\t\tactions={ actions }\r\n\t\t\tgetItemId={ getItemId }\r\n\t\t/>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}