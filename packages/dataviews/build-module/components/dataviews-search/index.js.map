{"version":3,"names":["__","useEffect","useRef","memo","useContext","SearchControl","useDebouncedInput","DataViewsContext","jsx","_jsx","DataViewsSearch","Search","label","view","onChangeView","search","setSearch","debouncedSearch","_view$search","onChangeViewRef","viewRef","current","page","searchLabel","className","__nextHasNoMarginBottom","onChange","value","placeholder","size"],"sources":["@wordpress/dataviews/src/components/dataviews-search/index.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useEffect, useRef, memo, useContext } from '@wordpress/element';\r\nimport { SearchControl } from '@wordpress/components';\r\nimport { useDebouncedInput } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport DataViewsContext from '../dataviews-context';\r\n\r\ninterface SearchProps {\r\n\tlabel?: string;\r\n}\r\n\r\nconst DataViewsSearch = memo( function Search( { label }: SearchProps ) {\r\n\tconst { view, onChangeView } = useContext( DataViewsContext );\r\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput(\r\n\t\tview.search\r\n\t);\r\n\tuseEffect( () => {\r\n\t\tsetSearch( view.search ?? '' );\r\n\t}, [ view.search, setSearch ] );\r\n\tconst onChangeViewRef = useRef( onChangeView );\r\n\tconst viewRef = useRef( view );\r\n\tuseEffect( () => {\r\n\t\tonChangeViewRef.current = onChangeView;\r\n\t\tviewRef.current = view;\r\n\t}, [ onChangeView, view ] );\r\n\tuseEffect( () => {\r\n\t\tif ( debouncedSearch !== viewRef.current?.search ) {\r\n\t\t\tonChangeViewRef.current( {\r\n\t\t\t\t...viewRef.current,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tsearch: debouncedSearch,\r\n\t\t\t} );\r\n\t\t}\r\n\t}, [ debouncedSearch ] );\r\n\tconst searchLabel = label || __( 'Search' );\r\n\treturn (\r\n\t\t<SearchControl\r\n\t\t\tclassName=\"dataviews-search\"\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tonChange={ setSearch }\r\n\t\t\tvalue={ search }\r\n\t\t\tlabel={ searchLabel }\r\n\t\t\tplaceholder={ searchLabel }\r\n\t\t\tsize=\"compact\"\r\n\t\t/>\r\n\t);\r\n} );\r\n\r\nexport default DataViewsSearch;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,EAAEC,MAAM,EAAEC,IAAI,EAAEC,UAAU,QAAQ,oBAAoB;AACxE,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,iBAAiB,QAAQ,oBAAoB;;AAEtD;AACA;AACA;AACA,OAAOC,gBAAgB,MAAM,sBAAsB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAMpD,MAAMC,eAAe,GAAGP,IAAI,CAAE,SAASQ,MAAMA,CAAE;EAAEC;AAAmB,CAAC,EAAG;EACvE,MAAM;IAAEC,IAAI;IAAEC;EAAa,CAAC,GAAGV,UAAU,CAAEG,gBAAiB,CAAC;EAC7D,MAAM,CAAEQ,MAAM,EAAEC,SAAS,EAAEC,eAAe,CAAE,GAAGX,iBAAiB,CAC/DO,IAAI,CAACE,MACN,CAAC;EACDd,SAAS,CAAE,MAAM;IAAA,IAAAiB,YAAA;IAChBF,SAAS,EAAAE,YAAA,GAAEL,IAAI,CAACE,MAAM,cAAAG,YAAA,cAAAA,YAAA,GAAI,EAAG,CAAC;EAC/B,CAAC,EAAE,CAAEL,IAAI,CAACE,MAAM,EAAEC,SAAS,CAAG,CAAC;EAC/B,MAAMG,eAAe,GAAGjB,MAAM,CAAEY,YAAa,CAAC;EAC9C,MAAMM,OAAO,GAAGlB,MAAM,CAAEW,IAAK,CAAC;EAC9BZ,SAAS,CAAE,MAAM;IAChBkB,eAAe,CAACE,OAAO,GAAGP,YAAY;IACtCM,OAAO,CAACC,OAAO,GAAGR,IAAI;EACvB,CAAC,EAAE,CAAEC,YAAY,EAAED,IAAI,CAAG,CAAC;EAC3BZ,SAAS,CAAE,MAAM;IAChB,IAAKgB,eAAe,KAAKG,OAAO,CAACC,OAAO,EAAEN,MAAM,EAAG;MAClDI,eAAe,CAACE,OAAO,CAAE;QACxB,GAAGD,OAAO,CAACC,OAAO;QAClBC,IAAI,EAAE,CAAC;QACPP,MAAM,EAAEE;MACT,CAAE,CAAC;IACJ;EACD,CAAC,EAAE,CAAEA,eAAe,CAAG,CAAC;EACxB,MAAMM,WAAW,GAAGX,KAAK,IAAIZ,EAAE,CAAE,QAAS,CAAC;EAC3C,oBACCS,IAAA,CAACJ,aAAa;IACbmB,SAAS,EAAC,kBAAkB;IAC5BC,uBAAuB;IACvBC,QAAQ,EAAGV,SAAW;IACtBW,KAAK,EAAGZ,MAAQ;IAChBH,KAAK,EAAGW,WAAa;IACrBK,WAAW,EAAGL,WAAa;IAC3BM,IAAI,EAAC;EAAS,CACd,CAAC;AAEJ,CAAE,CAAC;AAEH,eAAenB,eAAe","ignoreList":[]}