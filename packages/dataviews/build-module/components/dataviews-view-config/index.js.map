{"version":3,"names":["Button","Popover","__experimentalToggleGroupControl","ToggleGroupControl","__experimentalToggleGroupControlOption","ToggleGroupControlOption","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","SelectControl","__experimentalItemGroup","ItemGroup","__experimentalItem","Item","__experimentalGrid","Grid","__experimentalVStack","VStack","__experimentalHStack","HStack","__experimentalHeading","Heading","__experimentalText","Text","privateApis","componentsPrivateApis","BaseControl","__","_x","sprintf","memo","useContext","useState","useMemo","chevronDown","chevronUp","cog","seen","unseen","warning","SORTING_DIRECTIONS","LAYOUT_GRID","LAYOUT_TABLE","sortIcons","sortLabels","VIEW_LAYOUTS","getNotHidableFieldIds","getVisibleFieldIds","getHiddenFieldIds","DataViewsContext","unlock","DensityPicker","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DropdownMenuV2","ViewTypeMenu","defaultLayouts","list","grid","table","view","onChangeView","availableLayouts","Object","keys","length","activeView","find","v","type","trigger","size","icon","label","children","map","layout","config","RadioItem","value","name","checked","hideOnClick","onChange","e","target","globalThis","SCRIPT_DEBUG","ItemLabel","SortFieldControl","fields","orderOptions","sortableFields","filter","field","enableSorting","id","__nextHasNoMarginBottom","__next40pxDefaultSize","sort","options","direction","SortDirectionControl","className","isBlock","newDirection","PAGE_SIZE_VALUES","ItemsPerPageControl","perPage","disabled","newItemsPerPage","newItemsPerPageNumber","undefined","parseInt","page","toString","FieldItem","index","isVisible","isHidable","visibleFieldIds","expanded","justify","accessibleWhenDisabled","onClick","_visibleFieldIds$slic","slice","_visibleFieldIds$slic2","fieldId","setTimeout","element","document","querySelector","HTMLElement","focus","FieldControl","hiddenFieldIds","notHidableFieldIds","visibleFields","includes","enableHiding","indexOf","combinedFields","forEach","push","a","b","hiddenFields","spacing","isBordered","isSeparated","VisualLabel","style","margin","SettingsSection","title","description","columns","gap","level","variant","DataviewsViewConfigContent","density","setDensity","_DataViewsViewConfig","isShowingViewPopover","setIsShowingViewPopover","placement","onClose","focusOnMount","DataViewsViewConfig"],"sources":["@wordpress/dataviews/src/components/dataviews-view-config/index.tsx"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport type { ChangeEvent } from 'react';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tButton,\r\n\tPopover,\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\r\n\tSelectControl,\r\n\t__experimentalItemGroup as ItemGroup,\r\n\t__experimentalItem as Item,\r\n\t__experimentalGrid as Grid,\r\n\t__experimentalVStack as VStack,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalHeading as Heading,\r\n\t__experimentalText as Text,\r\n\tprivateApis as componentsPrivateApis,\r\n\tBaseControl,\r\n} from '@wordpress/components';\r\nimport { __, _x, sprintf } from '@wordpress/i18n';\r\nimport { memo, useContext, useState, useMemo } from '@wordpress/element';\r\nimport { chevronDown, chevronUp, cog, seen, unseen } from '@wordpress/icons';\r\nimport warning from '@wordpress/warning';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tSORTING_DIRECTIONS,\r\n\tLAYOUT_GRID,\r\n\tLAYOUT_TABLE,\r\n\tsortIcons,\r\n\tsortLabels,\r\n} from '../../constants';\r\nimport {\r\n\tVIEW_LAYOUTS,\r\n\tgetNotHidableFieldIds,\r\n\tgetVisibleFieldIds,\r\n\tgetHiddenFieldIds,\r\n} from '../../dataviews-layouts';\r\nimport type { SupportedLayouts, View, Field } from '../../types';\r\nimport DataViewsContext from '../dataviews-context';\r\nimport { unlock } from '../../lock-unlock';\r\nimport DensityPicker from '../../dataviews-layouts/grid/density-picker';\r\n\r\nconst { DropdownMenuV2 } = unlock( componentsPrivateApis );\r\n\r\ninterface ViewTypeMenuProps {\r\n\tdefaultLayouts?: SupportedLayouts;\r\n}\r\n\r\nfunction ViewTypeMenu( {\r\n\tdefaultLayouts = { list: {}, grid: {}, table: {} },\r\n}: ViewTypeMenuProps ) {\r\n\tconst { view, onChangeView } = useContext( DataViewsContext );\r\n\tconst availableLayouts = Object.keys( defaultLayouts );\r\n\tif ( availableLayouts.length <= 1 ) {\r\n\t\treturn null;\r\n\t}\r\n\tconst activeView = VIEW_LAYOUTS.find( ( v ) => view.type === v.type );\r\n\treturn (\r\n\t\t<DropdownMenuV2\r\n\t\t\ttrigger={\r\n\t\t\t\t<Button\r\n\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\ticon={ activeView?.icon }\r\n\t\t\t\t\tlabel={ __( 'Layout' ) }\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{ availableLayouts.map( ( layout ) => {\r\n\t\t\t\tconst config = VIEW_LAYOUTS.find( ( v ) => v.type === layout );\r\n\t\t\t\tif ( ! config ) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<DropdownMenuV2.RadioItem\r\n\t\t\t\t\t\tkey={ layout }\r\n\t\t\t\t\t\tvalue={ layout }\r\n\t\t\t\t\t\tname=\"view-actions-available-view\"\r\n\t\t\t\t\t\tchecked={ layout === view.type }\r\n\t\t\t\t\t\thideOnClick\r\n\t\t\t\t\t\tonChange={ ( e: ChangeEvent< HTMLInputElement > ) => {\r\n\t\t\t\t\t\t\tswitch ( e.target.value ) {\r\n\t\t\t\t\t\t\t\tcase 'list':\r\n\t\t\t\t\t\t\t\tcase 'grid':\r\n\t\t\t\t\t\t\t\tcase 'table':\r\n\t\t\t\t\t\t\t\t\treturn onChangeView( {\r\n\t\t\t\t\t\t\t\t\t\t...view,\r\n\t\t\t\t\t\t\t\t\t\ttype: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t...defaultLayouts[ e.target.value ],\r\n\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twarning( 'Invalid dataview' );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DropdownMenuV2.ItemLabel>\r\n\t\t\t\t\t\t\t{ config.label }\r\n\t\t\t\t\t\t</DropdownMenuV2.ItemLabel>\r\n\t\t\t\t\t</DropdownMenuV2.RadioItem>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</DropdownMenuV2>\r\n\t);\r\n}\r\n\r\nfunction SortFieldControl() {\r\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\r\n\tconst orderOptions = useMemo( () => {\r\n\t\tconst sortableFields = fields.filter(\r\n\t\t\t( field ) => field.enableSorting !== false\r\n\t\t);\r\n\t\treturn sortableFields.map( ( field ) => {\r\n\t\t\treturn {\r\n\t\t\t\tlabel: field.label,\r\n\t\t\t\tvalue: field.id,\r\n\t\t\t};\r\n\t\t} );\r\n\t}, [ fields ] );\r\n\r\n\treturn (\r\n\t\t<SelectControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\t__next40pxDefaultSize\r\n\t\t\tlabel={ __( 'Sort by' ) }\r\n\t\t\tvalue={ view.sort?.field }\r\n\t\t\toptions={ orderOptions }\r\n\t\t\tonChange={ ( value: string ) => {\r\n\t\t\t\tonChangeView( {\r\n\t\t\t\t\t...view,\r\n\t\t\t\t\tsort: {\r\n\t\t\t\t\t\tdirection: view?.sort?.direction || 'desc',\r\n\t\t\t\t\t\tfield: value,\r\n\t\t\t\t\t},\r\n\t\t\t\t} );\r\n\t\t\t} }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction SortDirectionControl() {\r\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\r\n\r\n\tconst sortableFields = fields.filter(\r\n\t\t( field ) => field.enableSorting !== false\r\n\t);\r\n\tif ( sortableFields.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tlet value = view.sort?.direction;\r\n\tif ( ! value && view.sort?.field ) {\r\n\t\tvalue = 'desc';\r\n\t}\r\n\treturn (\r\n\t\t<ToggleGroupControl\r\n\t\t\tclassName=\"dataviews-view-config__sort-direction\"\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\t__next40pxDefaultSize\r\n\t\t\tisBlock\r\n\t\t\tlabel={ __( 'Order' ) }\r\n\t\t\tvalue={ value }\r\n\t\t\tonChange={ ( newDirection ) => {\r\n\t\t\t\tif ( newDirection === 'asc' || newDirection === 'desc' ) {\r\n\t\t\t\t\tonChangeView( {\r\n\t\t\t\t\t\t...view,\r\n\t\t\t\t\t\tsort: {\r\n\t\t\t\t\t\t\tdirection: newDirection,\r\n\t\t\t\t\t\t\tfield:\r\n\t\t\t\t\t\t\t\tview.sort?.field ||\r\n\t\t\t\t\t\t\t\t// If there is no field assigned as the sorting field assign the first sortable field.\r\n\t\t\t\t\t\t\t\tfields.find(\r\n\t\t\t\t\t\t\t\t\t( field ) => field.enableSorting !== false\r\n\t\t\t\t\t\t\t\t)?.id ||\r\n\t\t\t\t\t\t\t\t'',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t} );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\twarning( 'Invalid direction' );\r\n\t\t\t} }\r\n\t\t>\r\n\t\t\t{ SORTING_DIRECTIONS.map( ( direction ) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\t\tkey={ direction }\r\n\t\t\t\t\t\tvalue={ direction }\r\n\t\t\t\t\t\ticon={ sortIcons[ direction ] }\r\n\t\t\t\t\t\tlabel={ sortLabels[ direction ] }\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</ToggleGroupControl>\r\n\t);\r\n}\r\n\r\nconst PAGE_SIZE_VALUES = [ 10, 20, 50, 100 ];\r\nfunction ItemsPerPageControl() {\r\n\tconst { view, onChangeView } = useContext( DataViewsContext );\r\n\treturn (\r\n\t\t<ToggleGroupControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\t__next40pxDefaultSize\r\n\t\t\tisBlock\r\n\t\t\tlabel={ __( 'Items per page' ) }\r\n\t\t\tvalue={ view.perPage || 10 }\r\n\t\t\tdisabled={ ! view?.sort?.field }\r\n\t\t\tonChange={ ( newItemsPerPage ) => {\r\n\t\t\t\tconst newItemsPerPageNumber =\r\n\t\t\t\t\ttypeof newItemsPerPage === 'number' ||\r\n\t\t\t\t\tnewItemsPerPage === undefined\r\n\t\t\t\t\t\t? newItemsPerPage\r\n\t\t\t\t\t\t: parseInt( newItemsPerPage, 10 );\r\n\t\t\t\tonChangeView( {\r\n\t\t\t\t\t...view,\r\n\t\t\t\t\tperPage: newItemsPerPageNumber,\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t} );\r\n\t\t\t} }\r\n\t\t>\r\n\t\t\t{ PAGE_SIZE_VALUES.map( ( value ) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ToggleGroupControlOption\r\n\t\t\t\t\t\tkey={ value }\r\n\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\tlabel={ value.toString() }\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</ToggleGroupControl>\r\n\t);\r\n}\r\n\r\ninterface FieldItemProps {\r\n\tid: any;\r\n\tlabel: string;\r\n\tindex: number;\r\n\tisVisible: boolean;\r\n\tisHidable: boolean;\r\n}\r\n\r\nfunction FieldItem( {\r\n\tfield: { id, label, index, isVisible, isHidable },\r\n\tfields,\r\n\tview,\r\n\tonChangeView,\r\n}: {\r\n\tfield: FieldItemProps;\r\n\tfields: Field< any >[];\r\n\tview: View;\r\n\tonChangeView: ( view: View ) => void;\r\n} ) {\r\n\tconst visibleFieldIds = getVisibleFieldIds( view, fields );\r\n\r\n\treturn (\r\n\t\t<Item key={ id }>\r\n\t\t\t<HStack\r\n\t\t\t\texpanded\r\n\t\t\t\tclassName={ `dataviews-field-control__field dataviews-field-control__field-${ id }` }\r\n\t\t\t>\r\n\t\t\t\t<span>{ label }</span>\r\n\t\t\t\t<HStack\r\n\t\t\t\t\tjustify=\"flex-end\"\r\n\t\t\t\t\texpanded={ false }\r\n\t\t\t\t\tclassName=\"dataviews-field-control__actions\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{ view.type === LAYOUT_TABLE && isVisible && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={ index < 1 }\r\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\tonChangeView( {\r\n\t\t\t\t\t\t\t\t\t\t...view,\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t...( visibleFieldIds.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tindex - 1\r\n\t\t\t\t\t\t\t\t\t\t\t) ?? [] ),\r\n\t\t\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\t\t\tvisibleFieldIds[ index - 1 ],\r\n\t\t\t\t\t\t\t\t\t\t\t...visibleFieldIds.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tindex + 1\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\ticon={ chevronUp }\r\n\t\t\t\t\t\t\t\tlabel={ sprintf(\r\n\t\t\t\t\t\t\t\t\t/* translators: %s: field label */\r\n\t\t\t\t\t\t\t\t\t__( 'Move %s up' ),\r\n\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={ index >= visibleFieldIds.length - 1 }\r\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\tonChangeView( {\r\n\t\t\t\t\t\t\t\t\t\t...view,\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t...( visibleFieldIds.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t\t\t\t\t) ?? [] ),\r\n\t\t\t\t\t\t\t\t\t\t\tvisibleFieldIds[ index + 1 ],\r\n\t\t\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\t\t\t...visibleFieldIds.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tindex + 2\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\ticon={ chevronDown }\r\n\t\t\t\t\t\t\t\tlabel={ sprintf(\r\n\t\t\t\t\t\t\t\t\t/* translators: %s: field label */\r\n\t\t\t\t\t\t\t\t\t__( 'Move %s down' ),\r\n\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t/>{ ' ' }\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"dataviews-field-control__field-visibility-button\"\r\n\t\t\t\t\t\tdisabled={ ! isHidable }\r\n\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\tonChangeView( {\r\n\t\t\t\t\t\t\t\t...view,\r\n\t\t\t\t\t\t\t\tfields: isVisible\r\n\t\t\t\t\t\t\t\t\t? visibleFieldIds.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t( fieldId ) => fieldId !== id\r\n\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t: [ ...visibleFieldIds, id ],\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t// Focus the visibility button to avoid focus loss.\r\n\t\t\t\t\t\t\t// Our code is safe against the component being unmounted, so we don't need to worry about cleaning the timeout.\r\n\t\t\t\t\t\t\t// eslint-disable-next-line @wordpress/react-no-unsafe-timeout\r\n\t\t\t\t\t\t\tsetTimeout( () => {\r\n\t\t\t\t\t\t\t\tconst element = document.querySelector(\r\n\t\t\t\t\t\t\t\t\t`.dataviews-field-control__field-${ id } .dataviews-field-control__field-visibility-button`\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tif ( element instanceof HTMLElement ) {\r\n\t\t\t\t\t\t\t\t\telement.focus();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, 50 );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\ticon={ isVisible ? seen : unseen }\r\n\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\tisVisible\r\n\t\t\t\t\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t\t\t\t\t/* translators: %s: field label */\r\n\t\t\t\t\t\t\t\t\t\t__( 'Hide %s' ),\r\n\t\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: sprintf(\r\n\t\t\t\t\t\t\t\t\t\t/* translators: %s: field label */\r\n\t\t\t\t\t\t\t\t\t\t__( 'Show %s' ),\r\n\t\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</HStack>\r\n\t\t\t</HStack>\r\n\t\t</Item>\r\n\t);\r\n}\r\n\r\nfunction FieldControl() {\r\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\r\n\r\n\tconst visibleFieldIds = useMemo(\r\n\t\t() => getVisibleFieldIds( view, fields ),\r\n\t\t[ view, fields ]\r\n\t);\r\n\tconst hiddenFieldIds = useMemo(\r\n\t\t() => getHiddenFieldIds( view, fields ),\r\n\t\t[ view, fields ]\r\n\t);\r\n\tconst notHidableFieldIds = useMemo(\r\n\t\t() => getNotHidableFieldIds( view ),\r\n\t\t[ view ]\r\n\t);\r\n\r\n\tconst visibleFields = fields\r\n\t\t.filter( ( { id } ) => visibleFieldIds.includes( id ) )\r\n\t\t.map( ( { id, label, enableHiding } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tlabel,\r\n\t\t\t\tindex: visibleFieldIds.indexOf( id ),\r\n\t\t\t\tisVisible: true,\r\n\t\t\t\tisHidable: notHidableFieldIds.includes( id )\r\n\t\t\t\t\t? false\r\n\t\t\t\t\t: enableHiding,\r\n\t\t\t};\r\n\t\t} );\r\n\tif ( view.type === LAYOUT_TABLE && view.layout?.combinedFields ) {\r\n\t\tview.layout.combinedFields.forEach( ( { id, label } ) => {\r\n\t\t\tvisibleFields.push( {\r\n\t\t\t\tid,\r\n\t\t\t\tlabel,\r\n\t\t\t\tindex: visibleFieldIds.indexOf( id ),\r\n\t\t\t\tisVisible: true,\r\n\t\t\t\tisHidable: notHidableFieldIds.includes( id ),\r\n\t\t\t} );\r\n\t\t} );\r\n\t}\r\n\tvisibleFields.sort( ( a, b ) => a.index - b.index );\r\n\r\n\tconst hiddenFields = fields\r\n\t\t.filter( ( { id } ) => hiddenFieldIds.includes( id ) )\r\n\t\t.map( ( { id, label, enableHiding }, index ) => {\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tlabel,\r\n\t\t\t\tindex,\r\n\t\t\t\tisVisible: false,\r\n\t\t\t\tisHidable: enableHiding,\r\n\t\t\t};\r\n\t\t} );\r\n\r\n\tif ( ! visibleFields?.length && ! hiddenFields?.length ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<VStack spacing={ 6 } className=\"dataviews-field-control\">\r\n\t\t\t{ !! visibleFields?.length && (\r\n\t\t\t\t<ItemGroup isBordered isSeparated>\r\n\t\t\t\t\t{ visibleFields.map( ( field ) => (\r\n\t\t\t\t\t\t<FieldItem\r\n\t\t\t\t\t\t\tkey={ field.id }\r\n\t\t\t\t\t\t\tfield={ field }\r\n\t\t\t\t\t\t\tfields={ fields }\r\n\t\t\t\t\t\t\tview={ view }\r\n\t\t\t\t\t\t\tonChangeView={ onChangeView }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t</ItemGroup>\r\n\t\t\t) }\r\n\t\t\t{ !! hiddenFields?.length && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<VStack spacing={ 4 }>\r\n\t\t\t\t\t\t<BaseControl.VisualLabel style={ { margin: 0 } }>\r\n\t\t\t\t\t\t\t{ __( 'Hidden' ) }\r\n\t\t\t\t\t\t</BaseControl.VisualLabel>\r\n\t\t\t\t\t\t<ItemGroup isBordered isSeparated>\r\n\t\t\t\t\t\t\t{ hiddenFields.map( ( field ) => (\r\n\t\t\t\t\t\t\t\t<FieldItem\r\n\t\t\t\t\t\t\t\t\tkey={ field.id }\r\n\t\t\t\t\t\t\t\t\tfield={ field }\r\n\t\t\t\t\t\t\t\t\tfields={ fields }\r\n\t\t\t\t\t\t\t\t\tview={ view }\r\n\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t</ItemGroup>\r\n\t\t\t\t\t</VStack>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</VStack>\r\n\t);\r\n}\r\n\r\nfunction SettingsSection( {\r\n\ttitle,\r\n\tdescription,\r\n\tchildren,\r\n}: {\r\n\ttitle: string;\r\n\tdescription?: string;\r\n\tchildren: React.ReactNode;\r\n} ) {\r\n\treturn (\r\n\t\t<Grid columns={ 12 } className=\"dataviews-settings-section\" gap={ 4 }>\r\n\t\t\t<div className=\"dataviews-settings-section__sidebar\">\r\n\t\t\t\t<Heading\r\n\t\t\t\t\tlevel={ 2 }\r\n\t\t\t\t\tclassName=\"dataviews-settings-section__title\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{ title }\r\n\t\t\t\t</Heading>\r\n\t\t\t\t{ description && (\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tvariant=\"muted\"\r\n\t\t\t\t\t\tclassName=\"dataviews-settings-section__description\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ description }\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t\t<Grid\r\n\t\t\t\tcolumns={ 8 }\r\n\t\t\t\tgap={ 4 }\r\n\t\t\t\tclassName=\"dataviews-settings-section__content\"\r\n\t\t\t>\r\n\t\t\t\t{ children }\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nfunction DataviewsViewConfigContent( {\r\n\tdensity,\r\n\tsetDensity,\r\n}: {\r\n\tdensity: number;\r\n\tsetDensity: React.Dispatch< React.SetStateAction< number > >;\r\n} ) {\r\n\tconst { view } = useContext( DataViewsContext );\r\n\treturn (\r\n\t\t<VStack className=\"dataviews-view-config\" spacing={ 6 }>\r\n\t\t\t<SettingsSection title={ __( 'Appearance' ) }>\r\n\t\t\t\t<HStack expanded className=\"is-divided-in-two\">\r\n\t\t\t\t\t<SortFieldControl />\r\n\t\t\t\t\t<SortDirectionControl />\r\n\t\t\t\t</HStack>\r\n\t\t\t\t{ view.type === LAYOUT_GRID && (\r\n\t\t\t\t\t<DensityPicker\r\n\t\t\t\t\t\tdensity={ density }\r\n\t\t\t\t\t\tsetDensity={ setDensity }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<ItemsPerPageControl />\r\n\t\t\t</SettingsSection>\r\n\t\t\t<SettingsSection title={ __( 'Properties' ) }>\r\n\t\t\t\t<FieldControl />\r\n\t\t\t</SettingsSection>\r\n\t\t</VStack>\r\n\t);\r\n}\r\n\r\nfunction _DataViewsViewConfig( {\r\n\tdensity,\r\n\tsetDensity,\r\n\tdefaultLayouts = { list: {}, grid: {}, table: {} },\r\n}: {\r\n\tdensity: number;\r\n\tsetDensity: React.Dispatch< React.SetStateAction< number > >;\r\n\tdefaultLayouts?: SupportedLayouts;\r\n} ) {\r\n\tconst [ isShowingViewPopover, setIsShowingViewPopover ] =\r\n\t\tuseState< boolean >( false );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ViewTypeMenu defaultLayouts={ defaultLayouts } />\r\n\t\t\t<div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\ticon={ cog }\r\n\t\t\t\t\tlabel={ _x( 'View options', 'View is used as a noun' ) }\r\n\t\t\t\t\tonClick={ () => setIsShowingViewPopover( true ) }\r\n\t\t\t\t/>\r\n\t\t\t\t{ isShowingViewPopover && (\r\n\t\t\t\t\t<Popover\r\n\t\t\t\t\t\tplacement=\"bottom-end\"\r\n\t\t\t\t\t\tonClose={ () => {\r\n\t\t\t\t\t\t\tsetIsShowingViewPopover( false );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tfocusOnMount\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DataviewsViewConfigContent\r\n\t\t\t\t\t\t\tdensity={ density }\r\n\t\t\t\t\t\t\tsetDensity={ setDensity }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Popover>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nconst DataViewsViewConfig = memo( _DataViewsViewConfig );\r\n\r\nexport default DataViewsViewConfig;\r\n"],"mappings":"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","ignoreList":[]}