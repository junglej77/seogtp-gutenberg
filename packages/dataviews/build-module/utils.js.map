{"version":3,"names":["ALL_OPERATORS","OPERATOR_IS","OPERATOR_IS_NOT","OPERATOR_IS_ANY","OPERATOR_IS_NONE","sanitizeOperators","field","operators","filterBy","Array","isArray","filter","operator","includes"],"sources":["@wordpress/dataviews/src/utils.ts"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tALL_OPERATORS,\r\n\tOPERATOR_IS,\r\n\tOPERATOR_IS_NOT,\r\n\tOPERATOR_IS_ANY,\r\n\tOPERATOR_IS_NONE,\r\n} from './constants';\r\nimport type { NormalizedField } from './types';\r\n\r\nexport function sanitizeOperators< Item >( field: NormalizedField< Item > ) {\r\n\tlet operators = field.filterBy?.operators;\r\n\r\n\t// Assign default values.\r\n\tif ( ! operators || ! Array.isArray( operators ) ) {\r\n\t\toperators = [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ];\r\n\t}\r\n\r\n\t// Make sure only valid operators are used.\r\n\toperators = operators.filter( ( operator ) =>\r\n\t\tALL_OPERATORS.includes( operator )\r\n\t);\r\n\r\n\t// Do not allow mixing single & multiselection operators.\r\n\t// Remove multiselection operators if any of the single selection ones is present.\r\n\tif (\r\n\t\toperators.includes( OPERATOR_IS ) ||\r\n\t\toperators.includes( OPERATOR_IS_NOT )\r\n\t) {\r\n\t\toperators = operators.filter( ( operator ) =>\r\n\t\t\t[ OPERATOR_IS, OPERATOR_IS_NOT ].includes( operator )\r\n\t\t);\r\n\t}\r\n\r\n\treturn operators;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SACCA,aAAa,EACbC,WAAW,EACXC,eAAe,EACfC,eAAe,EACfC,gBAAgB,QACV,aAAa;AAGpB,OAAO,SAASC,iBAAiBA,CAAUC,KAA8B,EAAG;EAC3E,IAAIC,SAAS,GAAGD,KAAK,CAACE,QAAQ,EAAED,SAAS;;EAEzC;EACA,IAAK,CAAEA,SAAS,IAAI,CAAEE,KAAK,CAACC,OAAO,CAAEH,SAAU,CAAC,EAAG;IAClDA,SAAS,GAAG,CAAEJ,eAAe,EAAEC,gBAAgB,CAAE;EAClD;;EAEA;EACAG,SAAS,GAAGA,SAAS,CAACI,MAAM,CAAIC,QAAQ,IACvCZ,aAAa,CAACa,QAAQ,CAAED,QAAS,CAClC,CAAC;;EAED;EACA;EACA,IACCL,SAAS,CAACM,QAAQ,CAAEZ,WAAY,CAAC,IACjCM,SAAS,CAACM,QAAQ,CAAEX,eAAgB,CAAC,EACpC;IACDK,SAAS,GAAGA,SAAS,CAACI,MAAM,CAAIC,QAAQ,IACvC,CAAEX,WAAW,EAAEC,eAAe,CAAE,CAACW,QAAQ,CAAED,QAAS,CACrD,CAAC;EACF;EAEA,OAAOL,SAAS;AACjB","ignoreList":[]}