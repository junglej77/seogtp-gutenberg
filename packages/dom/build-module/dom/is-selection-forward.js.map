{"version":3,"names":["assertIsDefined","isSelectionForward","selection","anchorNode","focusNode","anchorOffset","focusOffset","position","compareDocumentPosition","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING"],"sources":["@wordpress/dom/src/dom/is-selection-forward.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { assertIsDefined } from '../utils/assert-is-defined';\r\n\r\n/**\r\n * Returns true if the given selection object is in the forward direction, or\r\n * false otherwise.\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\r\n *\r\n * @param {Selection} selection Selection object to check.\r\n *\r\n * @return {boolean} Whether the selection is forward.\r\n */\r\nexport default function isSelectionForward( selection ) {\r\n\tconst { anchorNode, focusNode, anchorOffset, focusOffset } = selection;\r\n\r\n\tassertIsDefined( anchorNode, 'anchorNode' );\r\n\tassertIsDefined( focusNode, 'focusNode' );\r\n\tconst position = anchorNode.compareDocumentPosition( focusNode );\r\n\r\n\t// Disable reason: `Node#compareDocumentPosition` returns a bitmask value,\r\n\t// so bitwise operators are intended.\r\n\t/* eslint-disable no-bitwise */\r\n\t// Compare whether anchor node precedes focus node. If focus node (where\r\n\t// end of selection occurs) is after the anchor node, it is forward.\r\n\tif ( position & anchorNode.DOCUMENT_POSITION_PRECEDING ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif ( position & anchorNode.DOCUMENT_POSITION_FOLLOWING ) {\r\n\t\treturn true;\r\n\t}\r\n\t/* eslint-enable no-bitwise */\r\n\r\n\t// `compareDocumentPosition` returns 0 when passed the same node, in which\r\n\t// case compare offsets.\r\n\tif ( position === 0 ) {\r\n\t\treturn anchorOffset <= focusOffset;\r\n\t}\r\n\r\n\t// This should never be reached, but return true as default case.\r\n\treturn true;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,eAAe,QAAQ,4BAA4B;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,kBAAkBA,CAAEC,SAAS,EAAG;EACvD,MAAM;IAAEC,UAAU;IAAEC,SAAS;IAAEC,YAAY;IAAEC;EAAY,CAAC,GAAGJ,SAAS;EAEtEF,eAAe,CAAEG,UAAU,EAAE,YAAa,CAAC;EAC3CH,eAAe,CAAEI,SAAS,EAAE,WAAY,CAAC;EACzC,MAAMG,QAAQ,GAAGJ,UAAU,CAACK,uBAAuB,CAAEJ,SAAU,CAAC;;EAEhE;EACA;EACA;EACA;EACA;EACA,IAAKG,QAAQ,GAAGJ,UAAU,CAACM,2BAA2B,EAAG;IACxD,OAAO,KAAK;EACb;EAEA,IAAKF,QAAQ,GAAGJ,UAAU,CAACO,2BAA2B,EAAG;IACxD,OAAO,IAAI;EACZ;EACA;;EAEA;EACA;EACA,IAAKH,QAAQ,KAAK,CAAC,EAAG;IACrB,OAAOF,YAAY,IAAIC,WAAW;EACnC;;EAEA;EACA,OAAO,IAAI;AACZ","ignoreList":[]}