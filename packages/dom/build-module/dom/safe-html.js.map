{"version":3,"names":["remove","safeHTML","html","body","document","implementation","createHTMLDocument","innerHTML","elements","getElementsByTagName","elementIndex","length","element","tagName","attributeIndex","attributes","name","key","startsWith","removeAttribute"],"sources":["@wordpress/dom/src/dom/safe-html.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport remove from './remove';\r\n\r\n/**\r\n * Strips scripts and on* attributes from HTML.\r\n *\r\n * @param {string} html HTML to sanitize.\r\n *\r\n * @return {string} The sanitized HTML.\r\n */\r\nexport default function safeHTML( html ) {\r\n\tconst { body } = document.implementation.createHTMLDocument( '' );\r\n\tbody.innerHTML = html;\r\n\tconst elements = body.getElementsByTagName( '*' );\r\n\tlet elementIndex = elements.length;\r\n\r\n\twhile ( elementIndex-- ) {\r\n\t\tconst element = elements[ elementIndex ];\r\n\r\n\t\tif ( element.tagName === 'SCRIPT' ) {\r\n\t\t\tremove( element );\r\n\t\t} else {\r\n\t\t\tlet attributeIndex = element.attributes.length;\r\n\r\n\t\t\twhile ( attributeIndex-- ) {\r\n\t\t\t\tconst { name: key } = element.attributes[ attributeIndex ];\r\n\r\n\t\t\t\tif ( key.startsWith( 'on' ) ) {\r\n\t\t\t\t\telement.removeAttribute( key );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn body.innerHTML;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,MAAM,MAAM,UAAU;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,QAAQA,CAAEC,IAAI,EAAG;EACxC,MAAM;IAAEC;EAAK,CAAC,GAAGC,QAAQ,CAACC,cAAc,CAACC,kBAAkB,CAAE,EAAG,CAAC;EACjEH,IAAI,CAACI,SAAS,GAAGL,IAAI;EACrB,MAAMM,QAAQ,GAAGL,IAAI,CAACM,oBAAoB,CAAE,GAAI,CAAC;EACjD,IAAIC,YAAY,GAAGF,QAAQ,CAACG,MAAM;EAElC,OAAQD,YAAY,EAAE,EAAG;IACxB,MAAME,OAAO,GAAGJ,QAAQ,CAAEE,YAAY,CAAE;IAExC,IAAKE,OAAO,CAACC,OAAO,KAAK,QAAQ,EAAG;MACnCb,MAAM,CAAEY,OAAQ,CAAC;IAClB,CAAC,MAAM;MACN,IAAIE,cAAc,GAAGF,OAAO,CAACG,UAAU,CAACJ,MAAM;MAE9C,OAAQG,cAAc,EAAE,EAAG;QAC1B,MAAM;UAAEE,IAAI,EAAEC;QAAI,CAAC,GAAGL,OAAO,CAACG,UAAU,CAAED,cAAc,CAAE;QAE1D,IAAKG,GAAG,CAACC,UAAU,CAAE,IAAK,CAAC,EAAG;UAC7BN,OAAO,CAACO,eAAe,CAAEF,GAAI,CAAC;QAC/B;MACD;IACD;EACD;EAEA,OAAOd,IAAI,CAACI,SAAS;AACtB","ignoreList":[]}