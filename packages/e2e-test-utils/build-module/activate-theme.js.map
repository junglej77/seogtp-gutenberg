{"version":3,"names":["switchUserToAdmin","switchUserToTest","visitAdminPage","isCurrentURL","activateTheme","slug","activateButton","page","$","click","waitForSelector"],"sources":["@wordpress/e2e-test-utils/src/activate-theme.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { switchUserToAdmin } from './switch-user-to-admin';\r\nimport { switchUserToTest } from './switch-user-to-test';\r\nimport { visitAdminPage } from './visit-admin-page';\r\nimport { isCurrentURL } from './is-current-url';\r\n\r\n/**\r\n * Activates an installed theme.\r\n *\r\n * @param {string} slug Theme slug.\r\n */\r\nexport async function activateTheme( slug ) {\r\n\tawait switchUserToAdmin();\r\n\tawait visitAdminPage( 'themes.php' );\r\n\r\n\tconst activateButton = await page.$(\r\n\t\t`div[data-slug=\"${ slug }\"] .button.activate`\r\n\t);\r\n\tif ( ! activateButton ) {\r\n\t\tawait switchUserToTest();\r\n\t\treturn;\r\n\t}\r\n\r\n\tawait page.click( `div[data-slug=\"${ slug }\"] .button.activate` );\r\n\r\n\tif ( ! isCurrentURL( 'themes.php' ) ) {\r\n\t\tawait visitAdminPage( 'themes.php' );\r\n\t}\r\n\tawait page.waitForSelector( `div[data-slug=\"${ slug }\"].active` );\r\n\tawait switchUserToTest();\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,cAAc,QAAQ,oBAAoB;AACnD,SAASC,YAAY,QAAQ,kBAAkB;;AAE/C;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,aAAaA,CAAEC,IAAI,EAAG;EAC3C,MAAML,iBAAiB,CAAC,CAAC;EACzB,MAAME,cAAc,CAAE,YAAa,CAAC;EAEpC,MAAMI,cAAc,GAAG,MAAMC,IAAI,CAACC,CAAC,CACjC,kBAAkBH,IAAM,qBAC1B,CAAC;EACD,IAAK,CAAEC,cAAc,EAAG;IACvB,MAAML,gBAAgB,CAAC,CAAC;IACxB;EACD;EAEA,MAAMM,IAAI,CAACE,KAAK,CAAG,kBAAkBJ,IAAM,qBAAqB,CAAC;EAEjE,IAAK,CAAEF,YAAY,CAAE,YAAa,CAAC,EAAG;IACrC,MAAMD,cAAc,CAAE,YAAa,CAAC;EACrC;EACA,MAAMK,IAAI,CAACG,eAAe,CAAG,kBAAkBL,IAAM,WAAW,CAAC;EACjE,MAAMJ,gBAAgB,CAAC,CAAC;AACzB","ignoreList":[]}