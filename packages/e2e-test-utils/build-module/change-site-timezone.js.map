{"version":3,"names":["visitAdminPage","switchUserToAdmin","switchUserToTest","changeSiteTimezone","timezone","oldTimezone","page","$eval","element","options","selectedIndex","text","select","Promise","all","click","waitForNavigation","waitUntil"],"sources":["@wordpress/e2e-test-utils/src/change-site-timezone.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { visitAdminPage } from './visit-admin-page';\r\nimport { switchUserToAdmin } from './switch-user-to-admin';\r\nimport { switchUserToTest } from './switch-user-to-test';\r\n\r\n/**\r\n * Visits general settings page and changes the timezone to the given value.\r\n *\r\n * @param {string} timezone Value of the timezone to set.\r\n *\r\n * @return {string} Value of the previous timezone.\r\n */\r\nexport async function changeSiteTimezone( timezone ) {\r\n\tawait switchUserToAdmin();\r\n\tawait visitAdminPage( 'options-general.php' );\r\n\r\n\tconst oldTimezone = await page.$eval(\r\n\t\t'#timezone_string',\r\n\t\t( element ) => element.options[ element.selectedIndex ].text\r\n\t);\r\n\tawait page.select( '#timezone_string', timezone );\r\n\tawait Promise.all( [\r\n\t\tpage.click( '#submit' ),\r\n\t\tpage.waitForNavigation( { waitUntil: 'networkidle0' } ),\r\n\t] );\r\n\r\n\tawait switchUserToTest();\r\n\r\n\treturn oldTimezone;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,cAAc,QAAQ,oBAAoB;AACnD,SAASC,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,gBAAgB,QAAQ,uBAAuB;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,kBAAkBA,CAAEC,QAAQ,EAAG;EACpD,MAAMH,iBAAiB,CAAC,CAAC;EACzB,MAAMD,cAAc,CAAE,qBAAsB,CAAC;EAE7C,MAAMK,WAAW,GAAG,MAAMC,IAAI,CAACC,KAAK,CACnC,kBAAkB,EAChBC,OAAO,IAAMA,OAAO,CAACC,OAAO,CAAED,OAAO,CAACE,aAAa,CAAE,CAACC,IACzD,CAAC;EACD,MAAML,IAAI,CAACM,MAAM,CAAE,kBAAkB,EAAER,QAAS,CAAC;EACjD,MAAMS,OAAO,CAACC,GAAG,CAAE,CAClBR,IAAI,CAACS,KAAK,CAAE,SAAU,CAAC,EACvBT,IAAI,CAACU,iBAAiB,CAAE;IAAEC,SAAS,EAAE;EAAe,CAAE,CAAC,CACtD,CAAC;EAEH,MAAMf,gBAAgB,CAAC,CAAC;EAExB,OAAOG,WAAW;AACnB","ignoreList":[]}