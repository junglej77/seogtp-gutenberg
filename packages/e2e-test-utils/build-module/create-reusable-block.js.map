{"version":3,"names":["insertBlock","clickMenuItem","clickBlockToolbarButton","canvas","createReusableBlock","content","title","reusableBlockNameInputSelector","syncToggleSelectorChecked","page","keyboard","type","nameInput","waitForSelector","click","press","waitForXPath","block","expect","not","toBeNull"],"sources":["@wordpress/e2e-test-utils/src/create-reusable-block.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { insertBlock } from './inserter';\r\nimport { clickMenuItem } from './click-menu-item';\r\nimport { clickBlockToolbarButton } from './click-block-toolbar-button';\r\nimport { canvas } from './canvas';\r\n\r\n/**\r\n * Creates a simple reusable block with a paragraph block.\r\n *\r\n * @param {string} content Paragraph block's content\r\n * @param {title}  title   Reusable block's name.\r\n */\r\nexport const createReusableBlock = async ( content, title ) => {\r\n\tconst reusableBlockNameInputSelector =\r\n\t\t'.patterns-menu-items__convert-modal .components-text-control__input';\r\n\tconst syncToggleSelectorChecked =\r\n\t\t'.patterns-menu-items__convert-modal .components-form-toggle.is-checked';\r\n\t// Insert a paragraph block\r\n\tawait insertBlock( 'Paragraph' );\r\n\tawait page.keyboard.type( content );\r\n\r\n\tawait clickBlockToolbarButton( 'Options' );\r\n\tawait clickMenuItem( 'Create pattern' );\r\n\tconst nameInput = await page.waitForSelector(\r\n\t\treusableBlockNameInputSelector\r\n\t);\r\n\tawait nameInput.click();\r\n\tawait page.keyboard.type( title );\r\n\r\n\tawait page.waitForSelector( syncToggleSelectorChecked );\r\n\tawait page.keyboard.press( 'Enter' );\r\n\r\n\t// Wait for creation to finish\r\n\tawait page.waitForXPath(\r\n\t\t'//*[contains(@class, \"components-snackbar\")]/*[contains(text(),\"pattern created:\")]'\r\n\t);\r\n\r\n\t// Check that we have a reusable block on the page\r\n\tconst block = await canvas().waitForSelector(\r\n\t\t'.block-editor-block-list__block[data-type=\"core/block\"]'\r\n\t);\r\n\texpect( block ).not.toBeNull();\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,QAAQ,YAAY;AACxC,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,uBAAuB,QAAQ,8BAA8B;AACtE,SAASC,MAAM,QAAQ,UAAU;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,mBAAmB,GAAG,MAAAA,CAAQC,OAAO,EAAEC,KAAK,KAAM;EAC9D,MAAMC,8BAA8B,GACnC,qEAAqE;EACtE,MAAMC,yBAAyB,GAC9B,wEAAwE;EACzE;EACA,MAAMR,WAAW,CAAE,WAAY,CAAC;EAChC,MAAMS,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAEN,OAAQ,CAAC;EAEnC,MAAMH,uBAAuB,CAAE,SAAU,CAAC;EAC1C,MAAMD,aAAa,CAAE,gBAAiB,CAAC;EACvC,MAAMW,SAAS,GAAG,MAAMH,IAAI,CAACI,eAAe,CAC3CN,8BACD,CAAC;EACD,MAAMK,SAAS,CAACE,KAAK,CAAC,CAAC;EACvB,MAAML,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAEL,KAAM,CAAC;EAEjC,MAAMG,IAAI,CAACI,eAAe,CAAEL,yBAA0B,CAAC;EACvD,MAAMC,IAAI,CAACC,QAAQ,CAACK,KAAK,CAAE,OAAQ,CAAC;;EAEpC;EACA,MAAMN,IAAI,CAACO,YAAY,CACtB,qFACD,CAAC;;EAED;EACA,MAAMC,KAAK,GAAG,MAAMd,MAAM,CAAC,CAAC,CAACU,eAAe,CAC3C,yDACD,CAAC;EACDK,MAAM,CAAED,KAAM,CAAC,CAACE,GAAG,CAACC,QAAQ,CAAC,CAAC;AAC/B,CAAC","ignoreList":[]}