{"version":3,"names":["switchUserToAdmin","switchUserToTest","visitAdminPage","installPlugin","slug","searchTerm","encodeURIComponent","page","click","waitForSelector","timeout"],"sources":["@wordpress/e2e-test-utils/src/install-plugin.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { switchUserToAdmin } from './switch-user-to-admin';\r\nimport { switchUserToTest } from './switch-user-to-test';\r\nimport { visitAdminPage } from './visit-admin-page';\r\n\r\n/**\r\n * Installs a plugin from the WP.org repository.\r\n *\r\n * @param {string}  slug       Plugin slug.\r\n * @param {string?} searchTerm If the plugin is not findable by its slug use an alternative term to search.\r\n */\r\nexport async function installPlugin( slug, searchTerm ) {\r\n\tawait switchUserToAdmin();\r\n\tawait visitAdminPage(\r\n\t\t'plugin-install.php',\r\n\t\t's=' +\r\n\t\t\tencodeURIComponent( searchTerm || slug ) +\r\n\t\t\t'&tab=search&type=term'\r\n\t);\r\n\tawait page.click( `.install-now[data-slug=\"${ slug }\"]` );\r\n\tawait page.waitForSelector( `.activate-now[data-slug=\"${ slug }\"]`, {\r\n\t\ttimeout: 60000,\r\n\t} );\r\n\tawait switchUserToTest();\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,cAAc,QAAQ,oBAAoB;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,aAAaA,CAAEC,IAAI,EAAEC,UAAU,EAAG;EACvD,MAAML,iBAAiB,CAAC,CAAC;EACzB,MAAME,cAAc,CACnB,oBAAoB,EACpB,IAAI,GACHI,kBAAkB,CAAED,UAAU,IAAID,IAAK,CAAC,GACxC,uBACF,CAAC;EACD,MAAMG,IAAI,CAACC,KAAK,CAAG,2BAA2BJ,IAAM,IAAI,CAAC;EACzD,MAAMG,IAAI,CAACE,eAAe,CAAG,4BAA4BL,IAAM,IAAG,EAAE;IACnEM,OAAO,EAAE;EACV,CAAE,CAAC;EACH,MAAMT,gBAAgB,CAAC,CAAC;AACzB","ignoreList":[]}