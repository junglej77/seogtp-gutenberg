{"version":3,"names":["WP_USERNAME","WP_PASSWORD","createURL","isCurrentURL","pressKeyWithModifier","loginUser","username","password","waitForLoginPageNavigation","page","waitForNavigation","goto","focus","type","Promise","all","click","waitUntil"],"sources":["@wordpress/e2e-test-utils/src/login-user.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { WP_USERNAME, WP_PASSWORD } from './shared/config';\r\nimport { createURL } from './create-url';\r\nimport { isCurrentURL } from './is-current-url';\r\nimport { pressKeyWithModifier } from './press-key-with-modifier';\r\n\r\n/**\r\n * Performs log in with specified username and password.\r\n *\r\n * @param {?string} username String to be used as user credential.\r\n * @param {?string} password String to be used as user credential.\r\n */\r\nexport async function loginUser(\r\n\tusername = WP_USERNAME,\r\n\tpassword = WP_PASSWORD\r\n) {\r\n\tif ( ! isCurrentURL( 'wp-login.php' ) ) {\r\n\t\tconst waitForLoginPageNavigation = page.waitForNavigation();\r\n\t\tawait page.goto( createURL( 'wp-login.php' ) );\r\n\t\tawait waitForLoginPageNavigation;\r\n\t}\r\n\r\n\tawait page.focus( '#user_login' );\r\n\tawait pressKeyWithModifier( 'primary', 'a' );\r\n\tawait page.type( '#user_login', username );\r\n\tawait page.focus( '#user_pass' );\r\n\tawait pressKeyWithModifier( 'primary', 'a' );\r\n\tawait page.type( '#user_pass', password );\r\n\r\n\tawait Promise.all( [\r\n\t\tpage.click( '#wp-submit' ),\r\n\t\tpage.waitForNavigation( { waitUntil: 'networkidle0' } ),\r\n\t] );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,EAAEC,WAAW,QAAQ,iBAAiB;AAC1D,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,oBAAoB,QAAQ,2BAA2B;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,SAASA,CAC9BC,QAAQ,GAAGN,WAAW,EACtBO,QAAQ,GAAGN,WAAW,EACrB;EACD,IAAK,CAAEE,YAAY,CAAE,cAAe,CAAC,EAAG;IACvC,MAAMK,0BAA0B,GAAGC,IAAI,CAACC,iBAAiB,CAAC,CAAC;IAC3D,MAAMD,IAAI,CAACE,IAAI,CAAET,SAAS,CAAE,cAAe,CAAE,CAAC;IAC9C,MAAMM,0BAA0B;EACjC;EAEA,MAAMC,IAAI,CAACG,KAAK,CAAE,aAAc,CAAC;EACjC,MAAMR,oBAAoB,CAAE,SAAS,EAAE,GAAI,CAAC;EAC5C,MAAMK,IAAI,CAACI,IAAI,CAAE,aAAa,EAAEP,QAAS,CAAC;EAC1C,MAAMG,IAAI,CAACG,KAAK,CAAE,YAAa,CAAC;EAChC,MAAMR,oBAAoB,CAAE,SAAS,EAAE,GAAI,CAAC;EAC5C,MAAMK,IAAI,CAACI,IAAI,CAAE,YAAY,EAAEN,QAAS,CAAC;EAEzC,MAAMO,OAAO,CAACC,GAAG,CAAE,CAClBN,IAAI,CAACO,KAAK,CAAE,YAAa,CAAC,EAC1BP,IAAI,CAACC,iBAAiB,CAAE;IAAEO,SAAS,EAAE;EAAe,CAAE,CAAC,CACtD,CAAC;AACJ","ignoreList":[]}