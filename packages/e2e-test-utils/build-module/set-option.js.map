{"version":3,"names":["switchUserToAdmin","visitAdminPage","switchUserToTest","pressKeyWithModifier","setOption","setting","value","page","waitForSelector","previousValue","$eval","element","focus","type","Promise","all","click","waitForNavigation","waitUntil"],"sources":["@wordpress/e2e-test-utils/src/set-option.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { switchUserToAdmin } from './switch-user-to-admin';\r\nimport { visitAdminPage } from './visit-admin-page';\r\nimport { switchUserToTest } from './switch-user-to-test';\r\nimport { pressKeyWithModifier } from './press-key-with-modifier';\r\n\r\n/**\r\n * Sets a site option, from the options-general admin page.\r\n *\r\n * @param {string} setting The option, used to get the option by id.\r\n * @param {string} value   The value to set the option to.\r\n *\r\n * @return {string} The previous value of the option.\r\n */\r\nexport async function setOption( setting, value ) {\r\n\tawait switchUserToAdmin();\r\n\tawait visitAdminPage( 'options.php' );\r\n\tawait page.waitForSelector( `#${ setting }` );\r\n\tconst previousValue = await page.$eval(\r\n\t\t`#${ setting }`,\r\n\t\t( element ) => element.value\r\n\t);\r\n\r\n\tawait page.focus( `#${ setting }` );\r\n\tawait pressKeyWithModifier( 'primary', 'a' );\r\n\tawait page.type( `#${ setting }`, value );\r\n\r\n\tawait Promise.all( [\r\n\t\tpage.click( '#Update' ),\r\n\t\tpage.waitForNavigation( { waitUntil: 'networkidle0' } ),\r\n\t] );\r\n\tawait switchUserToTest();\r\n\treturn previousValue;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,cAAc,QAAQ,oBAAoB;AACnD,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,oBAAoB,QAAQ,2BAA2B;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,SAASA,CAAEC,OAAO,EAAEC,KAAK,EAAG;EACjD,MAAMN,iBAAiB,CAAC,CAAC;EACzB,MAAMC,cAAc,CAAE,aAAc,CAAC;EACrC,MAAMM,IAAI,CAACC,eAAe,CAAG,IAAIH,OAAS,EAAE,CAAC;EAC7C,MAAMI,aAAa,GAAG,MAAMF,IAAI,CAACG,KAAK,CACpC,IAAIL,OAAS,EAAC,EACbM,OAAO,IAAMA,OAAO,CAACL,KACxB,CAAC;EAED,MAAMC,IAAI,CAACK,KAAK,CAAG,IAAIP,OAAS,EAAE,CAAC;EACnC,MAAMF,oBAAoB,CAAE,SAAS,EAAE,GAAI,CAAC;EAC5C,MAAMI,IAAI,CAACM,IAAI,CAAG,IAAIR,OAAS,EAAC,EAAEC,KAAM,CAAC;EAEzC,MAAMQ,OAAO,CAACC,GAAG,CAAE,CAClBR,IAAI,CAACS,KAAK,CAAE,SAAU,CAAC,EACvBT,IAAI,CAACU,iBAAiB,CAAE;IAAEC,SAAS,EAAE;EAAe,CAAE,CAAC,CACtD,CAAC;EACH,MAAMhB,gBAAgB,CAAC,CAAC;EACxB,OAAOO,aAAa;AACrB","ignoreList":[]}