{"version":3,"names":["toggleMoreMenu","waitFor","menuSelector","menuToggle","page","waitForSelector","isOpen","evaluate","el","getAttribute","click","opts","hidden","menuContentSelector"],"sources":["@wordpress/e2e-test-utils/src/toggle-more-menu.js"],"sourcesContent":["/**\r\n * Toggles the More Menu.\r\n *\r\n * @param {'open' | 'close'} [waitFor] Whether it should wait for the menu to open or close. If `undefined` it won't wait for anything.\r\n */\r\nexport async function toggleMoreMenu( waitFor ) {\r\n\tconst menuSelector = '.interface-more-menu-dropdown [aria-label=\"Options\"]';\r\n\r\n\tconst menuToggle = await page.waitForSelector( menuSelector );\r\n\r\n\tconst isOpen = await menuToggle.evaluate( ( el ) =>\r\n\t\tel.getAttribute( 'aria-expanded' )\r\n\t);\r\n\r\n\t// If opening and it's already open then exit early.\r\n\tif ( isOpen === 'true' && waitFor === 'open' ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// If closing and it's already closed then exit early.\r\n\tif ( isOpen === 'false' && waitFor === 'close' ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tawait page.click( menuSelector );\r\n\r\n\tif ( waitFor ) {\r\n\t\tconst opts = waitFor === 'close' ? { hidden: true } : {};\r\n\t\tconst menuContentSelector = '.interface-more-menu-dropdown__content';\r\n\t\tawait page.waitForSelector( menuContentSelector, opts );\r\n\t}\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeA,cAAcA,CAAEC,OAAO,EAAG;EAC/C,MAAMC,YAAY,GAAG,sDAAsD;EAE3E,MAAMC,UAAU,GAAG,MAAMC,IAAI,CAACC,eAAe,CAAEH,YAAa,CAAC;EAE7D,MAAMI,MAAM,GAAG,MAAMH,UAAU,CAACI,QAAQ,CAAIC,EAAE,IAC7CA,EAAE,CAACC,YAAY,CAAE,eAAgB,CAClC,CAAC;;EAED;EACA,IAAKH,MAAM,KAAK,MAAM,IAAIL,OAAO,KAAK,MAAM,EAAG;IAC9C;EACD;;EAEA;EACA,IAAKK,MAAM,KAAK,OAAO,IAAIL,OAAO,KAAK,OAAO,EAAG;IAChD;EACD;EAEA,MAAMG,IAAI,CAACM,KAAK,CAAER,YAAa,CAAC;EAEhC,IAAKD,OAAO,EAAG;IACd,MAAMU,IAAI,GAAGV,OAAO,KAAK,OAAO,GAAG;MAAEW,MAAM,EAAE;IAAK,CAAC,GAAG,CAAC,CAAC;IACxD,MAAMC,mBAAmB,GAAG,wCAAwC;IACpE,MAAMT,IAAI,CAACC,eAAe,CAAEQ,mBAAmB,EAAEF,IAAK,CAAC;EACxD;AACD","ignoreList":[]}