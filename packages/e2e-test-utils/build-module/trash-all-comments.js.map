{"version":3,"names":["switchUserToAdmin","switchUserToTest","visitAdminPage","trashAllComments","bulkSelector","page","$","waitForSelector","click","select","waitForXPath"],"sources":["@wordpress/e2e-test-utils/src/trash-all-comments.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport { switchUserToAdmin } from './switch-user-to-admin';\r\nimport { switchUserToTest } from './switch-user-to-test';\r\nimport { visitAdminPage } from './visit-admin-page';\r\n\r\n/**\r\n * Navigates to the comments listing screen and bulk-trashes any comments which exist.\r\n *\r\n * @return {Promise} Promise resolving once comments have been trashed.\r\n */\r\nexport async function trashAllComments() {\r\n\tawait switchUserToAdmin();\r\n\t// Visit `/wp-admin/edit-comments.php` so we can see a list of comments and delete them.\r\n\tawait visitAdminPage( 'edit-comments.php' );\r\n\r\n\t// If this selector doesn't exist there are no comments for us to delete.\r\n\tconst bulkSelector = await page.$( '#bulk-action-selector-top' );\r\n\tif ( ! bulkSelector ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Select all comments.\r\n\tawait page.waitForSelector( '[id^=cb-select-all-]' );\r\n\tawait page.click( '[id^=cb-select-all-]' );\r\n\t// Select the \"bulk actions\" > \"trash\" option.\r\n\tawait page.select( '#bulk-action-selector-top', 'trash' );\r\n\t// Submit the form to send all mine/pendings/approved/spam comments to the trash.\r\n\tawait page.click( '#doaction' );\r\n\tawait page.waitForXPath(\r\n\t\t'//*[contains(@class, \"notice\")]/p[contains(text(), \"moved to the Trash.\")]'\r\n\t);\r\n\tawait switchUserToTest();\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,cAAc,QAAQ,oBAAoB;;AAEnD;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,gBAAgBA,CAAA,EAAG;EACxC,MAAMH,iBAAiB,CAAC,CAAC;EACzB;EACA,MAAME,cAAc,CAAE,mBAAoB,CAAC;;EAE3C;EACA,MAAME,YAAY,GAAG,MAAMC,IAAI,CAACC,CAAC,CAAE,2BAA4B,CAAC;EAChE,IAAK,CAAEF,YAAY,EAAG;IACrB;EACD;;EAEA;EACA,MAAMC,IAAI,CAACE,eAAe,CAAE,sBAAuB,CAAC;EACpD,MAAMF,IAAI,CAACG,KAAK,CAAE,sBAAuB,CAAC;EAC1C;EACA,MAAMH,IAAI,CAACI,MAAM,CAAE,2BAA2B,EAAE,OAAQ,CAAC;EACzD;EACA,MAAMJ,IAAI,CAACG,KAAK,CAAE,WAAY,CAAC;EAC/B,MAAMH,IAAI,CAACK,YAAY,CACtB,4EACD,CAAC;EACD,MAAMT,gBAAgB,CAAC,CAAC;AACzB","ignoreList":[]}