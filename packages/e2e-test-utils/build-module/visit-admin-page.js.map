{"version":3,"names":["join","createURL","isCurrentURL","loginUser","getPageError","visitAdminPage","adminPath","query","page","goto","click","error","Error"],"sources":["@wordpress/e2e-test-utils/src/visit-admin-page.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { join } from 'path';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { createURL } from './create-url';\r\nimport { isCurrentURL } from './is-current-url';\r\nimport { loginUser } from './login-user';\r\nimport { getPageError } from './get-page-error';\r\n\r\n/**\r\n * Visits admin page; if user is not logged in then it logging in it first, then visits admin page.\r\n *\r\n * @param {string} adminPath String to be serialized as pathname.\r\n * @param {string} query     String to be serialized as query portion of URL.\r\n */\r\nexport async function visitAdminPage( adminPath, query ) {\r\n\tawait page.goto( createURL( join( 'wp-admin', adminPath ), query ) );\r\n\r\n\t// Handle upgrade required screen.\r\n\tif ( isCurrentURL( 'wp-admin/upgrade.php' ) ) {\r\n\t\t// Click update.\r\n\t\tawait page.click( '.button.button-large.button-primary' );\r\n\t\t// Click continue.\r\n\t\tawait page.click( '.button.button-large' );\r\n\t}\r\n\r\n\tif ( isCurrentURL( 'wp-login.php' ) ) {\r\n\t\tawait loginUser();\r\n\t\tawait visitAdminPage( adminPath, query );\r\n\t}\r\n\r\n\tconst error = await getPageError();\r\n\tif ( error ) {\r\n\t\tthrow new Error( 'Unexpected error in page content: ' + error );\r\n\t}\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,IAAI,QAAQ,MAAM;;AAE3B;AACA;AACA;AACA,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,YAAY,QAAQ,kBAAkB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,cAAcA,CAAEC,SAAS,EAAEC,KAAK,EAAG;EACxD,MAAMC,IAAI,CAACC,IAAI,CAAER,SAAS,CAAED,IAAI,CAAE,UAAU,EAAEM,SAAU,CAAC,EAAEC,KAAM,CAAE,CAAC;;EAEpE;EACA,IAAKL,YAAY,CAAE,sBAAuB,CAAC,EAAG;IAC7C;IACA,MAAMM,IAAI,CAACE,KAAK,CAAE,qCAAsC,CAAC;IACzD;IACA,MAAMF,IAAI,CAACE,KAAK,CAAE,sBAAuB,CAAC;EAC3C;EAEA,IAAKR,YAAY,CAAE,cAAe,CAAC,EAAG;IACrC,MAAMC,SAAS,CAAC,CAAC;IACjB,MAAME,cAAc,CAAEC,SAAS,EAAEC,KAAM,CAAC;EACzC;EAEA,MAAMI,KAAK,GAAG,MAAMP,YAAY,CAAC,CAAC;EAClC,IAAKO,KAAK,EAAG;IACZ,MAAM,IAAIC,KAAK,CAAE,oCAAoC,GAAGD,KAAM,CAAC;EAChE;AACD","ignoreList":[]}