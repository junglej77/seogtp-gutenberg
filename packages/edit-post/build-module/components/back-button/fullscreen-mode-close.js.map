{"version":3,"names":["clsx","useSelect","Button","Icon","__unstableMotion","motion","__","addQueryArgs","wordpress","store","editorStore","coreStore","useReducedMotion","jsx","_jsx","FullscreenModeClose","showTooltip","icon","href","initialPost","_postType$labels$view","isRequestingSiteIcon","postType","siteIconUrl","select","getCurrentPostType","getEntityRecord","getPostType","isResolving","siteData","undefined","_postType","type","site_icon_url","disableMotion","buttonIcon","size","effect","expand","scale","transition","duration","img","variants","alt","className","src","classes","buttonHref","post_type","slug","buttonLabel","labels","view_items","div","whileHover","children","__next40pxDefaultSize","label"],"sources":["@wordpress/edit-post/src/components/back-button/fullscreen-mode-close.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport {\r\n\tButton,\r\n\tIcon,\r\n\t__unstableMotion as motion,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { addQueryArgs } from '@wordpress/url';\r\nimport { wordpress } from '@wordpress/icons';\r\nimport { store as editorStore } from '@wordpress/editor';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useReducedMotion } from '@wordpress/compose';\r\n\r\nfunction FullscreenModeClose( { showTooltip, icon, href, initialPost } ) {\r\n\tconst { isRequestingSiteIcon, postType, siteIconUrl } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getCurrentPostType } = select( editorStore );\r\n\t\t\tconst { getEntityRecord, getPostType, isResolving } =\r\n\t\t\t\tselect( coreStore );\r\n\t\t\tconst siteData =\r\n\t\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\r\n\t\t\tconst _postType = initialPost?.type || getCurrentPostType();\r\n\t\t\treturn {\r\n\t\t\t\tisRequestingSiteIcon: isResolving( 'getEntityRecord', [\r\n\t\t\t\t\t'root',\r\n\t\t\t\t\t'__unstableBase',\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t] ),\r\n\t\t\t\tpostType: getPostType( _postType ),\r\n\t\t\t\tsiteIconUrl: siteData.site_icon_url,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst disableMotion = useReducedMotion();\r\n\r\n\tif ( ! postType ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tlet buttonIcon = <Icon size=\"36px\" icon={ wordpress } />;\r\n\r\n\tconst effect = {\r\n\t\texpand: {\r\n\t\t\tscale: 1.25,\r\n\t\t\ttransition: { type: 'tween', duration: '0.3' },\r\n\t\t},\r\n\t};\r\n\r\n\tif ( siteIconUrl ) {\r\n\t\tbuttonIcon = (\r\n\t\t\t<motion.img\r\n\t\t\t\tvariants={ ! disableMotion && effect }\r\n\t\t\t\talt={ __( 'Site Icon' ) }\r\n\t\t\t\tclassName=\"edit-post-fullscreen-mode-close_site-icon\"\r\n\t\t\t\tsrc={ siteIconUrl }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tif ( isRequestingSiteIcon ) {\r\n\t\tbuttonIcon = null;\r\n\t}\r\n\r\n\t// Override default icon if custom icon is provided via props.\r\n\tif ( icon ) {\r\n\t\tbuttonIcon = <Icon size=\"36px\" icon={ icon } />;\r\n\t}\r\n\r\n\tconst classes = clsx( 'edit-post-fullscreen-mode-close', {\r\n\t\t'has-icon': siteIconUrl,\r\n\t} );\r\n\r\n\tconst buttonHref =\r\n\t\thref ??\r\n\t\taddQueryArgs( 'edit.php', {\r\n\t\t\tpost_type: postType.slug,\r\n\t\t} );\r\n\r\n\tconst buttonLabel = postType?.labels?.view_items ?? __( 'Back' );\r\n\r\n\treturn (\r\n\t\t<motion.div whileHover=\"expand\">\r\n\t\t\t<Button\r\n\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\tclassName={ classes }\r\n\t\t\t\thref={ buttonHref }\r\n\t\t\t\tlabel={ buttonLabel }\r\n\t\t\t\tshowTooltip={ showTooltip }\r\n\t\t\t>\r\n\t\t\t\t{ buttonIcon }\r\n\t\t\t</Button>\r\n\t\t</motion.div>\r\n\t);\r\n}\r\n\r\nexport default FullscreenModeClose;\r\n"],"mappings":"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","ignoreList":[]}