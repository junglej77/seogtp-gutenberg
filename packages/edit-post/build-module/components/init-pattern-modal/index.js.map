{"version":3,"names":["useSelect","useDispatch","__","_x","Modal","Button","__experimentalHStack","HStack","__experimentalVStack","VStack","ToggleControl","TextControl","useEffect","useState","store","editorStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InitPatternModal","editPost","isModalOpen","setIsModalOpen","syncType","setSyncType","undefined","title","setTitle","postType","isNewPost","select","getEditedPostAttribute","isCleanNewPost","children","onRequestClose","overlayClassName","onSubmit","event","preventDefault","meta","wp_pattern_sync_status","spacing","label","value","onChange","placeholder","className","__nextHasNoMarginBottom","__next40pxDefaultSize","help","checked","justify","variant","type","disabled","accessibleWhenDisabled"],"sources":["@wordpress/edit-post/src/components/init-pattern-modal/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport {\r\n\tModal,\r\n\tButton,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n\tToggleControl,\r\n\tTextControl,\r\n} from '@wordpress/components';\r\nimport { useEffect, useState } from '@wordpress/element';\r\nimport { store as editorStore } from '@wordpress/editor';\r\n\r\nexport default function InitPatternModal() {\r\n\tconst { editPost } = useDispatch( editorStore );\r\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\r\n\tconst [ syncType, setSyncType ] = useState( undefined );\r\n\tconst [ title, setTitle ] = useState( '' );\r\n\r\n\tconst { postType, isNewPost } = useSelect( ( select ) => {\r\n\t\tconst { getEditedPostAttribute, isCleanNewPost } =\r\n\t\t\tselect( editorStore );\r\n\t\treturn {\r\n\t\t\tpostType: getEditedPostAttribute( 'type' ),\r\n\t\t\tisNewPost: isCleanNewPost(),\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( isNewPost && postType === 'wp_block' ) {\r\n\t\t\tsetIsModalOpen( true );\r\n\t\t}\r\n\t\t// We only want the modal to open when the page is first loaded.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [] );\r\n\r\n\tif ( postType !== 'wp_block' || ! isNewPost ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ isModalOpen && (\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={ __( 'Create pattern' ) }\r\n\t\t\t\t\tonRequestClose={ () => {\r\n\t\t\t\t\t\tsetIsModalOpen( false );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\toverlayClassName=\"reusable-blocks-menu-items__convert-modal\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={ ( event ) => {\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tsetIsModalOpen( false );\r\n\t\t\t\t\t\t\teditPost( {\r\n\t\t\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\t\t\tmeta: {\r\n\t\t\t\t\t\t\t\t\twp_pattern_sync_status: syncType,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<VStack spacing=\"5\">\r\n\t\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Name' ) }\r\n\t\t\t\t\t\t\t\tvalue={ title }\r\n\t\t\t\t\t\t\t\tonChange={ setTitle }\r\n\t\t\t\t\t\t\t\tplaceholder={ __( 'My pattern' ) }\r\n\t\t\t\t\t\t\t\tclassName=\"patterns-create-modal__name-input\"\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\tlabel={ _x( 'Synced', 'pattern (singular)' ) }\r\n\t\t\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t\t\t'Sync this pattern across multiple locations.'\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\tchecked={ ! syncType }\r\n\t\t\t\t\t\t\t\tonChange={ () => {\r\n\t\t\t\t\t\t\t\t\tsetSyncType(\r\n\t\t\t\t\t\t\t\t\t\t! syncType ? 'unsynced' : undefined\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<HStack justify=\"right\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tdisabled={ ! title }\r\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ __( 'Create' ) }\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Modal>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}