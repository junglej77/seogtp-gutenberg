{"version":3,"names":["clsx","AutosaveMonitor","LocalAutosaveMonitor","UnsavedChangesWarning","EditorKeyboardShortcutsRegister","EditorSnackbars","ErrorBoundary","PostLockedModal","store","editorStore","privateApis","editorPrivateApis","useSelect","useDispatch","blockEditorPrivateApis","blockEditorStore","PluginArea","__","sprintf","useCallback","useMemo","noticesStore","preferencesStore","CommandMenu","commandsPrivateApis","coreCommandsPrivateApis","blockLibraryPrivateApis","addQueryArgs","decodeEntities","coreStore","SlotFillProvider","useViewportMatch","BackButton","EditorInitialization","EditPostKeyboardShortcuts","InitPatternModal","BrowserURL","MetaBoxes","PostEditorMoreMenu","WelcomeGuide","editPostStore","unlock","useEditPostCommands","usePaddingAppender","useShouldIframe","useNavigateToEntityRecord","jsx","_jsx","jsxs","_jsxs","getLayoutStyles","useCommands","useCommandContext","Editor","FullscreenMode","BlockKeyboardShortcuts","DESIGN_POST_TYPES","useEditorStyles","hasThemeStyleSupport","editorSettings","isZoomedOutView","renderingMode","postType","select","__unstableGetEditorMode","getCurrentPostType","getRenderingMode","_postType","isFeatureActive","getEditorSettings","_editorSettings$style","_editorSettings$defau","_editorSettings$style2","_editorSettings$style3","presetStyles","styles","filter","style","__unstableType","defaultEditorStyles","hasThemeStyles","length","disableLayoutStyles","push","css","selector","hasBlockGapSupport","hasFallbackGapSupport","fallbackGapValue","baseStyles","includes","Layout","postId","initialPostId","initialPostType","settings","initialEdits","paddingAppenderRef","shouldIframe","createErrorNotice","currentPost","onNavigateToEntityRecord","onNavigateToPreviousEntityRecord","mode","isFullscreenActive","hasActiveMetaboxes","hasBlockSelected","showIconLabels","isDistractionFree","showMetaBoxes","hasHistory","isEditingTemplate","isWelcomeGuideVisible","templateId","_getPostType$viewable","get","getEditedPostTemplateId","canUser","getPostType","supportsTemplateMode","isViewable","viewable","canViewTemplate","kind","name","getEditorMode","hasMetaBoxes","getBlockSelectionStart","commandContext","defaultRenderingMode","document","body","classList","add","remove","className","onPluginAreaError","createSuccessNotice","onActionPerformed","actionId","items","location","href","trashed","post_type","type","ids","id","newItem","title","rendered","actions","label","onClick","post","action","initialPost","backButton","children","forceIsDirty","contentRef","disableIframe","autoFocus","extraSidebarPanels","extraContent","isActive","onError"],"sources":["@wordpress/edit-post/src/components/layout/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAutosaveMonitor,\r\n\tLocalAutosaveMonitor,\r\n\tUnsavedChangesWarning,\r\n\tEditorKeyboardShortcutsRegister,\r\n\tEditorSnackbars,\r\n\tErrorBoundary,\r\n\tPostLockedModal,\r\n\tstore as editorStore,\r\n\tprivateApis as editorPrivateApis,\r\n} from '@wordpress/editor';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport {\r\n\tprivateApis as blockEditorPrivateApis,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { PluginArea } from '@wordpress/plugins';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useCallback, useMemo } from '@wordpress/element';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { store as preferencesStore } from '@wordpress/preferences';\r\nimport {\r\n\tCommandMenu,\r\n\tprivateApis as commandsPrivateApis,\r\n} from '@wordpress/commands';\r\nimport { privateApis as coreCommandsPrivateApis } from '@wordpress/core-commands';\r\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\r\nimport { addQueryArgs } from '@wordpress/url';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { SlotFillProvider } from '@wordpress/components';\r\nimport { useViewportMatch } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport BackButton from '../back-button';\r\nimport EditorInitialization from '../editor-initialization';\r\nimport EditPostKeyboardShortcuts from '../keyboard-shortcuts';\r\nimport InitPatternModal from '../init-pattern-modal';\r\nimport BrowserURL from '../browser-url';\r\nimport MetaBoxes from '../meta-boxes';\r\nimport PostEditorMoreMenu from '../more-menu';\r\nimport WelcomeGuide from '../welcome-guide';\r\nimport { store as editPostStore } from '../../store';\r\nimport { unlock } from '../../lock-unlock';\r\nimport useEditPostCommands from '../../commands/use-commands';\r\nimport { usePaddingAppender } from './use-padding-appender';\r\nimport { useShouldIframe } from './use-should-iframe';\r\nimport useNavigateToEntityRecord from '../../hooks/use-navigate-to-entity-record';\r\n\r\nconst { getLayoutStyles } = unlock( blockEditorPrivateApis );\r\nconst { useCommands } = unlock( coreCommandsPrivateApis );\r\nconst { useCommandContext } = unlock( commandsPrivateApis );\r\nconst { Editor, FullscreenMode } = unlock( editorPrivateApis );\r\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\r\nconst DESIGN_POST_TYPES = [\r\n\t'wp_template',\r\n\t'wp_template_part',\r\n\t'wp_block',\r\n\t'wp_navigation',\r\n];\r\n\r\nfunction useEditorStyles() {\r\n\tconst {\r\n\t\thasThemeStyleSupport,\r\n\t\teditorSettings,\r\n\t\tisZoomedOutView,\r\n\t\trenderingMode,\r\n\t\tpostType,\r\n\t} = useSelect( ( select ) => {\r\n\t\tconst { __unstableGetEditorMode } = select( blockEditorStore );\r\n\t\tconst { getCurrentPostType, getRenderingMode } = select( editorStore );\r\n\t\tconst _postType = getCurrentPostType();\r\n\t\treturn {\r\n\t\t\thasThemeStyleSupport:\r\n\t\t\t\tselect( editPostStore ).isFeatureActive( 'themeStyles' ),\r\n\t\t\teditorSettings: select( editorStore ).getEditorSettings(),\r\n\t\t\tisZoomedOutView: __unstableGetEditorMode() === 'zoom-out',\r\n\t\t\trenderingMode: getRenderingMode(),\r\n\t\t\tpostType: _postType,\r\n\t\t};\r\n\t}, [] );\r\n\r\n\t// Compute the default styles.\r\n\treturn useMemo( () => {\r\n\t\tconst presetStyles =\r\n\t\t\teditorSettings.styles?.filter(\r\n\t\t\t\t( style ) =>\r\n\t\t\t\t\tstyle.__unstableType && style.__unstableType !== 'theme'\r\n\t\t\t) ?? [];\r\n\r\n\t\tconst defaultEditorStyles = [\r\n\t\t\t...( editorSettings?.defaultEditorStyles ?? [] ),\r\n\t\t\t...presetStyles,\r\n\t\t];\r\n\r\n\t\t// Has theme styles if the theme supports them and if some styles were not preset styles (in which case they're theme styles).\r\n\t\tconst hasThemeStyles =\r\n\t\t\thasThemeStyleSupport &&\r\n\t\t\tpresetStyles.length !== ( editorSettings.styles?.length ?? 0 );\r\n\r\n\t\t// If theme styles are not present or displayed, ensure that\r\n\t\t// base layout styles are still present in the editor.\r\n\t\tif ( ! editorSettings.disableLayoutStyles && ! hasThemeStyles ) {\r\n\t\t\tdefaultEditorStyles.push( {\r\n\t\t\t\tcss: getLayoutStyles( {\r\n\t\t\t\t\tstyle: {},\r\n\t\t\t\t\tselector: 'body',\r\n\t\t\t\t\thasBlockGapSupport: false,\r\n\t\t\t\t\thasFallbackGapSupport: true,\r\n\t\t\t\t\tfallbackGapValue: '0.5em',\r\n\t\t\t\t} ),\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tconst baseStyles = hasThemeStyles\r\n\t\t\t? editorSettings.styles ?? []\r\n\t\t\t: defaultEditorStyles;\r\n\r\n\t\t// Add a space for the typewriter effect. When typing in the last block,\r\n\t\t// there needs to be room to scroll up.\r\n\t\tif (\r\n\t\t\t! isZoomedOutView &&\r\n\t\t\trenderingMode === 'post-only' &&\r\n\t\t\t! DESIGN_POST_TYPES.includes( postType )\r\n\t\t) {\r\n\t\t\treturn [\r\n\t\t\t\t...baseStyles,\r\n\t\t\t\t{\r\n\t\t\t\t\tcss: ':root :where(.editor-styles-wrapper)::after {content: \"\"; display: block; height: 40vh;}',\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\treturn baseStyles;\r\n\t}, [\r\n\t\teditorSettings.defaultEditorStyles,\r\n\t\teditorSettings.disableLayoutStyles,\r\n\t\teditorSettings.styles,\r\n\t\thasThemeStyleSupport,\r\n\t\tpostType,\r\n\t] );\r\n}\r\n\r\nfunction Layout( {\r\n\tpostId: initialPostId,\r\n\tpostType: initialPostType,\r\n\tsettings,\r\n\tinitialEdits,\r\n} ) {\r\n\tuseCommands();\r\n\tuseEditPostCommands();\r\n\tconst paddingAppenderRef = usePaddingAppender();\r\n\tconst shouldIframe = useShouldIframe();\r\n\tconst { createErrorNotice } = useDispatch( noticesStore );\r\n\tconst {\r\n\t\tcurrentPost,\r\n\t\tonNavigateToEntityRecord,\r\n\t\tonNavigateToPreviousEntityRecord,\r\n\t} = useNavigateToEntityRecord(\r\n\t\tinitialPostId,\r\n\t\tinitialPostType,\r\n\t\t'post-only'\r\n\t);\r\n\tconst {\r\n\t\tmode,\r\n\t\tisFullscreenActive,\r\n\t\thasActiveMetaboxes,\r\n\t\thasBlockSelected,\r\n\t\tshowIconLabels,\r\n\t\tisDistractionFree,\r\n\t\tshowMetaBoxes,\r\n\t\thasHistory,\r\n\t\tisEditingTemplate,\r\n\t\tisWelcomeGuideVisible,\r\n\t\ttemplateId,\r\n\t} = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { get } = select( preferencesStore );\r\n\t\t\tconst { isFeatureActive, getEditedPostTemplateId } = unlock(\r\n\t\t\t\tselect( editPostStore )\r\n\t\t\t);\r\n\t\t\tconst { canUser, getPostType } = select( coreStore );\r\n\r\n\t\t\tconst supportsTemplateMode = settings.supportsTemplateMode;\r\n\t\t\tconst isViewable =\r\n\t\t\t\tgetPostType( currentPost.postType )?.viewable ?? false;\r\n\t\t\tconst canViewTemplate = canUser( 'read', {\r\n\t\t\t\tkind: 'postType',\r\n\t\t\t\tname: 'wp_template',\r\n\t\t\t} );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmode: select( editorStore ).getEditorMode(),\r\n\t\t\t\tisFullscreenActive:\r\n\t\t\t\t\tselect( editPostStore ).isFeatureActive( 'fullscreenMode' ),\r\n\t\t\t\thasActiveMetaboxes: select( editPostStore ).hasMetaBoxes(),\r\n\t\t\t\thasBlockSelected:\r\n\t\t\t\t\t!! select( blockEditorStore ).getBlockSelectionStart(),\r\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\r\n\t\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\r\n\t\t\t\tshowMetaBoxes:\r\n\t\t\t\t\tselect( editorStore ).getRenderingMode() === 'post-only',\r\n\t\t\t\tisEditingTemplate:\r\n\t\t\t\t\tselect( editorStore ).getCurrentPostType() ===\r\n\t\t\t\t\t'wp_template',\r\n\t\t\t\tisWelcomeGuideVisible: isFeatureActive( 'welcomeGuide' ),\r\n\t\t\t\ttemplateId:\r\n\t\t\t\t\tsupportsTemplateMode &&\r\n\t\t\t\t\tisViewable &&\r\n\t\t\t\t\tcanViewTemplate &&\r\n\t\t\t\t\tcurrentPost.postType !== 'wp_template'\r\n\t\t\t\t\t\t? getEditedPostTemplateId()\r\n\t\t\t\t\t\t: null,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ settings.supportsTemplateMode, currentPost.postType ]\r\n\t);\r\n\r\n\t// Set the right context for the command palette\r\n\tconst commandContext = hasBlockSelected\r\n\t\t? 'block-selection-edit'\r\n\t\t: 'entity-edit';\r\n\tuseCommandContext( commandContext );\r\n\tconst editorSettings = useMemo(\r\n\t\t() => ( {\r\n\t\t\t...settings,\r\n\t\t\tonNavigateToEntityRecord,\r\n\t\t\tonNavigateToPreviousEntityRecord,\r\n\t\t\tdefaultRenderingMode: 'post-only',\r\n\t\t} ),\r\n\t\t[ settings, onNavigateToEntityRecord, onNavigateToPreviousEntityRecord ]\r\n\t);\r\n\tconst styles = useEditorStyles();\r\n\r\n\t// We need to add the show-icon-labels class to the body element so it is applied to modals.\r\n\tif ( showIconLabels ) {\r\n\t\tdocument.body.classList.add( 'show-icon-labels' );\r\n\t} else {\r\n\t\tdocument.body.classList.remove( 'show-icon-labels' );\r\n\t}\r\n\r\n\tconst className = clsx( 'edit-post-layout', 'is-mode-' + mode, {\r\n\t\t'has-metaboxes': hasActiveMetaboxes,\r\n\t} );\r\n\r\n\tfunction onPluginAreaError( name ) {\r\n\t\tcreateErrorNotice(\r\n\t\t\tsprintf(\r\n\t\t\t\t/* translators: %s: plugin name */\r\n\t\t\t\t__(\r\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\r\n\t\t\t\t),\r\n\t\t\t\tname\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\r\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\r\n\r\n\tconst onActionPerformed = useCallback(\r\n\t\t( actionId, items ) => {\r\n\t\t\tswitch ( actionId ) {\r\n\t\t\t\tcase 'move-to-trash':\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdocument.location.href = addQueryArgs( 'edit.php', {\r\n\t\t\t\t\t\t\ttrashed: 1,\r\n\t\t\t\t\t\t\tpost_type: items[ 0 ].type,\r\n\t\t\t\t\t\t\tids: items[ 0 ].id,\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'duplicate-post':\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst newItem = items[ 0 ];\r\n\t\t\t\t\t\tconst title =\r\n\t\t\t\t\t\t\ttypeof newItem.title === 'string'\r\n\t\t\t\t\t\t\t\t? newItem.title\r\n\t\t\t\t\t\t\t\t: newItem.title?.rendered;\r\n\t\t\t\t\t\tcreateSuccessNotice(\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t// translators: %s: Title of the created post e.g: \"Post 1\".\r\n\t\t\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\r\n\t\t\t\t\t\t\t\tdecodeEntities( title )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t\t\t\tid: 'duplicate-post-action',\r\n\t\t\t\t\t\t\t\tactions: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlabel: __( 'Edit' ),\r\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst postId = newItem.id;\r\n\t\t\t\t\t\t\t\t\t\t\tdocument.location.href =\r\n\t\t\t\t\t\t\t\t\t\t\t\taddQueryArgs( 'post.php', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpost: postId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'edit',\r\n\t\t\t\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ createSuccessNotice ]\r\n\t);\r\n\r\n\tconst initialPost = useMemo( () => {\r\n\t\treturn {\r\n\t\t\ttype: initialPostType,\r\n\t\t\tid: initialPostId,\r\n\t\t};\r\n\t}, [ initialPostType, initialPostId ] );\r\n\r\n\tconst backButton =\r\n\t\tuseViewportMatch( 'medium' ) && isFullscreenActive ? (\r\n\t\t\t<BackButton initialPost={ initialPost } />\r\n\t\t) : null;\r\n\r\n\treturn (\r\n\t\t<SlotFillProvider>\r\n\t\t\t<ErrorBoundary>\r\n\t\t\t\t<CommandMenu />\r\n\t\t\t\t<WelcomeGuide postType={ currentPost.postType } />\r\n\t\t\t\t<Editor\r\n\t\t\t\t\tsettings={ editorSettings }\r\n\t\t\t\t\tinitialEdits={ initialEdits }\r\n\t\t\t\t\tpostType={ currentPost.postType }\r\n\t\t\t\t\tpostId={ currentPost.postId }\r\n\t\t\t\t\ttemplateId={ templateId }\r\n\t\t\t\t\tclassName={ className }\r\n\t\t\t\t\tstyles={ styles }\r\n\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\r\n\t\t\t\t\tcontentRef={ paddingAppenderRef }\r\n\t\t\t\t\tdisableIframe={ ! shouldIframe }\r\n\t\t\t\t\t// We should auto-focus the canvas (title) on load.\r\n\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\r\n\t\t\t\t\tautoFocus={ ! isWelcomeGuideVisible }\r\n\t\t\t\t\tonActionPerformed={ onActionPerformed }\r\n\t\t\t\t\textraSidebarPanels={\r\n\t\t\t\t\t\t! isEditingTemplate && <MetaBoxes location=\"side\" />\r\n\t\t\t\t\t}\r\n\t\t\t\t\textraContent={\r\n\t\t\t\t\t\t! isDistractionFree &&\r\n\t\t\t\t\t\tshowMetaBoxes && (\r\n\t\t\t\t\t\t\t<div className=\"edit-post-layout__metaboxes\">\r\n\t\t\t\t\t\t\t\t<MetaBoxes location=\"normal\" />\r\n\t\t\t\t\t\t\t\t<MetaBoxes location=\"advanced\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<PostLockedModal />\r\n\t\t\t\t\t<EditorInitialization />\r\n\t\t\t\t\t<FullscreenMode isActive={ isFullscreenActive } />\r\n\t\t\t\t\t<BrowserURL hasHistory={ hasHistory } />\r\n\t\t\t\t\t<UnsavedChangesWarning />\r\n\t\t\t\t\t<AutosaveMonitor />\r\n\t\t\t\t\t<LocalAutosaveMonitor />\r\n\t\t\t\t\t<EditPostKeyboardShortcuts />\r\n\t\t\t\t\t<EditorKeyboardShortcutsRegister />\r\n\t\t\t\t\t<BlockKeyboardShortcuts />\r\n\t\t\t\t\t<InitPatternModal />\r\n\t\t\t\t\t<PluginArea onError={ onPluginAreaError } />\r\n\t\t\t\t\t<PostEditorMoreMenu />\r\n\t\t\t\t\t{ backButton }\r\n\t\t\t\t\t<EditorSnackbars />\r\n\t\t\t\t</Editor>\r\n\t\t\t</ErrorBoundary>\r\n\t\t</SlotFillProvider>\r\n\t);\r\n}\r\n\r\nexport default Layout;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SACCC,eAAe,EACfC,oBAAoB,EACpBC,qBAAqB,EACrBC,+BAA+B,EAC/BC,eAAe,EACfC,aAAa,EACbC,eAAe,EACfC,KAAK,IAAIC,WAAW,EACpBC,WAAW,IAAIC,iBAAiB,QAC1B,mBAAmB;AAC1B,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SACCH,WAAW,IAAII,sBAAsB,EACrCN,KAAK,IAAIO,gBAAgB,QACnB,yBAAyB;AAChC,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,WAAW,EAAEC,OAAO,QAAQ,oBAAoB;AACzD,SAASZ,KAAK,IAAIa,YAAY,QAAQ,oBAAoB;AAC1D,SAASb,KAAK,IAAIc,gBAAgB,QAAQ,wBAAwB;AAClE,SACCC,WAAW,EACXb,WAAW,IAAIc,mBAAmB,QAC5B,qBAAqB;AAC5B,SAASd,WAAW,IAAIe,uBAAuB,QAAQ,0BAA0B;AACjF,SAASf,WAAW,IAAIgB,uBAAuB,QAAQ,0BAA0B;AACjF,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASpB,KAAK,IAAIqB,SAAS,QAAQ,sBAAsB;AACzD,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,gBAAgB,QAAQ,oBAAoB;;AAErD;AACA;AACA;AACA,OAAOC,UAAU,MAAM,gBAAgB;AACvC,OAAOC,oBAAoB,MAAM,0BAA0B;AAC3D,OAAOC,yBAAyB,MAAM,uBAAuB;AAC7D,OAAOC,gBAAgB,MAAM,uBAAuB;AACpD,OAAOC,UAAU,MAAM,gBAAgB;AACvC,OAAOC,SAAS,MAAM,eAAe;AACrC,OAAOC,kBAAkB,MAAM,cAAc;AAC7C,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,SAAS/B,KAAK,IAAIgC,aAAa,QAAQ,aAAa;AACpD,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,OAAOC,mBAAmB,MAAM,6BAA6B;AAC7D,SAASC,kBAAkB,QAAQ,wBAAwB;AAC3D,SAASC,eAAe,QAAQ,qBAAqB;AACrD,OAAOC,yBAAyB,MAAM,2CAA2C;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAElF,MAAM;EAAEC;AAAgB,CAAC,GAAGT,MAAM,CAAE3B,sBAAuB,CAAC;AAC5D,MAAM;EAAEqC;AAAY,CAAC,GAAGV,MAAM,CAAEhB,uBAAwB,CAAC;AACzD,MAAM;EAAE2B;AAAkB,CAAC,GAAGX,MAAM,CAAEjB,mBAAoB,CAAC;AAC3D,MAAM;EAAE6B,MAAM;EAAEC;AAAe,CAAC,GAAGb,MAAM,CAAE9B,iBAAkB,CAAC;AAC9D,MAAM;EAAE4C;AAAuB,CAAC,GAAGd,MAAM,CAAEf,uBAAwB,CAAC;AACpE,MAAM8B,iBAAiB,GAAG,CACzB,aAAa,EACb,kBAAkB,EAClB,UAAU,EACV,eAAe,CACf;AAED,SAASC,eAAeA,CAAA,EAAG;EAC1B,MAAM;IACLC,oBAAoB;IACpBC,cAAc;IACdC,eAAe;IACfC,aAAa;IACbC;EACD,CAAC,GAAGlD,SAAS,CAAImD,MAAM,IAAM;IAC5B,MAAM;MAAEC;IAAwB,CAAC,GAAGD,MAAM,CAAEhD,gBAAiB,CAAC;IAC9D,MAAM;MAAEkD,kBAAkB;MAAEC;IAAiB,CAAC,GAAGH,MAAM,CAAEtD,WAAY,CAAC;IACtE,MAAM0D,SAAS,GAAGF,kBAAkB,CAAC,CAAC;IACtC,OAAO;MACNP,oBAAoB,EACnBK,MAAM,CAAEvB,aAAc,CAAC,CAAC4B,eAAe,CAAE,aAAc,CAAC;MACzDT,cAAc,EAAEI,MAAM,CAAEtD,WAAY,CAAC,CAAC4D,iBAAiB,CAAC,CAAC;MACzDT,eAAe,EAAEI,uBAAuB,CAAC,CAAC,KAAK,UAAU;MACzDH,aAAa,EAAEK,gBAAgB,CAAC,CAAC;MACjCJ,QAAQ,EAAEK;IACX,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;;EAEP;EACA,OAAO/C,OAAO,CAAE,MAAM;IAAA,IAAAkD,qBAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA;IACrB,MAAMC,YAAY,IAAAJ,qBAAA,GACjBX,cAAc,CAACgB,MAAM,EAAEC,MAAM,CAC1BC,KAAK,IACNA,KAAK,CAACC,cAAc,IAAID,KAAK,CAACC,cAAc,KAAK,OACnD,CAAC,cAAAR,qBAAA,cAAAA,qBAAA,GAAI,EAAE;IAER,MAAMS,mBAAmB,GAAG,CAC3B,KAAAR,qBAAA,GAAKZ,cAAc,EAAEoB,mBAAmB,cAAAR,qBAAA,cAAAA,qBAAA,GAAI,EAAE,CAAE,EAChD,GAAGG,YAAY,CACf;;IAED;IACA,MAAMM,cAAc,GACnBtB,oBAAoB,IACpBgB,YAAY,CAACO,MAAM,OAAAT,sBAAA,GAAOb,cAAc,CAACgB,MAAM,EAAEM,MAAM,cAAAT,sBAAA,cAAAA,sBAAA,GAAI,CAAC,CAAE;;IAE/D;IACA;IACA,IAAK,CAAEb,cAAc,CAACuB,mBAAmB,IAAI,CAAEF,cAAc,EAAG;MAC/DD,mBAAmB,CAACI,IAAI,CAAE;QACzBC,GAAG,EAAElC,eAAe,CAAE;UACrB2B,KAAK,EAAE,CAAC,CAAC;UACTQ,QAAQ,EAAE,MAAM;UAChBC,kBAAkB,EAAE,KAAK;UACzBC,qBAAqB,EAAE,IAAI;UAC3BC,gBAAgB,EAAE;QACnB,CAAE;MACH,CAAE,CAAC;IACJ;IAEA,MAAMC,UAAU,GAAGT,cAAc,IAAAP,sBAAA,GAC9Bd,cAAc,CAACgB,MAAM,cAAAF,sBAAA,cAAAA,sBAAA,GAAI,EAAE,GAC3BM,mBAAmB;;IAEtB;IACA;IACA,IACC,CAAEnB,eAAe,IACjBC,aAAa,KAAK,WAAW,IAC7B,CAAEL,iBAAiB,CAACkC,QAAQ,CAAE5B,QAAS,CAAC,EACvC;MACD,OAAO,CACN,GAAG2B,UAAU,EACb;QACCL,GAAG,EAAE;MACN,CAAC,CACD;IACF;IAEA,OAAOK,UAAU;EAClB,CAAC,EAAE,CACF9B,cAAc,CAACoB,mBAAmB,EAClCpB,cAAc,CAACuB,mBAAmB,EAClCvB,cAAc,CAACgB,MAAM,EACrBjB,oBAAoB,EACpBI,QAAQ,CACP,CAAC;AACJ;AAEA,SAAS6B,MAAMA,CAAE;EAChBC,MAAM,EAAEC,aAAa;EACrB/B,QAAQ,EAAEgC,eAAe;EACzBC,QAAQ;EACRC;AACD,CAAC,EAAG;EACH7C,WAAW,CAAC,CAAC;EACbT,mBAAmB,CAAC,CAAC;EACrB,MAAMuD,kBAAkB,GAAGtD,kBAAkB,CAAC,CAAC;EAC/C,MAAMuD,YAAY,GAAGtD,eAAe,CAAC,CAAC;EACtC,MAAM;IAAEuD;EAAkB,CAAC,GAAGtF,WAAW,CAAEQ,YAAa,CAAC;EACzD,MAAM;IACL+E,WAAW;IACXC,wBAAwB;IACxBC;EACD,CAAC,GAAGzD,yBAAyB,CAC5BgD,aAAa,EACbC,eAAe,EACf,WACD,CAAC;EACD,MAAM;IACLS,IAAI;IACJC,kBAAkB;IAClBC,kBAAkB;IAClBC,gBAAgB;IAChBC,cAAc;IACdC,iBAAiB;IACjBC,aAAa;IACbC,UAAU;IACVC,iBAAiB;IACjBC,qBAAqB;IACrBC;EACD,CAAC,GAAGrG,SAAS,CACVmD,MAAM,IAAM;IAAA,IAAAmD,qBAAA;IACb,MAAM;MAAEC;IAAI,CAAC,GAAGpD,MAAM,CAAEzC,gBAAiB,CAAC;IAC1C,MAAM;MAAE8C,eAAe;MAAEgD;IAAwB,CAAC,GAAG3E,MAAM,CAC1DsB,MAAM,CAAEvB,aAAc,CACvB,CAAC;IACD,MAAM;MAAE6E,OAAO;MAAEC;IAAY,CAAC,GAAGvD,MAAM,CAAElC,SAAU,CAAC;IAEpD,MAAM0F,oBAAoB,GAAGxB,QAAQ,CAACwB,oBAAoB;IAC1D,MAAMC,UAAU,IAAAN,qBAAA,GACfI,WAAW,CAAElB,WAAW,CAACtC,QAAS,CAAC,EAAE2D,QAAQ,cAAAP,qBAAA,cAAAA,qBAAA,GAAI,KAAK;IACvD,MAAMQ,eAAe,GAAGL,OAAO,CAAE,MAAM,EAAE;MACxCM,IAAI,EAAE,UAAU;MAChBC,IAAI,EAAE;IACP,CAAE,CAAC;IAEH,OAAO;MACNrB,IAAI,EAAExC,MAAM,CAAEtD,WAAY,CAAC,CAACoH,aAAa,CAAC,CAAC;MAC3CrB,kBAAkB,EACjBzC,MAAM,CAAEvB,aAAc,CAAC,CAAC4B,eAAe,CAAE,gBAAiB,CAAC;MAC5DqC,kBAAkB,EAAE1C,MAAM,CAAEvB,aAAc,CAAC,CAACsF,YAAY,CAAC,CAAC;MAC1DpB,gBAAgB,EACf,CAAC,CAAE3C,MAAM,CAAEhD,gBAAiB,CAAC,CAACgH,sBAAsB,CAAC,CAAC;MACvDpB,cAAc,EAAEQ,GAAG,CAAE,MAAM,EAAE,gBAAiB,CAAC;MAC/CP,iBAAiB,EAAEO,GAAG,CAAE,MAAM,EAAE,iBAAkB,CAAC;MACnDN,aAAa,EACZ9C,MAAM,CAAEtD,WAAY,CAAC,CAACyD,gBAAgB,CAAC,CAAC,KAAK,WAAW;MACzD6C,iBAAiB,EAChBhD,MAAM,CAAEtD,WAAY,CAAC,CAACwD,kBAAkB,CAAC,CAAC,KAC1C,aAAa;MACd+C,qBAAqB,EAAE5C,eAAe,CAAE,cAAe,CAAC;MACxD6C,UAAU,EACTM,oBAAoB,IACpBC,UAAU,IACVE,eAAe,IACftB,WAAW,CAACtC,QAAQ,KAAK,aAAa,GACnCsD,uBAAuB,CAAC,CAAC,GACzB;IACL,CAAC;EACF,CAAC,EACD,CAAErB,QAAQ,CAACwB,oBAAoB,EAAEnB,WAAW,CAACtC,QAAQ,CACtD,CAAC;;EAED;EACA,MAAMkE,cAAc,GAAGtB,gBAAgB,GACpC,sBAAsB,GACtB,aAAa;EAChBtD,iBAAiB,CAAE4E,cAAe,CAAC;EACnC,MAAMrE,cAAc,GAAGvC,OAAO,CAC7B,OAAQ;IACP,GAAG2E,QAAQ;IACXM,wBAAwB;IACxBC,gCAAgC;IAChC2B,oBAAoB,EAAE;EACvB,CAAC,CAAE,EACH,CAAElC,QAAQ,EAAEM,wBAAwB,EAAEC,gCAAgC,CACvE,CAAC;EACD,MAAM3B,MAAM,GAAGlB,eAAe,CAAC,CAAC;;EAEhC;EACA,IAAKkD,cAAc,EAAG;IACrBuB,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAE,kBAAmB,CAAC;EAClD,CAAC,MAAM;IACNH,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACE,MAAM,CAAE,kBAAmB,CAAC;EACrD;EAEA,MAAMC,SAAS,GAAGvI,IAAI,CAAE,kBAAkB,EAAE,UAAU,GAAGuG,IAAI,EAAE;IAC9D,eAAe,EAAEE;EAClB,CAAE,CAAC;EAEH,SAAS+B,iBAAiBA,CAAEZ,IAAI,EAAG;IAClCzB,iBAAiB,CAChBjF,OAAO,EACN;IACAD,EAAE,CACD,kEACD,CAAC,EACD2G,IACD,CACD,CAAC;EACF;EAEA,MAAM;IAAEa;EAAoB,CAAC,GAAG5H,WAAW,CAAEQ,YAAa,CAAC;EAE3D,MAAMqH,iBAAiB,GAAGvH,WAAW,CACpC,CAAEwH,QAAQ,EAAEC,KAAK,KAAM;IACtB,QAASD,QAAQ;MAChB,KAAK,eAAe;QACnB;UACCT,QAAQ,CAACW,QAAQ,CAACC,IAAI,GAAGnH,YAAY,CAAE,UAAU,EAAE;YAClDoH,OAAO,EAAE,CAAC;YACVC,SAAS,EAAEJ,KAAK,CAAE,CAAC,CAAE,CAACK,IAAI;YAC1BC,GAAG,EAAEN,KAAK,CAAE,CAAC,CAAE,CAACO;UACjB,CAAE,CAAC;QACJ;QACA;MACD,KAAK,gBAAgB;QACpB;UACC,MAAMC,OAAO,GAAGR,KAAK,CAAE,CAAC,CAAE;UAC1B,MAAMS,KAAK,GACV,OAAOD,OAAO,CAACC,KAAK,KAAK,QAAQ,GAC9BD,OAAO,CAACC,KAAK,GACbD,OAAO,CAACC,KAAK,EAAEC,QAAQ;UAC3Bb,mBAAmB,CAClBvH,OAAO;UACN;UACAD,EAAE,CAAE,4BAA6B,CAAC,EAClCW,cAAc,CAAEyH,KAAM,CACvB,CAAC,EACD;YACCJ,IAAI,EAAE,UAAU;YAChBE,EAAE,EAAE,uBAAuB;YAC3BI,OAAO,EAAE,CACR;cACCC,KAAK,EAAEvI,EAAE,CAAE,MAAO,CAAC;cACnBwI,OAAO,EAAEA,CAAA,KAAM;gBACd,MAAM7D,MAAM,GAAGwD,OAAO,CAACD,EAAE;gBACzBjB,QAAQ,CAACW,QAAQ,CAACC,IAAI,GACrBnH,YAAY,CAAE,UAAU,EAAE;kBACzB+H,IAAI,EAAE9D,MAAM;kBACZ+D,MAAM,EAAE;gBACT,CAAE,CAAC;cACL;YACD,CAAC;UAEH,CACD,CAAC;QACF;QACA;IACF;EACD,CAAC,EACD,CAAElB,mBAAmB,CACtB,CAAC;EAED,MAAMmB,WAAW,GAAGxI,OAAO,CAAE,MAAM;IAClC,OAAO;MACN6H,IAAI,EAAEnD,eAAe;MACrBqD,EAAE,EAAEtD;IACL,CAAC;EACF,CAAC,EAAE,CAAEC,eAAe,EAAED,aAAa,CAAG,CAAC;EAEvC,MAAMgE,UAAU,GACf9H,gBAAgB,CAAE,QAAS,CAAC,IAAIyE,kBAAkB,gBACjDzD,IAAA,CAACf,UAAU;IAAC4H,WAAW,EAAGA;EAAa,CAAE,CAAC,GACvC,IAAI;EAET,oBACC7G,IAAA,CAACjB,gBAAgB;IAAAgI,QAAA,eAChB7G,KAAA,CAAC3C,aAAa;MAAAwJ,QAAA,gBACb/G,IAAA,CAACxB,WAAW,IAAE,CAAC,eACfwB,IAAA,CAACR,YAAY;QAACuB,QAAQ,EAAGsC,WAAW,CAACtC;MAAU,CAAE,CAAC,eAClDb,KAAA,CAACI,MAAM;QACN0C,QAAQ,EAAGpC,cAAgB;QAC3BqC,YAAY,EAAGA,YAAc;QAC7BlC,QAAQ,EAAGsC,WAAW,CAACtC,QAAU;QACjC8B,MAAM,EAAGQ,WAAW,CAACR,MAAQ;QAC7BqB,UAAU,EAAGA,UAAY;QACzBsB,SAAS,EAAGA,SAAW;QACvB5D,MAAM,EAAGA,MAAQ;QACjBoF,YAAY,EAAGtD,kBAAoB;QACnCuD,UAAU,EAAG/D,kBAAoB;QACjCgE,aAAa,EAAG,CAAE/D;QAClB;QACA;QAAA;QACAgE,SAAS,EAAG,CAAElD,qBAAuB;QACrC0B,iBAAiB,EAAGA,iBAAmB;QACvCyB,kBAAkB,EACjB,CAAEpD,iBAAiB,iBAAIhE,IAAA,CAACV,SAAS;UAACwG,QAAQ,EAAC;QAAM,CAAE,CACnD;QACDuB,YAAY,EACX,CAAExD,iBAAiB,IACnBC,aAAa,iBACZ5D,KAAA;UAAKsF,SAAS,EAAC,6BAA6B;UAAAuB,QAAA,gBAC3C/G,IAAA,CAACV,SAAS;YAACwG,QAAQ,EAAC;UAAQ,CAAE,CAAC,eAC/B9F,IAAA,CAACV,SAAS;YAACwG,QAAQ,EAAC;UAAU,CAAE,CAAC;QAAA,CAC7B,CAEN;QAAAiB,QAAA,gBAED/G,IAAA,CAACxC,eAAe,IAAE,CAAC,eACnBwC,IAAA,CAACd,oBAAoB,IAAE,CAAC,eACxBc,IAAA,CAACO,cAAc;UAAC+G,QAAQ,EAAG7D;QAAoB,CAAE,CAAC,eAClDzD,IAAA,CAACX,UAAU;UAAC0E,UAAU,EAAGA;QAAY,CAAE,CAAC,eACxC/D,IAAA,CAAC5C,qBAAqB,IAAE,CAAC,eACzB4C,IAAA,CAAC9C,eAAe,IAAE,CAAC,eACnB8C,IAAA,CAAC7C,oBAAoB,IAAE,CAAC,eACxB6C,IAAA,CAACb,yBAAyB,IAAE,CAAC,eAC7Ba,IAAA,CAAC3C,+BAA+B,IAAE,CAAC,eACnC2C,IAAA,CAACQ,sBAAsB,IAAE,CAAC,eAC1BR,IAAA,CAACZ,gBAAgB,IAAE,CAAC,eACpBY,IAAA,CAAC/B,UAAU;UAACsJ,OAAO,EAAG9B;QAAmB,CAAE,CAAC,eAC5CzF,IAAA,CAACT,kBAAkB,IAAE,CAAC,EACpBuH,UAAU,eACZ9G,IAAA,CAAC1C,eAAe,IAAE,CAAC;MAAA,CACZ,CAAC;IAAA,CACK;EAAC,CACC,CAAC;AAErB;AAEA,eAAesF,MAAM","ignoreList":[]}