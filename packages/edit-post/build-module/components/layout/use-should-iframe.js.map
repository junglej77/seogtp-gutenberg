{"version":3,"names":["store","editorStore","useSelect","blocksStore","blockEditorStore","editPostStore","isGutenbergPlugin","globalThis","IS_GUTENBERG_PLUGIN","useShouldIframe","isBlockBasedTheme","hasV3BlocksOnly","isEditingTemplate","hasMetaBoxes","isZoomOutMode","select","getEditorSettings","getCurrentPostType","__unstableGetEditorMode","getBlockTypes","editorSettings","__unstableIsBlockBasedTheme","every","type","apiVersion"],"sources":["@wordpress/edit-post/src/components/layout/use-should-iframe.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { store as editorStore } from '@wordpress/editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editPostStore } from '../../store';\r\n\r\nconst isGutenbergPlugin = globalThis.IS_GUTENBERG_PLUGIN ? true : false;\r\n\r\nexport function useShouldIframe() {\r\n\tconst {\r\n\t\tisBlockBasedTheme,\r\n\t\thasV3BlocksOnly,\r\n\t\tisEditingTemplate,\r\n\t\thasMetaBoxes,\r\n\t\tisZoomOutMode,\r\n\t} = useSelect( ( select ) => {\r\n\t\tconst { getEditorSettings, getCurrentPostType } = select( editorStore );\r\n\t\tconst { __unstableGetEditorMode } = select( blockEditorStore );\r\n\t\tconst { getBlockTypes } = select( blocksStore );\r\n\t\tconst editorSettings = getEditorSettings();\r\n\t\treturn {\r\n\t\t\tisBlockBasedTheme: editorSettings.__unstableIsBlockBasedTheme,\r\n\t\t\thasV3BlocksOnly: getBlockTypes().every( ( type ) => {\r\n\t\t\t\treturn type.apiVersion >= 3;\r\n\t\t\t} ),\r\n\t\t\tisEditingTemplate: getCurrentPostType() === 'wp_template',\r\n\t\t\thasMetaBoxes: select( editPostStore ).hasMetaBoxes(),\r\n\t\t\tisZoomOutMode: __unstableGetEditorMode() === 'zoom-out',\r\n\t\t};\r\n\t}, [] );\r\n\r\n\treturn (\r\n\t\t( ( hasV3BlocksOnly || ( isGutenbergPlugin && isBlockBasedTheme ) ) &&\r\n\t\t\t! hasMetaBoxes ) ||\r\n\t\tisEditingTemplate ||\r\n\t\tisZoomOutMode\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASF,KAAK,IAAIG,WAAW,QAAQ,mBAAmB;AACxD,SAASH,KAAK,IAAII,gBAAgB,QAAQ,yBAAyB;;AAEnE;AACA;AACA;AACA,SAASJ,KAAK,IAAIK,aAAa,QAAQ,aAAa;AAEpD,MAAMC,iBAAiB,GAAGC,UAAU,CAACC,mBAAmB,GAAG,IAAI,GAAG,KAAK;AAEvE,OAAO,SAASC,eAAeA,CAAA,EAAG;EACjC,MAAM;IACLC,iBAAiB;IACjBC,eAAe;IACfC,iBAAiB;IACjBC,YAAY;IACZC;EACD,CAAC,GAAGZ,SAAS,CAAIa,MAAM,IAAM;IAC5B,MAAM;MAAEC,iBAAiB;MAAEC;IAAmB,CAAC,GAAGF,MAAM,CAAEd,WAAY,CAAC;IACvE,MAAM;MAAEiB;IAAwB,CAAC,GAAGH,MAAM,CAAEX,gBAAiB,CAAC;IAC9D,MAAM;MAAEe;IAAc,CAAC,GAAGJ,MAAM,CAAEZ,WAAY,CAAC;IAC/C,MAAMiB,cAAc,GAAGJ,iBAAiB,CAAC,CAAC;IAC1C,OAAO;MACNN,iBAAiB,EAAEU,cAAc,CAACC,2BAA2B;MAC7DV,eAAe,EAAEQ,aAAa,CAAC,CAAC,CAACG,KAAK,CAAIC,IAAI,IAAM;QACnD,OAAOA,IAAI,CAACC,UAAU,IAAI,CAAC;MAC5B,CAAE,CAAC;MACHZ,iBAAiB,EAAEK,kBAAkB,CAAC,CAAC,KAAK,aAAa;MACzDJ,YAAY,EAAEE,MAAM,CAAEV,aAAc,CAAC,CAACQ,YAAY,CAAC,CAAC;MACpDC,aAAa,EAAEI,uBAAuB,CAAC,CAAC,KAAK;IAC9C,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,OACG,CAAEP,eAAe,IAAML,iBAAiB,IAAII,iBAAmB,KAChE,CAAEG,YAAY,IACfD,iBAAiB,IACjBE,aAAa;AAEf","ignoreList":[]}