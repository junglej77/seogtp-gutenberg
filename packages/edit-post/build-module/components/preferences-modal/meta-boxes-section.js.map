{"version":3,"names":["__","withSelect","store","editorStore","privateApis","preferencesPrivateApis","EnableCustomFieldsOption","EnablePanelOption","editPostStore","unlock","jsx","_jsx","jsxs","_jsxs","PreferencesModalSection","MetaBoxesSection","areCustomFieldsRegistered","metaBoxes","sectionProps","thirdPartyMetaBoxes","filter","id","length","children","label","map","title","panelName","select","getEditorSettings","getAllMetaBoxes","enableCustomFields","undefined"],"sources":["@wordpress/edit-post/src/components/preferences-modal/meta-boxes-section.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { withSelect } from '@wordpress/data';\r\nimport { store as editorStore } from '@wordpress/editor';\r\nimport { privateApis as preferencesPrivateApis } from '@wordpress/preferences';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport EnableCustomFieldsOption from './enable-custom-fields';\r\nimport EnablePanelOption from './enable-panel';\r\nimport { store as editPostStore } from '../../store';\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nconst { PreferencesModalSection } = unlock( preferencesPrivateApis );\r\n\r\nexport function MetaBoxesSection( {\r\n\tareCustomFieldsRegistered,\r\n\tmetaBoxes,\r\n\t...sectionProps\r\n} ) {\r\n\t// The 'Custom Fields' meta box is a special case that we handle separately.\r\n\tconst thirdPartyMetaBoxes = metaBoxes.filter(\r\n\t\t( { id } ) => id !== 'postcustom'\r\n\t);\r\n\r\n\tif ( ! areCustomFieldsRegistered && thirdPartyMetaBoxes.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PreferencesModalSection { ...sectionProps }>\r\n\t\t\t{ areCustomFieldsRegistered && (\r\n\t\t\t\t<EnableCustomFieldsOption label={ __( 'Custom fields' ) } />\r\n\t\t\t) }\r\n\t\t\t{ thirdPartyMetaBoxes.map( ( { id, title } ) => (\r\n\t\t\t\t<EnablePanelOption\r\n\t\t\t\t\tkey={ id }\r\n\t\t\t\t\tlabel={ title }\r\n\t\t\t\t\tpanelName={ `meta-box-${ id }` }\r\n\t\t\t\t/>\r\n\t\t\t) ) }\r\n\t\t</PreferencesModalSection>\r\n\t);\r\n}\r\n\r\nexport default withSelect( ( select ) => {\r\n\tconst { getEditorSettings } = select( editorStore );\r\n\tconst { getAllMetaBoxes } = select( editPostStore );\r\n\r\n\treturn {\r\n\t\t// This setting should not live in the block editor's store.\r\n\t\tareCustomFieldsRegistered:\r\n\t\t\tgetEditorSettings().enableCustomFields !== undefined,\r\n\t\tmetaBoxes: getAllMetaBoxes(),\r\n\t};\r\n} )( MetaBoxesSection );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,WAAW,IAAIC,sBAAsB,QAAQ,wBAAwB;;AAE9E;AACA;AACA;AACA,OAAOC,wBAAwB,MAAM,wBAAwB;AAC7D,OAAOC,iBAAiB,MAAM,gBAAgB;AAC9C,SAASL,KAAK,IAAIM,aAAa,QAAQ,aAAa;AACpD,SAASC,MAAM,QAAQ,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE3C,MAAM;EAAEC;AAAwB,CAAC,GAAGL,MAAM,CAAEJ,sBAAuB,CAAC;AAEpE,OAAO,SAASU,gBAAgBA,CAAE;EACjCC,yBAAyB;EACzBC,SAAS;EACT,GAAGC;AACJ,CAAC,EAAG;EACH;EACA,MAAMC,mBAAmB,GAAGF,SAAS,CAACG,MAAM,CAC3C,CAAE;IAAEC;EAAG,CAAC,KAAMA,EAAE,KAAK,YACtB,CAAC;EAED,IAAK,CAAEL,yBAAyB,IAAIG,mBAAmB,CAACG,MAAM,KAAK,CAAC,EAAG;IACtE,OAAO,IAAI;EACZ;EAEA,oBACCT,KAAA,CAACC,uBAAuB;IAAA,GAAMI,YAAY;IAAAK,QAAA,GACvCP,yBAAyB,iBAC1BL,IAAA,CAACL,wBAAwB;MAACkB,KAAK,EAAGxB,EAAE,CAAE,eAAgB;IAAG,CAAE,CAC3D,EACCmB,mBAAmB,CAACM,GAAG,CAAE,CAAE;MAAEJ,EAAE;MAAEK;IAAM,CAAC,kBACzCf,IAAA,CAACJ,iBAAiB;MAEjBiB,KAAK,EAAGE,KAAO;MACfC,SAAS,EAAI,YAAYN,EAAI;IAAG,GAF1BA,EAGN,CACA,CAAC;EAAA,CACqB,CAAC;AAE5B;AAEA,eAAepB,UAAU,CAAI2B,MAAM,IAAM;EACxC,MAAM;IAAEC;EAAkB,CAAC,GAAGD,MAAM,CAAEzB,WAAY,CAAC;EACnD,MAAM;IAAE2B;EAAgB,CAAC,GAAGF,MAAM,CAAEpB,aAAc,CAAC;EAEnD,OAAO;IACN;IACAQ,yBAAyB,EACxBa,iBAAiB,CAAC,CAAC,CAACE,kBAAkB,KAAKC,SAAS;IACrDf,SAAS,EAAEa,eAAe,CAAC;EAC5B,CAAC;AACF,CAAE,CAAC,CAAEf,gBAAiB,CAAC","ignoreList":[]}