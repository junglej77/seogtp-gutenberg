{"version":3,"names":["SlotFillProvider","UnsavedChangesWarning","privateApis","editorPrivateApis","store","noticesStore","useDispatch","__","sprintf","PluginArea","routerPrivateApis","Layout","unlock","useCommonCommands","useEditModeCommands","useInitEditedEntityFromURL","useLayoutAreas","useSetCommandContext","jsx","_jsx","jsxs","_jsxs","RouterProvider","GlobalStylesProvider","AppLayout","route","App","createErrorNotice","onPluginAreaError","name","children","onError"],"sources":["@wordpress/edit-site/src/components/app/index.js"],"sourcesContent":["/**\r\n * WordPress 依赖项\r\n */\r\nimport { SlotFillProvider } from '@wordpress/components'; // 提供插槽和填充组件的功能\r\nimport {\r\n\tUnsavedChangesWarning, // 未保存更改的警告组件\r\n\tprivateApis as editorPrivateApis, // 编辑器私有 API\r\n} from '@wordpress/editor';\r\nimport { store as noticesStore } from '@wordpress/notices'; // 通知存储\r\nimport { useDispatch } from '@wordpress/data'; // 数据分发钩子\r\nimport { __, sprintf } from '@wordpress/i18n'; // 国际化工具\r\nimport { PluginArea } from '@wordpress/plugins'; // 插件区域组件\r\nimport { privateApis as routerPrivateApis } from '@wordpress/router'; // 路由器私有 API\r\n\r\n/**\r\n * 内部依赖项\r\n */\r\nimport Layout from '../layout'; // 布局组件\r\nimport { unlock } from '../../lock-unlock'; // 解锁私有 API\r\nimport { useCommonCommands } from '../../hooks/commands/use-common-commands'; // 通用命令钩子\r\nimport { useEditModeCommands } from '../../hooks/commands/use-edit-mode-commands'; // 编辑模式命令钩子\r\nimport useInitEditedEntityFromURL from '../sync-state-with-url/use-init-edited-entity-from-url'; // 从 URL 初始化编辑实体的钩子\r\nimport useLayoutAreas from '../layout/router'; // 布局区域钩子\r\nimport useSetCommandContext from '../../hooks/commands/use-set-command-context'; // 设置命令上下文的钩子\r\n\r\n// 解锁并使用路由器和编辑器的私有 API\r\nconst { RouterProvider } = unlock( routerPrivateApis );\r\nconst { GlobalStylesProvider } = unlock( editorPrivateApis );\r\n\r\nfunction AppLayout() {\r\n\t// 确保编辑实体的 ID 和类型被正确初始化\r\n\tuseInitEditedEntityFromURL();\r\n\tuseEditModeCommands();\r\n\tuseCommonCommands();\r\n\tuseSetCommandContext();\r\n\tconst route = useLayoutAreas(); // 获取当前路由\r\n\r\n\treturn <Layout route={ route } />; // 渲染布局组件\r\n}\r\n\r\nexport default function App() {\r\n\tconst { createErrorNotice } = useDispatch( noticesStore ); // 获取创建错误通知的函数\r\n\r\n\t// 插件区域错误处理函数\r\n\tfunction onPluginAreaError( name ) {\r\n\t\tcreateErrorNotice(\r\n\t\t\tsprintf(\r\n\t\t\t\t/* translators: %s: 插件名称 */\r\n\t\t\t\t__(\r\n\t\t\t\t\t'插件“%s”遇到错误，无法渲染。'\r\n\t\t\t\t),\r\n\t\t\t\tname\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SlotFillProvider>\r\n\t\t\t<GlobalStylesProvider>\r\n\t\t\t\t<UnsavedChangesWarning />\r\n\t\t\t\t<RouterProvider>\r\n\t\t\t\t\t<AppLayout />\r\n\t\t\t\t\t<PluginArea onError={ onPluginAreaError } />\r\n\t\t\t\t</RouterProvider>\r\n\t\t\t</GlobalStylesProvider>\r\n\t\t</SlotFillProvider>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,gBAAgB,QAAQ,uBAAuB,CAAC,CAAC;AAC1D,SACCC,qBAAqB;AAAE;AACvBC,WAAW,IAAIC,iBAAiB,CAAE;AAAA,OAC5B,mBAAmB;AAC1B,SAASC,KAAK,IAAIC,YAAY,QAAQ,oBAAoB,CAAC,CAAC;AAC5D,SAASC,WAAW,QAAQ,iBAAiB,CAAC,CAAC;AAC/C,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB,CAAC,CAAC;AAC/C,SAASC,UAAU,QAAQ,oBAAoB,CAAC,CAAC;AACjD,SAASP,WAAW,IAAIQ,iBAAiB,QAAQ,mBAAmB,CAAC,CAAC;;AAEtE;AACA;AACA;AACA,OAAOC,MAAM,MAAM,WAAW,CAAC,CAAC;AAChC,SAASC,MAAM,QAAQ,mBAAmB,CAAC,CAAC;AAC5C,SAASC,iBAAiB,QAAQ,0CAA0C,CAAC,CAAC;AAC9E,SAASC,mBAAmB,QAAQ,6CAA6C,CAAC,CAAC;AACnF,OAAOC,0BAA0B,MAAM,wDAAwD,CAAC,CAAC;AACjG,OAAOC,cAAc,MAAM,kBAAkB,CAAC,CAAC;AAC/C,OAAOC,oBAAoB,MAAM,8CAA8C,CAAC,CAAC;;AAEjF;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AACA,MAAM;EAAEC;AAAe,CAAC,GAAGV,MAAM,CAAEF,iBAAkB,CAAC;AACtD,MAAM;EAAEa;AAAqB,CAAC,GAAGX,MAAM,CAAET,iBAAkB,CAAC;AAE5D,SAASqB,SAASA,CAAA,EAAG;EACpB;EACAT,0BAA0B,CAAC,CAAC;EAC5BD,mBAAmB,CAAC,CAAC;EACrBD,iBAAiB,CAAC,CAAC;EACnBI,oBAAoB,CAAC,CAAC;EACtB,MAAMQ,KAAK,GAAGT,cAAc,CAAC,CAAC,CAAC,CAAC;;EAEhC,oBAAOG,IAAA,CAACR,MAAM;IAACc,KAAK,EAAGA;EAAO,CAAE,CAAC,CAAC,CAAC;AACpC;AAEA,eAAe,SAASC,GAAGA,CAAA,EAAG;EAC7B,MAAM;IAAEC;EAAkB,CAAC,GAAGrB,WAAW,CAAED,YAAa,CAAC,CAAC,CAAC;;EAE3D;EACA,SAASuB,iBAAiBA,CAAEC,IAAI,EAAG;IAClCF,iBAAiB,CAChBnB,OAAO,EACN;IACAD,EAAE,CACD,kBACD,CAAC,EACDsB,IACD,CACD,CAAC;EACF;EAEA,oBACCV,IAAA,CAACnB,gBAAgB;IAAA8B,QAAA,eAChBT,KAAA,CAACE,oBAAoB;MAAAO,QAAA,gBACpBX,IAAA,CAAClB,qBAAqB,IAAE,CAAC,eACzBoB,KAAA,CAACC,cAAc;QAAAQ,QAAA,gBACdX,IAAA,CAACK,SAAS,IAAE,CAAC,eACbL,IAAA,CAACV,UAAU;UAACsB,OAAO,EAAGH;QAAmB,CAAE,CAAC;MAAA,CAC7B,CAAC;IAAA,CACI;EAAC,CACN,CAAC;AAErB","ignoreList":[]}