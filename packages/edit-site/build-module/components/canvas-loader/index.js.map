{"version":3,"names":["privateApis","blockEditorPrivateApis","componentsPrivateApis","ProgressBar","store","coreStore","useSelect","unlock","useStylesPreviewColors","jsx","_jsx","Theme","useGlobalStyle","CanvasLoader","id","_highlightedColors$0$","fallbackIndicatorColor","backgroundColor","highlightedColors","indicatorColor","color","elapsed","total","select","_selectorsByStatus$re","_selectorsByStatus$fi","selectorsByStatus","countSelectorsByStatus","resolving","finished","className","children","accent","background","max","value"],"sources":["@wordpress/edit-site/src/components/canvas-loader/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\r\nimport {\r\n\tprivateApis as componentsPrivateApis,\r\n\tProgressBar,\r\n} from '@wordpress/components';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../../lock-unlock';\r\nimport { useStylesPreviewColors } from '../global-styles/hooks';\r\n\r\nconst { Theme } = unlock( componentsPrivateApis );\r\nconst { useGlobalStyle } = unlock( blockEditorPrivateApis );\r\n\r\nexport default function CanvasLoader( { id } ) {\r\n\tconst [ fallbackIndicatorColor ] = useGlobalStyle( 'color.text' );\r\n\tconst [ backgroundColor ] = useGlobalStyle( 'color.background' );\r\n\tconst { highlightedColors } = useStylesPreviewColors();\r\n\tconst indicatorColor =\r\n\t\thighlightedColors[ 0 ]?.color ?? fallbackIndicatorColor;\r\n\tconst { elapsed, total } = useSelect( ( select ) => {\r\n\t\tconst selectorsByStatus = select( coreStore ).countSelectorsByStatus();\r\n\t\tconst resolving = selectorsByStatus.resolving ?? 0;\r\n\t\tconst finished = selectorsByStatus.finished ?? 0;\r\n\t\treturn {\r\n\t\t\telapsed: finished,\r\n\t\t\ttotal: finished + resolving,\r\n\t\t};\r\n\t}, [] );\r\n\r\n\treturn (\r\n\t\t<div className=\"edit-site-canvas-loader\">\r\n\t\t\t<Theme accent={ indicatorColor } background={ backgroundColor }>\r\n\t\t\t\t<ProgressBar id={ id } max={ total } value={ elapsed } />\r\n\t\t\t</Theme>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,IAAIC,sBAAsB,QAAQ,yBAAyB;AAC/E,SACCD,WAAW,IAAIE,qBAAqB,EACpCC,WAAW,QACL,uBAAuB;AAC9B,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SAASC,sBAAsB,QAAQ,wBAAwB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEhE,MAAM;EAAEC;AAAM,CAAC,GAAGJ,MAAM,CAAEL,qBAAsB,CAAC;AACjD,MAAM;EAAEU;AAAe,CAAC,GAAGL,MAAM,CAAEN,sBAAuB,CAAC;AAE3D,eAAe,SAASY,YAAYA,CAAE;EAAEC;AAAG,CAAC,EAAG;EAAA,IAAAC,qBAAA;EAC9C,MAAM,CAAEC,sBAAsB,CAAE,GAAGJ,cAAc,CAAE,YAAa,CAAC;EACjE,MAAM,CAAEK,eAAe,CAAE,GAAGL,cAAc,CAAE,kBAAmB,CAAC;EAChE,MAAM;IAAEM;EAAkB,CAAC,GAAGV,sBAAsB,CAAC,CAAC;EACtD,MAAMW,cAAc,IAAAJ,qBAAA,GACnBG,iBAAiB,CAAE,CAAC,CAAE,EAAEE,KAAK,cAAAL,qBAAA,cAAAA,qBAAA,GAAIC,sBAAsB;EACxD,MAAM;IAAEK,OAAO;IAAEC;EAAM,CAAC,GAAGhB,SAAS,CAAIiB,MAAM,IAAM;IAAA,IAAAC,qBAAA,EAAAC,qBAAA;IACnD,MAAMC,iBAAiB,GAAGH,MAAM,CAAElB,SAAU,CAAC,CAACsB,sBAAsB,CAAC,CAAC;IACtE,MAAMC,SAAS,IAAAJ,qBAAA,GAAGE,iBAAiB,CAACE,SAAS,cAAAJ,qBAAA,cAAAA,qBAAA,GAAI,CAAC;IAClD,MAAMK,QAAQ,IAAAJ,qBAAA,GAAGC,iBAAiB,CAACG,QAAQ,cAAAJ,qBAAA,cAAAA,qBAAA,GAAI,CAAC;IAChD,OAAO;MACNJ,OAAO,EAAEQ,QAAQ;MACjBP,KAAK,EAAEO,QAAQ,GAAGD;IACnB,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,oBACClB,IAAA;IAAKoB,SAAS,EAAC,yBAAyB;IAAAC,QAAA,eACvCrB,IAAA,CAACC,KAAK;MAACqB,MAAM,EAAGb,cAAgB;MAACc,UAAU,EAAGhB,eAAiB;MAAAc,QAAA,eAC9DrB,IAAA,CAACP,WAAW;QAACW,EAAE,EAAGA,EAAI;QAACoB,GAAG,EAAGZ,KAAO;QAACa,KAAK,EAAGd;MAAS,CAAE;IAAC,CACnD;EAAC,CACJ,CAAC;AAER","ignoreList":[]}