{"version":3,"names":["__","edit","useMemo","privateApis","routerPrivateApis","PATTERN_TYPES","unlock","useHistory","useEditPostAction","history","id","label","isPrimary","icon","isEligible","post","status","type","theme","callback","items","push","postId","postType","canvas"],"sources":["@wordpress/edit-site/src/components/dataviews-actions/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { edit } from '@wordpress/icons';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { PATTERN_TYPES } from '../../utils/constants';\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nconst { useHistory } = unlock( routerPrivateApis );\r\n\r\nexport const useEditPostAction = () => {\r\n\tconst history = useHistory();\r\n\treturn useMemo(\r\n\t\t() => ( {\r\n\t\t\tid: 'edit-post',\r\n\t\t\tlabel: __( 'Edit' ),\r\n\t\t\tisPrimary: true,\r\n\t\t\ticon: edit,\r\n\t\t\tisEligible( post ) {\r\n\t\t\t\tif ( post.status === 'trash' ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t// It's eligible for all post types except theme patterns.\r\n\t\t\t\treturn post.type !== PATTERN_TYPES.theme;\r\n\t\t\t},\r\n\t\t\tcallback( items ) {\r\n\t\t\t\tconst post = items[ 0 ];\r\n\t\t\t\thistory.push( {\r\n\t\t\t\t\tpostId: post.id,\r\n\t\t\t\t\tpostType: post.type,\r\n\t\t\t\t\tcanvas: 'edit',\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t} ),\r\n\t\t[ history ]\r\n\t);\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,WAAW,IAAIC,iBAAiB,QAAQ,mBAAmB;;AAEpE;AACA;AACA;AACA,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,MAAM,QAAQ,mBAAmB;AAE1C,MAAM;EAAEC;AAAW,CAAC,GAAGD,MAAM,CAAEF,iBAAkB,CAAC;AAElD,OAAO,MAAMI,iBAAiB,GAAGA,CAAA,KAAM;EACtC,MAAMC,OAAO,GAAGF,UAAU,CAAC,CAAC;EAC5B,OAAOL,OAAO,CACb,OAAQ;IACPQ,EAAE,EAAE,WAAW;IACfC,KAAK,EAAEX,EAAE,CAAE,MAAO,CAAC;IACnBY,SAAS,EAAE,IAAI;IACfC,IAAI,EAAEZ,IAAI;IACVa,UAAUA,CAAEC,IAAI,EAAG;MAClB,IAAKA,IAAI,CAACC,MAAM,KAAK,OAAO,EAAG;QAC9B,OAAO,KAAK;MACb;MACA;MACA,OAAOD,IAAI,CAACE,IAAI,KAAKZ,aAAa,CAACa,KAAK;IACzC,CAAC;IACDC,QAAQA,CAAEC,KAAK,EAAG;MACjB,MAAML,IAAI,GAAGK,KAAK,CAAE,CAAC,CAAE;MACvBX,OAAO,CAACY,IAAI,CAAE;QACbC,MAAM,EAAEP,IAAI,CAACL,EAAE;QACfa,QAAQ,EAAER,IAAI,CAACE,IAAI;QACnBO,MAAM,EAAE;MACT,CAAE,CAAC;IACJ;EACD,CAAC,CAAE,EACH,CAAEf,OAAO,CACV,CAAC;AACF,CAAC","ignoreList":[]}