{"version":3,"names":["BlockPreview","getBlockType","getBlockFromExample","__experimentalSpacer","Spacer","useMemo","getVariationClassName","jsx","_jsx","BlockPreviewPanel","name","variation","_blockExample$viewpor","blockExample","example","blocks","attributes","className","viewportWidth","previewHeight","sidebarWidth","scale","minHeight","marginX","marginBottom","children","style","maxHeight","boxSizing","additionalStyles","css","Math","round"],"sources":["@wordpress/edit-site/src/components/global-styles/block-preview-panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { BlockPreview } from '@wordpress/block-editor';\r\nimport { getBlockType, getBlockFromExample } from '@wordpress/blocks';\r\nimport { __experimentalSpacer as Spacer } from '@wordpress/components';\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { getVariationClassName } from './utils';\r\n\r\nconst BlockPreviewPanel = ( { name, variation = '' } ) => {\r\n\tconst blockExample = getBlockType( name )?.example;\r\n\tconst blocks = useMemo( () => {\r\n\t\tif ( ! blockExample ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tlet example = blockExample;\r\n\t\tif ( variation ) {\r\n\t\t\texample = {\r\n\t\t\t\t...example,\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\t...example.attributes,\r\n\t\t\t\t\tclassName: getVariationClassName( variation ),\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn getBlockFromExample( name, example );\r\n\t}, [ name, blockExample, variation ] );\r\n\r\n\tconst viewportWidth = blockExample?.viewportWidth ?? 500;\r\n\t// Same as height of InserterPreviewPanel.\r\n\tconst previewHeight = 144;\r\n\tconst sidebarWidth = 235;\r\n\tconst scale = sidebarWidth / viewportWidth;\r\n\tconst minHeight =\r\n\t\tscale !== 0 && scale < 1 && previewHeight\r\n\t\t\t? previewHeight / scale\r\n\t\t\t: previewHeight;\r\n\r\n\tif ( ! blockExample ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spacer marginX={ 4 } marginBottom={ 4 }>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"edit-site-global-styles__block-preview-panel\"\r\n\t\t\t\tstyle={ { maxHeight: previewHeight, boxSizing: 'initial' } }\r\n\t\t\t>\r\n\t\t\t\t<BlockPreview\r\n\t\t\t\t\tblocks={ blocks }\r\n\t\t\t\t\tviewportWidth={ viewportWidth }\r\n\t\t\t\t\tminHeight={ previewHeight }\r\n\t\t\t\t\tadditionalStyles={\r\n\t\t\t\t\t\t//We want this CSS to be in sync with the one in InserterPreviewPanel.\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcss: `\r\n\t\t\t\t\t\t\t\tbody{\r\n\t\t\t\t\t\t\t\t\tpadding: 24px;\r\n\t\t\t\t\t\t\t\t\tmin-height:${ Math.round( minHeight ) }px;\r\n\t\t\t\t\t\t\t\t\tdisplay:flex;\r\n\t\t\t\t\t\t\t\t\talign-items:center;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t.is-root-container { width: 100%; }\r\n\t\t\t\t\t\t\t`,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Spacer>\r\n\t);\r\n};\r\n\r\nexport default BlockPreviewPanel;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,QAAQ,yBAAyB;AACtD,SAASC,YAAY,EAAEC,mBAAmB,QAAQ,mBAAmB;AACrE,SAASC,oBAAoB,IAAIC,MAAM,QAAQ,uBAAuB;AACtE,SAASC,OAAO,QAAQ,oBAAoB;;AAE5C;AACA;AACA;AACA,SAASC,qBAAqB,QAAQ,SAAS;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEhD,MAAMC,iBAAiB,GAAGA,CAAE;EAAEC,IAAI;EAAEC,SAAS,GAAG;AAAG,CAAC,KAAM;EAAA,IAAAC,qBAAA;EACzD,MAAMC,YAAY,GAAGZ,YAAY,CAAES,IAAK,CAAC,EAAEI,OAAO;EAClD,MAAMC,MAAM,GAAGV,OAAO,CAAE,MAAM;IAC7B,IAAK,CAAEQ,YAAY,EAAG;MACrB,OAAO,IAAI;IACZ;IAEA,IAAIC,OAAO,GAAGD,YAAY;IAC1B,IAAKF,SAAS,EAAG;MAChBG,OAAO,GAAG;QACT,GAAGA,OAAO;QACVE,UAAU,EAAE;UACX,GAAGF,OAAO,CAACE,UAAU;UACrBC,SAAS,EAAEX,qBAAqB,CAAEK,SAAU;QAC7C;MACD,CAAC;IACF;IAEA,OAAOT,mBAAmB,CAAEQ,IAAI,EAAEI,OAAQ,CAAC;EAC5C,CAAC,EAAE,CAAEJ,IAAI,EAAEG,YAAY,EAAEF,SAAS,CAAG,CAAC;EAEtC,MAAMO,aAAa,IAAAN,qBAAA,GAAGC,YAAY,EAAEK,aAAa,cAAAN,qBAAA,cAAAA,qBAAA,GAAI,GAAG;EACxD;EACA,MAAMO,aAAa,GAAG,GAAG;EACzB,MAAMC,YAAY,GAAG,GAAG;EACxB,MAAMC,KAAK,GAAGD,YAAY,GAAGF,aAAa;EAC1C,MAAMI,SAAS,GACdD,KAAK,KAAK,CAAC,IAAIA,KAAK,GAAG,CAAC,IAAIF,aAAa,GACtCA,aAAa,GAAGE,KAAK,GACrBF,aAAa;EAEjB,IAAK,CAAEN,YAAY,EAAG;IACrB,OAAO,IAAI;EACZ;EAEA,oBACCL,IAAA,CAACJ,MAAM;IAACmB,OAAO,EAAG,CAAG;IAACC,YAAY,EAAG,CAAG;IAAAC,QAAA,eACvCjB,IAAA;MACCS,SAAS,EAAC,8CAA8C;MACxDS,KAAK,EAAG;QAAEC,SAAS,EAAER,aAAa;QAAES,SAAS,EAAE;MAAU,CAAG;MAAAH,QAAA,eAE5DjB,IAAA,CAACR,YAAY;QACZe,MAAM,EAAGA,MAAQ;QACjBG,aAAa,EAAGA,aAAe;QAC/BI,SAAS,EAAGH,aAAe;QAC3BU,gBAAgB;QACf;QACA,CACC;UACCC,GAAG,EAAG;AACd;AACA;AACA,sBAAuBC,IAAI,CAACC,KAAK,CAAEV,SAAU,CAAG;AAChD;AACA;AACA;AACA;AACA;QACO,CAAC;MAEF,CACD;IAAC,CACE;EAAC,CACC,CAAC;AAEX,CAAC;AAED,eAAeb,iBAAiB","ignoreList":[]}