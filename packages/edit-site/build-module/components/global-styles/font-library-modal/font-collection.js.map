{"version":3,"names":["useContext","useEffect","useState","useMemo","createInterpolateElement","__experimentalSpacer","Spacer","__experimentalText","Text","__experimentalHStack","HStack","__experimentalVStack","VStack","__experimentalNavigatorProvider","NavigatorProvider","__experimentalNavigatorScreen","NavigatorScreen","__experimentalNavigatorBackButton","NavigatorBackButton","__experimentalHeading","Heading","Notice","SelectControl","FlexItem","Flex","Button","DropdownMenu","SearchControl","ProgressBar","CheckboxControl","debounce","sprintf","__","_x","isRTL","moreVertical","chevronLeft","chevronRight","FontLibraryContext","FontCard","filterFonts","toggleFont","getFontsOutline","isFontFontFaceInOutline","GoogleFontsConfirmDialog","downloadFontFaceAssets","sortFontFaces","CollectionFontVariant","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DEFAULT_CATEGORY","slug","name","LOCAL_STORAGE_ITEM","MIN_WINDOW_HEIGHT","FontCollection","_selectedCollection$c","requiresPermission","getGoogleFontsPermissionFromStorage","window","localStorage","getItem","selectedFont","setSelectedFont","notice","setNotice","fontsToInstall","setFontsToInstall","page","setPage","filters","setFilters","renderConfirmDialog","setRenderConfirmDialog","collections","getFontCollection","installFonts","isInstalling","selectedCollection","find","collection","handleStorage","addEventListener","removeEventListener","revokeAccess","setItem","dispatchEvent","Event","fetchFontCollection","resetFilters","e","type","message","collectionFonts","_selectedCollection$f","font_families","collectionCategories","categories","fonts","isLoading","windowHeight","Math","max","innerHeight","pageSize","floor","totalPages","ceil","length","itemsStart","itemsLimit","items","slice","handleCategoryFilter","category","handleUpdateSearchInput","value","search","debouncedUpdateSearchInput","handleToggleVariant","font","face","newFontsToInstall","fontToInstallOutline","resetFontsToInstall","selectFontCount","fontFace","isIndeterminate","isSelectAllChecked","toggleSelectAll","newFonts","handleInstall","fontFamily","Promise","all","map","src","file","error","getSortedFontFaces","fontStyle","fontWeight","ActionsComponent","icon","label","popoverProps","position","controls","title","onClick","className","children","initialPath","path","justify","level","size","description","margin","placeholder","onChange","__nextHasNoMarginBottom","hideLabelFromVision","__next40pxDefaultSize","role","font_family_settings","navigatorPath","status","onRemove","checked","indeterminate","spacing","i","selected","variant","isBusy","disabled","accessibleWhenDisabled","showTooltip","tooltipPosition","expanded","CurrentPageControl","options","Array","newPage","parseInt"],"sources":["@wordpress/edit-site/src/components/global-styles/font-library-modal/font-collection.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseState,\r\n\tuseMemo,\r\n\tcreateInterpolateElement,\r\n} from '@wordpress/element';\r\nimport {\r\n\t__experimentalSpacer as Spacer,\r\n\t__experimentalText as Text,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n\t__experimentalNavigatorProvider as NavigatorProvider,\r\n\t__experimentalNavigatorScreen as NavigatorScreen,\r\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\r\n\t__experimentalHeading as Heading,\r\n\tNotice,\r\n\tSelectControl,\r\n\tFlexItem,\r\n\tFlex,\r\n\tButton,\r\n\tDropdownMenu,\r\n\tSearchControl,\r\n\tProgressBar,\r\n\tCheckboxControl,\r\n} from '@wordpress/components';\r\nimport { debounce } from '@wordpress/compose';\r\nimport { sprintf, __, _x, isRTL } from '@wordpress/i18n';\r\nimport { moreVertical, chevronLeft, chevronRight } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { FontLibraryContext } from './context';\r\nimport FontCard from './font-card';\r\nimport filterFonts from './utils/filter-fonts';\r\nimport { toggleFont } from './utils/toggleFont';\r\nimport {\r\n\tgetFontsOutline,\r\n\tisFontFontFaceInOutline,\r\n} from './utils/fonts-outline';\r\nimport GoogleFontsConfirmDialog from './google-fonts-confirm-dialog';\r\nimport { downloadFontFaceAssets } from './utils';\r\nimport { sortFontFaces } from './utils/sort-font-faces';\r\nimport CollectionFontVariant from './collection-font-variant';\r\n\r\nconst DEFAULT_CATEGORY = {\r\n\tslug: 'all',\r\n\tname: _x( 'All', 'font categories' ),\r\n};\r\n\r\nconst LOCAL_STORAGE_ITEM = 'wp-font-library-google-fonts-permission';\r\nconst MIN_WINDOW_HEIGHT = 500;\r\n\r\nfunction FontCollection( { slug } ) {\r\n\tconst requiresPermission = slug === 'google-fonts';\r\n\r\n\tconst getGoogleFontsPermissionFromStorage = () => {\r\n\t\treturn window.localStorage.getItem( LOCAL_STORAGE_ITEM ) === 'true';\r\n\t};\r\n\r\n\tconst [ selectedFont, setSelectedFont ] = useState( null );\r\n\tconst [ notice, setNotice ] = useState( false );\r\n\tconst [ fontsToInstall, setFontsToInstall ] = useState( [] );\r\n\tconst [ page, setPage ] = useState( 1 );\r\n\tconst [ filters, setFilters ] = useState( {} );\r\n\tconst [ renderConfirmDialog, setRenderConfirmDialog ] = useState(\r\n\t\trequiresPermission && ! getGoogleFontsPermissionFromStorage()\r\n\t);\r\n\tconst { collections, getFontCollection, installFonts, isInstalling } =\r\n\t\tuseContext( FontLibraryContext );\r\n\tconst selectedCollection = collections.find(\r\n\t\t( collection ) => collection.slug === slug\r\n\t);\r\n\r\n\tuseEffect( () => {\r\n\t\tconst handleStorage = () => {\r\n\t\t\tsetRenderConfirmDialog(\r\n\t\t\t\trequiresPermission && ! getGoogleFontsPermissionFromStorage()\r\n\t\t\t);\r\n\t\t};\r\n\t\thandleStorage();\r\n\t\twindow.addEventListener( 'storage', handleStorage );\r\n\t\treturn () => window.removeEventListener( 'storage', handleStorage );\r\n\t}, [ slug, requiresPermission ] );\r\n\r\n\tconst revokeAccess = () => {\r\n\t\twindow.localStorage.setItem( LOCAL_STORAGE_ITEM, 'false' );\r\n\t\twindow.dispatchEvent( new Event( 'storage' ) );\r\n\t};\r\n\r\n\tuseEffect( () => {\r\n\t\tconst fetchFontCollection = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tawait getFontCollection( slug );\r\n\t\t\t\tresetFilters();\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\tif ( ! notice ) {\r\n\t\t\t\t\tsetNotice( {\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: e?.message,\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchFontCollection();\r\n\t}, [ slug, getFontCollection, setNotice, notice ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tsetSelectedFont( null );\r\n\t}, [ slug ] );\r\n\r\n\tuseEffect( () => {\r\n\t\t// If the selected fonts change, reset the selected fonts to install\r\n\t\tsetFontsToInstall( [] );\r\n\t}, [ selectedFont ] );\r\n\r\n\tconst collectionFonts = useMemo(\r\n\t\t() => selectedCollection?.font_families ?? [],\r\n\t\t[ selectedCollection ]\r\n\t);\r\n\tconst collectionCategories = selectedCollection?.categories ?? [];\r\n\r\n\tconst categories = [ DEFAULT_CATEGORY, ...collectionCategories ];\r\n\r\n\tconst fonts = useMemo(\r\n\t\t() => filterFonts( collectionFonts, filters ),\r\n\t\t[ collectionFonts, filters ]\r\n\t);\r\n\r\n\tconst isLoading = ! selectedCollection?.font_families && ! notice;\r\n\r\n\t// NOTE: The height of the font library modal unavailable to use for rendering font family items is roughly 417px\r\n\t// The height of each font family item is 61px.\r\n\tconst windowHeight = Math.max( window.innerHeight, MIN_WINDOW_HEIGHT );\r\n\tconst pageSize = Math.floor( ( windowHeight - 417 ) / 61 );\r\n\tconst totalPages = Math.ceil( fonts.length / pageSize );\r\n\tconst itemsStart = ( page - 1 ) * pageSize;\r\n\tconst itemsLimit = page * pageSize;\r\n\tconst items = fonts.slice( itemsStart, itemsLimit );\r\n\r\n\tconst handleCategoryFilter = ( category ) => {\r\n\t\tsetFilters( { ...filters, category } );\r\n\t\tsetPage( 1 );\r\n\t};\r\n\r\n\tconst handleUpdateSearchInput = ( value ) => {\r\n\t\tsetFilters( { ...filters, search: value } );\r\n\t\tsetPage( 1 );\r\n\t};\r\n\r\n\tconst debouncedUpdateSearchInput = debounce( handleUpdateSearchInput, 300 );\r\n\r\n\tconst resetFilters = () => {\r\n\t\tsetFilters( {} );\r\n\t\tsetPage( 1 );\r\n\t};\r\n\r\n\tconst handleToggleVariant = ( font, face ) => {\r\n\t\tconst newFontsToInstall = toggleFont( font, face, fontsToInstall );\r\n\t\tsetFontsToInstall( newFontsToInstall );\r\n\t};\r\n\r\n\tconst fontToInstallOutline = getFontsOutline( fontsToInstall );\r\n\r\n\tconst resetFontsToInstall = () => {\r\n\t\tsetFontsToInstall( [] );\r\n\t};\r\n\r\n\tconst selectFontCount =\r\n\t\tfontsToInstall.length > 0 ? fontsToInstall[ 0 ]?.fontFace?.length : 0;\r\n\r\n\t// Check if any fonts are selected.\r\n\tconst isIndeterminate =\r\n\t\tselectFontCount > 0 &&\r\n\t\tselectFontCount !== selectedFont?.fontFace?.length;\r\n\r\n\t// Check if all fonts are selected.\r\n\tconst isSelectAllChecked =\r\n\t\tselectFontCount === selectedFont?.fontFace?.length;\r\n\r\n\t// Toggle select all fonts.\r\n\tconst toggleSelectAll = () => {\r\n\t\tconst newFonts = isSelectAllChecked ? [] : [ selectedFont ];\r\n\r\n\t\tsetFontsToInstall( newFonts );\r\n\t};\r\n\r\n\tconst handleInstall = async () => {\r\n\t\tsetNotice( null );\r\n\r\n\t\tconst fontFamily = fontsToInstall[ 0 ];\r\n\r\n\t\ttry {\r\n\t\t\tif ( fontFamily?.fontFace ) {\r\n\t\t\t\tawait Promise.all(\r\n\t\t\t\t\tfontFamily.fontFace.map( async ( fontFace ) => {\r\n\t\t\t\t\t\tif ( fontFace.src ) {\r\n\t\t\t\t\t\t\tfontFace.file = await downloadFontFaceAssets(\r\n\t\t\t\t\t\t\t\tfontFace.src\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch ( error ) {\r\n\t\t\t// If any of the fonts fail to download,\r\n\t\t\t// show an error notice and stop the request from being sent.\r\n\t\t\tsetNotice( {\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tmessage: __(\r\n\t\t\t\t\t'Error installing the fonts, could not be downloaded.'\r\n\t\t\t\t),\r\n\t\t\t} );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tawait installFonts( [ fontFamily ] );\r\n\t\t\tsetNotice( {\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tmessage: __( 'Fonts were installed successfully.' ),\r\n\t\t\t} );\r\n\t\t} catch ( error ) {\r\n\t\t\tsetNotice( {\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tmessage: error.message,\r\n\t\t\t} );\r\n\t\t}\r\n\t\tresetFontsToInstall();\r\n\t};\r\n\r\n\tconst getSortedFontFaces = ( fontFamily ) => {\r\n\t\tif ( ! fontFamily ) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tif ( ! fontFamily.fontFace || ! fontFamily.fontFace.length ) {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tfontFamily: fontFamily.fontFamily,\r\n\t\t\t\t\tfontStyle: 'normal',\r\n\t\t\t\t\tfontWeight: '400',\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t}\r\n\t\treturn sortFontFaces( fontFamily.fontFace );\r\n\t};\r\n\r\n\tif ( renderConfirmDialog ) {\r\n\t\treturn <GoogleFontsConfirmDialog />;\r\n\t}\r\n\r\n\tconst ActionsComponent = () => {\r\n\t\tif ( slug !== 'google-fonts' || renderConfirmDialog || selectedFont ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<DropdownMenu\r\n\t\t\t\ticon={ moreVertical }\r\n\t\t\t\tlabel={ __( 'Actions' ) }\r\n\t\t\t\tpopoverProps={ {\r\n\t\t\t\t\tposition: 'bottom left',\r\n\t\t\t\t} }\r\n\t\t\t\tcontrols={ [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: __( 'Revoke access to Google Fonts' ),\r\n\t\t\t\t\t\tonClick: revokeAccess,\r\n\t\t\t\t\t},\r\n\t\t\t\t] }\r\n\t\t\t/>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"font-library-modal__tabpanel-layout\">\r\n\t\t\t{ isLoading && (\r\n\t\t\t\t<div className=\"font-library-modal__loading\">\r\n\t\t\t\t\t<ProgressBar />\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\r\n\t\t\t{ ! isLoading && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<NavigatorProvider\r\n\t\t\t\t\t\tinitialPath=\"/\"\r\n\t\t\t\t\t\tclassName=\"font-library-modal__tabpanel-layout\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<NavigatorScreen path=\"/\">\r\n\t\t\t\t\t\t\t<HStack justify=\"space-between\">\r\n\t\t\t\t\t\t\t\t<VStack>\r\n\t\t\t\t\t\t\t\t\t<Heading level={ 2 } size={ 13 }>\r\n\t\t\t\t\t\t\t\t\t\t{ selectedCollection.name }\r\n\t\t\t\t\t\t\t\t\t</Heading>\r\n\t\t\t\t\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t\t\t\t\t{ selectedCollection.description }\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t\t\t\t<ActionsComponent />\r\n\t\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\r\n\t\t\t\t\t\t\t<Flex>\r\n\t\t\t\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t\t\t\t<SearchControl\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__search\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={ filters.search }\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Font nameâ€¦' ) }\r\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Search' ) }\r\n\t\t\t\t\t\t\t\t\t\tonChange={ debouncedUpdateSearchInput }\r\n\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\t\t\thideLabelFromVision={ false }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FlexItem>\r\n\t\t\t\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Category' ) }\r\n\t\t\t\t\t\t\t\t\t\tvalue={ filters.category }\r\n\t\t\t\t\t\t\t\t\t\tonChange={ handleCategoryFilter }\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ categories &&\r\n\t\t\t\t\t\t\t\t\t\t\tcategories.map( ( category ) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ category.slug }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ category.slug }\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ category.name }\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t\t</SelectControl>\r\n\t\t\t\t\t\t\t\t</FlexItem>\r\n\t\t\t\t\t\t\t</Flex>\r\n\r\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\r\n\r\n\t\t\t\t\t\t\t{ !! selectedCollection?.font_families?.length &&\r\n\t\t\t\t\t\t\t\t! fonts.length && (\r\n\t\t\t\t\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t\t\t\t\t'No fonts found. Try with a different search term'\r\n\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t) }\r\n\r\n\t\t\t\t\t\t\t<div className=\"font-library-modal__fonts-grid__main\">\r\n\t\t\t\t\t\t\t\t{ /*\r\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\r\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t\t<ul\r\n\t\t\t\t\t\t\t\t\trole=\"list\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ items.map( ( font ) => (\r\n\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\tkey={\r\n\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings.slug\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FontCard\r\n\t\t\t\t\t\t\t\t\t\t\t\tfont={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedFont(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NavigatorScreen>\r\n\r\n\t\t\t\t\t\t<NavigatorScreen path=\"/fontFamily\">\r\n\t\t\t\t\t\t\t<Flex justify=\"flex-start\">\r\n\t\t\t\t\t\t\t\t<NavigatorBackButton\r\n\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronRight : chevronLeft\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\tsetSelectedFont( null );\r\n\t\t\t\t\t\t\t\t\t\tsetNotice( null );\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Heading\r\n\t\t\t\t\t\t\t\t\tlevel={ 2 }\r\n\t\t\t\t\t\t\t\t\tsize={ 13 }\r\n\t\t\t\t\t\t\t\t\tclassName=\"edit-site-global-styles-header\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ selectedFont?.name }\r\n\t\t\t\t\t\t\t\t</Heading>\r\n\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t{ notice && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\r\n\t\t\t\t\t\t\t\t\t<Notice\r\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\r\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\r\n\t\t\t\t\t\t\t\t\t</Notice>\r\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\r\n\t\t\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t\t\t{ __( 'Select font variants to install.' ) }\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\r\n\t\t\t\t\t\t\t<CheckboxControl\r\n\t\t\t\t\t\t\t\tclassName=\"font-library-modal__select-all\"\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Select all' ) }\r\n\t\t\t\t\t\t\t\tchecked={ isSelectAllChecked }\r\n\t\t\t\t\t\t\t\tonChange={ toggleSelectAll }\r\n\t\t\t\t\t\t\t\tindeterminate={ isIndeterminate }\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<VStack spacing={ 0 }>\r\n\t\t\t\t\t\t\t\t{ /*\r\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\r\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t\t<ul\r\n\t\t\t\t\t\t\t\t\trole=\"list\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ getSortedFontFaces( selectedFont ).map(\r\n\t\t\t\t\t\t\t\t\t\t( face, i ) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CollectionFontVariant\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ selectedFont }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tface={ face }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleToggleVariant={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleToggleVariant\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected={ isFontFontFaceInOutline(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFont.slug,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFont.fontFace\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? face\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: null, // If the font has no fontFace, we want to check if the font is in the outline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontToInstallOutline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t\t\t<Spacer margin={ 16 } />\r\n\t\t\t\t\t\t</NavigatorScreen>\r\n\t\t\t\t\t</NavigatorProvider>\r\n\r\n\t\t\t\t\t{ selectedFont && (\r\n\t\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t\tjustify=\"flex-end\"\r\n\t\t\t\t\t\t\tclassName=\"font-library-modal__footer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={ handleInstall }\r\n\t\t\t\t\t\t\t\tisBusy={ isInstalling }\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tfontsToInstall.length === 0 || isInstalling\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Install' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t) }\r\n\r\n\t\t\t\t\t{ ! selectedFont && (\r\n\t\t\t\t\t\t<HStack\r\n\t\t\t\t\t\t\tspacing={ 4 }\r\n\t\t\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t\t\t\tclassName=\"font-library-modal__footer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Previous page' ) }\r\n\t\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\t\tonClick={ () => setPage( page - 1 ) }\r\n\t\t\t\t\t\t\t\tdisabled={ page === 1 }\r\n\t\t\t\t\t\t\t\tshowTooltip\r\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\r\n\t\t\t\t\t\t\t\ttooltipPosition=\"top\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<HStack\r\n\t\t\t\t\t\t\t\tjustify=\"flex-start\"\r\n\t\t\t\t\t\t\t\texpanded={ false }\r\n\t\t\t\t\t\t\t\tspacing={ 2 }\r\n\t\t\t\t\t\t\t\tclassName=\"font-library-modal__page-selection\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\r\n\t\t\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t\t\t// translators: %s: Total number of pages.\r\n\t\t\t\t\t\t\t\t\t\t_x(\r\n\t\t\t\t\t\t\t\t\t\t\t'Page <CurrentPageControl /> of %s',\r\n\t\t\t\t\t\t\t\t\t\t\t'paging'\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\ttotalPages\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tCurrentPageControl: (\r\n\t\t\t\t\t\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={ __(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Current page'\r\n\t\t\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ page }\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={ [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...Array( totalPages ),\r\n\t\t\t\t\t\t\t\t\t\t\t\t].map( ( e, i ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: i + 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: i + 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( newPage ) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetPage(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt( newPage )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Next page' ) }\r\n\t\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\t\tonClick={ () => setPage( page + 1 ) }\r\n\t\t\t\t\t\t\t\tdisabled={ page === totalPages }\r\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\t\t\ticon={ isRTL() ? chevronLeft : chevronRight }\r\n\t\t\t\t\t\t\t\ttooltipPosition=\"top\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default FontCollection;\r\n"],"mappings":"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","ignoreList":[]}