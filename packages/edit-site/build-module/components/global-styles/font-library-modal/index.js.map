{"version":3,"names":["__","_x","Modal","privateApis","componentsPrivateApis","store","coreStore","useSelect","useContext","InstalledFonts","FontCollection","UploadFonts","FontLibraryContext","unlock","jsx","_jsx","jsxs","_jsxs","Tabs","DEFAULT_TAB","id","title","UPLOAD_TAB","tabsFromCollections","collections","map","slug","name","length","FontLibraryModal","onRequestClose","defaultTabId","canUserCreate","select","canUser","kind","tabs","push","isFullScreen","className","children","TabList","Tab","tabId","contents","TabPanel","focusable"],"sources":["@wordpress/edit-site/src/components/global-styles/font-library-modal/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport {\r\n\tModal,\r\n\tprivateApis as componentsPrivateApis,\r\n} from '@wordpress/components';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useContext } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport InstalledFonts from './installed-fonts';\r\nimport FontCollection from './font-collection';\r\nimport UploadFonts from './upload-fonts';\r\nimport { FontLibraryContext } from './context';\r\nimport { unlock } from '../../../lock-unlock';\r\n\r\nconst { Tabs } = unlock( componentsPrivateApis );\r\n\r\nconst DEFAULT_TAB = {\r\n\tid: 'installed-fonts',\r\n\ttitle: _x( 'Library', 'Font library' ),\r\n};\r\n\r\nconst UPLOAD_TAB = {\r\n\tid: 'upload-fonts',\r\n\ttitle: __( 'Upload' ),\r\n};\r\n\r\nconst tabsFromCollections = ( collections ) =>\r\n\tcollections.map( ( { slug, name } ) => ( {\r\n\t\tid: slug,\r\n\t\ttitle:\r\n\t\t\tcollections.length === 1 && slug === 'google-fonts'\r\n\t\t\t\t? __( 'Install Fonts' )\r\n\t\t\t\t: name,\r\n\t} ) );\r\n\r\nfunction FontLibraryModal( {\r\n\tonRequestClose,\r\n\tdefaultTabId = 'installed-fonts',\r\n} ) {\r\n\tconst { collections } = useContext( FontLibraryContext );\r\n\tconst canUserCreate = useSelect( ( select ) => {\r\n\t\treturn select( coreStore ).canUser( 'create', {\r\n\t\t\tkind: 'postType',\r\n\t\t\tname: 'wp_font_family',\r\n\t\t} );\r\n\t}, [] );\r\n\r\n\tconst tabs = [ DEFAULT_TAB ];\r\n\r\n\tif ( canUserCreate ) {\r\n\t\ttabs.push( UPLOAD_TAB );\r\n\t\ttabs.push( ...tabsFromCollections( collections || [] ) );\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={ __( 'Fonts' ) }\r\n\t\t\tonRequestClose={ onRequestClose }\r\n\t\t\tisFullScreen\r\n\t\t\tclassName=\"font-library-modal\"\r\n\t\t>\r\n\t\t\t<div className=\"font-library-modal__tabs\">\r\n\t\t\t\t<Tabs defaultTabId={ defaultTabId }>\r\n\t\t\t\t\t<Tabs.TabList>\r\n\t\t\t\t\t\t{ tabs.map( ( { id, title } ) => (\r\n\t\t\t\t\t\t\t<Tabs.Tab key={ id } tabId={ id }>\r\n\t\t\t\t\t\t\t\t{ title }\r\n\t\t\t\t\t\t\t</Tabs.Tab>\r\n\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t</Tabs.TabList>\r\n\t\t\t\t\t{ tabs.map( ( { id } ) => {\r\n\t\t\t\t\t\tlet contents;\r\n\t\t\t\t\t\tswitch ( id ) {\r\n\t\t\t\t\t\t\tcase 'upload-fonts':\r\n\t\t\t\t\t\t\t\tcontents = <UploadFonts />;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'installed-fonts':\r\n\t\t\t\t\t\t\t\tcontents = <InstalledFonts />;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tcontents = <FontCollection slug={ id } />;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Tabs.TabPanel\r\n\t\t\t\t\t\t\t\tkey={ id }\r\n\t\t\t\t\t\t\t\ttabId={ id }\r\n\t\t\t\t\t\t\t\tfocusable={ false }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ contents }\r\n\t\t\t\t\t\t\t</Tabs.TabPanel>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport default FontLibraryModal;\r\n"],"mappings":"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","ignoreList":[]}