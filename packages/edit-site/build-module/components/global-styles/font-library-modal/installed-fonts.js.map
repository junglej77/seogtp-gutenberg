{"version":3,"names":["Button","__experimentalConfirmDialog","ConfirmDialog","__experimentalHStack","HStack","__experimentalHeading","Heading","__experimentalNavigatorProvider","NavigatorProvider","__experimentalNavigatorScreen","NavigatorScreen","__experimentalNavigatorBackButton","NavigatorBackButton","__experimentalUseNavigator","useNavigator","__experimentalSpacer","Spacer","__experimentalText","Text","__experimentalVStack","VStack","Flex","Notice","ProgressBar","CheckboxControl","useEntityRecord","store","coreStore","useSelect","useContext","useEffect","useState","__","_x","sprintf","isRTL","chevronLeft","chevronRight","privateApis","blockEditorPrivateApis","FontLibraryContext","FontCard","LibraryFontVariant","sortFontFaces","setUIValuesNeeded","loadFontFaceInBrowser","unloadFontFaceInBrowser","getDisplaySrcFromFontFace","unlock","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useGlobalSetting","InstalledFonts","_libraryFontSelected$","baseCustomFonts","libraryFontSelected","handleSetLibraryFontSelected","refreshLibrary","uninstallFontFamily","isResolvingLibrary","isInstalling","saveFontFamilies","getFontFacesActivated","fontFamilies","setFontFamilies","isConfirmDeleteOpen","setIsConfirmDeleteOpen","notice","setNotice","baseFontFamilies","undefined","globalStylesId","select","__experimentalGetCurrentGlobalStylesId","globalStyles","fontFamiliesHasChanges","edits","settings","typography","themeFonts","theme","map","f","source","sort","a","b","name","localeCompare","themeFontsSlugs","Set","slug","baseThemeFonts","concat","filter","has","customFontFamilyId","id","canUserDelete","canUser","kind","shouldDisplayDeleteButton","handleUninstallClick","handleUpdate","type","message","error","getFontFacesToDisplay","font","fontFace","length","fontFamily","fontStyle","fontWeight","getFontCardVariantsText","variantsInstalled","variantsActive","activeFontsCount","selectedFontsCount","isIndeterminate","isSelectAllChecked","toggleSelectAll","_fontFamilies$library","initialFonts","newFonts","forEach","face","src","hasFonts","className","children","initialPath","path","spacing","status","onRemove","as","role","navigatorPath","variantsText","onClick","ConfirmDeleteDialog","isOpen","setIsOpen","justify","icon","size","label","level","margin","checked","onChange","indeterminate","__nextHasNoMarginBottom","i","__next40pxDefaultSize","isDestructive","variant","disabled","accessibleWhenDisabled","navigator","handleConfirmUninstall","goBack","handleCancelUninstall","cancelButtonText","confirmButtonText","onCancel","onConfirm"],"sources":["@wordpress/edit-site/src/components/global-styles/font-library-modal/installed-fonts.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tButton,\r\n\t__experimentalConfirmDialog as ConfirmDialog,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalHeading as Heading,\r\n\t__experimentalNavigatorProvider as NavigatorProvider,\r\n\t__experimentalNavigatorScreen as NavigatorScreen,\r\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\r\n\t__experimentalUseNavigator as useNavigator,\r\n\t__experimentalSpacer as Spacer,\r\n\t__experimentalText as Text,\r\n\t__experimentalVStack as VStack,\r\n\tFlex,\r\n\tNotice,\r\n\tProgressBar,\r\n\tCheckboxControl,\r\n} from '@wordpress/components';\r\nimport { useEntityRecord, store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useContext, useEffect, useState } from '@wordpress/element';\r\nimport { __, _x, sprintf, isRTL } from '@wordpress/i18n';\r\nimport { chevronLeft, chevronRight } from '@wordpress/icons';\r\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { FontLibraryContext } from './context';\r\nimport FontCard from './font-card';\r\nimport LibraryFontVariant from './library-font-variant';\r\nimport { sortFontFaces } from './utils/sort-font-faces';\r\nimport {\r\n\tsetUIValuesNeeded,\r\n\tloadFontFaceInBrowser,\r\n\tunloadFontFaceInBrowser,\r\n\tgetDisplaySrcFromFontFace,\r\n} from './utils';\r\nimport { unlock } from '../../../lock-unlock';\r\n\r\nconst { useGlobalSetting } = unlock( blockEditorPrivateApis );\r\n\r\nfunction InstalledFonts() {\r\n\tconst {\r\n\t\tbaseCustomFonts,\r\n\t\tlibraryFontSelected,\r\n\t\thandleSetLibraryFontSelected,\r\n\t\trefreshLibrary,\r\n\t\tuninstallFontFamily,\r\n\t\tisResolvingLibrary,\r\n\t\tisInstalling,\r\n\t\tsaveFontFamilies,\r\n\t\tgetFontFacesActivated,\r\n\t} = useContext( FontLibraryContext );\r\n\r\n\tconst [ fontFamilies, setFontFamilies ] = useGlobalSetting(\r\n\t\t'typography.fontFamilies'\r\n\t);\r\n\tconst [ isConfirmDeleteOpen, setIsConfirmDeleteOpen ] = useState( false );\r\n\tconst [ notice, setNotice ] = useState( false );\r\n\tconst [ baseFontFamilies ] = useGlobalSetting(\r\n\t\t'typography.fontFamilies',\r\n\t\tundefined,\r\n\t\t'base'\r\n\t);\r\n\tconst globalStylesId = useSelect( ( select ) => {\r\n\t\tconst { __experimentalGetCurrentGlobalStylesId } = select( coreStore );\r\n\t\treturn __experimentalGetCurrentGlobalStylesId();\r\n\t} );\r\n\tconst globalStyles = useEntityRecord(\r\n\t\t'root',\r\n\t\t'globalStyles',\r\n\t\tglobalStylesId\r\n\t);\r\n\tconst fontFamiliesHasChanges =\r\n\t\t!! globalStyles?.edits?.settings?.typography?.fontFamilies;\r\n\r\n\tconst themeFonts = fontFamilies?.theme\r\n\t\t? fontFamilies.theme\r\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'theme' } ) )\r\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\r\n\t\t: [];\r\n\tconst themeFontsSlugs = new Set( themeFonts.map( ( f ) => f.slug ) );\r\n\tconst baseThemeFonts = baseFontFamilies?.theme\r\n\t\t? themeFonts.concat(\r\n\t\t\t\tbaseFontFamilies.theme\r\n\t\t\t\t\t.filter( ( f ) => ! themeFontsSlugs.has( f.slug ) )\r\n\t\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'theme' } ) )\r\n\t\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\r\n\t\t  )\r\n\t\t: [];\r\n\r\n\tconst customFontFamilyId =\r\n\t\tlibraryFontSelected?.source === 'custom' && libraryFontSelected?.id;\r\n\r\n\tconst canUserDelete = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { canUser } = select( coreStore );\r\n\t\t\treturn (\r\n\t\t\t\tcustomFontFamilyId &&\r\n\t\t\t\tcanUser( 'delete', {\r\n\t\t\t\t\tkind: 'postType',\r\n\t\t\t\t\tname: 'wp_font_family',\r\n\t\t\t\t\tid: customFontFamilyId,\r\n\t\t\t\t} )\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ customFontFamilyId ]\r\n\t);\r\n\r\n\tconst shouldDisplayDeleteButton =\r\n\t\t!! libraryFontSelected &&\r\n\t\tlibraryFontSelected?.source !== 'theme' &&\r\n\t\tcanUserDelete;\r\n\r\n\tconst handleUninstallClick = () => {\r\n\t\tsetIsConfirmDeleteOpen( true );\r\n\t};\r\n\r\n\tconst handleUpdate = async () => {\r\n\t\tsetNotice( null );\r\n\t\ttry {\r\n\t\t\tawait saveFontFamilies( fontFamilies );\r\n\t\t\tsetNotice( {\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tmessage: __( 'Font family updated successfully.' ),\r\n\t\t\t} );\r\n\t\t} catch ( error ) {\r\n\t\t\tsetNotice( {\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tmessage: sprintf(\r\n\t\t\t\t\t/* translators: %s: error message */\r\n\t\t\t\t\t__( 'There was an error updating the font family. %s' ),\r\n\t\t\t\t\terror.message\r\n\t\t\t\t),\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\r\n\tconst getFontFacesToDisplay = ( font ) => {\r\n\t\tif ( ! font ) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tif ( ! font.fontFace || ! font.fontFace.length ) {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tfontFamily: font.fontFamily,\r\n\t\t\t\t\tfontStyle: 'normal',\r\n\t\t\t\t\tfontWeight: '400',\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t}\r\n\t\treturn sortFontFaces( font.fontFace );\r\n\t};\r\n\r\n\tconst getFontCardVariantsText = ( font ) => {\r\n\t\tconst variantsInstalled =\r\n\t\t\tfont?.fontFace?.length > 0 ? font.fontFace.length : 1;\r\n\t\tconst variantsActive = getFontFacesActivated(\r\n\t\t\tfont.slug,\r\n\t\t\tfont.source\r\n\t\t).length;\r\n\t\treturn sprintf(\r\n\t\t\t/* translators: 1: Active font variants, 2: Total font variants. */\r\n\t\t\t__( '%1$s/%2$s variants active' ),\r\n\t\t\tvariantsActive,\r\n\t\t\tvariantsInstalled\r\n\t\t);\r\n\t};\r\n\r\n\tuseEffect( () => {\r\n\t\thandleSetLibraryFontSelected( libraryFontSelected );\r\n\t\trefreshLibrary();\r\n\t}, [] );\r\n\r\n\t// Get activated fonts count.\r\n\tconst activeFontsCount = libraryFontSelected\r\n\t\t? getFontFacesActivated(\r\n\t\t\t\tlibraryFontSelected.slug,\r\n\t\t\t\tlibraryFontSelected.source\r\n\t\t  ).length\r\n\t\t: 0;\r\n\r\n\tconst selectedFontsCount =\r\n\t\tlibraryFontSelected?.fontFace?.length ??\r\n\t\t( libraryFontSelected?.fontFamily ? 1 : 0 );\r\n\r\n\t// Check if any fonts are selected.\r\n\tconst isIndeterminate =\r\n\t\tactiveFontsCount > 0 && activeFontsCount !== selectedFontsCount;\r\n\r\n\t// Check if all fonts are selected.\r\n\tconst isSelectAllChecked = activeFontsCount === selectedFontsCount;\r\n\r\n\t// Toggle select all fonts.\r\n\tconst toggleSelectAll = () => {\r\n\t\tconst initialFonts =\r\n\t\t\tfontFamilies?.[ libraryFontSelected.source ]?.filter(\r\n\t\t\t\t( f ) => f.slug !== libraryFontSelected.slug\r\n\t\t\t) ?? [];\r\n\t\tconst newFonts = isSelectAllChecked\r\n\t\t\t? initialFonts\r\n\t\t\t: [ ...initialFonts, libraryFontSelected ];\r\n\r\n\t\tsetFontFamilies( {\r\n\t\t\t...fontFamilies,\r\n\t\t\t[ libraryFontSelected.source ]: newFonts,\r\n\t\t} );\r\n\r\n\t\tif ( libraryFontSelected.fontFace ) {\r\n\t\t\tlibraryFontSelected.fontFace.forEach( ( face ) => {\r\n\t\t\t\tif ( isSelectAllChecked ) {\r\n\t\t\t\t\tunloadFontFaceInBrowser( face, 'all' );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tloadFontFaceInBrowser(\r\n\t\t\t\t\t\tface,\r\n\t\t\t\t\t\tgetDisplaySrcFromFontFace( face?.src ),\r\n\t\t\t\t\t\t'all'\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\r\n\tconst hasFonts = baseThemeFonts.length > 0 || baseCustomFonts.length > 0;\r\n\treturn (\r\n\t\t<div className=\"font-library-modal__tabpanel-layout\">\r\n\t\t\t{ isResolvingLibrary && (\r\n\t\t\t\t<div className=\"font-library-modal__loading\">\r\n\t\t\t\t\t<ProgressBar />\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\r\n\t\t\t{ ! isResolvingLibrary && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<NavigatorProvider\r\n\t\t\t\t\t\tinitialPath={\r\n\t\t\t\t\t\t\tlibraryFontSelected ? '/fontFamily' : '/'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<NavigatorScreen path=\"/\">\r\n\t\t\t\t\t\t\t<VStack spacing=\"8\">\r\n\t\t\t\t\t\t\t\t{ notice && (\r\n\t\t\t\t\t\t\t\t\t<Notice\r\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\r\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\r\n\t\t\t\t\t\t\t\t\t</Notice>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t{ ! hasFonts && (\r\n\t\t\t\t\t\t\t\t\t<Text as=\"p\">\r\n\t\t\t\t\t\t\t\t\t\t{ __( 'No fonts installed.' ) }\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t{ baseThemeFonts.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t<VStack>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-library-modal__fonts-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: Heading for a list of fonts provided by the theme. */\r\n\t\t\t\t\t\t\t\t\t\t\t\t_x( 'Theme', 'font source' )\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t{ /*\r\n\t\t\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\r\n\t\t\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\r\n\t\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t\t\t\t<ul\r\n\t\t\t\t\t\t\t\t\t\t\trole=\"list\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{ baseThemeFonts.map( ( font ) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ font.slug }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontCard\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ font }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariantsText={ getFontCardVariantsText(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNotice( null );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t{ baseCustomFonts.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t<VStack>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-library-modal__fonts-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: Heading for a list of fonts installed by the user. */\r\n\t\t\t\t\t\t\t\t\t\t\t\t_x( 'Custom', 'font source' )\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t{ /*\r\n\t\t\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\r\n\t\t\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\r\n\t\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t\t\t\t<ul\r\n\t\t\t\t\t\t\t\t\t\t\trole=\"list\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{ baseCustomFonts.map( ( font ) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ font.slug }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontCard\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ font }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariantsText={ getFontCardVariantsText(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNotice( null );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t\t</NavigatorScreen>\r\n\r\n\t\t\t\t\t\t<NavigatorScreen path=\"/fontFamily\">\r\n\t\t\t\t\t\t\t<ConfirmDeleteDialog\r\n\t\t\t\t\t\t\t\tfont={ libraryFontSelected }\r\n\t\t\t\t\t\t\t\tisOpen={ isConfirmDeleteOpen }\r\n\t\t\t\t\t\t\t\tsetIsOpen={ setIsConfirmDeleteOpen }\r\n\t\t\t\t\t\t\t\tsetNotice={ setNotice }\r\n\t\t\t\t\t\t\t\tuninstallFontFamily={ uninstallFontFamily }\r\n\t\t\t\t\t\t\t\thandleSetLibraryFontSelected={\r\n\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<Flex justify=\"flex-start\">\r\n\t\t\t\t\t\t\t\t<NavigatorBackButton\r\n\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronRight : chevronLeft\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected( null );\r\n\t\t\t\t\t\t\t\t\t\tsetNotice( null );\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Heading\r\n\t\t\t\t\t\t\t\t\tlevel={ 2 }\r\n\t\t\t\t\t\t\t\t\tsize={ 13 }\r\n\t\t\t\t\t\t\t\t\tclassName=\"edit-site-global-styles-header\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ libraryFontSelected?.name }\r\n\t\t\t\t\t\t\t\t</Heading>\r\n\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t{ notice && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\r\n\t\t\t\t\t\t\t\t\t<Notice\r\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\r\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\r\n\t\t\t\t\t\t\t\t\t</Notice>\r\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\r\n\t\t\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t\t\t'选择字体变体。请记住，太多的变体可能会使您的站点变慢。'\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\r\n\t\t\t\t\t\t\t<VStack spacing={ 0 }>\r\n\t\t\t\t\t\t\t\t<CheckboxControl\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__select-all\"\r\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Select all' ) }\r\n\t\t\t\t\t\t\t\t\tchecked={ isSelectAllChecked }\r\n\t\t\t\t\t\t\t\t\tonChange={ toggleSelectAll }\r\n\t\t\t\t\t\t\t\t\tindeterminate={ isIndeterminate }\r\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Spacer margin={ 8 } />\r\n\t\t\t\t\t\t\t\t{ /*\r\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\r\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t\t<ul\r\n\t\t\t\t\t\t\t\t\trole=\"list\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ getFontFacesToDisplay(\r\n\t\t\t\t\t\t\t\t\t\tlibraryFontSelected\r\n\t\t\t\t\t\t\t\t\t).map( ( face, i ) => (\r\n\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<LibraryFontVariant\r\n\t\t\t\t\t\t\t\t\t\t\t\tfont={ libraryFontSelected }\r\n\t\t\t\t\t\t\t\t\t\t\t\tface={ face }\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t) ) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t\t\t\t</VStack>\r\n\t\t\t\t\t\t</NavigatorScreen>\r\n\t\t\t\t\t</NavigatorProvider>\r\n\r\n\t\t\t\t\t<HStack\r\n\t\t\t\t\t\tjustify=\"flex-end\"\r\n\t\t\t\t\t\tclassName=\"font-library-modal__footer\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ isInstalling && <ProgressBar /> }\r\n\t\t\t\t\t\t{ shouldDisplayDeleteButton && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\tisDestructive\r\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\t\tonClick={ handleUninstallClick }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Delete' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\tonClick={ handleUpdate }\r\n\t\t\t\t\t\t\tdisabled={ ! fontFamiliesHasChanges }\r\n\t\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Update' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ConfirmDeleteDialog( {\r\n\tfont,\r\n\tisOpen,\r\n\tsetIsOpen,\r\n\tsetNotice,\r\n\tuninstallFontFamily,\r\n\thandleSetLibraryFontSelected,\r\n} ) {\r\n\tconst navigator = useNavigator();\r\n\r\n\tconst handleConfirmUninstall = async () => {\r\n\t\tsetNotice( null );\r\n\t\tsetIsOpen( false );\r\n\t\ttry {\r\n\t\t\tawait uninstallFontFamily( font );\r\n\t\t\tnavigator.goBack();\r\n\t\t\thandleSetLibraryFontSelected( null );\r\n\t\t\tsetNotice( {\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tmessage: __( 'Font family uninstalled successfully.' ),\r\n\t\t\t} );\r\n\t\t} catch ( error ) {\r\n\t\t\tsetNotice( {\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t__( 'There was an error uninstalling the font family.' ) +\r\n\t\t\t\t\terror.message,\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancelUninstall = () => {\r\n\t\tsetIsOpen( false );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ConfirmDialog\r\n\t\t\tisOpen={ isOpen }\r\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\r\n\t\t\tconfirmButtonText={ __( 'Delete' ) }\r\n\t\t\tonCancel={ handleCancelUninstall }\r\n\t\t\tonConfirm={ handleConfirmUninstall }\r\n\t\t\tsize=\"medium\"\r\n\t\t>\r\n\t\t\t{ font &&\r\n\t\t\t\tsprintf(\r\n\t\t\t\t\t/* translators: %s: Name of the font. */\r\n\t\t\t\t\t__(\r\n\t\t\t\t\t\t'Are you sure you want to delete \"%s\" font and all its variants and assets?'\r\n\t\t\t\t\t),\r\n\t\t\t\t\tfont.name\r\n\t\t\t\t) }\r\n\t\t</ConfirmDialog>\r\n\t);\r\n}\r\n\r\nexport default InstalledFonts;\r\n"],"mappings":"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","ignoreList":[]}