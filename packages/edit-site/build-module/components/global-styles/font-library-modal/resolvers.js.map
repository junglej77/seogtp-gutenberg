{"version":3,"names":["apiFetch","FONT_FAMILIES_URL","FONT_COLLECTIONS_URL","fetchInstallFontFamily","data","config","path","method","body","response","id","font_family_settings","fontFace","fetchInstallFontFace","fontFamilyId","font_face_settings","fetchGetFontFamilyBySlug","slug","length","fontFamilyPost","_embedded","font_faces","map","face","fetchUninstallFontFamily","fetchFontCollections","fetchFontCollection"],"sources":["@wordpress/edit-site/src/components/global-styles/font-library-modal/resolvers.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\nconst FONT_FAMILIES_URL = '/wp/v2/font-families';\r\nconst FONT_COLLECTIONS_URL = '/wp/v2/font-collections';\r\n\r\nexport async function fetchInstallFontFamily( data ) {\r\n\tconst config = {\r\n\t\tpath: FONT_FAMILIES_URL,\r\n\t\tmethod: 'POST',\r\n\t\tbody: data,\r\n\t};\r\n\tconst response = await apiFetch( config );\r\n\treturn {\r\n\t\tid: response.id,\r\n\t\t...response.font_family_settings,\r\n\t\tfontFace: [],\r\n\t};\r\n}\r\n\r\nexport async function fetchInstallFontFace( fontFamilyId, data ) {\r\n\tconst config = {\r\n\t\tpath: `${ FONT_FAMILIES_URL }/${ fontFamilyId }/font-faces`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: data,\r\n\t};\r\n\tconst response = await apiFetch( config );\r\n\treturn {\r\n\t\tid: response.id,\r\n\t\t...response.font_face_settings,\r\n\t};\r\n}\r\n\r\nexport async function fetchGetFontFamilyBySlug( slug ) {\r\n\tconst config = {\r\n\t\tpath: `${ FONT_FAMILIES_URL }?slug=${ slug }&_embed=true`,\r\n\t\tmethod: 'GET',\r\n\t};\r\n\tconst response = await apiFetch( config );\r\n\tif ( ! response || response.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\tconst fontFamilyPost = response[ 0 ];\r\n\treturn {\r\n\t\tid: fontFamilyPost.id,\r\n\t\t...fontFamilyPost.font_family_settings,\r\n\t\tfontFace:\r\n\t\t\tfontFamilyPost?._embedded?.font_faces.map(\r\n\t\t\t\t( face ) => face.font_face_settings\r\n\t\t\t) || [],\r\n\t};\r\n}\r\n\r\nexport async function fetchUninstallFontFamily( fontFamilyId ) {\r\n\tconst config = {\r\n\t\tpath: `${ FONT_FAMILIES_URL }/${ fontFamilyId }?force=true`,\r\n\t\tmethod: 'DELETE',\r\n\t};\r\n\treturn await apiFetch( config );\r\n}\r\n\r\nexport async function fetchFontCollections() {\r\n\tconst config = {\r\n\t\tpath: `${ FONT_COLLECTIONS_URL }?_fields=slug,name,description`,\r\n\t\tmethod: 'GET',\r\n\t};\r\n\treturn await apiFetch( config );\r\n}\r\n\r\nexport async function fetchFontCollection( id ) {\r\n\tconst config = {\r\n\t\tpath: `${ FONT_COLLECTIONS_URL }/${ id }`,\r\n\t\tmethod: 'GET',\r\n\t};\r\n\treturn await apiFetch( config );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,sBAAsB;AAE3C,MAAMC,iBAAiB,GAAG,sBAAsB;AAChD,MAAMC,oBAAoB,GAAG,yBAAyB;AAEtD,OAAO,eAAeC,sBAAsBA,CAAEC,IAAI,EAAG;EACpD,MAAMC,MAAM,GAAG;IACdC,IAAI,EAAEL,iBAAiB;IACvBM,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEJ;EACP,CAAC;EACD,MAAMK,QAAQ,GAAG,MAAMT,QAAQ,CAAEK,MAAO,CAAC;EACzC,OAAO;IACNK,EAAE,EAAED,QAAQ,CAACC,EAAE;IACf,GAAGD,QAAQ,CAACE,oBAAoB;IAChCC,QAAQ,EAAE;EACX,CAAC;AACF;AAEA,OAAO,eAAeC,oBAAoBA,CAAEC,YAAY,EAAEV,IAAI,EAAG;EAChE,MAAMC,MAAM,GAAG;IACdC,IAAI,EAAG,GAAGL,iBAAmB,IAAIa,YAAc,aAAY;IAC3DP,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEJ;EACP,CAAC;EACD,MAAMK,QAAQ,GAAG,MAAMT,QAAQ,CAAEK,MAAO,CAAC;EACzC,OAAO;IACNK,EAAE,EAAED,QAAQ,CAACC,EAAE;IACf,GAAGD,QAAQ,CAACM;EACb,CAAC;AACF;AAEA,OAAO,eAAeC,wBAAwBA,CAAEC,IAAI,EAAG;EACtD,MAAMZ,MAAM,GAAG;IACdC,IAAI,EAAG,GAAGL,iBAAmB,SAASgB,IAAM,cAAa;IACzDV,MAAM,EAAE;EACT,CAAC;EACD,MAAME,QAAQ,GAAG,MAAMT,QAAQ,CAAEK,MAAO,CAAC;EACzC,IAAK,CAAEI,QAAQ,IAAIA,QAAQ,CAACS,MAAM,KAAK,CAAC,EAAG;IAC1C,OAAO,IAAI;EACZ;EACA,MAAMC,cAAc,GAAGV,QAAQ,CAAE,CAAC,CAAE;EACpC,OAAO;IACNC,EAAE,EAAES,cAAc,CAACT,EAAE;IACrB,GAAGS,cAAc,CAACR,oBAAoB;IACtCC,QAAQ,EACPO,cAAc,EAAEC,SAAS,EAAEC,UAAU,CAACC,GAAG,CACtCC,IAAI,IAAMA,IAAI,CAACR,kBAClB,CAAC,IAAI;EACP,CAAC;AACF;AAEA,OAAO,eAAeS,wBAAwBA,CAAEV,YAAY,EAAG;EAC9D,MAAMT,MAAM,GAAG;IACdC,IAAI,EAAG,GAAGL,iBAAmB,IAAIa,YAAc,aAAY;IAC3DP,MAAM,EAAE;EACT,CAAC;EACD,OAAO,MAAMP,QAAQ,CAAEK,MAAO,CAAC;AAChC;AAEA,OAAO,eAAeoB,oBAAoBA,CAAA,EAAG;EAC5C,MAAMpB,MAAM,GAAG;IACdC,IAAI,EAAG,GAAGJ,oBAAsB,gCAA+B;IAC/DK,MAAM,EAAE;EACT,CAAC;EACD,OAAO,MAAMP,QAAQ,CAAEK,MAAO,CAAC;AAChC;AAEA,OAAO,eAAeqB,mBAAmBA,CAAEhB,EAAE,EAAG;EAC/C,MAAML,MAAM,GAAG;IACdC,IAAI,EAAG,GAAGJ,oBAAsB,IAAIQ,EAAI,EAAC;IACzCH,MAAM,EAAE;EACT,CAAC;EACD,OAAO,MAAMP,QAAQ,CAAEK,MAAO,CAAC;AAChC","ignoreList":[]}