{"version":3,"names":["getBlockType","privateApis","blockEditorPrivateApis","useMemo","useSelect","store","coreStore","PanelBody","__experimentalVStack","VStack","__experimentalHasSplitBorders","hasSplitBorders","__","sprintf","ScreenHeader","BlockPreviewPanel","unlock","Subtitle","useBlockVariations","VariationsPanel","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKGROUND_BLOCK_DEFAULT_VALUES","backgroundSize","backgroundPosition","applyFallbackStyle","border","hasColorOrWidth","color","width","style","undefined","applyAllFallbackStyles","top","right","bottom","left","useHasDimensionsPanel","useHasTypographyPanel","useHasBorderPanel","useGlobalSetting","useSettingsForBlockElement","useHasColorPanel","useHasFiltersPanel","useHasImageSettingsPanel","useGlobalStyle","useHasBackgroundPanel","BackgroundPanel","StylesBackgroundPanel","BorderPanel","StylesBorderPanel","ColorPanel","StylesColorPanel","TypographyPanel","StylesTypographyPanel","DimensionsPanel","StylesDimensionsPanel","FiltersPanel","StylesFiltersPanel","ImageSettingsPanel","AdvancedPanel","StylesAdvancedPanel","ScreenBlock","name","variation","prefixParts","concat","prefix","join","shouldDecodeEncode","inheritedStyle","setStyle","userSettings","rawSettings","setSettings","settings","blockType","spacing","blockGap","supports","__experimentalSkipSerialization","some","spacingType","dimensions","aspectRatio","blockVariations","hasBackgroundPanel","hasTypographyPanel","hasColorPanel","hasBorderPanel","hasDimensionsPanel","hasFiltersPanel","hasImageSettingsPanel","hasVariationsPanel","length","canEditCSS","select","getEntityRecord","__experimentalGetCurrentGlobalStylesId","globalStylesId","globalStyles","_links","currentBlockStyle","find","s","inheritedStyleWithLayout","layout","styleWithLayout","onChangeDimensions","newStyle","updatedStyle","onChangeLightbox","newSetting","lightbox","onChangeBorders","radius","newBorder","updatedBorder","children","title","label","className","inheritedValue","value","onChange","defaultValues","includeLayoutControls","initialOpen"],"sources":["@wordpress/edit-site/src/components/global-styles/screen-block.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { getBlockType } from '@wordpress/blocks';\r\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport {\r\n\tPanelBody,\r\n\t__experimentalVStack as VStack,\r\n\t__experimentalHasSplitBorders as hasSplitBorders,\r\n} from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport ScreenHeader from './header';\r\nimport BlockPreviewPanel from './block-preview-panel';\r\nimport { unlock } from '../../lock-unlock';\r\nimport Subtitle from './subtitle';\r\nimport {\r\n\tuseBlockVariations,\r\n\tVariationsPanel,\r\n} from './variations/variations-panel';\r\n\r\n// Initial control values.\r\nconst BACKGROUND_BLOCK_DEFAULT_VALUES = {\r\n\tbackgroundSize: 'cover',\r\n\tbackgroundPosition: '50% 50%', // used only when backgroundSize is 'contain'.\r\n};\r\n\r\nfunction applyFallbackStyle( border ) {\r\n\tif ( ! border ) {\r\n\t\treturn border;\r\n\t}\r\n\r\n\tconst hasColorOrWidth = border.color || border.width;\r\n\r\n\tif ( ! border.style && hasColorOrWidth ) {\r\n\t\treturn { ...border, style: 'solid' };\r\n\t}\r\n\r\n\tif ( border.style && ! hasColorOrWidth ) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\treturn border;\r\n}\r\n\r\nfunction applyAllFallbackStyles( border ) {\r\n\tif ( ! border ) {\r\n\t\treturn border;\r\n\t}\r\n\r\n\tif ( hasSplitBorders( border ) ) {\r\n\t\treturn {\r\n\t\t\ttop: applyFallbackStyle( border.top ),\r\n\t\t\tright: applyFallbackStyle( border.right ),\r\n\t\t\tbottom: applyFallbackStyle( border.bottom ),\r\n\t\t\tleft: applyFallbackStyle( border.left ),\r\n\t\t};\r\n\t}\r\n\r\n\treturn applyFallbackStyle( border );\r\n}\r\n\r\nconst {\r\n\tuseHasDimensionsPanel,\r\n\tuseHasTypographyPanel,\r\n\tuseHasBorderPanel,\r\n\tuseGlobalSetting,\r\n\tuseSettingsForBlockElement,\r\n\tuseHasColorPanel,\r\n\tuseHasFiltersPanel,\r\n\tuseHasImageSettingsPanel,\r\n\tuseGlobalStyle,\r\n\tuseHasBackgroundPanel,\r\n\tBackgroundPanel: StylesBackgroundPanel,\r\n\tBorderPanel: StylesBorderPanel,\r\n\tColorPanel: StylesColorPanel,\r\n\tTypographyPanel: StylesTypographyPanel,\r\n\tDimensionsPanel: StylesDimensionsPanel,\r\n\tFiltersPanel: StylesFiltersPanel,\r\n\tImageSettingsPanel,\r\n\tAdvancedPanel: StylesAdvancedPanel,\r\n} = unlock( blockEditorPrivateApis );\r\n\r\nfunction ScreenBlock( { name, variation } ) {\r\n\tlet prefixParts = [];\r\n\tif ( variation ) {\r\n\t\tprefixParts = [ 'variations', variation ].concat( prefixParts );\r\n\t}\r\n\tconst prefix = prefixParts.join( '.' );\r\n\r\n\tconst [ style ] = useGlobalStyle( prefix, name, 'user', {\r\n\t\tshouldDecodeEncode: false,\r\n\t} );\r\n\tconst [ inheritedStyle, setStyle ] = useGlobalStyle( prefix, name, 'all', {\r\n\t\tshouldDecodeEncode: false,\r\n\t} );\r\n\tconst [ userSettings ] = useGlobalSetting( '', name, 'user' );\r\n\tconst [ rawSettings, setSettings ] = useGlobalSetting( '', name );\r\n\tconst settings = useSettingsForBlockElement( rawSettings, name );\r\n\tconst blockType = getBlockType( name );\r\n\r\n\t// Only allow `blockGap` support if serialization has not been skipped, to be sure global spacing can be applied.\r\n\tif (\r\n\t\tsettings?.spacing?.blockGap &&\r\n\t\tblockType?.supports?.spacing?.blockGap &&\r\n\t\t( blockType?.supports?.spacing?.__experimentalSkipSerialization ===\r\n\t\t\ttrue ||\r\n\t\t\tblockType?.supports?.spacing?.__experimentalSkipSerialization?.some?.(\r\n\t\t\t\t( spacingType ) => spacingType === 'blockGap'\r\n\t\t\t) )\r\n\t) {\r\n\t\tsettings.spacing.blockGap = false;\r\n\t}\r\n\r\n\t// Only allow `aspectRatio` support if the block is not the grouping block.\r\n\t// The grouping block allows the user to use Group, Row and Stack variations,\r\n\t// and it is highly likely that the user will not want to set an aspect ratio\r\n\t// for all three at once. Until there is the ability to set a different aspect\r\n\t// ratio for each variation, we disable the aspect ratio controls for the\r\n\t// grouping block in global styles.\r\n\tif ( settings?.dimensions?.aspectRatio && name === 'core/group' ) {\r\n\t\tsettings.dimensions.aspectRatio = false;\r\n\t}\r\n\r\n\tconst blockVariations = useBlockVariations( name );\r\n\tconst hasBackgroundPanel = useHasBackgroundPanel( settings );\r\n\tconst hasTypographyPanel = useHasTypographyPanel( settings );\r\n\tconst hasColorPanel = useHasColorPanel( settings );\r\n\tconst hasBorderPanel = useHasBorderPanel( settings );\r\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\r\n\tconst hasFiltersPanel = useHasFiltersPanel( settings );\r\n\tconst hasImageSettingsPanel = useHasImageSettingsPanel(\r\n\t\tname,\r\n\t\tuserSettings,\r\n\t\tsettings\r\n\t);\r\n\tconst hasVariationsPanel = !! blockVariations?.length && ! variation;\r\n\tconst { canEditCSS } = useSelect( ( select ) => {\r\n\t\tconst { getEntityRecord, __experimentalGetCurrentGlobalStylesId } =\r\n\t\t\tselect( coreStore );\r\n\r\n\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\r\n\t\tconst globalStyles = globalStylesId\r\n\t\t\t? getEntityRecord( 'root', 'globalStyles', globalStylesId )\r\n\t\t\t: undefined;\r\n\r\n\t\treturn {\r\n\t\t\tcanEditCSS: !! globalStyles?._links?.[ 'wp:action-edit-css' ],\r\n\t\t};\r\n\t}, [] );\r\n\tconst currentBlockStyle = variation\r\n\t\t? blockVariations.find( ( s ) => s.name === variation )\r\n\t\t: null;\r\n\r\n\t// These intermediary objects are needed because the \"layout\" property is stored\r\n\t// in settings rather than styles.\r\n\tconst inheritedStyleWithLayout = useMemo( () => {\r\n\t\treturn {\r\n\t\t\t...inheritedStyle,\r\n\t\t\tlayout: settings.layout,\r\n\t\t};\r\n\t}, [ inheritedStyle, settings.layout ] );\r\n\tconst styleWithLayout = useMemo( () => {\r\n\t\treturn {\r\n\t\t\t...style,\r\n\t\t\tlayout: userSettings.layout,\r\n\t\t};\r\n\t}, [ style, userSettings.layout ] );\r\n\tconst onChangeDimensions = ( newStyle ) => {\r\n\t\tconst updatedStyle = { ...newStyle };\r\n\t\tdelete updatedStyle.layout;\r\n\t\tsetStyle( updatedStyle );\r\n\r\n\t\tif ( newStyle.layout !== userSettings.layout ) {\r\n\t\t\tsetSettings( {\r\n\t\t\t\t...userSettings,\r\n\t\t\t\tlayout: newStyle.layout,\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\tconst onChangeLightbox = ( newSetting ) => {\r\n\t\t// If the newSetting is undefined, this means that the user has deselected\r\n\t\t// (reset) the lightbox setting.\r\n\t\tif ( newSetting === undefined ) {\r\n\t\t\tsetSettings( {\r\n\t\t\t\t...rawSettings,\r\n\t\t\t\tlightbox: undefined,\r\n\t\t\t} );\r\n\r\n\t\t\t// Otherwise, we simply set the lightbox setting to the new value but\r\n\t\t\t// taking care of not overriding the other lightbox settings.\r\n\t\t} else {\r\n\t\t\tsetSettings( {\r\n\t\t\t\t...rawSettings,\r\n\t\t\t\tlightbox: {\r\n\t\t\t\t\t...rawSettings.lightbox,\r\n\t\t\t\t\t...newSetting,\r\n\t\t\t\t},\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\tconst onChangeBorders = ( newStyle ) => {\r\n\t\tif ( ! newStyle?.border ) {\r\n\t\t\tsetStyle( newStyle );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// As Global Styles can't conditionally generate styles based on if\r\n\t\t// other style properties have been set, we need to force split\r\n\t\t// border definitions for user set global border styles. Border\r\n\t\t// radius is derived from the same property i.e. `border.radius` if\r\n\t\t// it is a string that is used. The longhand border radii styles are\r\n\t\t// only generated if that property is an object.\r\n\t\t//\r\n\t\t// For borders (color, style, and width) those are all properties on\r\n\t\t// the `border` style property. This means if the theme.json defined\r\n\t\t// split borders and the user condenses them into a flat border or\r\n\t\t// vice-versa we'd get both sets of styles which would conflict.\r\n\t\tconst { radius, ...newBorder } = newStyle.border;\r\n\t\tconst border = applyAllFallbackStyles( newBorder );\r\n\t\tconst updatedBorder = ! hasSplitBorders( border )\r\n\t\t\t? {\r\n\t\t\t\t\ttop: border,\r\n\t\t\t\t\tright: border,\r\n\t\t\t\t\tbottom: border,\r\n\t\t\t\t\tleft: border,\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\tcolor: null,\r\n\t\t\t\t\tstyle: null,\r\n\t\t\t\t\twidth: null,\r\n\t\t\t\t\t...border,\r\n\t\t\t  };\r\n\r\n\t\tsetStyle( { ...newStyle, border: { ...updatedBorder, radius } } );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ScreenHeader\r\n\t\t\t\ttitle={ variation ? currentBlockStyle?.label : blockType.title }\r\n\t\t\t/>\r\n\t\t\t<BlockPreviewPanel name={ name } variation={ variation } />\r\n\t\t\t{ hasVariationsPanel && (\r\n\t\t\t\t<div className=\"edit-site-global-styles-screen-variations\">\r\n\t\t\t\t\t<VStack spacing={ 3 }>\r\n\t\t\t\t\t\t<Subtitle>{ __( 'Style Variations' ) }</Subtitle>\r\n\t\t\t\t\t\t<VariationsPanel name={ name } />\r\n\t\t\t\t\t</VStack>\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t\t{ hasColorPanel && (\r\n\t\t\t\t<StylesColorPanel\r\n\t\t\t\t\tinheritedValue={ inheritedStyle }\r\n\t\t\t\t\tvalue={ style }\r\n\t\t\t\t\tonChange={ setStyle }\r\n\t\t\t\t\tsettings={ settings }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ hasBackgroundPanel && (\r\n\t\t\t\t<StylesBackgroundPanel\r\n\t\t\t\t\tinheritedValue={ inheritedStyle }\r\n\t\t\t\t\tvalue={ style }\r\n\t\t\t\t\tonChange={ setStyle }\r\n\t\t\t\t\tsettings={ settings }\r\n\t\t\t\t\tdefaultValues={ BACKGROUND_BLOCK_DEFAULT_VALUES }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ hasTypographyPanel && (\r\n\t\t\t\t<StylesTypographyPanel\r\n\t\t\t\t\tinheritedValue={ inheritedStyle }\r\n\t\t\t\t\tvalue={ style }\r\n\t\t\t\t\tonChange={ setStyle }\r\n\t\t\t\t\tsettings={ settings }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ hasDimensionsPanel && (\r\n\t\t\t\t<StylesDimensionsPanel\r\n\t\t\t\t\tinheritedValue={ inheritedStyleWithLayout }\r\n\t\t\t\t\tvalue={ styleWithLayout }\r\n\t\t\t\t\tonChange={ onChangeDimensions }\r\n\t\t\t\t\tsettings={ settings }\r\n\t\t\t\t\tincludeLayoutControls\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ hasBorderPanel && (\r\n\t\t\t\t<StylesBorderPanel\r\n\t\t\t\t\tinheritedValue={ inheritedStyle }\r\n\t\t\t\t\tvalue={ style }\r\n\t\t\t\t\tonChange={ onChangeBorders }\r\n\t\t\t\t\tsettings={ settings }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ hasFiltersPanel && (\r\n\t\t\t\t<StylesFiltersPanel\r\n\t\t\t\t\tinheritedValue={ inheritedStyleWithLayout }\r\n\t\t\t\t\tvalue={ styleWithLayout }\r\n\t\t\t\t\tonChange={ setStyle }\r\n\t\t\t\t\tsettings={ settings }\r\n\t\t\t\t\tincludeLayoutControls\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ hasImageSettingsPanel && (\r\n\t\t\t\t<ImageSettingsPanel\r\n\t\t\t\t\tonChange={ onChangeLightbox }\r\n\t\t\t\t\tvalue={ userSettings }\r\n\t\t\t\t\tinheritedValue={ settings }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\r\n\t\t\t{ canEditCSS && (\r\n\t\t\t\t<PanelBody title={ __( 'Advanced' ) } initialOpen={ false }>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{ sprintf(\r\n\t\t\t\t\t\t\t// translators: %s: is the name of a block e.g., 'Image' or 'Table'.\r\n\t\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t\t'Add your own CSS to customize the appearance of the %s block. You do not need to include a CSS selector, just add the property and value.'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tblockType?.title\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<StylesAdvancedPanel\r\n\t\t\t\t\t\tvalue={ style }\r\n\t\t\t\t\t\tonChange={ setStyle }\r\n\t\t\t\t\t\tinheritedValue={ inheritedStyle }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ScreenBlock;\r\n"],"mappings":"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","ignoreList":[]}