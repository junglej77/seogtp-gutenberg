{"version":3,"names":["__experimentalNavigatorProvider","NavigatorProvider","__experimentalNavigatorScreen","NavigatorScreen","__experimentalUseNavigator","useNavigator","createSlotFill","DropdownMenu","MenuGroup","MenuItem","getBlockTypes","store","blocksStore","useSelect","useDispatch","privateApis","blockEditorPrivateApis","blockEditorStore","__","preferencesStore","moreVertical","coreStore","useEffect","ScreenRoot","useBlockHasGlobalStyles","default","ScreenBlockList","ScreenBlock","ScreenTypography","ScreenTypeset","ScreenTypographyElement","FontSize","FontSizes","ScreenColors","ScreenColorPalette","ScreenShadows","ScreenShadowsEdit","ScreenLayout","ScreenStyleVariations","StyleBook","ScreenCSS","ScreenRevisions","unlock","editSiteStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SLOT_FILL_NAME","useGlobalStylesReset","Slot","GlobalStylesMenuSlot","Fill","GlobalStylesMenuFill","GlobalStylesActionMenu","canReset","onReset","toggle","canEditCSS","select","getEntityRecord","__experimentalGetCurrentGlobalStylesId","globalStylesId","globalStyles","undefined","_links","setEditorCanvasContainerView","goTo","loadCustomCSS","children","icon","label","toggleProps","size","onClose","onClick","disabled","GlobalStylesNavigationScreen","className","props","filter","Boolean","join","BlockStylesNavigationScreens","parentMenu","blockStyles","blockName","map","style","index","path","name","variation","ContextScreens","blockStyleVariations","getBlockStyles","length","GlobalStylesStyleBook","navigator","location","isSelected","encodeURIComponent","startsWith","onSelect","GlobalStylesBlockLink","selectedBlockName","selectedBlockClientId","getSelectedBlockClientId","getBlockName","clientId","blockHasGlobalStyles","currentPath","newPath","skipFocus","GlobalStylesEditorCanvasContainerLink","editorCanvasContainerView","getEditorCanvasContainerView","isRevisionsOpen","GlobalStylesUI","blocks","initialPath","element","block"],"sources":["@wordpress/edit-site/src/components/global-styles/ui.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalNavigatorProvider as NavigatorProvider,\r\n\t__experimentalNavigatorScreen as NavigatorScreen,\r\n\t__experimentalUseNavigator as useNavigator,\r\n\tcreateSlotFill,\r\n\tDropdownMenu,\r\n\tMenuGroup,\r\n\tMenuItem,\r\n} from '@wordpress/components';\r\nimport { getBlockTypes, store as blocksStore } from '@wordpress/blocks';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport {\r\n\tprivateApis as blockEditorPrivateApis,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as preferencesStore } from '@wordpress/preferences';\r\nimport { moreVertical } from '@wordpress/icons';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useEffect } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport ScreenRoot from './screen-root';\r\nimport {\r\n\tuseBlockHasGlobalStyles,\r\n\tdefault as ScreenBlockList,\r\n} from './screen-block-list';\r\nimport ScreenBlock from './screen-block';\r\nimport ScreenTypography from './screen-typography';\r\nimport ScreenTypeset from './screen-typeset';\r\nimport ScreenTypographyElement from './screen-typography-element';\r\nimport FontSize from './font-sizes/font-size';\r\nimport FontSizes from './font-sizes/font-sizes';\r\nimport ScreenColors from './screen-colors';\r\nimport ScreenColorPalette from './screen-color-palette';\r\nimport { ScreenShadows, ScreenShadowsEdit } from './screen-shadows';\r\nimport ScreenLayout from './screen-layout';\r\nimport ScreenStyleVariations from './screen-style-variations';\r\nimport StyleBook from '../style-book';\r\nimport ScreenCSS from './screen-css';\r\nimport ScreenRevisions from './screen-revisions';\r\nimport { unlock } from '../../lock-unlock';\r\nimport { store as editSiteStore } from '../../store';\r\n\r\nconst SLOT_FILL_NAME = 'GlobalStylesMenu';\r\nconst { useGlobalStylesReset } = unlock( blockEditorPrivateApis );\r\nconst { Slot: GlobalStylesMenuSlot, Fill: GlobalStylesMenuFill } =\r\n\tcreateSlotFill( SLOT_FILL_NAME );\r\n\r\nfunction GlobalStylesActionMenu() {\r\n\tconst [ canReset, onReset ] = useGlobalStylesReset();\r\n\tconst { toggle } = useDispatch( preferencesStore );\r\n\tconst { canEditCSS } = useSelect( ( select ) => {\r\n\t\tconst { getEntityRecord, __experimentalGetCurrentGlobalStylesId } =\r\n\t\t\tselect( coreStore );\r\n\r\n\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\r\n\t\tconst globalStyles = globalStylesId\r\n\t\t\t? getEntityRecord( 'root', 'globalStyles', globalStylesId )\r\n\t\t\t: undefined;\r\n\r\n\t\treturn {\r\n\t\t\tcanEditCSS: !! globalStyles?._links?.[ 'wp:action-edit-css' ],\r\n\t\t};\r\n\t}, [] );\r\n\tconst { setEditorCanvasContainerView } = unlock(\r\n\t\tuseDispatch( editSiteStore )\r\n\t);\r\n\tconst { goTo } = useNavigator();\r\n\tconst loadCustomCSS = () => {\r\n\t\tsetEditorCanvasContainerView( 'global-styles-css' );\r\n\t\tgoTo( '/css' );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<GlobalStylesMenuFill>\r\n\t\t\t<DropdownMenu\r\n\t\t\t\ticon={ moreVertical }\r\n\t\t\t\tlabel={ __( 'More' ) }\r\n\t\t\t\ttoggleProps={ { size: 'compact' } }\r\n\t\t\t>\r\n\t\t\t\t{ ( { onClose } ) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t\t\t{ canEditCSS && (\r\n\t\t\t\t\t\t\t\t<MenuItem onClick={ loadCustomCSS }>\r\n\t\t\t\t\t\t\t\t\t{ __( 'Additional CSS' ) }\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\ttoggle(\r\n\t\t\t\t\t\t\t\t\t\t'core/edit-site',\r\n\t\t\t\t\t\t\t\t\t\t'welcomeGuideStyles'\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Welcome Guide' ) }\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\tonReset();\r\n\t\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\tdisabled={ ! canReset }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Reset styles' ) }\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) }\r\n\t\t\t</DropdownMenu>\r\n\t\t</GlobalStylesMenuFill>\r\n\t);\r\n}\r\n\r\nfunction GlobalStylesNavigationScreen( { className, ...props } ) {\r\n\treturn (\r\n\t\t<NavigatorScreen\r\n\t\t\tclassName={ [\r\n\t\t\t\t'edit-site-global-styles-sidebar__navigator-screen',\r\n\t\t\t\tclassName,\r\n\t\t\t]\r\n\t\t\t\t.filter( Boolean )\r\n\t\t\t\t.join( ' ' ) }\r\n\t\t\t{ ...props }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction BlockStylesNavigationScreens( {\r\n\tparentMenu,\r\n\tblockStyles,\r\n\tblockName,\r\n} ) {\r\n\treturn blockStyles.map( ( style, index ) => (\r\n\t\t<GlobalStylesNavigationScreen\r\n\t\t\tkey={ index }\r\n\t\t\tpath={ parentMenu + '/variations/' + style.name }\r\n\t\t>\r\n\t\t\t<ScreenBlock name={ blockName } variation={ style.name } />\r\n\t\t</GlobalStylesNavigationScreen>\r\n\t) );\r\n}\r\n\r\nfunction ContextScreens( { name, parentMenu = '' } ) {\r\n\tconst blockStyleVariations = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlockStyles } = select( blocksStore );\r\n\t\t\treturn getBlockStyles( name );\r\n\t\t},\r\n\t\t[ name ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<GlobalStylesNavigationScreen\r\n\t\t\t\tpath={ parentMenu + '/colors/palette' }\r\n\t\t\t>\r\n\t\t\t\t<ScreenColorPalette name={ name } />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t{ !! blockStyleVariations?.length && (\r\n\t\t\t\t<BlockStylesNavigationScreens\r\n\t\t\t\t\tparentMenu={ parentMenu }\r\n\t\t\t\t\tblockStyles={ blockStyleVariations }\r\n\t\t\t\t\tblockName={ name }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction GlobalStylesStyleBook() {\r\n\tconst navigator = useNavigator();\r\n\tconst { path } = navigator.location;\r\n\treturn (\r\n\t\t<StyleBook\r\n\t\t\tisSelected={ ( blockName ) =>\r\n\t\t\t\t// Match '/blocks/core%2Fbutton' and\r\n\t\t\t\t// '/blocks/core%2Fbutton/typography', but not\r\n\t\t\t\t// '/blocks/core%2Fbuttons'.\r\n\t\t\t\tpath === `/blocks/${ encodeURIComponent( blockName ) }` ||\r\n\t\t\t\tpath.startsWith(\r\n\t\t\t\t\t`/blocks/${ encodeURIComponent( blockName ) }/`\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tonSelect={ ( blockName ) => {\r\n\t\t\t\t// Now go to the selected block.\r\n\t\t\t\tnavigator.goTo( '/blocks/' + encodeURIComponent( blockName ) );\r\n\t\t\t} }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction GlobalStylesBlockLink() {\r\n\tconst navigator = useNavigator();\r\n\tconst { selectedBlockName, selectedBlockClientId } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getSelectedBlockClientId, getBlockName } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\t\t\tconst clientId = getSelectedBlockClientId();\r\n\t\t\treturn {\r\n\t\t\t\tselectedBlockName: getBlockName( clientId ),\r\n\t\t\t\tselectedBlockClientId: clientId,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\tconst blockHasGlobalStyles = useBlockHasGlobalStyles( selectedBlockName );\r\n\t// When we're in the `Blocks` screen enable deep linking to the selected block.\r\n\tuseEffect( () => {\r\n\t\tif ( ! selectedBlockClientId || ! blockHasGlobalStyles ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst currentPath = navigator.location.path;\r\n\t\tif (\r\n\t\t\tcurrentPath !== '/blocks' &&\r\n\t\t\t! currentPath.startsWith( '/blocks/' )\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst newPath = '/blocks/' + encodeURIComponent( selectedBlockName );\r\n\t\t// Avoid navigating to the same path. This can happen when selecting\r\n\t\t// a new block of the same type.\r\n\t\tif ( newPath !== currentPath ) {\r\n\t\t\tnavigator.goTo( newPath, { skipFocus: true } );\r\n\t\t}\r\n\t}, [ selectedBlockClientId, selectedBlockName, blockHasGlobalStyles ] );\r\n}\r\n\r\nfunction GlobalStylesEditorCanvasContainerLink() {\r\n\tconst { goTo, location } = useNavigator();\r\n\tconst editorCanvasContainerView = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tunlock( select( editSiteStore ) ).getEditorCanvasContainerView(),\r\n\t\t[]\r\n\t);\r\n\tconst path = location?.path;\r\n\tconst isRevisionsOpen = path === '/revisions';\r\n\r\n\t// If the user switches the editor canvas container view, redirect\r\n\t// to the appropriate screen. This effectively allows deep linking to the\r\n\t// desired screens from outside the global styles navigation provider.\r\n\tuseEffect( () => {\r\n\t\tswitch ( editorCanvasContainerView ) {\r\n\t\t\tcase 'global-styles-revisions':\r\n\t\t\tcase 'global-styles-revisions:style-book':\r\n\t\t\t\tgoTo( '/revisions' );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'global-styles-css':\r\n\t\t\t\tgoTo( '/css' );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'style-book':\r\n\t\t\t\t/*\r\n\t\t\t\t * The stand-alone style book is open\r\n\t\t\t\t * and the revisions panel is open,\r\n\t\t\t\t * close the revisions panel.\r\n\t\t\t\t * Otherwise keep the style book open while\r\n\t\t\t\t * browsing global styles panel.\r\n\t\t\t\t */\r\n\t\t\t\tif ( isRevisionsOpen ) {\r\n\t\t\t\t\tgoTo( '/' );\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t/*\r\n\t\t\t\t * Example: the user has navigated to \"Browse styles\" or elsewhere\r\n\t\t\t\t * and changes the editorCanvasContainerView, e.g., closes the style book.\r\n\t\t\t\t * The panel should not be affected.\r\n\t\t\t\t * Exclude revisions panel from this behavior,\r\n\t\t\t\t * as it should close when the editorCanvasContainerView doesn't correspond.\r\n\t\t\t\t */\r\n\t\t\t\tif ( path !== '/' && ! isRevisionsOpen ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tgoTo( '/' );\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}, [ editorCanvasContainerView, isRevisionsOpen, goTo ] );\r\n}\r\n\r\nfunction GlobalStylesUI() {\r\n\tconst blocks = getBlockTypes();\r\n\tconst editorCanvasContainerView = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tunlock( select( editSiteStore ) ).getEditorCanvasContainerView(),\r\n\t\t[]\r\n\t);\r\n\treturn (\r\n\t\t<NavigatorProvider\r\n\t\t\tclassName=\"edit-site-global-styles-sidebar__navigator-provider\"\r\n\t\t\tinitialPath=\"/\"\r\n\t\t>\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/\">\r\n\t\t\t\t<ScreenRoot />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/variations\">\r\n\t\t\t\t<ScreenStyleVariations />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/blocks\">\r\n\t\t\t\t<ScreenBlockList />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography\">\r\n\t\t\t\t<ScreenTypography />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography/font-sizes/\">\r\n\t\t\t\t<FontSizes />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography/font-sizes/:origin/:slug\">\r\n\t\t\t\t<FontSize />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography/typeset\">\r\n\t\t\t\t<ScreenTypeset />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography/text\">\r\n\t\t\t\t<ScreenTypographyElement element=\"text\" />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography/link\">\r\n\t\t\t\t<ScreenTypographyElement element=\"link\" />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography/heading\">\r\n\t\t\t\t<ScreenTypographyElement element=\"heading\" />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography/caption\">\r\n\t\t\t\t<ScreenTypographyElement element=\"caption\" />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/typography/button\">\r\n\t\t\t\t<ScreenTypographyElement element=\"button\" />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/colors\">\r\n\t\t\t\t<ScreenColors />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/shadows\">\r\n\t\t\t\t<ScreenShadows />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/shadows/edit/:category/:slug\">\r\n\t\t\t\t<ScreenShadowsEdit />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/layout\">\r\n\t\t\t\t<ScreenLayout />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/css\">\r\n\t\t\t\t<ScreenCSS />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t<GlobalStylesNavigationScreen path=\"/revisions\">\r\n\t\t\t\t<ScreenRevisions />\r\n\t\t\t</GlobalStylesNavigationScreen>\r\n\r\n\t\t\t{ blocks.map( ( block ) => (\r\n\t\t\t\t<GlobalStylesNavigationScreen\r\n\t\t\t\t\tkey={ 'menu-block-' + block.name }\r\n\t\t\t\t\tpath={ '/blocks/' + encodeURIComponent( block.name ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<ScreenBlock name={ block.name } />\r\n\t\t\t\t</GlobalStylesNavigationScreen>\r\n\t\t\t) ) }\r\n\r\n\t\t\t<ContextScreens />\r\n\r\n\t\t\t{ blocks.map( ( block ) => (\r\n\t\t\t\t<ContextScreens\r\n\t\t\t\t\tkey={ 'screens-block-' + block.name }\r\n\t\t\t\t\tname={ block.name }\r\n\t\t\t\t\tparentMenu={ '/blocks/' + encodeURIComponent( block.name ) }\r\n\t\t\t\t/>\r\n\t\t\t) ) }\r\n\r\n\t\t\t{ 'style-book' === editorCanvasContainerView && (\r\n\t\t\t\t<GlobalStylesStyleBook />\r\n\t\t\t) }\r\n\r\n\t\t\t<GlobalStylesActionMenu />\r\n\t\t\t<GlobalStylesBlockLink />\r\n\t\t\t<GlobalStylesEditorCanvasContainerLink />\r\n\t\t</NavigatorProvider>\r\n\t);\r\n}\r\nexport { GlobalStylesMenuSlot };\r\nexport default GlobalStylesUI;\r\n"],"mappings":"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","ignoreList":[]}