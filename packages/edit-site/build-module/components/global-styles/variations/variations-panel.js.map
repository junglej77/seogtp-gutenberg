{"version":3,"names":["store","blocksStore","privateApis","blockEditorPrivateApis","useSelect","__experimentalItemGroup","ItemGroup","NavigationButtonAsItem","unlock","jsx","_jsx","useGlobalStyle","getFilteredBlockStyles","blockStyles","variations","filter","style","source","includes","name","useBlockVariations","select","getBlockStyles","variationNames","Object","keys","VariationsPanel","coreBlockStyles","isBordered","isSeparated","children","map","index","isDefault","path","encodeURIComponent","label"],"sources":["@wordpress/edit-site/src/components/global-styles/variations/variations-panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { NavigationButtonAsItem } from '../navigation-button';\r\nimport { unlock } from '../../../lock-unlock';\r\n\r\nconst { useGlobalStyle } = unlock( blockEditorPrivateApis );\r\n\r\n// Only core block styles (source === block) or block styles with a matching\r\n// theme.json style variation will be configurable via Global Styles.\r\nfunction getFilteredBlockStyles( blockStyles, variations ) {\r\n\treturn blockStyles?.filter(\r\n\t\t( style ) =>\r\n\t\t\tstyle.source === 'block' || variations.includes( style.name )\r\n\t);\r\n}\r\n\r\nexport function useBlockVariations( name ) {\r\n\tconst blockStyles = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlockStyles } = select( blocksStore );\r\n\t\t\treturn getBlockStyles( name );\r\n\t\t},\r\n\t\t[ name ]\r\n\t);\r\n\tconst [ variations ] = useGlobalStyle( 'variations', name );\r\n\tconst variationNames = Object.keys( variations ?? {} );\r\n\r\n\treturn getFilteredBlockStyles( blockStyles, variationNames );\r\n}\r\n\r\nexport function VariationsPanel( { name } ) {\r\n\tconst coreBlockStyles = useBlockVariations( name );\r\n\r\n\treturn (\r\n\t\t<ItemGroup isBordered isSeparated>\r\n\t\t\t{ coreBlockStyles.map( ( style, index ) => {\r\n\t\t\t\tif ( style?.isDefault ) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<NavigationButtonAsItem\r\n\t\t\t\t\t\tkey={ index }\r\n\t\t\t\t\t\tpath={\r\n\t\t\t\t\t\t\t'/blocks/' +\r\n\t\t\t\t\t\t\tencodeURIComponent( name ) +\r\n\t\t\t\t\t\t\t'/variations/' +\r\n\t\t\t\t\t\t\tencodeURIComponent( style.name )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\taria-label={ style.label }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ style.label }\r\n\t\t\t\t\t</NavigationButtonAsItem>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</ItemGroup>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,WAAW,IAAIC,sBAAsB,QAAQ,yBAAyB;AAC/E,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,uBAAuB,IAAIC,SAAS,QAAQ,uBAAuB;;AAE5E;AACA;AACA;AACA,SAASC,sBAAsB,QAAQ,sBAAsB;AAC7D,SAASC,MAAM,QAAQ,sBAAsB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE9C,MAAM;EAAEC;AAAe,CAAC,GAAGH,MAAM,CAAEL,sBAAuB,CAAC;;AAE3D;AACA;AACA,SAASS,sBAAsBA,CAAEC,WAAW,EAAEC,UAAU,EAAG;EAC1D,OAAOD,WAAW,EAAEE,MAAM,CACvBC,KAAK,IACNA,KAAK,CAACC,MAAM,KAAK,OAAO,IAAIH,UAAU,CAACI,QAAQ,CAAEF,KAAK,CAACG,IAAK,CAC9D,CAAC;AACF;AAEA,OAAO,SAASC,kBAAkBA,CAAED,IAAI,EAAG;EAC1C,MAAMN,WAAW,GAAGT,SAAS,CAC1BiB,MAAM,IAAM;IACb,MAAM;MAAEC;IAAe,CAAC,GAAGD,MAAM,CAAEpB,WAAY,CAAC;IAChD,OAAOqB,cAAc,CAAEH,IAAK,CAAC;EAC9B,CAAC,EACD,CAAEA,IAAI,CACP,CAAC;EACD,MAAM,CAAEL,UAAU,CAAE,GAAGH,cAAc,CAAE,YAAY,EAAEQ,IAAK,CAAC;EAC3D,MAAMI,cAAc,GAAGC,MAAM,CAACC,IAAI,CAAEX,UAAU,aAAVA,UAAU,cAAVA,UAAU,GAAI,CAAC,CAAE,CAAC;EAEtD,OAAOF,sBAAsB,CAAEC,WAAW,EAAEU,cAAe,CAAC;AAC7D;AAEA,OAAO,SAASG,eAAeA,CAAE;EAAEP;AAAK,CAAC,EAAG;EAC3C,MAAMQ,eAAe,GAAGP,kBAAkB,CAAED,IAAK,CAAC;EAElD,oBACCT,IAAA,CAACJ,SAAS;IAACsB,UAAU;IAACC,WAAW;IAAAC,QAAA,EAC9BH,eAAe,CAACI,GAAG,CAAE,CAAEf,KAAK,EAAEgB,KAAK,KAAM;MAC1C,IAAKhB,KAAK,EAAEiB,SAAS,EAAG;QACvB,OAAO,IAAI;MACZ;MACA,oBACCvB,IAAA,CAACH,sBAAsB;QAEtB2B,IAAI,EACH,UAAU,GACVC,kBAAkB,CAAEhB,IAAK,CAAC,GAC1B,cAAc,GACdgB,kBAAkB,CAAEnB,KAAK,CAACG,IAAK,CAC/B;QACD,cAAaH,KAAK,CAACoB,KAAO;QAAAN,QAAA,EAExBd,KAAK,CAACoB;MAAK,GATPJ,KAUiB,CAAC;IAE3B,CAAE;EAAC,CACO,CAAC;AAEd","ignoreList":[]}