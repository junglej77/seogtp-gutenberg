{"version":3,"names":["MenuItem","useState","__","privateApis","patternsPrivateApis","usePatternCategories","unlock","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RenamePatternCategoryModal","RenameCategoryMenuItem","category","onClose","isModalOpen","setIsModalOpen","children","onClick","RenameModal","normalizedCategory","id","slug","name","label","existingCategories","overlayClassName","focusOnMount","size"],"sources":["@wordpress/edit-site/src/components/page-patterns/rename-category-menu-item.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { MenuItem } from '@wordpress/components';\r\nimport { useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport usePatternCategories from '../sidebar-navigation-screen-patterns/use-pattern-categories';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nconst { RenamePatternCategoryModal } = unlock( patternsPrivateApis );\r\n\r\nexport default function RenameCategoryMenuItem( { category, onClose } ) {\r\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<MenuItem onClick={ () => setIsModalOpen( true ) }>\r\n\t\t\t\t{ __( 'Rename' ) }\r\n\t\t\t</MenuItem>\r\n\t\t\t{ isModalOpen && (\r\n\t\t\t\t<RenameModal\r\n\t\t\t\t\tcategory={ category }\r\n\t\t\t\t\tonClose={ () => {\r\n\t\t\t\t\t\tsetIsModalOpen( false );\r\n\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction RenameModal( { category, onClose } ) {\r\n\t// User created pattern categories have their properties updated when\r\n\t// retrieved via `getUserPatternCategories`. The rename modal expects an\r\n\t// object that will match the pattern category entity.\r\n\tconst normalizedCategory = {\r\n\t\tid: category.id,\r\n\t\tslug: category.slug,\r\n\t\tname: category.label,\r\n\t};\r\n\r\n\t// Optimization - only use pattern categories when the modal is open.\r\n\tconst existingCategories = usePatternCategories();\r\n\r\n\treturn (\r\n\t\t<RenamePatternCategoryModal\r\n\t\t\tcategory={ normalizedCategory }\r\n\t\t\texistingCategories={ existingCategories }\r\n\t\t\tonClose={ onClose }\r\n\t\t\toverlayClassName=\"edit-site-list__rename-modal\"\r\n\t\t\tfocusOnMount=\"firstContentElement\"\r\n\t\t\tsize=\"small\"\r\n\t\t/>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,WAAW,IAAIC,mBAAmB,QAAQ,qBAAqB;AACxE;AACA;AACA;AACA,OAAOC,oBAAoB,MAAM,8DAA8D;;AAE/F;AACA;AACA;AACA,SAASC,MAAM,QAAQ,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE3C,MAAM;EAAEC;AAA2B,CAAC,GAAGP,MAAM,CAAEF,mBAAoB,CAAC;AAEpE,eAAe,SAASU,sBAAsBA,CAAE;EAAEC,QAAQ;EAAEC;AAAQ,CAAC,EAAG;EACvE,MAAM,CAAEC,WAAW,EAAEC,cAAc,CAAE,GAAGjB,QAAQ,CAAE,KAAM,CAAC;EAEzD,oBACCW,KAAA,CAAAF,SAAA;IAAAS,QAAA,gBACCX,IAAA,CAACR,QAAQ;MAACoB,OAAO,EAAGA,CAAA,KAAMF,cAAc,CAAE,IAAK,CAAG;MAAAC,QAAA,EAC/CjB,EAAE,CAAE,QAAS;IAAC,CACP,CAAC,EACTe,WAAW,iBACZT,IAAA,CAACa,WAAW;MACXN,QAAQ,EAAGA,QAAU;MACrBC,OAAO,EAAGA,CAAA,KAAM;QACfE,cAAc,CAAE,KAAM,CAAC;QACvBF,OAAO,CAAC,CAAC;MACV;IAAG,CACH,CACD;EAAA,CACA,CAAC;AAEL;AAEA,SAASK,WAAWA,CAAE;EAAEN,QAAQ;EAAEC;AAAQ,CAAC,EAAG;EAC7C;EACA;EACA;EACA,MAAMM,kBAAkB,GAAG;IAC1BC,EAAE,EAAER,QAAQ,CAACQ,EAAE;IACfC,IAAI,EAAET,QAAQ,CAACS,IAAI;IACnBC,IAAI,EAAEV,QAAQ,CAACW;EAChB,CAAC;;EAED;EACA,MAAMC,kBAAkB,GAAGtB,oBAAoB,CAAC,CAAC;EAEjD,oBACCG,IAAA,CAACK,0BAA0B;IAC1BE,QAAQ,EAAGO,kBAAoB;IAC/BK,kBAAkB,EAAGA,kBAAoB;IACzCX,OAAO,EAAGA,OAAS;IACnBY,gBAAgB,EAAC,8BAA8B;IAC/CC,YAAY,EAAC,qBAAqB;IAClCC,IAAI,EAAC;EAAO,CACZ,CAAC;AAEJ","ignoreList":[]}