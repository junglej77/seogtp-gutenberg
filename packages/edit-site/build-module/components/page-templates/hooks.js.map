{"version":3,"names":["store","coreStore","useSelect","commentAuthorAvatar","authorIcon","layout","themeIcon","plugins","pluginIcon","globe","globeIcon","TEMPLATE_ORIGINS","useAddedBy","postType","postId","select","getEntityRecord","getMedia","getUser","getEditedEntityRecord","template","originalSource","original_source","authorText","author_text","type","icon","text","isCustomized","source","custom","siteData","imageUrl","site_logo","source_url","undefined","user","author","avatar_urls"],"sources":["@wordpress/edit-site/src/components/page-templates/hooks.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\nimport {\r\n\tcommentAuthorAvatar as authorIcon,\r\n\tlayout as themeIcon,\r\n\tplugins as pluginIcon,\r\n\tglobe as globeIcon,\r\n} from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { TEMPLATE_ORIGINS } from '../../utils/constants';\r\n\r\n/** @typedef {'wp_template'|'wp_template_part'} TemplateType */\r\n\r\n/**\r\n * @typedef {'theme'|'plugin'|'site'|'user'} AddedByType\r\n *\r\n * @typedef AddedByData\r\n * @type {Object}\r\n * @property {AddedByType}  type         The type of the data.\r\n * @property {JSX.Element}  icon         The icon to display.\r\n * @property {string}       [imageUrl]   The optional image URL to display.\r\n * @property {string}       [text]       The text to display.\r\n * @property {boolean}      isCustomized Whether the template has been customized.\r\n *\r\n * @param    {TemplateType} postType     The template post type.\r\n * @param    {number}       postId       The template post id.\r\n * @return {AddedByData} The added by object or null.\r\n */\r\nexport function useAddedBy( postType, postId ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetEntityRecord,\r\n\t\t\t\tgetMedia,\r\n\t\t\t\tgetUser,\r\n\t\t\t\tgetEditedEntityRecord,\r\n\t\t\t} = select( coreStore );\r\n\t\t\tconst template = getEditedEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\tpostId\r\n\t\t\t);\r\n\t\t\tconst originalSource = template?.original_source;\r\n\t\t\tconst authorText = template?.author_text;\r\n\r\n\t\t\tswitch ( originalSource ) {\r\n\t\t\t\tcase 'theme': {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: originalSource,\r\n\t\t\t\t\t\ticon: themeIcon,\r\n\t\t\t\t\t\ttext: authorText,\r\n\t\t\t\t\t\tisCustomized:\r\n\t\t\t\t\t\t\ttemplate.source === TEMPLATE_ORIGINS.custom,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tcase 'plugin': {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: originalSource,\r\n\t\t\t\t\t\ticon: pluginIcon,\r\n\t\t\t\t\t\ttext: authorText,\r\n\t\t\t\t\t\tisCustomized:\r\n\t\t\t\t\t\t\ttemplate.source === TEMPLATE_ORIGINS.custom,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tcase 'site': {\r\n\t\t\t\t\tconst siteData = getEntityRecord(\r\n\t\t\t\t\t\t'root',\r\n\t\t\t\t\t\t'__unstableBase'\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: originalSource,\r\n\t\t\t\t\t\ticon: globeIcon,\r\n\t\t\t\t\t\timageUrl: siteData?.site_logo\r\n\t\t\t\t\t\t\t? getMedia( siteData.site_logo )?.source_url\r\n\t\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\t\ttext: authorText,\r\n\t\t\t\t\t\tisCustomized: false,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\tconst user = getUser( template.author );\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: 'user',\r\n\t\t\t\t\t\ticon: authorIcon,\r\n\t\t\t\t\t\timageUrl: user?.avatar_urls?.[ 48 ],\r\n\t\t\t\t\t\ttext: authorText,\r\n\t\t\t\t\t\tisCustomized: false,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ postType, postId ]\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SACCC,mBAAmB,IAAIC,UAAU,EACjCC,MAAM,IAAIC,SAAS,EACnBC,OAAO,IAAIC,UAAU,EACrBC,KAAK,IAAIC,SAAS,QACZ,kBAAkB;;AAEzB;AACA;AACA;AACA,SAASC,gBAAgB,QAAQ,uBAAuB;;AAExD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAAEC,QAAQ,EAAEC,MAAM,EAAG;EAC9C,OAAOZ,SAAS,CACba,MAAM,IAAM;IACb,MAAM;MACLC,eAAe;MACfC,QAAQ;MACRC,OAAO;MACPC;IACD,CAAC,GAAGJ,MAAM,CAAEd,SAAU,CAAC;IACvB,MAAMmB,QAAQ,GAAGD,qBAAqB,CACrC,UAAU,EACVN,QAAQ,EACRC,MACD,CAAC;IACD,MAAMO,cAAc,GAAGD,QAAQ,EAAEE,eAAe;IAChD,MAAMC,UAAU,GAAGH,QAAQ,EAAEI,WAAW;IAExC,QAASH,cAAc;MACtB,KAAK,OAAO;QAAE;UACb,OAAO;YACNI,IAAI,EAAEJ,cAAc;YACpBK,IAAI,EAAEpB,SAAS;YACfqB,IAAI,EAAEJ,UAAU;YAChBK,YAAY,EACXR,QAAQ,CAACS,MAAM,KAAKlB,gBAAgB,CAACmB;UACvC,CAAC;QACF;MACA,KAAK,QAAQ;QAAE;UACd,OAAO;YACNL,IAAI,EAAEJ,cAAc;YACpBK,IAAI,EAAElB,UAAU;YAChBmB,IAAI,EAAEJ,UAAU;YAChBK,YAAY,EACXR,QAAQ,CAACS,MAAM,KAAKlB,gBAAgB,CAACmB;UACvC,CAAC;QACF;MACA,KAAK,MAAM;QAAE;UACZ,MAAMC,QAAQ,GAAGf,eAAe,CAC/B,MAAM,EACN,gBACD,CAAC;UACD,OAAO;YACNS,IAAI,EAAEJ,cAAc;YACpBK,IAAI,EAAEhB,SAAS;YACfsB,QAAQ,EAAED,QAAQ,EAAEE,SAAS,GAC1BhB,QAAQ,CAAEc,QAAQ,CAACE,SAAU,CAAC,EAAEC,UAAU,GAC1CC,SAAS;YACZR,IAAI,EAAEJ,UAAU;YAChBK,YAAY,EAAE;UACf,CAAC;QACF;MACA;QAAS;UACR,MAAMQ,IAAI,GAAGlB,OAAO,CAAEE,QAAQ,CAACiB,MAAO,CAAC;UACvC,OAAO;YACNZ,IAAI,EAAE,MAAM;YACZC,IAAI,EAAEtB,UAAU;YAChB4B,QAAQ,EAAEI,IAAI,EAAEE,WAAW,GAAI,EAAE,CAAE;YACnCX,IAAI,EAAEJ,UAAU;YAChBK,YAAY,EAAE;UACf,CAAC;QACF;IACD;EACD,CAAC,EACD,CAAEf,QAAQ,EAAEC,MAAM,CACnB,CAAC;AACF","ignoreList":[]}