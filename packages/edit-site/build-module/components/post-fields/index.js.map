{"version":3,"names":["clsx","__","sprintf","decodeEntities","createInterpolateElement","useMemo","useState","dateI18n","getDate","getSettings","trash","drafts","published","scheduled","pending","notAllowed","commentAuthorAvatar","authorIcon","__experimentalHStack","HStack","Icon","useSelect","useEntityRecords","store","coreStore","LAYOUT_GRID","LAYOUT_TABLE","LAYOUT_LIST","OPERATOR_IS_ANY","default","Link","useLink","Media","jsx","_jsx","jsxs","_jsxs","STATUSES","value","label","icon","description","getFormattedDate","dateToDisplay","formats","datetimeAbbreviated","FeaturedImage","item","viewType","isDisabled","status","onClick","postId","id","postType","type","canvas","hasMedia","featured_media","size","media","className","renderButton","children","title","rendered","PostStatusField","find","alignment","spacing","PostAuthorField","text","imageUrl","select","getUser","user","author","avatar_urls","name","isImageLoaded","setIsImageLoaded","onLoad","alt","src","usePostFields","records","authors","isResolving","isLoadingAuthors","per_page","frontPageId","postsPageId","getEntityRecord","siteSettings","page_on_front","page_for_posts","fields","getValue","render","enableSorting","raw","addLink","includes","renderedTitle","params","suffix","justify","enableHiding","elements","map","sort","a","b","direction","nameA","_embedded","nameB","localeCompare","Edit","filterBy","operators","isDraftOrPrivate","date","span","time","isScheduled","isPublished","modified","isPending","isLoading"],"sources":["@wordpress/edit-site/src/components/post-fields/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport {\r\n\tcreateInterpolateElement,\r\n\tuseMemo,\r\n\tuseState,\r\n} from '@wordpress/element';\r\nimport { dateI18n, getDate, getSettings } from '@wordpress/date';\r\nimport {\r\n\ttrash,\r\n\tdrafts,\r\n\tpublished,\r\n\tscheduled,\r\n\tpending,\r\n\tnotAllowed,\r\n\tcommentAuthorAvatar as authorIcon,\r\n} from '@wordpress/icons';\r\nimport { __experimentalHStack as HStack, Icon } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useEntityRecords, store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tLAYOUT_GRID,\r\n\tLAYOUT_TABLE,\r\n\tLAYOUT_LIST,\r\n\tOPERATOR_IS_ANY,\r\n} from '../../utils/constants';\r\nimport { default as Link, useLink } from '../routes/link';\r\nimport Media from '../media';\r\n\r\n// See https://github.com/WordPress/gutenberg/issues/55886\r\n// We do not support custom statutes at the moment.\r\nconst STATUSES = [\r\n\t{\r\n\t\tvalue: 'draft',\r\n\t\tlabel: __( 'Draft' ),\r\n\t\ticon: drafts,\r\n\t\tdescription: __( 'Not ready to publish.' ),\r\n\t},\r\n\t{\r\n\t\tvalue: 'future',\r\n\t\tlabel: __( 'Scheduled' ),\r\n\t\ticon: scheduled,\r\n\t\tdescription: __( 'Publish automatically on a chosen date.' ),\r\n\t},\r\n\t{\r\n\t\tvalue: 'pending',\r\n\t\tlabel: __( 'Pending Review' ),\r\n\t\ticon: pending,\r\n\t\tdescription: __( 'Waiting for review before publishing.' ),\r\n\t},\r\n\t{\r\n\t\tvalue: 'private',\r\n\t\tlabel: __( 'Private' ),\r\n\t\ticon: notAllowed,\r\n\t\tdescription: __( 'Only visible to site admins and editors.' ),\r\n\t},\r\n\t{\r\n\t\tvalue: 'publish',\r\n\t\tlabel: __( 'Published' ),\r\n\t\ticon: published,\r\n\t\tdescription: __( 'Visible to everyone.' ),\r\n\t},\r\n\t{ value: 'trash', label: __( 'Trash' ), icon: trash },\r\n];\r\n\r\nconst getFormattedDate = ( dateToDisplay ) =>\r\n\tdateI18n(\r\n\t\tgetSettings().formats.datetimeAbbreviated,\r\n\t\tgetDate( dateToDisplay )\r\n\t);\r\n\r\nfunction FeaturedImage( { item, viewType } ) {\r\n\tconst isDisabled = item.status === 'trash';\r\n\tconst { onClick } = useLink( {\r\n\t\tpostId: item.id,\r\n\t\tpostType: item.type,\r\n\t\tcanvas: 'edit',\r\n\t} );\r\n\tconst hasMedia = !! item.featured_media;\r\n\tconst size =\r\n\t\tviewType === LAYOUT_GRID\r\n\t\t\t? [ 'large', 'full', 'medium', 'thumbnail' ]\r\n\t\t\t: [ 'thumbnail', 'medium', 'large', 'full' ];\r\n\tconst media = hasMedia ? (\r\n\t\t<Media\r\n\t\t\tclassName=\"edit-site-post-list__featured-image\"\r\n\t\t\tid={ item.featured_media }\r\n\t\t\tsize={ size }\r\n\t\t/>\r\n\t) : null;\r\n\tconst renderButton = viewType !== LAYOUT_LIST && ! isDisabled;\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={ `edit-site-post-list__featured-image-wrapper is-layout-${ viewType }` }\r\n\t\t>\r\n\t\t\t{ renderButton ? (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"edit-site-post-list__featured-image-button\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={ onClick }\r\n\t\t\t\t\taria-label={ item.title?.rendered || __( '(no title)' ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ media }\r\n\t\t\t\t</button>\r\n\t\t\t) : (\r\n\t\t\t\tmedia\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction PostStatusField( { item } ) {\r\n\tconst status = STATUSES.find( ( { value } ) => value === item.status );\r\n\tconst label = status?.label || item.status;\r\n\tconst icon = status?.icon;\r\n\treturn (\r\n\t\t<HStack alignment=\"left\" spacing={ 0 }>\r\n\t\t\t{ icon && (\r\n\t\t\t\t<div className=\"edit-site-post-list__status-icon\">\r\n\t\t\t\t\t<Icon icon={ icon } />\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t\t<span>{ label }</span>\r\n\t\t</HStack>\r\n\t);\r\n}\r\n\r\nfunction PostAuthorField( { item } ) {\r\n\tconst { text, imageUrl } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getUser } = select( coreStore );\r\n\t\t\tconst user = getUser( item.author );\r\n\t\t\treturn {\r\n\t\t\t\timageUrl: user?.avatar_urls?.[ 48 ],\r\n\t\t\t\ttext: user?.name,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ item ]\r\n\t);\r\n\tconst [ isImageLoaded, setIsImageLoaded ] = useState( false );\r\n\treturn (\r\n\t\t<HStack alignment=\"left\" spacing={ 0 }>\r\n\t\t\t{ !! imageUrl && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ clsx( 'page-templates-author-field__avatar', {\r\n\t\t\t\t\t\t'is-loaded': isImageLoaded,\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tonLoad={ () => setIsImageLoaded( true ) }\r\n\t\t\t\t\t\talt={ __( 'Author avatar' ) }\r\n\t\t\t\t\t\tsrc={ imageUrl }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t\t{ ! imageUrl && (\r\n\t\t\t\t<div className=\"page-templates-author-field__icon\">\r\n\t\t\t\t\t<Icon icon={ authorIcon } />\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t\t<span className=\"page-templates-author-field__name\">{ text }</span>\r\n\t\t</HStack>\r\n\t);\r\n}\r\n\r\nfunction usePostFields( viewType ) {\r\n\tconst { records: authors, isResolving: isLoadingAuthors } =\r\n\t\tuseEntityRecords( 'root', 'user', { per_page: -1 } );\r\n\r\n\tconst { frontPageId, postsPageId } = useSelect( ( select ) => {\r\n\t\tconst { getEntityRecord } = select( coreStore );\r\n\t\tconst siteSettings = getEntityRecord( 'root', 'site' );\r\n\t\treturn {\r\n\t\t\tfrontPageId: siteSettings?.page_on_front,\r\n\t\t\tpostsPageId: siteSettings?.page_for_posts,\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst fields = useMemo(\r\n\t\t() => [\r\n\t\t\t{\r\n\t\t\t\tid: 'featured-image',\r\n\t\t\t\tlabel: __( 'Featured Image' ),\r\n\t\t\t\tgetValue: ( { item } ) => item.featured_media,\r\n\t\t\t\trender: ( { item } ) => (\r\n\t\t\t\t\t<FeaturedImage item={ item } viewType={ viewType } />\r\n\t\t\t\t),\r\n\t\t\t\tenableSorting: false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: __( 'Title' ),\r\n\t\t\t\tid: 'title',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tgetValue: ( { item } ) =>\r\n\t\t\t\t\ttypeof item.title === 'string'\r\n\t\t\t\t\t\t? item.title\r\n\t\t\t\t\t\t: item.title?.raw,\r\n\t\t\t\trender: ( { item } ) => {\r\n\t\t\t\t\tconst addLink =\r\n\t\t\t\t\t\t[ LAYOUT_TABLE, LAYOUT_GRID ].includes( viewType ) &&\r\n\t\t\t\t\t\titem.status !== 'trash';\r\n\t\t\t\t\tconst renderedTitle =\r\n\t\t\t\t\t\ttypeof item.title === 'string'\r\n\t\t\t\t\t\t\t? item.title\r\n\t\t\t\t\t\t\t: item.title?.rendered;\r\n\t\t\t\t\tconst title = addLink ? (\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tparams={ {\r\n\t\t\t\t\t\t\t\tpostId: item.id,\r\n\t\t\t\t\t\t\t\tpostType: item.type,\r\n\t\t\t\t\t\t\t\tcanvas: 'edit',\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ decodeEntities( renderedTitle ) ||\r\n\t\t\t\t\t\t\t\t__( '(no title)' ) }\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{ decodeEntities( renderedTitle ) ||\r\n\t\t\t\t\t\t\t\t__( '(no title)' ) }\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tlet suffix = '';\r\n\t\t\t\t\tif ( item.id === frontPageId ) {\r\n\t\t\t\t\t\tsuffix = (\r\n\t\t\t\t\t\t\t<span className=\"edit-site-post-list__title-badge\">\r\n\t\t\t\t\t\t\t\t{ __( 'Homepage' ) }\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if ( item.id === postsPageId ) {\r\n\t\t\t\t\t\tsuffix = (\r\n\t\t\t\t\t\t\t<span className=\"edit-site-post-list__title-badge\">\r\n\t\t\t\t\t\t\t\t{ __( 'Posts Page' ) }\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<HStack\r\n\t\t\t\t\t\t\tclassName=\"edit-site-post-list__title\"\r\n\t\t\t\t\t\t\talignment=\"center\"\r\n\t\t\t\t\t\t\tjustify=\"flex-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ title }\r\n\t\t\t\t\t\t\t{ suffix }\r\n\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\tenableHiding: false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: __( 'Author' ),\r\n\t\t\t\tid: 'author',\r\n\t\t\t\ttype: 'integer',\r\n\t\t\t\telements:\r\n\t\t\t\t\tauthors?.map( ( { id, name } ) => ( {\r\n\t\t\t\t\t\tvalue: id,\r\n\t\t\t\t\t\tlabel: name,\r\n\t\t\t\t\t} ) ) || [],\r\n\t\t\t\trender: PostAuthorField,\r\n\t\t\t\tsort: ( a, b, direction ) => {\r\n\t\t\t\t\tconst nameA = a._embedded?.author?.[ 0 ]?.name || '';\r\n\t\t\t\t\tconst nameB = b._embedded?.author?.[ 0 ]?.name || '';\r\n\r\n\t\t\t\t\treturn direction === 'asc'\r\n\t\t\t\t\t\t? nameA.localeCompare( nameB )\r\n\t\t\t\t\t\t: nameB.localeCompare( nameA );\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: __( 'Status' ),\r\n\t\t\t\tid: 'status',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\telements: STATUSES,\r\n\t\t\t\trender: PostStatusField,\r\n\t\t\t\tEdit: 'radio',\r\n\t\t\t\tenableSorting: false,\r\n\t\t\t\tfilterBy: {\r\n\t\t\t\t\toperators: [ OPERATOR_IS_ANY ],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: __( 'Date' ),\r\n\t\t\t\tid: 'date',\r\n\t\t\t\ttype: 'datetime',\r\n\t\t\t\trender: ( { item } ) => {\r\n\t\t\t\t\tconst isDraftOrPrivate = [ 'draft', 'private' ].includes(\r\n\t\t\t\t\t\titem.status\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif ( isDraftOrPrivate ) {\r\n\t\t\t\t\t\treturn createInterpolateElement(\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t/* translators: %s: page creation date */\r\n\t\t\t\t\t\t\t\t__( '<span>Modified: <time>%s</time></span>' ),\r\n\t\t\t\t\t\t\t\tgetFormattedDate( item.date )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tspan: <span />,\r\n\t\t\t\t\t\t\t\ttime: <time />,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst isScheduled = item.status === 'future';\r\n\t\t\t\t\tif ( isScheduled ) {\r\n\t\t\t\t\t\treturn createInterpolateElement(\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t/* translators: %s: page creation date */\r\n\t\t\t\t\t\t\t\t__( '<span>Scheduled: <time>%s</time></span>' ),\r\n\t\t\t\t\t\t\t\tgetFormattedDate( item.date )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tspan: <span />,\r\n\t\t\t\t\t\t\t\ttime: <time />,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst isPublished = item.status === 'publish';\r\n\t\t\t\t\tif ( isPublished ) {\r\n\t\t\t\t\t\treturn createInterpolateElement(\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t/* translators: %s: page creation time */\r\n\t\t\t\t\t\t\t\t__( '<span>Published: <time>%s</time></span>' ),\r\n\t\t\t\t\t\t\t\tgetFormattedDate( item.date )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tspan: <span />,\r\n\t\t\t\t\t\t\t\ttime: <time />,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Pending posts show the modified date if it's newer.\r\n\t\t\t\t\tconst dateToDisplay =\r\n\t\t\t\t\t\tgetDate( item.modified ) > getDate( item.date )\r\n\t\t\t\t\t\t\t? item.modified\r\n\t\t\t\t\t\t\t: item.date;\r\n\r\n\t\t\t\t\tconst isPending = item.status === 'pending';\r\n\t\t\t\t\tif ( isPending ) {\r\n\t\t\t\t\t\treturn createInterpolateElement(\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t/* translators: %s: the newest of created or modified date for the page */\r\n\t\t\t\t\t\t\t\t__( '<span>Modified: <time>%s</time></span>' ),\r\n\t\t\t\t\t\t\t\tgetFormattedDate( dateToDisplay )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tspan: <span />,\r\n\t\t\t\t\t\t\t\ttime: <time />,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Unknow status.\r\n\t\t\t\t\treturn <time>{ getFormattedDate( item.date ) }</time>;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'comment_status',\r\n\t\t\t\tlabel: __( 'Discussion' ),\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tEdit: 'radio',\r\n\t\t\t\tenableSorting: false,\r\n\t\t\t\tfilterBy: {\r\n\t\t\t\t\toperators: [],\r\n\t\t\t\t},\r\n\t\t\t\telements: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'open',\r\n\t\t\t\t\t\tlabel: __( 'Open' ),\r\n\t\t\t\t\t\tdescription: __(\r\n\t\t\t\t\t\t\t'Visitors can add new comments and replies.'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'closed',\r\n\t\t\t\t\t\tlabel: __( 'Closed' ),\r\n\t\t\t\t\t\tdescription: __(\r\n\t\t\t\t\t\t\t'Visitors cannot add new comments or replies. Existing comments remain visible.'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t\t[ authors, viewType, frontPageId, postsPageId ]\r\n\t);\r\n\r\n\treturn {\r\n\t\tisLoading: isLoadingAuthors,\r\n\t\tfields,\r\n\t};\r\n}\r\n\r\nexport default usePostFields;\r\n"],"mappings":"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","ignoreList":[]}