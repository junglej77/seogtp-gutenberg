{"version":3,"names":["clsx","useState","useRef","ResizableBox","Tooltip","__unstableMotion","motion","useInstanceId","useReducedMotion","useDispatch","useSelect","__","unlock","store","editSiteStore","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","HANDLE_STYLES_OVERRIDE","position","undefined","userSelect","cursor","width","height","top","right","bottom","left","FRAME_MIN_WIDTH","FRAME_REFERENCE_WIDTH","FRAME_TARGET_ASPECT_RATIO","SNAP_TO_EDIT_CANVAS_MODE_THRESHOLD","INITIAL_FRAME_SIZE","calculateNewHeight","initialAspectRatio","lerp","a","b","amount","lerpFactor","Math","max","min","intermediateAspectRatio","ResizableFrame","isFullWidth","isOversized","setIsOversized","isReady","children","defaultSize","innerContentStyle","disableMotion","frameSize","setFrameSize","startingWidth","setStartingWidth","isResizing","setIsResizing","shouldShowHandle","setShouldShowHandle","resizeRatio","setResizeRatio","canvasMode","select","getCanvasMode","setCanvasMode","FRAME_TRANSITION","type","duration","frameRef","resizableHandleHelpId","defaultAspectRatio","handleResizeStart","_event","_direction","ref","offsetWidth","handleResize","_ref","delta","normalizedDelta","deltaAbs","abs","maxDoubledDelta","deltaToDouble","doubleSegment","singleSegment","updatedWidth","handleResizeStop","remainingWidth","ownerDocument","documentElement","handleResizableHandleKeyDown","event","includes","key","preventDefault","step","shiftKey","newWidth","current","resizable","frameAnimationVariants","default","flexGrow","fullWidth","resizeHandleVariants","hidden","opacity","visible","active","scaleY","currentResizeHandleVariant","as","div","initial","variants","animate","onAnimationComplete","definition","whileHover","scale","transition","ease","size","enable","topRight","bottomRight","bottomLeft","topLeft","handleClasses","handleStyles","minWidth","maxWidth","maxHeight","onFocus","onBlur","onMouseOver","onMouseOut","handleComponent","text","button","role","className","onKeyDown","exit","whileFocus","id","onResizeStart","onResize","onResizeStop","showHandle","style"],"sources":["@wordpress/edit-site/src/components/resizable-frame/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useState, useRef } from '@wordpress/element';\r\nimport {\r\n\tResizableBox,\r\n\tTooltip,\r\n\t__unstableMotion as motion,\r\n} from '@wordpress/components';\r\nimport { useInstanceId, useReducedMotion } from '@wordpress/compose';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../../lock-unlock';\r\nimport { store as editSiteStore } from '../../store';\r\n\r\n// Removes the inline styles in the drag handles.\r\nconst HANDLE_STYLES_OVERRIDE = {\r\n\tposition: undefined,\r\n\tuserSelect: undefined,\r\n\tcursor: undefined,\r\n\twidth: undefined,\r\n\theight: undefined,\r\n\ttop: undefined,\r\n\tright: undefined,\r\n\tbottom: undefined,\r\n\tleft: undefined,\r\n};\r\n\r\n// The minimum width of the frame (in px) while resizing.\r\nconst FRAME_MIN_WIDTH = 320;\r\n// The reference width of the frame (in px) used to calculate the aspect ratio.\r\nconst FRAME_REFERENCE_WIDTH = 1300;\r\n// 9 : 19.5 is the target aspect ratio enforced (when possible) while resizing.\r\nconst FRAME_TARGET_ASPECT_RATIO = 9 / 19.5;\r\n// The minimum distance (in px) between the frame resize handle and the\r\n// viewport's edge. If the frame is resized to be closer to the viewport's edge\r\n// than this distance, then \"canvas mode\" will be enabled.\r\nconst SNAP_TO_EDIT_CANVAS_MODE_THRESHOLD = 200;\r\n// Default size for the `frameSize` state.\r\nconst INITIAL_FRAME_SIZE = { width: '100%', height: '100%' };\r\n\r\nfunction calculateNewHeight( width, initialAspectRatio ) {\r\n\tconst lerp = ( a, b, amount ) => {\r\n\t\treturn a + ( b - a ) * amount;\r\n\t};\r\n\r\n\t// Calculate the intermediate aspect ratio based on the current width.\r\n\tconst lerpFactor =\r\n\t\t1 -\r\n\t\tMath.max(\r\n\t\t\t0,\r\n\t\t\tMath.min(\r\n\t\t\t\t1,\r\n\t\t\t\t( width - FRAME_MIN_WIDTH ) /\r\n\t\t\t\t\t( FRAME_REFERENCE_WIDTH - FRAME_MIN_WIDTH )\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t// Calculate the height based on the intermediate aspect ratio\r\n\t// ensuring the frame arrives at the target aspect ratio.\r\n\tconst intermediateAspectRatio = lerp(\r\n\t\tinitialAspectRatio,\r\n\t\tFRAME_TARGET_ASPECT_RATIO,\r\n\t\tlerpFactor\r\n\t);\r\n\r\n\treturn width / intermediateAspectRatio;\r\n}\r\n\r\nfunction ResizableFrame( {\r\n\tisFullWidth,\r\n\tisOversized,\r\n\tsetIsOversized,\r\n\tisReady,\r\n\tchildren,\r\n\t/** The default (unresized) width/height of the frame, based on the space availalbe in the viewport. */\r\n\tdefaultSize,\r\n\tinnerContentStyle,\r\n} ) {\r\n\tconst disableMotion = useReducedMotion();\r\n\tconst [ frameSize, setFrameSize ] = useState( INITIAL_FRAME_SIZE );\r\n\t// The width of the resizable frame when a new resize gesture starts.\r\n\tconst [ startingWidth, setStartingWidth ] = useState();\r\n\tconst [ isResizing, setIsResizing ] = useState( false );\r\n\tconst [ shouldShowHandle, setShouldShowHandle ] = useState( false );\r\n\tconst [ resizeRatio, setResizeRatio ] = useState( 1 );\r\n\tconst canvasMode = useSelect(\r\n\t\t( select ) => unlock( select( editSiteStore ) ).getCanvasMode(),\r\n\t\t[]\r\n\t);\r\n\tconst { setCanvasMode } = unlock( useDispatch( editSiteStore ) );\r\n\tconst FRAME_TRANSITION = { type: 'tween', duration: isResizing ? 0 : 0.5 };\r\n\tconst frameRef = useRef( null );\r\n\tconst resizableHandleHelpId = useInstanceId(\r\n\t\tResizableFrame,\r\n\t\t'edit-site-resizable-frame-handle-help'\r\n\t);\r\n\tconst defaultAspectRatio = defaultSize.width / defaultSize.height;\r\n\r\n\tconst handleResizeStart = ( _event, _direction, ref ) => {\r\n\t\t// Remember the starting width so we don't have to get `ref.offsetWidth` on\r\n\t\t// every resize event thereafter, which will cause layout thrashing.\r\n\t\tsetStartingWidth( ref.offsetWidth );\r\n\t\tsetIsResizing( true );\r\n\t};\r\n\r\n\t// Calculate the frame size based on the window width as its resized.\r\n\tconst handleResize = ( _event, _direction, _ref, delta ) => {\r\n\t\tconst normalizedDelta = delta.width / resizeRatio;\r\n\t\tconst deltaAbs = Math.abs( normalizedDelta );\r\n\t\tconst maxDoubledDelta =\r\n\t\t\tdelta.width < 0 // is shrinking\r\n\t\t\t\t? deltaAbs\r\n\t\t\t\t: ( defaultSize.width - startingWidth ) / 2;\r\n\t\tconst deltaToDouble = Math.min( deltaAbs, maxDoubledDelta );\r\n\t\tconst doubleSegment = deltaAbs === 0 ? 0 : deltaToDouble / deltaAbs;\r\n\t\tconst singleSegment = 1 - doubleSegment;\r\n\r\n\t\tsetResizeRatio( singleSegment + doubleSegment * 2 );\r\n\r\n\t\tconst updatedWidth = startingWidth + delta.width;\r\n\r\n\t\tsetIsOversized( updatedWidth > defaultSize.width );\r\n\r\n\t\t// Width will be controlled by the library (via `resizeRatio`),\r\n\t\t// so we only need to update the height.\r\n\t\tsetFrameSize( {\r\n\t\t\theight: isOversized\r\n\t\t\t\t? '100%'\r\n\t\t\t\t: calculateNewHeight( updatedWidth, defaultAspectRatio ),\r\n\t\t} );\r\n\t};\r\n\r\n\tconst handleResizeStop = ( _event, _direction, ref ) => {\r\n\t\tsetIsResizing( false );\r\n\r\n\t\tif ( ! isOversized ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetIsOversized( false );\r\n\r\n\t\tconst remainingWidth =\r\n\t\t\tref.ownerDocument.documentElement.offsetWidth - ref.offsetWidth;\r\n\r\n\t\tif ( remainingWidth > SNAP_TO_EDIT_CANVAS_MODE_THRESHOLD ) {\r\n\t\t\t// Reset the initial aspect ratio if the frame is resized slightly\r\n\t\t\t// above the sidebar but not far enough to trigger full screen.\r\n\t\t\tsetFrameSize( INITIAL_FRAME_SIZE );\r\n\t\t} else {\r\n\t\t\t// Trigger full screen if the frame is resized far enough to the left.\r\n\t\t\tsetCanvasMode( 'edit' );\r\n\t\t}\r\n\t};\r\n\r\n\t// Handle resize by arrow keys\r\n\tconst handleResizableHandleKeyDown = ( event ) => {\r\n\t\tif ( ! [ 'ArrowLeft', 'ArrowRight' ].includes( event.key ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst step = 20 * ( event.shiftKey ? 5 : 1 );\r\n\t\tconst delta = step * ( event.key === 'ArrowLeft' ? 1 : -1 );\r\n\t\tconst newWidth = Math.min(\r\n\t\t\tMath.max(\r\n\t\t\t\tFRAME_MIN_WIDTH,\r\n\t\t\t\tframeRef.current.resizable.offsetWidth + delta\r\n\t\t\t),\r\n\t\t\tdefaultSize.width\r\n\t\t);\r\n\r\n\t\tsetFrameSize( {\r\n\t\t\twidth: newWidth,\r\n\t\t\theight: calculateNewHeight( newWidth, defaultAspectRatio ),\r\n\t\t} );\r\n\t};\r\n\r\n\tconst frameAnimationVariants = {\r\n\t\tdefault: {\r\n\t\t\tflexGrow: 0,\r\n\t\t\theight: frameSize.height,\r\n\t\t},\r\n\t\tfullWidth: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\theight: frameSize.height,\r\n\t\t},\r\n\t};\r\n\r\n\tconst resizeHandleVariants = {\r\n\t\thidden: {\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tvisible: {\r\n\t\t\topacity: 1,\r\n\t\t\tleft: -14, // Account for the handle's width.\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\topacity: 1,\r\n\t\t\tleft: -14, // Account for the handle's width.\r\n\t\t\tscaleY: 1.3,\r\n\t\t},\r\n\t};\r\n\tconst currentResizeHandleVariant = ( () => {\r\n\t\tif ( isResizing ) {\r\n\t\t\treturn 'active';\r\n\t\t}\r\n\t\treturn shouldShowHandle ? 'visible' : 'hidden';\r\n\t} )();\r\n\r\n\treturn (\r\n\t\t<ResizableBox\r\n\t\t\tas={ motion.div }\r\n\t\t\tref={ frameRef }\r\n\t\t\tinitial={ false }\r\n\t\t\tvariants={ frameAnimationVariants }\r\n\t\t\tanimate={ isFullWidth ? 'fullWidth' : 'default' }\r\n\t\t\tonAnimationComplete={ ( definition ) => {\r\n\t\t\t\tif ( definition === 'fullWidth' ) {\r\n\t\t\t\t\tsetFrameSize( { width: '100%', height: '100%' } );\r\n\t\t\t\t}\r\n\t\t\t} }\r\n\t\t\twhileHover={\r\n\t\t\t\tcanvasMode === 'view'\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tscale: 1.005,\r\n\t\t\t\t\t\t\ttransition: {\r\n\t\t\t\t\t\t\t\tduration: disableMotion ? 0 : 0.5,\r\n\t\t\t\t\t\t\t\tease: 'easeOut',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: {}\r\n\t\t\t}\r\n\t\t\ttransition={ FRAME_TRANSITION }\r\n\t\t\tsize={ frameSize }\r\n\t\t\tenable={ {\r\n\t\t\t\ttop: false,\r\n\t\t\t\tright: false,\r\n\t\t\t\tbottom: false,\r\n\t\t\t\t// Resizing will be disabled until the editor content is loaded.\r\n\t\t\t\tleft: isReady,\r\n\t\t\t\ttopRight: false,\r\n\t\t\t\tbottomRight: false,\r\n\t\t\t\tbottomLeft: false,\r\n\t\t\t\ttopLeft: false,\r\n\t\t\t} }\r\n\t\t\tresizeRatio={ resizeRatio }\r\n\t\t\thandleClasses={ undefined }\r\n\t\t\thandleStyles={ {\r\n\t\t\t\tleft: HANDLE_STYLES_OVERRIDE,\r\n\t\t\t\tright: HANDLE_STYLES_OVERRIDE,\r\n\t\t\t} }\r\n\t\t\tminWidth={ FRAME_MIN_WIDTH }\r\n\t\t\tmaxWidth={ isFullWidth ? '100%' : '150%' }\r\n\t\t\tmaxHeight=\"100%\"\r\n\t\t\tonFocus={ () => setShouldShowHandle( true ) }\r\n\t\t\tonBlur={ () => setShouldShowHandle( false ) }\r\n\t\t\tonMouseOver={ () => setShouldShowHandle( true ) }\r\n\t\t\tonMouseOut={ () => setShouldShowHandle( false ) }\r\n\t\t\thandleComponent={ {\r\n\t\t\t\tleft: canvasMode === 'view' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Tooltip text={ __( 'Drag to resize' ) }>\r\n\t\t\t\t\t\t\t{ /* Disable reason: role=\"separator\" does in fact support aria-valuenow */ }\r\n\t\t\t\t\t\t\t{ /* eslint-disable-next-line jsx-a11y/role-supports-aria-props */ }\r\n\t\t\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\t\t\tkey=\"handle\"\r\n\t\t\t\t\t\t\t\trole=\"separator\"\r\n\t\t\t\t\t\t\t\taria-orientation=\"vertical\"\r\n\t\t\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t\t\t'edit-site-resizable-frame__handle',\r\n\t\t\t\t\t\t\t\t\t{ 'is-resizing': isResizing }\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\tvariants={ resizeHandleVariants }\r\n\t\t\t\t\t\t\t\tanimate={ currentResizeHandleVariant }\r\n\t\t\t\t\t\t\t\taria-label={ __( 'Drag to resize' ) }\r\n\t\t\t\t\t\t\t\taria-describedby={ resizableHandleHelpId }\r\n\t\t\t\t\t\t\t\taria-valuenow={\r\n\t\t\t\t\t\t\t\t\tframeRef.current?.resizable?.offsetWidth ||\r\n\t\t\t\t\t\t\t\t\tundefined\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\taria-valuemin={ FRAME_MIN_WIDTH }\r\n\t\t\t\t\t\t\t\taria-valuemax={ defaultSize.width }\r\n\t\t\t\t\t\t\t\tonKeyDown={ handleResizableHandleKeyDown }\r\n\t\t\t\t\t\t\t\tinitial=\"hidden\"\r\n\t\t\t\t\t\t\t\texit=\"hidden\"\r\n\t\t\t\t\t\t\t\twhileFocus=\"active\"\r\n\t\t\t\t\t\t\t\twhileHover=\"active\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<div hidden id={ resizableHandleHelpId }>\r\n\t\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t\t'Use left and right arrow keys to resize the canvas. Hold shift to resize in larger increments.'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t),\r\n\t\t\t} }\r\n\t\t\tonResizeStart={ handleResizeStart }\r\n\t\t\tonResize={ handleResize }\r\n\t\t\tonResizeStop={ handleResizeStop }\r\n\t\t\tclassName={ clsx( 'edit-site-resizable-frame__inner', {\r\n\t\t\t\t'is-resizing': isResizing,\r\n\t\t\t} ) }\r\n\t\t\tshowHandle={ false } // Do not show the default handle, as we're using a custom one.\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"edit-site-resizable-frame__inner-content\"\r\n\t\t\t\tstyle={ innerContentStyle }\r\n\t\t\t>\r\n\t\t\t\t{ children }\r\n\t\t\t</div>\r\n\t\t</ResizableBox>\r\n\t);\r\n}\r\n\r\nexport default ResizableFrame;\r\n"],"mappings":"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","ignoreList":[]}