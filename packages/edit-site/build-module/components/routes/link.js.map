{"version":3,"names":["addQueryArgs","getQueryArgs","removeQueryArgs","privateApis","routerPrivateApis","unlock","isPreviewingTheme","currentlyPreviewingTheme","jsx","_jsx","useHistory","useLink","params","state","shouldReplace","history","onClick","event","preventDefault","replace","push","currentArgs","window","location","href","currentUrlWithoutArgs","Object","keys","wp_theme_preview","newUrl","Link","children","props"],"sources":["@wordpress/edit-site/src/components/routes/link.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { addQueryArgs, getQueryArgs, removeQueryArgs } from '@wordpress/url';\r\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../../lock-unlock';\r\nimport {\r\n\tisPreviewingTheme,\r\n\tcurrentlyPreviewingTheme,\r\n} from '../../utils/is-previewing-theme';\r\n\r\nconst { useHistory } = unlock( routerPrivateApis );\r\n\r\nexport function useLink( params, state, shouldReplace = false ) {\r\n\tconst history = useHistory();\r\n\tfunction onClick( event ) {\r\n\t\tevent?.preventDefault();\r\n\r\n\t\tif ( shouldReplace ) {\r\n\t\t\thistory.replace( params, state );\r\n\t\t} else {\r\n\t\t\thistory.push( params, state );\r\n\t\t}\r\n\t}\r\n\r\n\tconst currentArgs = getQueryArgs( window.location.href );\r\n\tconst currentUrlWithoutArgs = removeQueryArgs(\r\n\t\twindow.location.href,\r\n\t\t...Object.keys( currentArgs )\r\n\t);\r\n\r\n\tif ( isPreviewingTheme() ) {\r\n\t\tparams = {\r\n\t\t\t...params,\r\n\t\t\twp_theme_preview: currentlyPreviewingTheme(),\r\n\t\t};\r\n\t}\r\n\r\n\tconst newUrl = addQueryArgs( currentUrlWithoutArgs, params );\r\n\r\n\treturn {\r\n\t\thref: newUrl,\r\n\t\tonClick,\r\n\t};\r\n}\r\n\r\nexport default function Link( {\r\n\tparams = {},\r\n\tstate,\r\n\treplace: shouldReplace = false,\r\n\tchildren,\r\n\t...props\r\n} ) {\r\n\tconst { href, onClick } = useLink( params, state, shouldReplace );\r\n\r\n\treturn (\r\n\t\t<a href={ href } onClick={ onClick } { ...props }>\r\n\t\t\t{ children }\r\n\t\t</a>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,EAAEC,YAAY,EAAEC,eAAe,QAAQ,gBAAgB;AAC5E,SAASC,WAAW,IAAIC,iBAAiB,QAAQ,mBAAmB;;AAEpE;AACA;AACA;AACA,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SACCC,iBAAiB,EACjBC,wBAAwB,QAClB,iCAAiC;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEzC,MAAM;EAAEC;AAAW,CAAC,GAAGL,MAAM,CAAED,iBAAkB,CAAC;AAElD,OAAO,SAASO,OAAOA,CAAEC,MAAM,EAAEC,KAAK,EAAEC,aAAa,GAAG,KAAK,EAAG;EAC/D,MAAMC,OAAO,GAAGL,UAAU,CAAC,CAAC;EAC5B,SAASM,OAAOA,CAAEC,KAAK,EAAG;IACzBA,KAAK,EAAEC,cAAc,CAAC,CAAC;IAEvB,IAAKJ,aAAa,EAAG;MACpBC,OAAO,CAACI,OAAO,CAAEP,MAAM,EAAEC,KAAM,CAAC;IACjC,CAAC,MAAM;MACNE,OAAO,CAACK,IAAI,CAAER,MAAM,EAAEC,KAAM,CAAC;IAC9B;EACD;EAEA,MAAMQ,WAAW,GAAGpB,YAAY,CAAEqB,MAAM,CAACC,QAAQ,CAACC,IAAK,CAAC;EACxD,MAAMC,qBAAqB,GAAGvB,eAAe,CAC5CoB,MAAM,CAACC,QAAQ,CAACC,IAAI,EACpB,GAAGE,MAAM,CAACC,IAAI,CAAEN,WAAY,CAC7B,CAAC;EAED,IAAKf,iBAAiB,CAAC,CAAC,EAAG;IAC1BM,MAAM,GAAG;MACR,GAAGA,MAAM;MACTgB,gBAAgB,EAAErB,wBAAwB,CAAC;IAC5C,CAAC;EACF;EAEA,MAAMsB,MAAM,GAAG7B,YAAY,CAAEyB,qBAAqB,EAAEb,MAAO,CAAC;EAE5D,OAAO;IACNY,IAAI,EAAEK,MAAM;IACZb;EACD,CAAC;AACF;AAEA,eAAe,SAASc,IAAIA,CAAE;EAC7BlB,MAAM,GAAG,CAAC,CAAC;EACXC,KAAK;EACLM,OAAO,EAAEL,aAAa,GAAG,KAAK;EAC9BiB,QAAQ;EACR,GAAGC;AACJ,CAAC,EAAG;EACH,MAAM;IAAER,IAAI;IAAER;EAAQ,CAAC,GAAGL,OAAO,CAAEC,MAAM,EAAEC,KAAK,EAAEC,aAAc,CAAC;EAEjE,oBACCL,IAAA;IAAGe,IAAI,EAAGA,IAAM;IAACR,OAAO,EAAGA,OAAS;IAAA,GAAMgB,KAAK;IAAAD,QAAA,EAC5CA;EAAQ,CACR,CAAC;AAEN","ignoreList":[]}