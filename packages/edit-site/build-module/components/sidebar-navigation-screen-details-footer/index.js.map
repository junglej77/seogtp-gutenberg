{"version":3,"names":["__","sprintf","humanTimeDiff","createInterpolateElement","addQueryArgs","Icon","__experimentalItemGroup","ItemGroup","backup","SidebarNavigationScreenDetailsPanelRow","SidebarNavigationScreenDetailsPanelLabel","SidebarNavigationScreenDetailsPanelValue","SidebarNavigationItem","jsx","_jsx","jsxs","_jsxs","SidebarNavigationScreenDetailsFooter","record","otherProps","_record$_links$predec","_record$_links$versio","hrefProps","lastRevisionId","_links","id","revisionsCount","count","href","revision","as","className","children","justify","modified","time","dateTime","icon"],"sources":["@wordpress/edit-site/src/components/sidebar-navigation-screen-details-footer/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { humanTimeDiff } from '@wordpress/date';\r\nimport { createInterpolateElement } from '@wordpress/element';\r\nimport { addQueryArgs } from '@wordpress/url';\r\nimport {\r\n\tIcon,\r\n\t__experimentalItemGroup as ItemGroup,\r\n} from '@wordpress/components';\r\nimport { backup } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tSidebarNavigationScreenDetailsPanelRow,\r\n\tSidebarNavigationScreenDetailsPanelLabel,\r\n\tSidebarNavigationScreenDetailsPanelValue,\r\n} from '../sidebar-navigation-screen-details-panel';\r\nimport SidebarNavigationItem from '../sidebar-navigation-item';\r\n\r\nexport default function SidebarNavigationScreenDetailsFooter( {\r\n\trecord,\r\n\t...otherProps\r\n} ) {\r\n\t/*\r\n\t * There might be other items in the future,\r\n\t * but for now it's just modified date.\r\n\t * Later we might render a list of items and isolate\r\n\t * the following logic.\r\n\t */\r\n\tconst hrefProps = {};\r\n\tconst lastRevisionId =\r\n\t\trecord?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ?? null;\r\n\tconst revisionsCount =\r\n\t\trecord?._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\r\n\t// Enable the revisions link if there is a last revision and there are more than one revisions.\r\n\tif ( lastRevisionId && revisionsCount > 1 ) {\r\n\t\threfProps.href = addQueryArgs( 'revision.php', {\r\n\t\t\trevision: record?._links[ 'predecessor-version' ][ 0 ].id,\r\n\t\t} );\r\n\t\threfProps.as = 'a';\r\n\t}\r\n\treturn (\r\n\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-details-footer\">\r\n\t\t\t<SidebarNavigationItem\r\n\t\t\t\taria-label={ __( 'Revisions' ) }\r\n\t\t\t\t{ ...hrefProps }\r\n\t\t\t\t{ ...otherProps }\r\n\t\t\t>\r\n\t\t\t\t<SidebarNavigationScreenDetailsPanelRow justify=\"space-between\">\r\n\t\t\t\t\t<SidebarNavigationScreenDetailsPanelLabel>\r\n\t\t\t\t\t\t{ __( 'Last modified' ) }\r\n\t\t\t\t\t</SidebarNavigationScreenDetailsPanelLabel>\r\n\t\t\t\t\t<SidebarNavigationScreenDetailsPanelValue>\r\n\t\t\t\t\t\t{ createInterpolateElement(\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t/* translators: %s: is the relative time when the post was last modified. */\r\n\t\t\t\t\t\t\t\t__( '<time>%s</time>' ),\r\n\t\t\t\t\t\t\t\thumanTimeDiff( record.modified )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttime: <time dateTime={ record.modified } />,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</SidebarNavigationScreenDetailsPanelValue>\r\n\t\t\t\t\t<Icon\r\n\t\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-screen-details-footer__icon\"\r\n\t\t\t\t\t\ticon={ backup }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</SidebarNavigationScreenDetailsPanelRow>\r\n\t\t\t</SidebarNavigationItem>\r\n\t\t</ItemGroup>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,wBAAwB,QAAQ,oBAAoB;AAC7D,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SACCC,IAAI,EACJC,uBAAuB,IAAIC,SAAS,QAC9B,uBAAuB;AAC9B,SAASC,MAAM,QAAQ,kBAAkB;;AAEzC;AACA;AACA;AACA,SACCC,sCAAsC,EACtCC,wCAAwC,EACxCC,wCAAwC,QAClC,4CAA4C;AACnD,OAAOC,qBAAqB,MAAM,4BAA4B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE/D,eAAe,SAASC,oCAAoCA,CAAE;EAC7DC,MAAM;EACN,GAAGC;AACJ,CAAC,EAAG;EAAA,IAAAC,qBAAA,EAAAC,qBAAA;EACH;AACD;AACA;AACA;AACA;AACA;EACC,MAAMC,SAAS,GAAG,CAAC,CAAC;EACpB,MAAMC,cAAc,IAAAH,qBAAA,GACnBF,MAAM,EAAEM,MAAM,GAAI,qBAAqB,CAAE,GAAI,CAAC,CAAE,EAAEC,EAAE,cAAAL,qBAAA,cAAAA,qBAAA,GAAI,IAAI;EAC7D,MAAMM,cAAc,IAAAL,qBAAA,GACnBH,MAAM,EAAEM,MAAM,GAAI,iBAAiB,CAAE,GAAI,CAAC,CAAE,EAAEG,KAAK,cAAAN,qBAAA,cAAAA,qBAAA,GAAI,CAAC;EACzD;EACA,IAAKE,cAAc,IAAIG,cAAc,GAAG,CAAC,EAAG;IAC3CJ,SAAS,CAACM,IAAI,GAAGxB,YAAY,CAAE,cAAc,EAAE;MAC9CyB,QAAQ,EAAEX,MAAM,EAAEM,MAAM,CAAE,qBAAqB,CAAE,CAAE,CAAC,CAAE,CAACC;IACxD,CAAE,CAAC;IACHH,SAAS,CAACQ,EAAE,GAAG,GAAG;EACnB;EACA,oBACChB,IAAA,CAACP,SAAS;IAACwB,SAAS,EAAC,oDAAoD;IAAAC,QAAA,eACxElB,IAAA,CAACF,qBAAqB;MACrB,cAAaZ,EAAE,CAAE,WAAY,CAAG;MAAA,GAC3BsB,SAAS;MAAA,GACTH,UAAU;MAAAa,QAAA,eAEfhB,KAAA,CAACP,sCAAsC;QAACwB,OAAO,EAAC,eAAe;QAAAD,QAAA,gBAC9DlB,IAAA,CAACJ,wCAAwC;UAAAsB,QAAA,EACtChC,EAAE,CAAE,eAAgB;QAAC,CACkB,CAAC,eAC3Cc,IAAA,CAACH,wCAAwC;UAAAqB,QAAA,EACtC7B,wBAAwB,CACzBF,OAAO,EACN;UACAD,EAAE,CAAE,iBAAkB,CAAC,EACvBE,aAAa,CAAEgB,MAAM,CAACgB,QAAS,CAChC,CAAC,EACD;YACCC,IAAI,eAAErB,IAAA;cAAMsB,QAAQ,EAAGlB,MAAM,CAACgB;YAAU,CAAE;UAC3C,CACD;QAAC,CACwC,CAAC,eAC3CpB,IAAA,CAACT,IAAI;UACJ0B,SAAS,EAAC,0DAA0D;UACpEM,IAAI,EAAG7B;QAAQ,CACf,CAAC;MAAA,CACqC;IAAC,CACnB;EAAC,CACd,CAAC;AAEd","ignoreList":[]}