{"version":3,"names":["useEntityRecord","store","coreStore","Spinner","__","useSelect","decodeEntities","privateApis","routerPrivateApis","SidebarNavigationScreenWrapper","ScreenNavigationMoreMenu","SingleNavigationMenu","useNavigationMenuHandlers","buildNavigationLabel","unlock","jsx","_jsx","useLocation","postType","SidebarNavigationScreenNavigationMenu","backPath","params","postId","record","navigationMenu","isResolving","isSaving","isDeleting","select","isSavingEntityRecord","isDeletingEntityRecord","isLoading","menuTitle","title","rendered","slug","handleSave","handleDelete","handleDuplicate","_handleDelete","_handleSave","edits","_handleDuplicate","description","children","className","content","raw","actions","menuId","id","onDelete","onSave","onDuplicate","status"],"sources":["@wordpress/edit-site/src/components/sidebar-navigation-screen-navigation-menu/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityRecord, store as coreStore } from '@wordpress/core-data';\r\nimport { Spinner } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { SidebarNavigationScreenWrapper } from '../sidebar-navigation-screen-navigation-menus';\r\nimport ScreenNavigationMoreMenu from './more-menu';\r\nimport SingleNavigationMenu from './single-navigation-menu';\r\nimport useNavigationMenuHandlers from './use-navigation-menu-handlers';\r\nimport buildNavigationLabel from '../sidebar-navigation-screen-navigation-menus/build-navigation-label';\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nconst { useLocation } = unlock( routerPrivateApis );\r\n\r\nexport const postType = `wp_navigation`;\r\n\r\nexport default function SidebarNavigationScreenNavigationMenu( { backPath } ) {\r\n\tconst {\r\n\t\tparams: { postId },\r\n\t} = useLocation();\r\n\r\n\tconst { record: navigationMenu, isResolving } = useEntityRecord(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\tpostId\r\n\t);\r\n\r\n\tconst { isSaving, isDeleting } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { isSavingEntityRecord, isDeletingEntityRecord } =\r\n\t\t\t\tselect( coreStore );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tisSaving: isSavingEntityRecord( 'postType', postType, postId ),\r\n\t\t\t\tisDeleting: isDeletingEntityRecord(\r\n\t\t\t\t\t'postType',\r\n\t\t\t\t\tpostType,\r\n\t\t\t\t\tpostId\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ postId ]\r\n\t);\r\n\r\n\tconst isLoading = isResolving || isSaving || isDeleting;\r\n\r\n\tconst menuTitle = navigationMenu?.title?.rendered || navigationMenu?.slug;\r\n\r\n\tconst { handleSave, handleDelete, handleDuplicate } =\r\n\t\tuseNavigationMenuHandlers();\r\n\r\n\tconst _handleDelete = () => handleDelete( navigationMenu );\r\n\tconst _handleSave = ( edits ) => handleSave( navigationMenu, edits );\r\n\tconst _handleDuplicate = () => handleDuplicate( navigationMenu );\r\n\r\n\tif ( isLoading ) {\r\n\t\treturn (\r\n\t\t\t<SidebarNavigationScreenWrapper\r\n\t\t\t\tdescription={ __(\r\n\t\t\t\t\t'Navigation Menus are a curated collection of blocks that allow visitors to get around your site.'\r\n\t\t\t\t) }\r\n\t\t\t\tbackPath={ backPath }\r\n\t\t\t>\r\n\t\t\t\t<Spinner className=\"edit-site-sidebar-navigation-screen-navigation-menus__loading\" />\r\n\t\t\t</SidebarNavigationScreenWrapper>\r\n\t\t);\r\n\t}\r\n\r\n\tif ( ! isLoading && ! navigationMenu ) {\r\n\t\treturn (\r\n\t\t\t<SidebarNavigationScreenWrapper\r\n\t\t\t\tdescription={ __( 'Navigation Menu missing.' ) }\r\n\t\t\t\tbackPath={ backPath }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tif ( ! navigationMenu?.content?.raw ) {\r\n\t\treturn (\r\n\t\t\t<SidebarNavigationScreenWrapper\r\n\t\t\t\tactions={\r\n\t\t\t\t\t<ScreenNavigationMoreMenu\r\n\t\t\t\t\t\tmenuId={ navigationMenu?.id }\r\n\t\t\t\t\t\tmenuTitle={ decodeEntities( menuTitle ) }\r\n\t\t\t\t\t\tonDelete={ _handleDelete }\r\n\t\t\t\t\t\tonSave={ _handleSave }\r\n\t\t\t\t\t\tonDuplicate={ _handleDuplicate }\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\tbackPath={ backPath }\r\n\t\t\t\ttitle={ buildNavigationLabel(\r\n\t\t\t\t\tnavigationMenu?.title,\r\n\t\t\t\t\tnavigationMenu?.id,\r\n\t\t\t\t\tnavigationMenu?.status\r\n\t\t\t\t) }\r\n\t\t\t\tdescription={ __( 'This Navigation Menu is empty.' ) }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SingleNavigationMenu\r\n\t\t\tnavigationMenu={ navigationMenu }\r\n\t\t\tbackPath={ backPath }\r\n\t\t\thandleDelete={ _handleDelete }\r\n\t\t\thandleSave={ _handleSave }\r\n\t\t\thandleDuplicate={ _handleDuplicate }\r\n\t\t/>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}