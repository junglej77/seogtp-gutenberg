{"version":3,"names":["chevronUp","chevronDown","moreVertical","DropdownMenu","MenuItem","MenuGroup","useDispatch","useSelect","useCallback","__","sprintf","BlockTitle","store","blockEditorStore","privateApis","routerPrivateApis","POPOVER_PROPS","className","placement","unlock","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useHistory","LeafMoreMenu","props","history","block","clientId","moveBlocksDown","moveBlocksUp","removeBlocks","removeLabel","maximumLength","goToLabel","rootClientId","select","getBlockRootClientId","onGoToPage","selectedBlock","attributes","name","kind","id","type","params","getLocationWithParams","push","postType","postId","canvas","backPath","icon","label","popoverProps","noIcons","children","onClose","onClick"],"sources":["@wordpress/edit-site/src/components/sidebar-navigation-screen-navigation-menus/leaf-more-menu.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\n\r\nimport { chevronUp, chevronDown, moreVertical } from '@wordpress/icons';\r\nimport { DropdownMenu, MenuItem, MenuGroup } from '@wordpress/components';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { useCallback } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { BlockTitle, store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\r\n\r\nconst POPOVER_PROPS = {\r\n\tclassName: 'block-editor-block-settings-menu__popover',\r\n\tplacement: 'bottom-start',\r\n};\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nconst { useHistory } = unlock( routerPrivateApis );\r\n\r\nexport default function LeafMoreMenu( props ) {\r\n\tconst history = useHistory();\r\n\tconst { block } = props;\r\n\tconst { clientId } = block;\r\n\tconst { moveBlocksDown, moveBlocksUp, removeBlocks } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tconst removeLabel = sprintf(\r\n\t\t/* translators: %s: block name */\r\n\t\t__( 'Remove %s' ),\r\n\t\tBlockTitle( { clientId, maximumLength: 25 } )\r\n\t);\r\n\r\n\tconst goToLabel = sprintf(\r\n\t\t/* translators: %s: block name */\r\n\t\t__( 'Go to %s' ),\r\n\t\tBlockTitle( { clientId, maximumLength: 25 } )\r\n\t);\r\n\r\n\tconst rootClientId = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlockRootClientId } = select( blockEditorStore );\r\n\r\n\t\t\treturn getBlockRootClientId( clientId );\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst onGoToPage = useCallback(\r\n\t\t( selectedBlock ) => {\r\n\t\t\tconst { attributes, name } = selectedBlock;\r\n\t\t\tif (\r\n\t\t\t\tattributes.kind === 'post-type' &&\r\n\t\t\t\tattributes.id &&\r\n\t\t\t\tattributes.type &&\r\n\t\t\t\thistory\r\n\t\t\t) {\r\n\t\t\t\tconst { params } = history.getLocationWithParams();\r\n\t\t\t\thistory.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpostType: attributes.type,\r\n\t\t\t\t\t\tpostId: attributes.id,\r\n\t\t\t\t\t\tcanvas: 'edit',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbackPath: params,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif ( name === 'core/page-list-item' && attributes.id && history ) {\r\n\t\t\t\tconst { params } = history.getLocationWithParams();\r\n\t\t\t\thistory.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpostType: 'page',\r\n\t\t\t\t\t\tpostId: attributes.id,\r\n\t\t\t\t\t\tcanvas: 'edit',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbackPath: params,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ history ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<DropdownMenu\r\n\t\t\ticon={ moreVertical }\r\n\t\t\tlabel={ __( 'Options' ) }\r\n\t\t\tclassName=\"block-editor-block-settings-menu\"\r\n\t\t\tpopoverProps={ POPOVER_PROPS }\r\n\t\t\tnoIcons\r\n\t\t\t{ ...props }\r\n\t\t>\r\n\t\t\t{ ( { onClose } ) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\ticon={ chevronUp }\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tmoveBlocksUp( [ clientId ], rootClientId );\r\n\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Move up' ) }\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\ticon={ chevronDown }\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tmoveBlocksDown( [ clientId ], rootClientId );\r\n\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Move down' ) }\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t{ block.attributes?.type === 'page' &&\r\n\t\t\t\t\t\t\tblock.attributes?.id && (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\tonGoToPage( block );\r\n\t\t\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ goToLabel }\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tremoveBlocks( [ clientId ], false );\r\n\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ removeLabel }\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</DropdownMenu>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}