{"version":3,"names":["__experimentalItemGroup","ItemGroup","__experimentalItem","Item","getTemplatePartIcon","__","store","coreStore","useSelect","file","privateApis","routerPrivateApis","SidebarNavigationScreen","CategoryItem","PATTERN_DEFAULT_CATEGORY","PATTERN_TYPES","TEMPLATE_PART_POST_TYPE","TEMPLATE_PART_ALL_AREAS_CATEGORY","usePatternCategories","useTemplatePartAreas","unlock","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useLocation","CategoriesGroup","templatePartAreas","patternCategories","currentCategory","currentType","allPatterns","otherPatterns","className","children","count","Object","values","map","templateParts","length","reduce","acc","val","icon","label","id","type","isActive","entries","area","name","user","category","SidebarNavigationScreenPatterns","backPath","params","postType","categoryId","hasTemplateParts","isLoading","hasPatterns","isBlockBasedTheme","select","getCurrentTheme","is_block_theme","isRoot","title","description","content"],"sources":["@wordpress/edit-site/src/components/sidebar-navigation-screen-patterns/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalItemGroup as ItemGroup,\r\n\t__experimentalItem as Item,\r\n} from '@wordpress/components';\r\nimport { getTemplatePartIcon } from '@wordpress/editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { file } from '@wordpress/icons';\r\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\r\nimport CategoryItem from './category-item';\r\nimport {\r\n\tPATTERN_DEFAULT_CATEGORY,\r\n\tPATTERN_TYPES,\r\n\tTEMPLATE_PART_POST_TYPE,\r\n\tTEMPLATE_PART_ALL_AREAS_CATEGORY,\r\n} from '../../utils/constants';\r\nimport usePatternCategories from './use-pattern-categories';\r\nimport useTemplatePartAreas from './use-template-part-areas';\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nconst { useLocation } = unlock( routerPrivateApis );\r\n\r\nfunction CategoriesGroup( {\r\n\ttemplatePartAreas,\r\n\tpatternCategories,\r\n\tcurrentCategory,\r\n\tcurrentType,\r\n} ) {\r\n\tconst [ allPatterns, ...otherPatterns ] = patternCategories;\r\n\r\n\treturn (\r\n\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-patterns__group\">\r\n\t\t\t<CategoryItem\r\n\t\t\t\tkey=\"all\"\r\n\t\t\t\tcount={ Object.values( templatePartAreas )\r\n\t\t\t\t\t.map( ( { templateParts } ) => templateParts?.length || 0 )\r\n\t\t\t\t\t.reduce( ( acc, val ) => acc + val, 0 ) }\r\n\t\t\t\ticon={ getTemplatePartIcon() } /* no name, so it provides the fallback icon */\r\n\t\t\t\tlabel={ __( 'All template parts' ) }\r\n\t\t\t\tid={ TEMPLATE_PART_ALL_AREAS_CATEGORY }\r\n\t\t\t\ttype={ TEMPLATE_PART_POST_TYPE }\r\n\t\t\t\tisActive={\r\n\t\t\t\t\tcurrentCategory === TEMPLATE_PART_ALL_AREAS_CATEGORY &&\r\n\t\t\t\t\tcurrentType === TEMPLATE_PART_POST_TYPE\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{ Object.entries( templatePartAreas ).map(\r\n\t\t\t\t( [ area, { label, templateParts } ] ) => (\r\n\t\t\t\t\t<CategoryItem\r\n\t\t\t\t\t\tkey={ area }\r\n\t\t\t\t\t\tcount={ templateParts?.length }\r\n\t\t\t\t\t\ticon={ getTemplatePartIcon( area ) }\r\n\t\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\t\tid={ area }\r\n\t\t\t\t\t\ttype={ TEMPLATE_PART_POST_TYPE }\r\n\t\t\t\t\t\tisActive={\r\n\t\t\t\t\t\t\tcurrentCategory === area &&\r\n\t\t\t\t\t\t\tcurrentType === TEMPLATE_PART_POST_TYPE\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t) }\r\n\t\t\t<div className=\"edit-site-sidebar-navigation-screen-patterns__divider\" />\r\n\t\t\t{ allPatterns && (\r\n\t\t\t\t<CategoryItem\r\n\t\t\t\t\tkey={ allPatterns.name }\r\n\t\t\t\t\tcount={ allPatterns.count }\r\n\t\t\t\t\tlabel={ allPatterns.label }\r\n\t\t\t\t\ticon={ file }\r\n\t\t\t\t\tid={ allPatterns.name }\r\n\t\t\t\t\ttype={ PATTERN_TYPES.user }\r\n\t\t\t\t\tisActive={\r\n\t\t\t\t\t\tcurrentCategory === `${ allPatterns.name }` &&\r\n\t\t\t\t\t\tcurrentType === PATTERN_TYPES.user\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ otherPatterns.map( ( category ) => (\r\n\t\t\t\t<CategoryItem\r\n\t\t\t\t\tkey={ category.name }\r\n\t\t\t\t\tcount={ category.count }\r\n\t\t\t\t\tlabel={ category.label }\r\n\t\t\t\t\ticon={ file }\r\n\t\t\t\t\tid={ category.name }\r\n\t\t\t\t\ttype={ PATTERN_TYPES.user }\r\n\t\t\t\t\tisActive={\r\n\t\t\t\t\t\tcurrentCategory === `${ category.name }` &&\r\n\t\t\t\t\t\tcurrentType === PATTERN_TYPES.user\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) ) }\r\n\t\t</ItemGroup>\r\n\t);\r\n}\r\n\r\nexport default function SidebarNavigationScreenPatterns( { backPath } ) {\r\n\tconst {\r\n\t\tparams: { postType, categoryId },\r\n\t} = useLocation();\r\n\tconst currentType = postType || PATTERN_TYPES.user;\r\n\tconst currentCategory =\r\n\t\tcategoryId ||\r\n\t\t( currentType === PATTERN_TYPES.user\r\n\t\t\t? PATTERN_DEFAULT_CATEGORY\r\n\t\t\t: TEMPLATE_PART_ALL_AREAS_CATEGORY );\r\n\r\n\tconst { templatePartAreas, hasTemplateParts, isLoading } =\r\n\t\tuseTemplatePartAreas();\r\n\tconst { patternCategories, hasPatterns } = usePatternCategories();\r\n\tconst isBlockBasedTheme = useSelect(\r\n\t\t( select ) => select( coreStore ).getCurrentTheme()?.is_block_theme,\r\n\t\t[]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<SidebarNavigationScreen\r\n\t\t\tisRoot={ ! isBlockBasedTheme }\r\n\t\t\ttitle={ __( 'Patterns' ) }\r\n\t\t\tdescription={ __(\r\n\t\t\t\t'Manage what patterns are available when editing the site.'\r\n\t\t\t) }\r\n\t\t\tbackPath={ backPath }\r\n\t\t\tcontent={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{ isLoading && __( 'Loading itemsâ€¦' ) }\r\n\t\t\t\t\t{ ! isLoading && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{ ! hasTemplateParts && ! hasPatterns && (\r\n\t\t\t\t\t\t\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-patterns__group\">\r\n\t\t\t\t\t\t\t\t\t<Item>{ __( 'No items found' ) }</Item>\r\n\t\t\t\t\t\t\t\t</ItemGroup>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t<CategoriesGroup\r\n\t\t\t\t\t\t\t\ttemplatePartAreas={ templatePartAreas }\r\n\t\t\t\t\t\t\t\tpatternCategories={ patternCategories }\r\n\t\t\t\t\t\t\t\tcurrentCategory={ currentCategory }\r\n\t\t\t\t\t\t\t\tcurrentType={ currentType }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}