{"version":3,"names":["useEntityRecords","useSelect","store","editorStore","TEMPLATE_PART_AREA_DEFAULT_CATEGORY","TEMPLATE_PART_POST_TYPE","useTemplatePartsGroupedByArea","items","allItems","templatePartAreas","select","__experimentalGetDefaultTemplatePartAreas","knownAreas","header","footer","sidebar","uncategorized","forEach","templatePartArea","area","templateParts","groupedByArea","reduce","accumulator","item","key","push","useTemplatePartAreas","records","isResolving","isLoading","per_page","hasTemplateParts","length"],"sources":["@wordpress/edit-site/src/components/sidebar-navigation-screen-patterns/use-template-part-areas.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityRecords } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as editorStore } from '@wordpress/editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tTEMPLATE_PART_AREA_DEFAULT_CATEGORY,\r\n\tTEMPLATE_PART_POST_TYPE,\r\n} from '../../utils/constants';\r\n\r\nconst useTemplatePartsGroupedByArea = ( items ) => {\r\n\tconst allItems = items || [];\r\n\r\n\tconst templatePartAreas = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplatePartAreas(),\r\n\t\t[]\r\n\t);\r\n\r\n\t// Create map of template areas ensuring that default areas are displayed before\r\n\t// any custom registered template part areas.\r\n\tconst knownAreas = {\r\n\t\theader: {},\r\n\t\tfooter: {},\r\n\t\tsidebar: {},\r\n\t\tuncategorized: {},\r\n\t};\r\n\r\n\ttemplatePartAreas.forEach(\r\n\t\t( templatePartArea ) =>\r\n\t\t\t( knownAreas[ templatePartArea.area ] = {\r\n\t\t\t\t...templatePartArea,\r\n\t\t\t\ttemplateParts: [],\r\n\t\t\t} )\r\n\t);\r\n\r\n\tconst groupedByArea = allItems.reduce( ( accumulator, item ) => {\r\n\t\tconst key = accumulator[ item.area ]\r\n\t\t\t? item.area\r\n\t\t\t: TEMPLATE_PART_AREA_DEFAULT_CATEGORY;\r\n\t\taccumulator[ key ].templateParts.push( item );\r\n\t\treturn accumulator;\r\n\t}, knownAreas );\r\n\r\n\treturn groupedByArea;\r\n};\r\n\r\nexport default function useTemplatePartAreas() {\r\n\tconst { records: templateParts, isResolving: isLoading } = useEntityRecords(\r\n\t\t'postType',\r\n\t\tTEMPLATE_PART_POST_TYPE,\r\n\t\t{ per_page: -1 }\r\n\t);\r\n\r\n\treturn {\r\n\t\thasTemplateParts: templateParts ? !! templateParts.length : false,\r\n\t\tisLoading,\r\n\t\ttemplatePartAreas: useTemplatePartsGroupedByArea( templateParts ),\r\n\t};\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,gBAAgB,QAAQ,sBAAsB;AACvD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;;AAExD;AACA;AACA;AACA,SACCC,mCAAmC,EACnCC,uBAAuB,QACjB,uBAAuB;AAE9B,MAAMC,6BAA6B,GAAKC,KAAK,IAAM;EAClD,MAAMC,QAAQ,GAAGD,KAAK,IAAI,EAAE;EAE5B,MAAME,iBAAiB,GAAGR,SAAS,CAChCS,MAAM,IACPA,MAAM,CAAEP,WAAY,CAAC,CAACQ,yCAAyC,CAAC,CAAC,EAClE,EACD,CAAC;;EAED;EACA;EACA,MAAMC,UAAU,GAAG;IAClBC,MAAM,EAAE,CAAC,CAAC;IACVC,MAAM,EAAE,CAAC,CAAC;IACVC,OAAO,EAAE,CAAC,CAAC;IACXC,aAAa,EAAE,CAAC;EACjB,CAAC;EAEDP,iBAAiB,CAACQ,OAAO,CACtBC,gBAAgB,IACfN,UAAU,CAAEM,gBAAgB,CAACC,IAAI,CAAE,GAAG;IACvC,GAAGD,gBAAgB;IACnBE,aAAa,EAAE;EAChB,CACF,CAAC;EAED,MAAMC,aAAa,GAAGb,QAAQ,CAACc,MAAM,CAAE,CAAEC,WAAW,EAAEC,IAAI,KAAM;IAC/D,MAAMC,GAAG,GAAGF,WAAW,CAAEC,IAAI,CAACL,IAAI,CAAE,GACjCK,IAAI,CAACL,IAAI,GACTf,mCAAmC;IACtCmB,WAAW,CAAEE,GAAG,CAAE,CAACL,aAAa,CAACM,IAAI,CAAEF,IAAK,CAAC;IAC7C,OAAOD,WAAW;EACnB,CAAC,EAAEX,UAAW,CAAC;EAEf,OAAOS,aAAa;AACrB,CAAC;AAED,eAAe,SAASM,oBAAoBA,CAAA,EAAG;EAC9C,MAAM;IAAEC,OAAO,EAAER,aAAa;IAAES,WAAW,EAAEC;EAAU,CAAC,GAAG9B,gBAAgB,CAC1E,UAAU,EACVK,uBAAuB,EACvB;IAAE0B,QAAQ,EAAE,CAAC;EAAE,CAChB,CAAC;EAED,OAAO;IACNC,gBAAgB,EAAEZ,aAAa,GAAG,CAAC,CAAEA,aAAa,CAACa,MAAM,GAAG,KAAK;IACjEH,SAAS;IACTrB,iBAAiB,EAAEH,6BAA6B,CAAEc,aAAc;EACjE,CAAC;AACF","ignoreList":[]}