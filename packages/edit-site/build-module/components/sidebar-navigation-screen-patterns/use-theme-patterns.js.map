{"version":3,"names":["store","coreStore","useSelect","useMemo","filterOutDuplicatesByName","EXCLUDED_PATTERN_SOURCES","unlock","editSiteStore","useThemePatterns","blockPatterns","select","_getSettings$__experi","getSettings","__experimentalAdditionalBlockPatterns","__experimentalBlockPatterns","restBlockPatterns","getBlockPatterns","patterns","filter","pattern","includes","source","inserter"],"sources":["@wordpress/edit-site/src/components/sidebar-navigation-screen-patterns/use-theme-patterns.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { filterOutDuplicatesByName } from '../page-patterns/utils';\r\nimport { EXCLUDED_PATTERN_SOURCES } from '../../utils/constants';\r\nimport { unlock } from '../../lock-unlock';\r\nimport { store as editSiteStore } from '../../store';\r\n\r\nexport default function useThemePatterns() {\r\n\tconst blockPatterns = useSelect( ( select ) => {\r\n\t\tconst { getSettings } = unlock( select( editSiteStore ) );\r\n\r\n\t\treturn (\r\n\t\t\tgetSettings().__experimentalAdditionalBlockPatterns ??\r\n\t\t\tgetSettings().__experimentalBlockPatterns\r\n\t\t);\r\n\t} );\r\n\r\n\tconst restBlockPatterns = useSelect( ( select ) =>\r\n\t\tselect( coreStore ).getBlockPatterns()\r\n\t);\r\n\r\n\tconst patterns = useMemo(\r\n\t\t() =>\r\n\t\t\t[ ...( blockPatterns || [] ), ...( restBlockPatterns || [] ) ]\r\n\t\t\t\t.filter(\r\n\t\t\t\t\t( pattern ) =>\r\n\t\t\t\t\t\t! EXCLUDED_PATTERN_SOURCES.includes( pattern.source )\r\n\t\t\t\t)\r\n\t\t\t\t.filter( filterOutDuplicatesByName )\r\n\t\t\t\t.filter( ( pattern ) => pattern.inserter !== false ),\r\n\t\t[ blockPatterns, restBlockPatterns ]\r\n\t);\r\n\r\n\treturn patterns;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,OAAO,QAAQ,oBAAoB;;AAE5C;AACA;AACA;AACA,SAASC,yBAAyB,QAAQ,wBAAwB;AAClE,SAASC,wBAAwB,QAAQ,uBAAuB;AAChE,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SAASN,KAAK,IAAIO,aAAa,QAAQ,aAAa;AAEpD,eAAe,SAASC,gBAAgBA,CAAA,EAAG;EAC1C,MAAMC,aAAa,GAAGP,SAAS,CAAIQ,MAAM,IAAM;IAAA,IAAAC,qBAAA;IAC9C,MAAM;MAAEC;IAAY,CAAC,GAAGN,MAAM,CAAEI,MAAM,CAAEH,aAAc,CAAE,CAAC;IAEzD,QAAAI,qBAAA,GACCC,WAAW,CAAC,CAAC,CAACC,qCAAqC,cAAAF,qBAAA,cAAAA,qBAAA,GACnDC,WAAW,CAAC,CAAC,CAACE,2BAA2B;EAE3C,CAAE,CAAC;EAEH,MAAMC,iBAAiB,GAAGb,SAAS,CAAIQ,MAAM,IAC5CA,MAAM,CAAET,SAAU,CAAC,CAACe,gBAAgB,CAAC,CACtC,CAAC;EAED,MAAMC,QAAQ,GAAGd,OAAO,CACvB,MACC,CAAE,IAAKM,aAAa,IAAI,EAAE,CAAE,EAAE,IAAKM,iBAAiB,IAAI,EAAE,CAAE,CAAE,CAC5DG,MAAM,CACJC,OAAO,IACR,CAAEd,wBAAwB,CAACe,QAAQ,CAAED,OAAO,CAACE,MAAO,CACtD,CAAC,CACAH,MAAM,CAAEd,yBAA0B,CAAC,CACnCc,MAAM,CAAIC,OAAO,IAAMA,OAAO,CAACG,QAAQ,KAAK,KAAM,CAAC,EACtD,CAAEb,aAAa,EAAEM,iBAAiB,CACnC,CAAC;EAED,OAAOE,QAAQ;AAChB","ignoreList":[]}