{"version":3,"names":["useEntityRecords","useMemo","__experimentalItemGroup","ItemGroup","DataViewItem","useAddedBy","layout","TEMPLATE_POST_TYPE","jsx","_jsx","jsxs","_jsxs","EMPTY_ARRAY","TemplateDataviewItem","template","isActive","text","icon","type","id","slug","title","isCustom","DataviewsTemplatesSidebarContent","activeView","records","per_page","firstItemPerAuthorText","_ref","firstItemPerAuthor","reduce","acc","author","author_text","Object","values","children","map"],"sources":["@wordpress/edit-site/src/components/sidebar-navigation-screen-templates-browse/content.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityRecords } from '@wordpress/core-data';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport DataViewItem from '../sidebar-dataviews/dataview-item';\r\nimport { useAddedBy } from '../page-templates/hooks';\r\nimport { layout } from '@wordpress/icons';\r\nimport { TEMPLATE_POST_TYPE } from '../../utils/constants';\r\n\r\nconst EMPTY_ARRAY = [];\r\n\r\nfunction TemplateDataviewItem( { template, isActive } ) {\r\n\tconst { text, icon } = useAddedBy( template.type, template.id );\r\n\treturn (\r\n\t\t<DataViewItem\r\n\t\t\tkey={ text }\r\n\t\t\tslug={ text }\r\n\t\t\ttitle={ text }\r\n\t\t\ticon={ icon }\r\n\t\t\tisActive={ isActive }\r\n\t\t\tisCustom={ false }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default function DataviewsTemplatesSidebarContent( {\r\n\tactiveView,\r\n\ttitle,\r\n} ) {\r\n\tconst { records } = useEntityRecords( 'postType', TEMPLATE_POST_TYPE, {\r\n\t\tper_page: -1,\r\n\t} );\r\n\tconst firstItemPerAuthorText = useMemo( () => {\r\n\t\tconst firstItemPerAuthor = records?.reduce( ( acc, template ) => {\r\n\t\t\tconst author = template.author_text;\r\n\t\t\tif ( author && ! acc[ author ] ) {\r\n\t\t\t\tacc[ author ] = template;\r\n\t\t\t}\r\n\t\t\treturn acc;\r\n\t\t}, {} );\r\n\t\treturn (\r\n\t\t\t( firstItemPerAuthor && Object.values( firstItemPerAuthor ) ) ??\r\n\t\t\tEMPTY_ARRAY\r\n\t\t);\r\n\t}, [ records ] );\r\n\r\n\treturn (\r\n\t\t<ItemGroup>\r\n\t\t\t<DataViewItem\r\n\t\t\t\tslug=\"all\"\r\n\t\t\t\ttitle={ title }\r\n\t\t\t\ticon={ layout }\r\n\t\t\t\tisActive={ activeView === 'all' }\r\n\t\t\t\tisCustom={ false }\r\n\t\t\t/>\r\n\t\t\t{ firstItemPerAuthorText.map( ( template ) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<TemplateDataviewItem\r\n\t\t\t\t\t\tkey={ template.author_text }\r\n\t\t\t\t\t\ttemplate={ template }\r\n\t\t\t\t\t\tisActive={ activeView === template.author_text }\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</ItemGroup>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,gBAAgB,QAAQ,sBAAsB;AACvD,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,uBAAuB,IAAIC,SAAS,QAAQ,uBAAuB;;AAE5E;AACA;AACA;AACA,OAAOC,YAAY,MAAM,oCAAoC;AAC7D,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,MAAM,QAAQ,kBAAkB;AACzC,SAASC,kBAAkB,QAAQ,uBAAuB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE3D,MAAMC,WAAW,GAAG,EAAE;AAEtB,SAASC,oBAAoBA,CAAE;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAG;EACvD,MAAM;IAAEC,IAAI;IAAEC;EAAK,CAAC,GAAGZ,UAAU,CAAES,QAAQ,CAACI,IAAI,EAAEJ,QAAQ,CAACK,EAAG,CAAC;EAC/D,oBACCV,IAAA,CAACL,YAAY;IAEZgB,IAAI,EAAGJ,IAAM;IACbK,KAAK,EAAGL,IAAM;IACdC,IAAI,EAAGA,IAAM;IACbF,QAAQ,EAAGA,QAAU;IACrBO,QAAQ,EAAG;EAAO,GALZN,IAMN,CAAC;AAEJ;AAEA,eAAe,SAASO,gCAAgCA,CAAE;EACzDC,UAAU;EACVH;AACD,CAAC,EAAG;EACH,MAAM;IAAEI;EAAQ,CAAC,GAAGzB,gBAAgB,CAAE,UAAU,EAAEO,kBAAkB,EAAE;IACrEmB,QAAQ,EAAE,CAAC;EACZ,CAAE,CAAC;EACH,MAAMC,sBAAsB,GAAG1B,OAAO,CAAE,MAAM;IAAA,IAAA2B,IAAA;IAC7C,MAAMC,kBAAkB,GAAGJ,OAAO,EAAEK,MAAM,CAAE,CAAEC,GAAG,EAAEjB,QAAQ,KAAM;MAChE,MAAMkB,MAAM,GAAGlB,QAAQ,CAACmB,WAAW;MACnC,IAAKD,MAAM,IAAI,CAAED,GAAG,CAAEC,MAAM,CAAE,EAAG;QAChCD,GAAG,CAAEC,MAAM,CAAE,GAAGlB,QAAQ;MACzB;MACA,OAAOiB,GAAG;IACX,CAAC,EAAE,CAAC,CAAE,CAAC;IACP,QAAAH,IAAA,GACGC,kBAAkB,IAAIK,MAAM,CAACC,MAAM,CAAEN,kBAAmB,CAAC,cAAAD,IAAA,cAAAA,IAAA,GAC3DhB,WAAW;EAEb,CAAC,EAAE,CAAEa,OAAO,CAAG,CAAC;EAEhB,oBACCd,KAAA,CAACR,SAAS;IAAAiC,QAAA,gBACT3B,IAAA,CAACL,YAAY;MACZgB,IAAI,EAAC,KAAK;MACVC,KAAK,EAAGA,KAAO;MACfJ,IAAI,EAAGX,MAAQ;MACfS,QAAQ,EAAGS,UAAU,KAAK,KAAO;MACjCF,QAAQ,EAAG;IAAO,CAClB,CAAC,EACAK,sBAAsB,CAACU,GAAG,CAAIvB,QAAQ,IAAM;MAC7C,oBACCL,IAAA,CAACI,oBAAoB;QAEpBC,QAAQ,EAAGA,QAAU;QACrBC,QAAQ,EAAGS,UAAU,KAAKV,QAAQ,CAACmB;MAAa,GAF1CnB,QAAQ,CAACmB,WAGf,CAAC;IAEJ,CAAE,CAAC;EAAA,CACO,CAAC;AAEd","ignoreList":[]}