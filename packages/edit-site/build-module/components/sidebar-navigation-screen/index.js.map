{"version":3,"names":["clsx","__experimentalHStack","HStack","__experimentalHeading","Heading","__experimentalVStack","VStack","isRTL","__","sprintf","chevronRight","chevronLeft","store","coreStore","useSelect","privateApis","routerPrivateApis","useContext","editSiteStore","unlock","SidebarButton","isPreviewingTheme","currentlyPreviewingTheme","SidebarNavigationContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useHistory","useLocation","SidebarNavigationScreen","isRoot","title","actions","meta","content","footer","description","backPath","backPathProp","dashboardLink","dashboardLinkText","previewingThemeName","select","getSettings","currentlyPreviewingThemeId","__experimentalDashboardLink","__experimentalDashboardLinkText","getTheme","name","rendered","undefined","location","history","navigate","state","icon","children","className","spacing","justify","alignment","onClick","push","label","showTooltip","href","color","level","size"],"sources":["@wordpress/edit-site/src/components/sidebar-navigation-screen/index.js"],"sourcesContent":["/**\r\n * 外部依赖\r\n */\r\nimport clsx from 'clsx'; // 用于更方便地处理条件性的 CSS 类名合并。\r\n\r\n/**\r\n * WordPress 依赖\r\n */\r\nimport {\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalHeading as Heading,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components'; // 用于布局和显示标题。\r\nimport { isRTL, __, sprintf } from '@wordpress/i18n'; // 提供国际化支持，例如文本翻译。\r\nimport { chevronRight, chevronLeft } from '@wordpress/icons'; // 引入 chevronRight 和 chevronLeft 图标，用于显示指向性的图标。\r\nimport { store as coreStore } from '@wordpress/core-data'; // 使用 store as coreStore 来访问 WordPress 核心数据。\r\nimport { useSelect } from '@wordpress/data'; // 使用 useSelect 钩子来订阅和选择 Redux store 中的数据。\r\nimport { privateApis as routerPrivateApis } from '@wordpress/router'; // 通过 privateApis 访问路由相关的私有 API。\r\nimport { useContext } from '@wordpress/element'; //  引入 useContext，一个 React 钩子，用于访问 React context。\r\n\r\n/**\r\n * 内部依赖\r\n */\r\nimport { store as editSiteStore } from '../../store'; // 引入编辑站点的 store。\r\nimport { unlock } from '../../lock-unlock'; // 可能是一个自定义的功能，用来解锁或启用某些功能或 API。\r\nimport SidebarButton from '../sidebar-button'; // 一个自定义的按钮组件，用于侧边栏。\r\nimport {\r\n\tisPreviewingTheme,\r\n\tcurrentlyPreviewingTheme,\r\n} from '../../utils/is-previewing-theme'; // 一些实用函数，检查是否在预览主题。\r\nimport { SidebarNavigationContext } from '../sidebar'; // 使用 useContext 来获取导航相关的上下文。\r\n\r\nconst { useHistory, useLocation } = unlock( routerPrivateApis ); // 使用 unlock 函数解锁路由相关的功能，用于导航历史和位置信息。\r\n\r\nexport default function SidebarNavigationScreen( {\r\n\tisRoot,\r\n\ttitle,\r\n\tactions,\r\n\tmeta,\r\n\tcontent,\r\n\tfooter,\r\n\tdescription,\r\n\tbackPath: backPathProp,\r\n} ) {\r\n\tconst { dashboardLink, dashboardLinkText, previewingThemeName } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getSettings } = unlock( select( editSiteStore ) );\r\n\t\t\tconst currentlyPreviewingThemeId = currentlyPreviewingTheme();\r\n\t\t\treturn {\r\n\t\t\t\tdashboardLink: getSettings().__experimentalDashboardLink,\r\n\t\t\t\tdashboardLinkText:\r\n\t\t\t\t\tgetSettings().__experimentalDashboardLinkText,\r\n\t\t\t\t// Do not call `getTheme` with null, it will cause a request to\r\n\t\t\t\t// the server.\r\n\t\t\t\tpreviewingThemeName: currentlyPreviewingThemeId\r\n\t\t\t\t\t? select( coreStore ).getTheme( currentlyPreviewingThemeId )\r\n\t\t\t\t\t\t\t?.name?.rendered\r\n\t\t\t\t\t: undefined,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\tconst location = useLocation();\r\n\tconst history = useHistory();\r\n\tconst { navigate } = useContext( SidebarNavigationContext );\r\n\tconst backPath = backPathProp ?? location.state?.backPath;\r\n\tconst icon = isRTL() ? chevronRight : chevronLeft;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<VStack\r\n\t\t\t\tclassName={ clsx( 'edit-site-sidebar-navigation-screen__main', {\r\n\t\t\t\t\t'has-footer': !! footer,\r\n\t\t\t\t} ) }\r\n\t\t\t\tspacing={ 0 }\r\n\t\t\t\tjustify=\"flex-start\"\r\n\t\t\t>\r\n\t\t\t\t<HStack\r\n\t\t\t\t\tspacing={ 3 }\r\n\t\t\t\t\talignment=\"flex-start\"\r\n\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-screen__title-icon\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{ ! isRoot && (\r\n\t\t\t\t\t\t<SidebarButton\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\thistory.push( backPath );\r\n\t\t\t\t\t\t\t\tnavigate( 'back' );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\ticon={ icon }\r\n\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\r\n\t\t\t\t\t\t\tshowTooltip={ false }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ isRoot && (\r\n\t\t\t\t\t\t<SidebarButton\r\n\t\t\t\t\t\t\ticon={ icon }\r\n\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\tdashboardLinkText || __( 'Go to the Dashboard' )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\thref={ dashboardLink || 'index.php' }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t<Heading\r\n\t\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-screen__title\"\r\n\t\t\t\t\t\tcolor={ '#e0e0e0' /* $gray-200 */ }\r\n\t\t\t\t\t\tlevel={ 1 }\r\n\t\t\t\t\t\tsize={ 20 }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ ! isPreviewingTheme()\r\n\t\t\t\t\t\t\t? title\r\n\t\t\t\t\t\t\t: sprintf(\r\n\t\t\t\t\t\t\t\t\t'Previewing %1$s: %2$s',\r\n\t\t\t\t\t\t\t\t\tpreviewingThemeName,\r\n\t\t\t\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\t\t  ) }\r\n\t\t\t\t\t</Heading>\r\n\t\t\t\t\t{ actions && (\r\n\t\t\t\t\t\t<div className=\"edit-site-sidebar-navigation-screen__actions\">\r\n\t\t\t\t\t\t\t{ actions }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</HStack>\r\n\t\t\t\t{ meta && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"edit-site-sidebar-navigation-screen__meta\">\r\n\t\t\t\t\t\t\t{ meta }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) }\r\n\r\n\t\t\t\t<div className=\"edit-site-sidebar-navigation-screen__content\">\r\n\t\t\t\t\t{ description && (\r\n\t\t\t\t\t\t<p className=\"edit-site-sidebar-navigation-screen__description\">\r\n\t\t\t\t\t\t\t{ description }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ content }\r\n\t\t\t\t</div>\r\n\t\t\t</VStack>\r\n\t\t\t{ footer && (\r\n\t\t\t\t<footer className=\"edit-site-sidebar-navigation-screen__footer\">\r\n\t\t\t\t\t{ footer }\r\n\t\t\t\t</footer>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n/**\r\n * 这段代码定义了一个名为 SidebarNavigationScreen 的 React 组件，主要用于 WordPress Gutenberg 编辑器中的侧边导航屏幕。\r\n * 这个组件可以在多个场景中使用，比如编辑站点的侧边栏，用于展示各种管理链接、设置和内容。下面是这个组件每个部分的详细解释：\r\n\r\n函数组件的参数\r\nisRoot: 一个布尔值，用于判断当前是否处于导航的根部。\r\ntitle: 显示在侧边栏导航顶部的标题。\r\nactions: 可能是一个 React 节点或组件，用于执行特定操作，如保存、发布等。\r\nmeta: 提供额外信息的组件或元素，例如版权信息或者版本号。\r\ncontent: 主体内容，可以是任何 React 节点，通常用于填充具体的功能或信息。\r\nfooter: 底部内容，可能包含辅助链接或者操作按钮。\r\ndescription: 对当前页面或功能的描述，有助于用户理解当前界面的用途。\r\nbackPathProp: 提供一个回退路径，用于导航操作。\r\n使用的 Hooks 和 Context\r\nuseSelect: 这是一个 Redux Hook，用于从 Redux store 中选择部分状态。这里用来获取当前主题预览的链接、文本和名称。\r\nuseLocation: 用于获取当前页面的路径信息。\r\nuseHistory: 提供导航功能，例如回退到上一个页面。\r\nuseContext: 使用 SidebarNavigationContext，这可能是一个自定义的 Context 提供侧边栏的导航逻辑。\r\n组件逻辑\r\nNavigation Logic: 如果不是根路径，显示一个返回按钮，点击后使用 history.push() 和 navigate('back') 实现页面回退。\r\nDisplay Logic: 如果是根路径，显示一个导航到仪表盘的按钮。根据是否正在预览一个主题来动态调整标题显示。\r\nActions and Meta: 根据传入的 actions 和 meta props 动态渲染内容区域。\r\nContent and Footer: 显示描述性文本和主要内容，以及可选的页脚。\r\nJSX 结构\r\nVStack 和 HStack: 这些来自 @wordpress/components 的组件用于垂直和水平堆叠布局，这有助于组织组件内部的布局结构。\r\nSidebarButton: 自定义的按钮组件，用于实现导航和动作执行。\r\nHeading: 显示页面标题，支持国际化和动态内容。\r\n功能和样式\r\nIcon Logic: 根据当前的文本方向（如 RTL）来决定使用向右还是向左的图标，增强用户体验。\r\nCSS Class Logic: 使用 clsx 动态生成 CSS 类，根据条件（如是否有 footer）来应用不同的样式。\r\n */"],"mappings":"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","ignoreList":[]}