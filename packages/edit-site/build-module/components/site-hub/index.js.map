{"version":3,"names":["clsx","useSelect","useDispatch","Button","__experimentalHStack","HStack","VisuallyHidden","__","store","coreStore","decodeEntities","memo","forwardRef","useContext","search","commandsStore","displayShortcut","filterURLForDisplay","privateApis","routerPrivateApis","editSiteStore","SiteIcon","unlock","useHistory","SidebarNavigationContext","jsx","_jsx","jsxs","_jsxs","SiteHub","isTransparent","ref","dashboardLink","homeUrl","siteTitle","select","getSettings","getEntityRecord","_site","__experimentalDashboardLink","home","title","url","open","openCommandCenter","className","children","justify","spacing","__next40pxDefaultSize","href","label","style","transform","borderRadius","variant","target","as","expanded","icon","onClick","shortcut","primary","SiteHubMobile","history","navigate","push"],"sources":["@wordpress/edit-site/src/components/site-hub/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport {\r\n\tButton,\r\n\t__experimentalHStack as HStack,\r\n\tVisuallyHidden,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { memo, forwardRef, useContext } from '@wordpress/element';\r\nimport { search } from '@wordpress/icons';\r\nimport { store as commandsStore } from '@wordpress/commands';\r\nimport { displayShortcut } from '@wordpress/keycodes';\r\nimport { filterURLForDisplay } from '@wordpress/url';\r\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editSiteStore } from '../../store';\r\nimport SiteIcon from '../site-icon';\r\nimport { unlock } from '../../lock-unlock';\r\nconst { useHistory } = unlock( routerPrivateApis );\r\nimport { SidebarNavigationContext } from '../sidebar';\r\n\r\nconst SiteHub = memo(\r\n\tforwardRef( ( { isTransparent }, ref ) => {\r\n\t\tconst { dashboardLink, homeUrl, siteTitle } = useSelect( ( select ) => {\r\n\t\t\tconst { getSettings } = unlock( select( editSiteStore ) );\r\n\r\n\t\t\tconst { getEntityRecord } = select( coreStore );\r\n\t\t\tconst _site = getEntityRecord( 'root', 'site' );\r\n\t\t\treturn {\r\n\t\t\t\tdashboardLink:\r\n\t\t\t\t\tgetSettings().__experimentalDashboardLink || 'index.php',\r\n\t\t\t\thomeUrl: getEntityRecord( 'root', '__unstableBase' )?.home,\r\n\t\t\t\tsiteTitle:\r\n\t\t\t\t\t! _site?.title && !! _site?.url\r\n\t\t\t\t\t\t? filterURLForDisplay( _site?.url )\r\n\t\t\t\t\t\t: _site?.title,\r\n\t\t\t};\r\n\t\t}, [] );\r\n\t\tconst { open: openCommandCenter } = useDispatch( commandsStore );\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"edit-site-site-hub\">\r\n\t\t\t\t<HStack justify=\"flex-start\" spacing=\"0\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t'edit-site-site-hub__view-mode-toggle-container',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'has-transparent-background': isTransparent,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\tref={ ref }\r\n\t\t\t\t\t\t\thref={ dashboardLink }\r\n\t\t\t\t\t\t\tlabel={ __( 'Go to the Dashboard' ) }\r\n\t\t\t\t\t\t\tclassName=\"edit-site-layout__view-mode-toggle\"\r\n\t\t\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t\t\ttransform: 'scale(0.5)',\r\n\t\t\t\t\t\t\t\tborderRadius: 4,\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<SiteIcon className=\"edit-site-layout__view-mode-toggle-icon\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<HStack>\r\n\t\t\t\t\t\t<div className=\"edit-site-site-hub__title\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\thref={ homeUrl }\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ decodeEntities( siteTitle ) }\r\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\r\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</VisuallyHidden>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<HStack\r\n\t\t\t\t\t\t\tspacing={ 0 }\r\n\t\t\t\t\t\t\texpanded={ false }\r\n\t\t\t\t\t\t\tclassName=\"edit-site-site-hub__actions\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\tclassName=\"edit-site-site-hub_toggle-command-center\"\r\n\t\t\t\t\t\t\t\ticon={ search }\r\n\t\t\t\t\t\t\t\tonClick={ () => openCommandCenter() }\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Open command palette' ) }\r\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'k' ) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</HStack>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} )\r\n);\r\n\r\nexport default SiteHub;\r\n\r\nexport const SiteHubMobile = memo(\r\n\tforwardRef( ( { isTransparent }, ref ) => {\r\n\t\tconst history = useHistory();\r\n\t\tconst { navigate } = useContext( SidebarNavigationContext );\r\n\r\n\t\tconst { homeUrl, siteTitle } = useSelect( ( select ) => {\r\n\t\t\tconst { getEntityRecord } = select( coreStore );\r\n\t\t\tconst _site = getEntityRecord( 'root', 'site' );\r\n\t\t\treturn {\r\n\t\t\t\thomeUrl: getEntityRecord( 'root', '__unstableBase' )?.home,\r\n\t\t\t\tsiteTitle:\r\n\t\t\t\t\t! _site?.title && !! _site?.url\r\n\t\t\t\t\t\t? filterURLForDisplay( _site?.url )\r\n\t\t\t\t\t\t: _site?.title,\r\n\t\t\t};\r\n\t\t}, [] );\r\n\t\tconst { open: openCommandCenter } = useDispatch( commandsStore );\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"edit-site-site-hub\">\r\n\t\t\t\t<HStack justify=\"flex-start\" spacing=\"0\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={ clsx(\r\n\t\t\t\t\t\t\t'edit-site-site-hub__view-mode-toggle-container',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'has-transparent-background': isTransparent,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\tref={ ref }\r\n\t\t\t\t\t\t\tlabel={ __( 'Go to Site Editor' ) }\r\n\t\t\t\t\t\t\tclassName=\"edit-site-layout__view-mode-toggle\"\r\n\t\t\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t\t\ttransform: 'scale(0.5)',\r\n\t\t\t\t\t\t\t\tborderRadius: 4,\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\thistory.push( {} );\r\n\t\t\t\t\t\t\t\tnavigate( 'back' );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<SiteIcon className=\"edit-site-layout__view-mode-toggle-icon\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<HStack>\r\n\t\t\t\t\t\t<div className=\"edit-site-site-hub__title\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\t\thref={ homeUrl }\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\tlabel={ __( 'View site (opens in a new tab)' ) }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ decodeEntities( siteTitle ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<HStack\r\n\t\t\t\t\t\t\tspacing={ 0 }\r\n\t\t\t\t\t\t\texpanded={ false }\r\n\t\t\t\t\t\t\tclassName=\"edit-site-site-hub__actions\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\tclassName=\"edit-site-site-hub_toggle-command-center\"\r\n\t\t\t\t\t\t\t\ticon={ search }\r\n\t\t\t\t\t\t\t\tonClick={ () => openCommandCenter() }\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Open command palette' ) }\r\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'k' ) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</HStack>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} )\r\n);\r\n"],"mappings":"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","ignoreList":[]}