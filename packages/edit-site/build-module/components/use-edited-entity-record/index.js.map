{"version":3,"names":["useSelect","store","coreStore","editorStore","decodeEntities","editSiteStore","useEditedEntityRecord","postType","postId","record","title","description","isLoaded","icon","select","getEditedPostType","getEditedPostId","getEditedEntityRecord","hasFinishedResolution","__experimentalGetTemplateInfo","getTemplateInfo","usedPostType","usedPostId","_record","_isLoaded","templateInfo","getTitle","getDescription"],"sources":["@wordpress/edit-site/src/components/use-edited-entity-record/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { store as editorStore } from '@wordpress/editor';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editSiteStore } from '../../store';\r\n\r\nexport default function useEditedEntityRecord( postType, postId ) {\r\n\tconst { record, title, description, isLoaded, icon } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getEditedPostType, getEditedPostId } =\r\n\t\t\t\tselect( editSiteStore );\r\n\t\t\tconst { getEditedEntityRecord, hasFinishedResolution } =\r\n\t\t\t\tselect( coreStore );\r\n\t\t\tconst { __experimentalGetTemplateInfo: getTemplateInfo } =\r\n\t\t\t\tselect( editorStore );\r\n\t\t\tconst usedPostType = postType ?? getEditedPostType();\r\n\t\t\tconst usedPostId = postId ?? getEditedPostId();\r\n\t\t\tconst _record = getEditedEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tusedPostType,\r\n\t\t\t\tusedPostId\r\n\t\t\t);\r\n\t\t\tconst _isLoaded =\r\n\t\t\t\tusedPostId &&\r\n\t\t\t\thasFinishedResolution( 'getEditedEntityRecord', [\r\n\t\t\t\t\t'postType',\r\n\t\t\t\t\tusedPostType,\r\n\t\t\t\t\tusedPostId,\r\n\t\t\t\t] );\r\n\t\t\tconst templateInfo = getTemplateInfo( _record );\r\n\r\n\t\t\treturn {\r\n\t\t\t\trecord: _record,\r\n\t\t\t\ttitle: templateInfo.title,\r\n\t\t\t\tdescription: templateInfo.description,\r\n\t\t\t\tisLoaded: _isLoaded,\r\n\t\t\t\ticon: templateInfo.icon,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ postType, postId ]\r\n\t);\r\n\r\n\treturn {\r\n\t\tisLoaded,\r\n\t\ticon,\r\n\t\trecord,\r\n\t\tgetTitle: () => ( title ? decodeEntities( title ) : null ),\r\n\t\tgetDescription: () =>\r\n\t\t\tdescription ? decodeEntities( description ) : null,\r\n\t};\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASD,KAAK,IAAIE,WAAW,QAAQ,mBAAmB;AACxD,SAASC,cAAc,QAAQ,0BAA0B;;AAEzD;AACA;AACA;AACA,SAASH,KAAK,IAAII,aAAa,QAAQ,aAAa;AAEpD,eAAe,SAASC,qBAAqBA,CAAEC,QAAQ,EAAEC,MAAM,EAAG;EACjE,MAAM;IAAEC,MAAM;IAAEC,KAAK;IAAEC,WAAW;IAAEC,QAAQ;IAAEC;EAAK,CAAC,GAAGb,SAAS,CAC7Dc,MAAM,IAAM;IACb,MAAM;MAAEC,iBAAiB;MAAEC;IAAgB,CAAC,GAC3CF,MAAM,CAAET,aAAc,CAAC;IACxB,MAAM;MAAEY,qBAAqB;MAAEC;IAAsB,CAAC,GACrDJ,MAAM,CAAEZ,SAAU,CAAC;IACpB,MAAM;MAAEiB,6BAA6B,EAAEC;IAAgB,CAAC,GACvDN,MAAM,CAAEX,WAAY,CAAC;IACtB,MAAMkB,YAAY,GAAGd,QAAQ,aAARA,QAAQ,cAARA,QAAQ,GAAIQ,iBAAiB,CAAC,CAAC;IACpD,MAAMO,UAAU,GAAGd,MAAM,aAANA,MAAM,cAANA,MAAM,GAAIQ,eAAe,CAAC,CAAC;IAC9C,MAAMO,OAAO,GAAGN,qBAAqB,CACpC,UAAU,EACVI,YAAY,EACZC,UACD,CAAC;IACD,MAAME,SAAS,GACdF,UAAU,IACVJ,qBAAqB,CAAE,uBAAuB,EAAE,CAC/C,UAAU,EACVG,YAAY,EACZC,UAAU,CACT,CAAC;IACJ,MAAMG,YAAY,GAAGL,eAAe,CAAEG,OAAQ,CAAC;IAE/C,OAAO;MACNd,MAAM,EAAEc,OAAO;MACfb,KAAK,EAAEe,YAAY,CAACf,KAAK;MACzBC,WAAW,EAAEc,YAAY,CAACd,WAAW;MACrCC,QAAQ,EAAEY,SAAS;MACnBX,IAAI,EAAEY,YAAY,CAACZ;IACpB,CAAC;EACF,CAAC,EACD,CAAEN,QAAQ,EAAEC,MAAM,CACnB,CAAC;EAED,OAAO;IACNI,QAAQ;IACRC,IAAI;IACJJ,MAAM;IACNiB,QAAQ,EAAEA,CAAA,KAAQhB,KAAK,GAAGN,cAAc,CAAEM,KAAM,CAAC,GAAG,IAAM;IAC1DiB,cAAc,EAAEA,CAAA,KACfhB,WAAW,GAAGP,cAAc,CAAEO,WAAY,CAAC,GAAG;EAChD,CAAC;AACF","ignoreList":[]}