{"version":3,"names":["store","blocksStore","registerCoreBlocks","__experimentalGetCoreBlocks","__experimentalRegisterExperimentalCoreBlocks","dispatch","createRoot","StrictMode","preferencesStore","registerLegacyWidgetBlock","registerWidgetGroupBlock","editSiteStore","PostsApp","jsx","_jsx","initializePostsDashboard","id","settings","globalThis","IS_GUTENBERG_PLUGIN","target","document","getElementById","root","reapplyBlockTypeFilters","coreBlocks","filter","name","setFreeformFallbackBlockName","inserter","enableFSEBlocks","setDefaults","welcomeGuide","welcomeGuideStyles","welcomeGuidePage","welcomeGuideTemplate","allowRightClickOverrides","distractionFree","editorMode","fixedToolbar","focusMode","inactivePanels","keepCaretInsideBlock","openPanels","showBlockBreadcrumbs","showListViewByDefault","enableChoosePatternModal","updateSettings","window","addEventListener","e","preventDefault","render","children"],"sources":["@wordpress/edit-site/src/posts.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport {\r\n\tregisterCoreBlocks,\r\n\t__experimentalGetCoreBlocks,\r\n\t__experimentalRegisterExperimentalCoreBlocks,\r\n} from '@wordpress/block-library';\r\nimport { dispatch } from '@wordpress/data';\r\nimport { createRoot, StrictMode } from '@wordpress/element';\r\nimport { store as preferencesStore } from '@wordpress/preferences';\r\nimport {\r\n\tregisterLegacyWidgetBlock,\r\n\tregisterWidgetGroupBlock,\r\n} from '@wordpress/widgets';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport './hooks';\r\nimport { store as editSiteStore } from './store';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport PostsApp from './components/posts-app';\r\n\r\n/**\r\n * Initializes the \"Posts Dashboard\"\r\n * @param {string} id       ID of the root element to render the screen in.\r\n * @param {Object} settings Editor settings.\r\n */\r\nexport function initializePostsDashboard( id, settings ) {\r\n\tif ( ! globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\treturn;\r\n\t}\r\n\tconst target = document.getElementById( id );\r\n\tconst root = createRoot( target );\r\n\r\n\tdispatch( blocksStore ).reapplyBlockTypeFilters();\r\n\tconst coreBlocks = __experimentalGetCoreBlocks().filter(\r\n\t\t( { name } ) => name !== 'core/freeform'\r\n\t);\r\n\tregisterCoreBlocks( coreBlocks );\r\n\tdispatch( blocksStore ).setFreeformFallbackBlockName( 'core/html' );\r\n\tregisterLegacyWidgetBlock( { inserter: false } );\r\n\tregisterWidgetGroupBlock( { inserter: false } );\r\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\r\n\t\t\tenableFSEBlocks: true,\r\n\t\t} );\r\n\t}\r\n\r\n\t// We dispatch actions and update the store synchronously before rendering\r\n\t// so that we won't trigger unnecessary re-renders with useEffect.\r\n\tdispatch( preferencesStore ).setDefaults( 'core/edit-site', {\r\n\t\twelcomeGuide: true,\r\n\t\twelcomeGuideStyles: true,\r\n\t\twelcomeGuidePage: true,\r\n\t\twelcomeGuideTemplate: true,\r\n\t} );\r\n\r\n\tdispatch( preferencesStore ).setDefaults( 'core', {\r\n\t\tallowRightClickOverrides: true,\r\n\t\tdistractionFree: false,\r\n\t\teditorMode: 'visual',\r\n\t\tfixedToolbar: false,\r\n\t\tfocusMode: false,\r\n\t\tinactivePanels: [],\r\n\t\tkeepCaretInsideBlock: false,\r\n\t\topenPanels: [ 'post-status' ],\r\n\t\tshowBlockBreadcrumbs: true,\r\n\t\tshowListViewByDefault: false,\r\n\t\tenableChoosePatternModal: true,\r\n\t} );\r\n\r\n\tdispatch( editSiteStore ).updateSettings( settings );\r\n\r\n\t// Prevent the default browser action for files dropped outside of dropzones.\r\n\twindow.addEventListener( 'dragover', ( e ) => e.preventDefault(), false );\r\n\twindow.addEventListener( 'drop', ( e ) => e.preventDefault(), false );\r\n\r\n\troot.render(\r\n\t\t<StrictMode>\r\n\t\t\t<PostsApp />\r\n\t\t</StrictMode>\r\n\t);\r\n\r\n\treturn root;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SACCC,kBAAkB,EAClBC,2BAA2B,EAC3BC,4CAA4C,QACtC,0BAA0B;AACjC,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,UAAU,EAAEC,UAAU,QAAQ,oBAAoB;AAC3D,SAASP,KAAK,IAAIQ,gBAAgB,QAAQ,wBAAwB;AAClE,SACCC,yBAAyB,EACzBC,wBAAwB,QAClB,oBAAoB;;AAE3B;AACA;AACA;AACA,OAAO,SAAS;AAChB,SAASV,KAAK,IAAIW,aAAa,QAAQ,SAAS;;AAEhD;AACA;AACA;AACA,OAAOC,QAAQ,MAAM,wBAAwB;;AAE7C;AACA;AACA;AACA;AACA;AAJA,SAAAC,GAAA,IAAAC,IAAA;AAKA,OAAO,SAASC,wBAAwBA,CAAEC,EAAE,EAAEC,QAAQ,EAAG;EACxD,IAAK,CAAEC,UAAU,CAACC,mBAAmB,EAAG;IACvC;EACD;EACA,MAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAEN,EAAG,CAAC;EAC5C,MAAMO,IAAI,GAAGjB,UAAU,CAAEc,MAAO,CAAC;EAEjCf,QAAQ,CAAEJ,WAAY,CAAC,CAACuB,uBAAuB,CAAC,CAAC;EACjD,MAAMC,UAAU,GAAGtB,2BAA2B,CAAC,CAAC,CAACuB,MAAM,CACtD,CAAE;IAAEC;EAAK,CAAC,KAAMA,IAAI,KAAK,eAC1B,CAAC;EACDzB,kBAAkB,CAAEuB,UAAW,CAAC;EAChCpB,QAAQ,CAAEJ,WAAY,CAAC,CAAC2B,4BAA4B,CAAE,WAAY,CAAC;EACnEnB,yBAAyB,CAAE;IAAEoB,QAAQ,EAAE;EAAM,CAAE,CAAC;EAChDnB,wBAAwB,CAAE;IAAEmB,QAAQ,EAAE;EAAM,CAAE,CAAC;EAC/C,IAAKX,UAAU,CAACC,mBAAmB,EAAG;IACrCf,4CAA4C,CAAE;MAC7C0B,eAAe,EAAE;IAClB,CAAE,CAAC;EACJ;;EAEA;EACA;EACAzB,QAAQ,CAAEG,gBAAiB,CAAC,CAACuB,WAAW,CAAE,gBAAgB,EAAE;IAC3DC,YAAY,EAAE,IAAI;IAClBC,kBAAkB,EAAE,IAAI;IACxBC,gBAAgB,EAAE,IAAI;IACtBC,oBAAoB,EAAE;EACvB,CAAE,CAAC;EAEH9B,QAAQ,CAAEG,gBAAiB,CAAC,CAACuB,WAAW,CAAE,MAAM,EAAE;IACjDK,wBAAwB,EAAE,IAAI;IAC9BC,eAAe,EAAE,KAAK;IACtBC,UAAU,EAAE,QAAQ;IACpBC,YAAY,EAAE,KAAK;IACnBC,SAAS,EAAE,KAAK;IAChBC,cAAc,EAAE,EAAE;IAClBC,oBAAoB,EAAE,KAAK;IAC3BC,UAAU,EAAE,CAAE,aAAa,CAAE;IAC7BC,oBAAoB,EAAE,IAAI;IAC1BC,qBAAqB,EAAE,KAAK;IAC5BC,wBAAwB,EAAE;EAC3B,CAAE,CAAC;EAEHzC,QAAQ,CAAEM,aAAc,CAAC,CAACoC,cAAc,CAAE9B,QAAS,CAAC;;EAEpD;EACA+B,MAAM,CAACC,gBAAgB,CAAE,UAAU,EAAIC,CAAC,IAAMA,CAAC,CAACC,cAAc,CAAC,CAAC,EAAE,KAAM,CAAC;EACzEH,MAAM,CAACC,gBAAgB,CAAE,MAAM,EAAIC,CAAC,IAAMA,CAAC,CAACC,cAAc,CAAC,CAAC,EAAE,KAAM,CAAC;EAErE5B,IAAI,CAAC6B,MAAM,eACVtC,IAAA,CAACP,UAAU;IAAA8C,QAAA,eACVvC,IAAA,CAACF,QAAQ,IAAE;EAAC,CACD,CACb,CAAC;EAED,OAAOW,IAAI;AACZ","ignoreList":[]}