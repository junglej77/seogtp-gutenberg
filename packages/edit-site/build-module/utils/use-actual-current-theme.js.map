{"version":3,"names":["apiFetch","useState","useEffect","addQueryArgs","ACTIVE_THEMES_URL","useActualCurrentTheme","currentTheme","setCurrentTheme","path","context","wp_theme_preview","then","activeThemes","catch"],"sources":["@wordpress/edit-site/src/utils/use-actual-current-theme.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport { addQueryArgs } from '@wordpress/url';\r\n\r\nconst ACTIVE_THEMES_URL = '/wp/v2/themes?status=active';\r\n\r\nexport function useActualCurrentTheme() {\r\n\tconst [ currentTheme, setCurrentTheme ] = useState();\r\n\r\n\tuseEffect( () => {\r\n\t\t// Set the `wp_theme_preview` to empty string to bypass the createThemePreviewMiddleware.\r\n\t\tconst path = addQueryArgs( ACTIVE_THEMES_URL, {\r\n\t\t\tcontext: 'edit',\r\n\t\t\twp_theme_preview: '',\r\n\t\t} );\r\n\r\n\t\tapiFetch( { path } )\r\n\t\t\t.then( ( activeThemes ) => setCurrentTheme( activeThemes[ 0 ] ) )\r\n\t\t\t// Do nothing\r\n\t\t\t.catch( () => {} );\r\n\t}, [] );\r\n\r\n\treturn currentTheme;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,sBAAsB;AAC3C,SAASC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;AACxD,SAASC,YAAY,QAAQ,gBAAgB;AAE7C,MAAMC,iBAAiB,GAAG,6BAA6B;AAEvD,OAAO,SAASC,qBAAqBA,CAAA,EAAG;EACvC,MAAM,CAAEC,YAAY,EAAEC,eAAe,CAAE,GAAGN,QAAQ,CAAC,CAAC;EAEpDC,SAAS,CAAE,MAAM;IAChB;IACA,MAAMM,IAAI,GAAGL,YAAY,CAAEC,iBAAiB,EAAE;MAC7CK,OAAO,EAAE,MAAM;MACfC,gBAAgB,EAAE;IACnB,CAAE,CAAC;IAEHV,QAAQ,CAAE;MAAEQ;IAAK,CAAE,CAAC,CAClBG,IAAI,CAAIC,YAAY,IAAML,eAAe,CAAEK,YAAY,CAAE,CAAC,CAAG,CAAE;IAChE;IAAA,CACCC,KAAK,CAAE,MAAM,CAAC,CAAE,CAAC;EACpB,CAAC,EAAE,EAAG,CAAC;EAEP,OAAOP,YAAY;AACpB","ignoreList":[]}