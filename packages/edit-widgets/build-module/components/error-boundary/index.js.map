{"version":3,"names":["Component","__","Button","Warning","useCopyToClipboard","doAction","jsx","_jsx","CopyButton","text","children","ref","__next40pxDefaultSize","variant","ErrorBoundaryWarning","message","error","actions","stack","className","ErrorBoundary","constructor","arguments","state","componentDidCatch","getDerivedStateFromError","render","props"],"sources":["@wordpress/edit-widgets/src/components/error-boundary/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { Component } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Button } from '@wordpress/components';\r\nimport { Warning } from '@wordpress/block-editor';\r\nimport { useCopyToClipboard } from '@wordpress/compose';\r\nimport { doAction } from '@wordpress/hooks';\r\n\r\nfunction CopyButton( { text, children } ) {\r\n\tconst ref = useCopyToClipboard( text );\r\n\treturn (\r\n\t\t<Button\r\n\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\tvariant=\"secondary\"\r\n\t\t\tref={ ref }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\nfunction ErrorBoundaryWarning( { message, error } ) {\r\n\tconst actions = [\r\n\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\r\n\t\t\t{ __( 'Copy Error' ) }\r\n\t\t</CopyButton>,\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Warning className=\"edit-widgets-error-boundary\" actions={ actions }>\r\n\t\t\t{ message }\r\n\t\t</Warning>\r\n\t);\r\n}\r\n\r\nexport default class ErrorBoundary extends Component {\r\n\tconstructor() {\r\n\t\tsuper( ...arguments );\r\n\r\n\t\tthis.state = {\r\n\t\t\terror: null,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidCatch( error ) {\r\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\r\n\t}\r\n\r\n\tstatic getDerivedStateFromError( error ) {\r\n\t\treturn { error };\r\n\t}\r\n\r\n\trender() {\r\n\t\tif ( ! this.state.error ) {\r\n\t\t\treturn this.props.children;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ErrorBoundaryWarning\r\n\t\t\t\tmessage={ __(\r\n\t\t\t\t\t'The editor has encountered an unexpected error.'\r\n\t\t\t\t) }\r\n\t\t\t\terror={ this.state.error }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,kBAAkB,QAAQ,oBAAoB;AACvD,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE5C,SAASC,UAAUA,CAAE;EAAEC,IAAI;EAAEC;AAAS,CAAC,EAAG;EACzC,MAAMC,GAAG,GAAGP,kBAAkB,CAAEK,IAAK,CAAC;EACtC,oBACCF,IAAA,CAACL;EACA;EAAA;IACAU,qBAAqB,EAAG,KAAO;IAC/BC,OAAO,EAAC,WAAW;IACnBF,GAAG,EAAGA,GAAK;IAAAD,QAAA,EAETA;EAAQ,CACH,CAAC;AAEX;AAEA,SAASI,oBAAoBA,CAAE;EAAEC,OAAO;EAAEC;AAAM,CAAC,EAAG;EACnD,MAAMC,OAAO,GAAG,cACfV,IAAA,CAACC,UAAU;IAAkBC,IAAI,EAAGO,KAAK,CAACE,KAAO;IAAAR,QAAA,EAC9CT,EAAE,CAAE,YAAa;EAAC,GADL,YAEJ,CAAC,CACb;EAED,oBACCM,IAAA,CAACJ,OAAO;IAACgB,SAAS,EAAC,6BAA6B;IAACF,OAAO,EAAGA,OAAS;IAAAP,QAAA,EACjEK;EAAO,CACD,CAAC;AAEZ;AAEA,eAAe,MAAMK,aAAa,SAASpB,SAAS,CAAC;EACpDqB,WAAWA,CAAA,EAAG;IACb,KAAK,CAAE,GAAGC,SAAU,CAAC;IAErB,IAAI,CAACC,KAAK,GAAG;MACZP,KAAK,EAAE;IACR,CAAC;EACF;EAEAQ,iBAAiBA,CAAER,KAAK,EAAG;IAC1BX,QAAQ,CAAE,kCAAkC,EAAEW,KAAM,CAAC;EACtD;EAEA,OAAOS,wBAAwBA,CAAET,KAAK,EAAG;IACxC,OAAO;MAAEA;IAAM,CAAC;EACjB;EAEAU,MAAMA,CAAA,EAAG;IACR,IAAK,CAAE,IAAI,CAACH,KAAK,CAACP,KAAK,EAAG;MACzB,OAAO,IAAI,CAACW,KAAK,CAACjB,QAAQ;IAC3B;IAEA,oBACCH,IAAA,CAACO,oBAAoB;MACpBC,OAAO,EAAGd,EAAE,CACX,iDACD,CAAG;MACHe,KAAK,EAAG,IAAI,CAACO,KAAK,CAACP;IAAO,CAC1B,CAAC;EAEJ;AACD","ignoreList":[]}