{"version":3,"names":["useEffect","useShortcut","store","keyboardShortcutsStore","isAppleOS","useDispatch","__","coreStore","editWidgetsStore","KeyboardShortcuts","redo","undo","saveEditedWidgetAreas","event","preventDefault","KeyboardShortcutsRegister","registerShortcut","name","category","description","keyCombination","modifier","character","aliases","Register"],"sources":["@wordpress/edit-widgets/src/components/keyboard-shortcuts/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect } from '@wordpress/element';\r\nimport {\r\n\tuseShortcut,\r\n\tstore as keyboardShortcutsStore,\r\n} from '@wordpress/keyboard-shortcuts';\r\nimport { isAppleOS } from '@wordpress/keycodes';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editWidgetsStore } from '../../store';\r\n\r\nfunction KeyboardShortcuts() {\r\n\tconst { redo, undo } = useDispatch( coreStore );\r\n\tconst { saveEditedWidgetAreas } = useDispatch( editWidgetsStore );\r\n\r\n\tuseShortcut( 'core/edit-widgets/undo', ( event ) => {\r\n\t\tundo();\r\n\t\tevent.preventDefault();\r\n\t} );\r\n\r\n\tuseShortcut( 'core/edit-widgets/redo', ( event ) => {\r\n\t\tredo();\r\n\t\tevent.preventDefault();\r\n\t} );\r\n\r\n\tuseShortcut( 'core/edit-widgets/save', ( event ) => {\r\n\t\tevent.preventDefault();\r\n\t\tsaveEditedWidgetAreas();\r\n\t} );\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction KeyboardShortcutsRegister() {\r\n\t// Registering the shortcuts.\r\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\r\n\tuseEffect( () => {\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/edit-widgets/undo',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Undo your last changes.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'primary',\r\n\t\t\t\tcharacter: 'z',\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/edit-widgets/redo',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Redo your last undo.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'primaryShift',\r\n\t\t\t\tcharacter: 'z',\r\n\t\t\t},\r\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\r\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\r\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\r\n\t\t\t// Linux, we keep it as the default for consistency.\r\n\t\t\taliases: isAppleOS()\r\n\t\t\t\t? []\r\n\t\t\t\t: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmodifier: 'primary',\r\n\t\t\t\t\t\t\tcharacter: 'y',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  ],\r\n\t\t} );\r\n\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/edit-widgets/save',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Save your changes.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'primary',\r\n\t\t\t\tcharacter: 's',\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/edit-widgets/keyboard-shortcuts',\r\n\t\t\tcategory: 'main',\r\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'access',\r\n\t\t\t\tcharacter: 'h',\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/edit-widgets/next-region',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'ctrl',\r\n\t\t\t\tcharacter: '`',\r\n\t\t\t},\r\n\t\t\taliases: [\r\n\t\t\t\t{\r\n\t\t\t\t\tmodifier: 'access',\r\n\t\t\t\t\tcharacter: 'n',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t} );\r\n\r\n\t\tregisterShortcut( {\r\n\t\t\tname: 'core/edit-widgets/previous-region',\r\n\t\t\tcategory: 'global',\r\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\r\n\t\t\tkeyCombination: {\r\n\t\t\t\tmodifier: 'ctrlShift',\r\n\t\t\t\tcharacter: '`',\r\n\t\t\t},\r\n\t\t\taliases: [\r\n\t\t\t\t{\r\n\t\t\t\t\tmodifier: 'access',\r\n\t\t\t\t\tcharacter: 'p',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tmodifier: 'ctrlShift',\r\n\t\t\t\t\tcharacter: '~',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t} );\r\n\t}, [ registerShortcut ] );\r\n\r\n\treturn null;\r\n}\r\n\r\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\r\nexport default KeyboardShortcuts;\r\n"],"mappings":"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","ignoreList":[]}