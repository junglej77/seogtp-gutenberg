{"version":3,"names":["useViewportMatch","BlockBreadcrumb","useEffect","useDispatch","useSelect","InterfaceSkeleton","ComplementaryArea","store","interfaceStore","__","keyboardShortcutsStore","preferencesStore","Header","WidgetAreasBlockEditorContent","editWidgetsStore","SecondarySidebar","jsx","_jsx","Fragment","_Fragment","interfaceLabels","header","body","sidebar","footer","Interface","blockEditorSettings","isMobileViewport","isHugeViewport","setIsInserterOpened","setIsListViewOpened","closeGeneralSidebar","hasBlockBreadCrumbsEnabled","hasSidebarEnabled","isInserterOpened","isListViewOpened","previousShortcut","nextShortcut","select","getActiveComplementaryArea","name","get","getAllShortcutKeyCombinations","secondarySidebarLabel","hasSecondarySidebar","labels","secondarySidebar","Slot","scope","content","children","className","rootLabelText","shortcuts","previous","next"],"sources":["@wordpress/edit-widgets/src/components/layout/interface.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useViewportMatch } from '@wordpress/compose';\r\nimport { BlockBreadcrumb } from '@wordpress/block-editor';\r\nimport { useEffect } from '@wordpress/element';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport {\r\n\tInterfaceSkeleton,\r\n\tComplementaryArea,\r\n\tstore as interfaceStore,\r\n} from '@wordpress/interface';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\r\nimport { store as preferencesStore } from '@wordpress/preferences';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Header from '../header';\r\nimport WidgetAreasBlockEditorContent from '../widget-areas-block-editor-content';\r\nimport { store as editWidgetsStore } from '../../store';\r\nimport SecondarySidebar from '../secondary-sidebar';\r\n\r\nconst interfaceLabels = {\r\n\t/* translators: accessibility text for the widgets screen top bar landmark region. */\r\n\theader: __( 'Widgets top bar' ),\r\n\t/* translators: accessibility text for the widgets screen content landmark region. */\r\n\tbody: __( 'Widgets and blocks' ),\r\n\t/* translators: accessibility text for the widgets screen settings landmark region. */\r\n\tsidebar: __( 'Widgets settings' ),\r\n\t/* translators: accessibility text for the widgets screen footer landmark region. */\r\n\tfooter: __( 'Widgets footer' ),\r\n};\r\n\r\nfunction Interface( { blockEditorSettings } ) {\r\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\r\n\tconst isHugeViewport = useViewportMatch( 'huge', '>=' );\r\n\tconst { setIsInserterOpened, setIsListViewOpened, closeGeneralSidebar } =\r\n\t\tuseDispatch( editWidgetsStore );\r\n\tconst {\r\n\t\thasBlockBreadCrumbsEnabled,\r\n\t\thasSidebarEnabled,\r\n\t\tisInserterOpened,\r\n\t\tisListViewOpened,\r\n\t\tpreviousShortcut,\r\n\t\tnextShortcut,\r\n\t} = useSelect(\r\n\t\t( select ) => ( {\r\n\t\t\thasSidebarEnabled: !! select(\r\n\t\t\t\tinterfaceStore\r\n\t\t\t).getActiveComplementaryArea( editWidgetsStore.name ),\r\n\t\t\tisInserterOpened: !! select( editWidgetsStore ).isInserterOpened(),\r\n\t\t\tisListViewOpened: !! select( editWidgetsStore ).isListViewOpened(),\r\n\t\t\thasBlockBreadCrumbsEnabled: !! select( preferencesStore ).get(\r\n\t\t\t\t'core/edit-widgets',\r\n\t\t\t\t'showBlockBreadcrumbs'\r\n\t\t\t),\r\n\t\t\tpreviousShortcut: select(\r\n\t\t\t\tkeyboardShortcutsStore\r\n\t\t\t).getAllShortcutKeyCombinations(\r\n\t\t\t\t'core/edit-widgets/previous-region'\r\n\t\t\t),\r\n\t\t\tnextShortcut: select(\r\n\t\t\t\tkeyboardShortcutsStore\r\n\t\t\t).getAllShortcutKeyCombinations( 'core/edit-widgets/next-region' ),\r\n\t\t} ),\r\n\t\t[]\r\n\t);\r\n\r\n\t// Inserter and Sidebars are mutually exclusive\r\n\tuseEffect( () => {\r\n\t\tif ( hasSidebarEnabled && ! isHugeViewport ) {\r\n\t\t\tsetIsInserterOpened( false );\r\n\t\t\tsetIsListViewOpened( false );\r\n\t\t}\r\n\t}, [ hasSidebarEnabled, isHugeViewport ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ( isInserterOpened || isListViewOpened ) && ! isHugeViewport ) {\r\n\t\t\tcloseGeneralSidebar();\r\n\t\t}\r\n\t}, [ isInserterOpened, isListViewOpened, isHugeViewport ] );\r\n\r\n\tconst secondarySidebarLabel = isListViewOpened\r\n\t\t? __( 'List View' )\r\n\t\t: __( 'Block Library' );\r\n\r\n\tconst hasSecondarySidebar = isListViewOpened || isInserterOpened;\r\n\r\n\treturn (\r\n\t\t<InterfaceSkeleton\r\n\t\t\tlabels={ {\r\n\t\t\t\t...interfaceLabels,\r\n\t\t\t\tsecondarySidebar: secondarySidebarLabel,\r\n\t\t\t} }\r\n\t\t\theader={ <Header /> }\r\n\t\t\tsecondarySidebar={ hasSecondarySidebar && <SecondarySidebar /> }\r\n\t\t\tsidebar={ <ComplementaryArea.Slot scope=\"core/edit-widgets\" /> }\r\n\t\t\tcontent={\r\n\t\t\t\t<>\r\n\t\t\t\t\t<WidgetAreasBlockEditorContent\r\n\t\t\t\t\t\tblockEditorSettings={ blockEditorSettings }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\tfooter={\r\n\t\t\t\thasBlockBreadCrumbsEnabled &&\r\n\t\t\t\t! isMobileViewport && (\r\n\t\t\t\t\t<div className=\"edit-widgets-layout__footer\">\r\n\t\t\t\t\t\t<BlockBreadcrumb rootLabelText={ __( 'Widgets' ) } />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tshortcuts={ {\r\n\t\t\t\tprevious: previousShortcut,\r\n\t\t\t\tnext: nextShortcut,\r\n\t\t\t} }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default Interface;\r\n"],"mappings":"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","ignoreList":[]}