{"version":3,"names":["__experimentalListView","ListView","Button","useFocusOnMount","useMergeRefs","useDispatch","useSelect","useCallback","useState","__","closeSmall","ESCAPE","store","editWidgetsStore","unlock","jsx","_jsx","jsxs","_jsxs","ListViewSidebar","setIsListViewOpened","getListViewToggleRef","dropZoneElement","setDropZoneElement","focusOnMountRef","closeListView","current","focus","closeOnEscape","event","keyCode","defaultPrevented","preventDefault","className","onKeyDown","children","__next40pxDefaultSize","icon","label","onClick","ref"],"sources":["@wordpress/edit-widgets/src/components/secondary-sidebar/list-view-sidebar.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __experimentalListView as ListView } from '@wordpress/block-editor';\r\nimport { Button } from '@wordpress/components';\r\nimport { useFocusOnMount, useMergeRefs } from '@wordpress/compose';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { useCallback, useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { closeSmall } from '@wordpress/icons';\r\nimport { ESCAPE } from '@wordpress/keycodes';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editWidgetsStore } from '../../store';\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nexport default function ListViewSidebar() {\r\n\tconst { setIsListViewOpened } = useDispatch( editWidgetsStore );\r\n\tconst { getListViewToggleRef } = unlock( useSelect( editWidgetsStore ) );\r\n\r\n\t// Use internal state instead of a ref to make sure that the component\r\n\t// re-renders when the dropZoneElement updates.\r\n\tconst [ dropZoneElement, setDropZoneElement ] = useState( null );\r\n\r\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\r\n\r\n\t// When closing the list view, focus should return to the toggle button.\r\n\tconst closeListView = useCallback( () => {\r\n\t\tsetIsListViewOpened( false );\r\n\t\tgetListViewToggleRef().current?.focus();\r\n\t}, [ getListViewToggleRef, setIsListViewOpened ] );\r\n\r\n\tconst closeOnEscape = useCallback(\r\n\t\t( event ) => {\r\n\t\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tcloseListView();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ closeListView ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\r\n\t\t<div\r\n\t\t\tclassName=\"edit-widgets-editor__list-view-panel\"\r\n\t\t\tonKeyDown={ closeOnEscape }\r\n\t\t>\r\n\t\t\t<div className=\"edit-widgets-editor__list-view-panel-header\">\r\n\t\t\t\t<strong>{ __( 'List View' ) }</strong>\r\n\t\t\t\t<Button\r\n\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\ticon={ closeSmall }\r\n\t\t\t\t\tlabel={ __( 'Close' ) }\r\n\t\t\t\t\tonClick={ closeListView }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"edit-widgets-editor__list-view-panel-content\"\r\n\t\t\t\tref={ useMergeRefs( [ focusOnMountRef, setDropZoneElement ] ) }\r\n\t\t\t>\r\n\t\t\t\t<ListView dropZoneElement={ dropZoneElement } />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,sBAAsB,IAAIC,QAAQ,QAAQ,yBAAyB;AAC5E,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,eAAe,EAAEC,YAAY,QAAQ,oBAAoB;AAClE,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,WAAW,EAAEC,QAAQ,QAAQ,oBAAoB;AAC1D,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,MAAM,QAAQ,qBAAqB;;AAE5C;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,SAASC,MAAM,QAAQ,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE3C,eAAe,SAASC,eAAeA,CAAA,EAAG;EACzC,MAAM;IAAEC;EAAoB,CAAC,GAAGf,WAAW,CAAEQ,gBAAiB,CAAC;EAC/D,MAAM;IAAEQ;EAAqB,CAAC,GAAGP,MAAM,CAAER,SAAS,CAAEO,gBAAiB,CAAE,CAAC;;EAExE;EACA;EACA,MAAM,CAAES,eAAe,EAAEC,kBAAkB,CAAE,GAAGf,QAAQ,CAAE,IAAK,CAAC;EAEhE,MAAMgB,eAAe,GAAGrB,eAAe,CAAE,cAAe,CAAC;;EAEzD;EACA,MAAMsB,aAAa,GAAGlB,WAAW,CAAE,MAAM;IACxCa,mBAAmB,CAAE,KAAM,CAAC;IAC5BC,oBAAoB,CAAC,CAAC,CAACK,OAAO,EAAEC,KAAK,CAAC,CAAC;EACxC,CAAC,EAAE,CAAEN,oBAAoB,EAAED,mBAAmB,CAAG,CAAC;EAElD,MAAMQ,aAAa,GAAGrB,WAAW,CAC9BsB,KAAK,IAAM;IACZ,IAAKA,KAAK,CAACC,OAAO,KAAKnB,MAAM,IAAI,CAAEkB,KAAK,CAACE,gBAAgB,EAAG;MAC3DF,KAAK,CAACG,cAAc,CAAC,CAAC;MACtBP,aAAa,CAAC,CAAC;IAChB;EACD,CAAC,EACD,CAAEA,aAAa,CAChB,CAAC;EAED;IAAA;IACC;IACAP,KAAA;MACCe,SAAS,EAAC,sCAAsC;MAChDC,SAAS,EAAGN,aAAe;MAAAO,QAAA,gBAE3BjB,KAAA;QAAKe,SAAS,EAAC,6CAA6C;QAAAE,QAAA,gBAC3DnB,IAAA;UAAAmB,QAAA,EAAU1B,EAAE,CAAE,WAAY;QAAC,CAAU,CAAC,eACtCO,IAAA,CAACd;QACA;QAAA;UACAkC,qBAAqB,EAAG,KAAO;UAC/BC,IAAI,EAAG3B,UAAY;UACnB4B,KAAK,EAAG7B,EAAE,CAAE,OAAQ,CAAG;UACvB8B,OAAO,EAAGd;QAAe,CACzB,CAAC;MAAA,CACE,CAAC,eACNT,IAAA;QACCiB,SAAS,EAAC,8CAA8C;QACxDO,GAAG,EAAGpC,YAAY,CAAE,CAAEoB,eAAe,EAAED,kBAAkB,CAAG,CAAG;QAAAY,QAAA,eAE/DnB,IAAA,CAACf,QAAQ;UAACqB,eAAe,EAAGA;QAAiB,CAAE;MAAC,CAC5C,CAAC;IAAA,CACF;EAAC;AAER","ignoreList":[]}