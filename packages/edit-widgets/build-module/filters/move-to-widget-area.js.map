{"version":3,"names":["BlockControls","createHigherOrderComponent","useDispatch","useSelect","addFilter","MoveToWidgetArea","store","editWidgetsStore","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","withMoveToWidgetAreaToolbarItem","BlockEdit","props","clientId","name","blockName","widgetAreas","currentWidgetAreaId","canInsertBlockInWidgetArea","select","selectors","widgetAreaBlock","getParentWidgetAreaBlock","getWidgetAreas","attributes","id","moveBlockToWidgetArea","hasMultipleWidgetAreas","length","isMoveToWidgetAreaVisible","children","onSelect","widgetAreaId"],"sources":["@wordpress/edit-widgets/src/filters/move-to-widget-area.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\n\r\nimport { BlockControls } from '@wordpress/block-editor';\r\nimport { createHigherOrderComponent } from '@wordpress/compose';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport { MoveToWidgetArea } from '@wordpress/widgets';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editWidgetsStore } from '../store';\r\n\r\nconst withMoveToWidgetAreaToolbarItem = createHigherOrderComponent(\r\n\t( BlockEdit ) => ( props ) => {\r\n\t\tconst { clientId, name: blockName } = props;\r\n\t\tconst { widgetAreas, currentWidgetAreaId, canInsertBlockInWidgetArea } =\r\n\t\t\tuseSelect(\r\n\t\t\t\t( select ) => {\r\n\t\t\t\t\t// Component won't display for a widget area, so don't run selectors.\r\n\t\t\t\t\tif ( blockName === 'core/widget-area' ) {\r\n\t\t\t\t\t\treturn {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst selectors = select( editWidgetsStore );\r\n\r\n\t\t\t\t\tconst widgetAreaBlock =\r\n\t\t\t\t\t\tselectors.getParentWidgetAreaBlock( clientId );\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidgetAreas: selectors.getWidgetAreas(),\r\n\t\t\t\t\t\tcurrentWidgetAreaId: widgetAreaBlock?.attributes?.id,\r\n\t\t\t\t\t\tcanInsertBlockInWidgetArea:\r\n\t\t\t\t\t\t\tselectors.canInsertBlockInWidgetArea( blockName ),\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\t\t\t\t[ clientId, blockName ]\r\n\t\t\t);\r\n\r\n\t\tconst { moveBlockToWidgetArea } = useDispatch( editWidgetsStore );\r\n\t\tconst hasMultipleWidgetAreas = widgetAreas?.length > 1;\r\n\t\tconst isMoveToWidgetAreaVisible =\r\n\t\t\tblockName !== 'core/widget-area' &&\r\n\t\t\thasMultipleWidgetAreas &&\r\n\t\t\tcanInsertBlockInWidgetArea;\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\r\n\t\t\t\t{ isMoveToWidgetAreaVisible && (\r\n\t\t\t\t\t<BlockControls>\r\n\t\t\t\t\t\t<MoveToWidgetArea\r\n\t\t\t\t\t\t\twidgetAreas={ widgetAreas }\r\n\t\t\t\t\t\t\tcurrentWidgetAreaId={ currentWidgetAreaId }\r\n\t\t\t\t\t\t\tonSelect={ ( widgetAreaId ) => {\r\n\t\t\t\t\t\t\t\tmoveBlockToWidgetArea(\r\n\t\t\t\t\t\t\t\t\tprops.clientId,\r\n\t\t\t\t\t\t\t\t\twidgetAreaId\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</BlockControls>\r\n\t\t\t\t) }\r\n\t\t\t</>\r\n\t\t);\r\n\t},\r\n\t'withMoveToWidgetAreaToolbarItem'\r\n);\r\n\r\naddFilter(\r\n\t'editor.BlockEdit',\r\n\t'core/edit-widgets/block-edit',\r\n\twithMoveToWidgetAreaToolbarItem\r\n);\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA,SAASA,aAAa,QAAQ,yBAAyB;AACvD,SAASC,0BAA0B,QAAQ,oBAAoB;AAC/D,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,gBAAgB,QAAQ,oBAAoB;;AAErD;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,UAAU;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAErD,MAAMC,+BAA+B,GAAGb,0BAA0B,CAC/Dc,SAAS,IAAQC,KAAK,IAAM;EAC7B,MAAM;IAAEC,QAAQ;IAAEC,IAAI,EAAEC;EAAU,CAAC,GAAGH,KAAK;EAC3C,MAAM;IAAEI,WAAW;IAAEC,mBAAmB;IAAEC;EAA2B,CAAC,GACrEnB,SAAS,CACNoB,MAAM,IAAM;IACb;IACA,IAAKJ,SAAS,KAAK,kBAAkB,EAAG;MACvC,OAAO,CAAC,CAAC;IACV;IAEA,MAAMK,SAAS,GAAGD,MAAM,CAAEhB,gBAAiB,CAAC;IAE5C,MAAMkB,eAAe,GACpBD,SAAS,CAACE,wBAAwB,CAAET,QAAS,CAAC;IAE/C,OAAO;MACNG,WAAW,EAAEI,SAAS,CAACG,cAAc,CAAC,CAAC;MACvCN,mBAAmB,EAAEI,eAAe,EAAEG,UAAU,EAAEC,EAAE;MACpDP,0BAA0B,EACzBE,SAAS,CAACF,0BAA0B,CAAEH,SAAU;IAClD,CAAC;EACF,CAAC,EACD,CAAEF,QAAQ,EAAEE,SAAS,CACtB,CAAC;EAEF,MAAM;IAAEW;EAAsB,CAAC,GAAG5B,WAAW,CAAEK,gBAAiB,CAAC;EACjE,MAAMwB,sBAAsB,GAAGX,WAAW,EAAEY,MAAM,GAAG,CAAC;EACtD,MAAMC,yBAAyB,GAC9Bd,SAAS,KAAK,kBAAkB,IAChCY,sBAAsB,IACtBT,0BAA0B;EAE3B,oBACCT,KAAA,CAAAF,SAAA;IAAAuB,QAAA,gBACCzB,IAAA,CAACM,SAAS;MAAA,GAAiBC;IAAK,GAAjB,MAAqB,CAAC,EACnCiB,yBAAyB,iBAC1BxB,IAAA,CAACT,aAAa;MAAAkC,QAAA,eACbzB,IAAA,CAACJ,gBAAgB;QAChBe,WAAW,EAAGA,WAAa;QAC3BC,mBAAmB,EAAGA,mBAAqB;QAC3Cc,QAAQ,EAAKC,YAAY,IAAM;UAC9BN,qBAAqB,CACpBd,KAAK,CAACC,QAAQ,EACdmB,YACD,CAAC;QACF;MAAG,CACH;IAAC,CACY,CACf;EAAA,CACA,CAAC;AAEL,CAAC,EACD,iCACD,CAAC;AAEDhC,SAAS,CACR,kBAAkB,EAClB,8BAA8B,EAC9BU,+BACD,CAAC","ignoreList":[]}