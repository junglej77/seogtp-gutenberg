{"version":3,"names":["clsx","BlockToolbar","store","blockEditorStore","privateApis","blockEditorPrivateApis","useEffect","Button","Popover","__","next","previous","useSelect","unlock","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","useHasBlockToolbar","CollapsibleBlockToolbar","isCollapsed","onToggle","blockSelectionStart","select","getBlockSelectionStart","hasBlockToolbar","hasBlockSelection","children","className","hideDragHandle","Slot","name","icon","onClick","label","size"],"sources":["@wordpress/editor/src/components/collapsible-block-toolbar/index.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tBlockToolbar,\r\n\tstore as blockEditorStore,\r\n\tprivateApis as blockEditorPrivateApis,\r\n} from '@wordpress/block-editor';\r\nimport { useEffect } from '@wordpress/element';\r\nimport { Button, Popover } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { next, previous } from '@wordpress/icons';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../../lock-unlock';\r\n\r\nconst { useHasBlockToolbar } = unlock( blockEditorPrivateApis );\r\n\r\nexport default function CollapsibleBlockToolbar( { isCollapsed, onToggle } ) {\r\n\tconst { blockSelectionStart } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tblockSelectionStart:\r\n\t\t\t\tselect( blockEditorStore ).getBlockSelectionStart(),\r\n\t\t};\r\n\t}, [] );\r\n\tconst hasBlockToolbar = useHasBlockToolbar();\r\n\r\n\tconst hasBlockSelection = !! blockSelectionStart;\r\n\r\n\tuseEffect( () => {\r\n\t\t// If we have a new block selection, show the block tools\r\n\t\tif ( blockSelectionStart ) {\r\n\t\t\tonToggle( false );\r\n\t\t}\r\n\t}, [ blockSelectionStart, onToggle ] );\r\n\r\n\tif ( ! hasBlockToolbar ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tclassName={ clsx( 'editor-collapsible-block-toolbar', {\r\n\t\t\t\t\t'is-collapsed': isCollapsed || ! hasBlockSelection,\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t<BlockToolbar hideDragHandle />\r\n\t\t\t</div>\r\n\t\t\t<Popover.Slot name=\"block-toolbar\" />\r\n\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"editor-collapsible-block-toolbar__toggle\"\r\n\t\t\t\ticon={ isCollapsed ? next : previous }\r\n\t\t\t\tonClick={ () => {\r\n\t\t\t\t\tonToggle( ! isCollapsed );\r\n\t\t\t\t} }\r\n\t\t\t\tlabel={\r\n\t\t\t\t\tisCollapsed\r\n\t\t\t\t\t\t? __( 'Show block tools' )\r\n\t\t\t\t\t\t: __( 'Hide block tools' )\r\n\t\t\t\t}\r\n\t\t\t\tsize=\"compact\"\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SACCC,YAAY,EACZC,KAAK,IAAIC,gBAAgB,EACzBC,WAAW,IAAIC,sBAAsB,QAC/B,yBAAyB;AAChC,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,MAAM,EAAEC,OAAO,QAAQ,uBAAuB;AACvD,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;AACjD,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,MAAM,QAAQ,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE3C,MAAM;EAAEC;AAAmB,CAAC,GAAGP,MAAM,CAAER,sBAAuB,CAAC;AAE/D,eAAe,SAASgB,uBAAuBA,CAAE;EAAEC,WAAW;EAAEC;AAAS,CAAC,EAAG;EAC5E,MAAM;IAAEC;EAAoB,CAAC,GAAGZ,SAAS,CAAIa,MAAM,IAAM;IACxD,OAAO;MACND,mBAAmB,EAClBC,MAAM,CAAEtB,gBAAiB,CAAC,CAACuB,sBAAsB,CAAC;IACpD,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAMC,eAAe,GAAGP,kBAAkB,CAAC,CAAC;EAE5C,MAAMQ,iBAAiB,GAAG,CAAC,CAAEJ,mBAAmB;EAEhDlB,SAAS,CAAE,MAAM;IAChB;IACA,IAAKkB,mBAAmB,EAAG;MAC1BD,QAAQ,CAAE,KAAM,CAAC;IAClB;EACD,CAAC,EAAE,CAAEC,mBAAmB,EAAED,QAAQ,CAAG,CAAC;EAEtC,IAAK,CAAEI,eAAe,EAAG;IACxB,OAAO,IAAI;EACZ;EAEA,oBACCR,KAAA,CAAAF,SAAA;IAAAY,QAAA,gBACCd,IAAA;MACCe,SAAS,EAAG9B,IAAI,CAAE,kCAAkC,EAAE;QACrD,cAAc,EAAEsB,WAAW,IAAI,CAAEM;MAClC,CAAE,CAAG;MAAAC,QAAA,eAELd,IAAA,CAACd,YAAY;QAAC8B,cAAc;MAAA,CAAE;IAAC,CAC3B,CAAC,eACNhB,IAAA,CAACP,OAAO,CAACwB,IAAI;MAACC,IAAI,EAAC;IAAe,CAAE,CAAC,eAErClB,IAAA,CAACR,MAAM;MACNuB,SAAS,EAAC,0CAA0C;MACpDI,IAAI,EAAGZ,WAAW,GAAGZ,IAAI,GAAGC,QAAU;MACtCwB,OAAO,EAAGA,CAAA,KAAM;QACfZ,QAAQ,CAAE,CAAED,WAAY,CAAC;MAC1B,CAAG;MACHc,KAAK,EACJd,WAAW,GACRb,EAAE,CAAE,kBAAmB,CAAC,GACxBA,EAAE,CAAE,kBAAmB,CAC1B;MACD4B,IAAI,EAAC;IAAS,CACd,CAAC;EAAA,CACD,CAAC;AAEL","ignoreList":[]}