{"version":3,"names":["MenuItem","useSelect","useDispatch","__","useCopyToClipboard","store","noticesStore","coreStore","__unstableSerializeAndClean","editorStore","jsx","_jsx","CopyContentMenuItem","createNotice","getCurrentPostId","getCurrentPostType","getEditedEntityRecord","getText","record","content","blocks","onSuccess","isDismissible","type","ref","children"],"sources":["@wordpress/editor/src/components/more-menu/copy-content-menu-item.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { MenuItem } from '@wordpress/components';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useCopyToClipboard } from '@wordpress/compose';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editorStore } from '../../store';\r\n\r\nexport default function CopyContentMenuItem() {\r\n\tconst { createNotice } = useDispatch( noticesStore );\r\n\tconst { getCurrentPostId, getCurrentPostType } = useSelect( editorStore );\r\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\r\n\r\n\tfunction getText() {\r\n\t\tconst record = getEditedEntityRecord(\r\n\t\t\t'postType',\r\n\t\t\tgetCurrentPostType(),\r\n\t\t\tgetCurrentPostId()\r\n\t\t);\r\n\t\tif ( ! record ) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tif ( typeof record.content === 'function' ) {\r\n\t\t\treturn record.content( record );\r\n\t\t} else if ( record.blocks ) {\r\n\t\t\treturn __unstableSerializeAndClean( record.blocks );\r\n\t\t} else if ( record.content ) {\r\n\t\t\treturn record.content;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onSuccess() {\r\n\t\tcreateNotice( 'info', __( 'All content copied.' ), {\r\n\t\t\tisDismissible: true,\r\n\t\t\ttype: 'snackbar',\r\n\t\t} );\r\n\t}\r\n\r\n\tconst ref = useCopyToClipboard( getText, onSuccess );\r\n\r\n\treturn <MenuItem ref={ ref }>{ __( 'Copy all blocks' ) }</MenuItem>;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,kBAAkB,QAAQ,oBAAoB;AACvD,SAASC,KAAK,IAAIC,YAAY,QAAQ,oBAAoB;AAC1D,SAASD,KAAK,IAAIE,SAAS,QAAQ,sBAAsB;AACzD,SAASC,2BAA2B,QAAQ,mBAAmB;;AAE/D;AACA;AACA;AACA,SAASH,KAAK,IAAII,WAAW,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEnD,eAAe,SAASC,mBAAmBA,CAAA,EAAG;EAC7C,MAAM;IAAEC;EAAa,CAAC,GAAGX,WAAW,CAAEI,YAAa,CAAC;EACpD,MAAM;IAAEQ,gBAAgB;IAAEC;EAAmB,CAAC,GAAGd,SAAS,CAAEQ,WAAY,CAAC;EACzE,MAAM;IAAEO;EAAsB,CAAC,GAAGf,SAAS,CAAEM,SAAU,CAAC;EAExD,SAASU,OAAOA,CAAA,EAAG;IAClB,MAAMC,MAAM,GAAGF,qBAAqB,CACnC,UAAU,EACVD,kBAAkB,CAAC,CAAC,EACpBD,gBAAgB,CAAC,CAClB,CAAC;IACD,IAAK,CAAEI,MAAM,EAAG;MACf,OAAO,EAAE;IACV;IAEA,IAAK,OAAOA,MAAM,CAACC,OAAO,KAAK,UAAU,EAAG;MAC3C,OAAOD,MAAM,CAACC,OAAO,CAAED,MAAO,CAAC;IAChC,CAAC,MAAM,IAAKA,MAAM,CAACE,MAAM,EAAG;MAC3B,OAAOZ,2BAA2B,CAAEU,MAAM,CAACE,MAAO,CAAC;IACpD,CAAC,MAAM,IAAKF,MAAM,CAACC,OAAO,EAAG;MAC5B,OAAOD,MAAM,CAACC,OAAO;IACtB;EACD;EAEA,SAASE,SAASA,CAAA,EAAG;IACpBR,YAAY,CAAE,MAAM,EAAEV,EAAE,CAAE,qBAAsB,CAAC,EAAE;MAClDmB,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAE;IACP,CAAE,CAAC;EACJ;EAEA,MAAMC,GAAG,GAAGpB,kBAAkB,CAAEa,OAAO,EAAEI,SAAU,CAAC;EAEpD,oBAAOV,IAAA,CAACX,QAAQ;IAACwB,GAAG,EAAGA,GAAK;IAAAC,QAAA,EAAGtB,EAAE,CAAE,iBAAkB;EAAC,CAAY,CAAC;AACpE","ignoreList":[]}