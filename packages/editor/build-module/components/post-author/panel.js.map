{"version":3,"names":["__","sprintf","Button","Dropdown","useState","useMemo","decodeEntities","__experimentalInspectorPopoverHeader","InspectorPopoverHeader","PostAuthorCheck","PostAuthorForm","PostPanelRow","useAuthorsQuery","jsx","_jsx","jsxs","_jsxs","PostAuthorToggle","isOpen","onClick","postAuthor","authorName","name","size","className","variant","children","PostAuthor","popoverAnchor","setPopoverAnchor","popoverProps","anchor","placement","offset","shift","label","ref","contentClassName","focusOnMount","renderToggle","onToggle","renderContent","onClose","title"],"sources":["@wordpress/editor/src/components/post-author/panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { Button, Dropdown } from '@wordpress/components';\r\nimport { useState, useMemo } from '@wordpress/element';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport PostAuthorCheck from './check';\r\nimport PostAuthorForm from './index';\r\nimport PostPanelRow from '../post-panel-row';\r\nimport { useAuthorsQuery } from './hook';\r\n\r\nfunction PostAuthorToggle( { isOpen, onClick } ) {\r\n\tconst { postAuthor } = useAuthorsQuery();\r\n\tconst authorName =\r\n\t\tdecodeEntities( postAuthor?.name ) || __( '(No author)' );\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tsize=\"compact\"\r\n\t\t\tclassName=\"editor-post-author__panel-toggle\"\r\n\t\t\tvariant=\"tertiary\"\r\n\t\t\taria-expanded={ isOpen }\r\n\t\t\t// translators: %s: Current post link.\r\n\t\t\taria-label={ sprintf( __( 'Change author: %s' ), authorName ) }\r\n\t\t\tonClick={ onClick }\r\n\t\t>\r\n\t\t\t{ authorName }\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\n/**\r\n * Renders the Post Author Panel component.\r\n *\r\n * @return {Component} The component to be rendered.\r\n */\r\nexport function PostAuthor() {\r\n\t// Use internal state instead of a ref to make sure that the component\r\n\t// re-renders when the popover's anchor updates.\r\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\r\n\t// Memoize popoverProps to avoid returning a new object every time.\r\n\tconst popoverProps = useMemo(\r\n\t\t() => ( {\r\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\r\n\t\t\t// move around when the label changes.\r\n\t\t\tanchor: popoverAnchor,\r\n\t\t\tplacement: 'left-start',\r\n\t\t\toffset: 36,\r\n\t\t\tshift: true,\r\n\t\t} ),\r\n\t\t[ popoverAnchor ]\r\n\t);\r\n\treturn (\r\n\t\t<PostAuthorCheck>\r\n\t\t\t<PostPanelRow label={ __( 'Author' ) } ref={ setPopoverAnchor }>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\tcontentClassName=\"editor-post-author__panel-dialog\"\r\n\t\t\t\t\tfocusOnMount\r\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\r\n\t\t\t\t\t\t<PostAuthorToggle\r\n\t\t\t\t\t\t\tisOpen={ isOpen }\r\n\t\t\t\t\t\t\tonClick={ onToggle }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\r\n\t\t\t\t\t\t<div className=\"editor-post-author\">\r\n\t\t\t\t\t\t\t<InspectorPopoverHeader\r\n\t\t\t\t\t\t\t\ttitle={ __( 'Author' ) }\r\n\t\t\t\t\t\t\t\tonClose={ onClose }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<PostAuthorForm onClose={ onClose } />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t</PostPanelRow>\r\n\t\t</PostAuthorCheck>\r\n\t);\r\n}\r\n\r\nexport default PostAuthor;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,MAAM,EAAEC,QAAQ,QAAQ,uBAAuB;AACxD,SAASC,QAAQ,EAAEC,OAAO,QAAQ,oBAAoB;AACtD,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,oCAAoC,IAAIC,sBAAsB,QAAQ,yBAAyB;;AAExG;AACA;AACA;AACA,OAAOC,eAAe,MAAM,SAAS;AACrC,OAAOC,cAAc,MAAM,SAAS;AACpC,OAAOC,YAAY,MAAM,mBAAmB;AAC5C,SAASC,eAAe,QAAQ,QAAQ;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEzC,SAASC,gBAAgBA,CAAE;EAAEC,MAAM;EAAEC;AAAQ,CAAC,EAAG;EAChD,MAAM;IAAEC;EAAW,CAAC,GAAGR,eAAe,CAAC,CAAC;EACxC,MAAMS,UAAU,GACff,cAAc,CAAEc,UAAU,EAAEE,IAAK,CAAC,IAAItB,EAAE,CAAE,aAAc,CAAC;EAC1D,oBACCc,IAAA,CAACZ,MAAM;IACNqB,IAAI,EAAC,SAAS;IACdC,SAAS,EAAC,kCAAkC;IAC5CC,OAAO,EAAC,UAAU;IAClB,iBAAgBP;IAChB;IAAA;IACA,cAAajB,OAAO,CAAED,EAAE,CAAE,mBAAoB,CAAC,EAAEqB,UAAW,CAAG;IAC/DF,OAAO,EAAGA,OAAS;IAAAO,QAAA,EAEjBL;EAAU,CACL,CAAC;AAEX;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASM,UAAUA,CAAA,EAAG;EAC5B;EACA;EACA,MAAM,CAAEC,aAAa,EAAEC,gBAAgB,CAAE,GAAGzB,QAAQ,CAAE,IAAK,CAAC;EAC5D;EACA,MAAM0B,YAAY,GAAGzB,OAAO,CAC3B,OAAQ;IACP;IACA;IACA0B,MAAM,EAAEH,aAAa;IACrBI,SAAS,EAAE,YAAY;IACvBC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE;EACR,CAAC,CAAE,EACH,CAAEN,aAAa,CAChB,CAAC;EACD,oBACCd,IAAA,CAACL,eAAe;IAAAiB,QAAA,eACfZ,IAAA,CAACH,YAAY;MAACwB,KAAK,EAAGnC,EAAE,CAAE,QAAS,CAAG;MAACoC,GAAG,EAAGP,gBAAkB;MAAAH,QAAA,eAC9DZ,IAAA,CAACX,QAAQ;QACR2B,YAAY,EAAGA,YAAc;QAC7BO,gBAAgB,EAAC,kCAAkC;QACnDC,YAAY;QACZC,YAAY,EAAGA,CAAE;UAAErB,MAAM;UAAEsB;QAAS,CAAC,kBACpC1B,IAAA,CAACG,gBAAgB;UAChBC,MAAM,EAAGA,MAAQ;UACjBC,OAAO,EAAGqB;QAAU,CACpB,CACC;QACHC,aAAa,EAAGA,CAAE;UAAEC;QAAQ,CAAC,kBAC5B1B,KAAA;UAAKQ,SAAS,EAAC,oBAAoB;UAAAE,QAAA,gBAClCZ,IAAA,CAACN,sBAAsB;YACtBmC,KAAK,EAAG3C,EAAE,CAAE,QAAS,CAAG;YACxB0C,OAAO,EAAGA;UAAS,CACnB,CAAC,eACF5B,IAAA,CAACJ,cAAc;YAACgC,OAAO,EAAGA;UAAS,CAAE,CAAC;QAAA,CAClC;MACH,CACH;IAAC,CACW;EAAC,CACC,CAAC;AAEpB;AAEA,eAAef,UAAU","ignoreList":[]}