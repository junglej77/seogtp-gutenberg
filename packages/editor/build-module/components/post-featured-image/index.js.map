{"version":3,"names":["__","sprintf","applyFilters","DropZone","Button","Spinner","withNotices","withFilters","__experimentalHStack","HStack","isBlobURL","useState","useRef","compose","useSelect","withDispatch","withSelect","MediaUpload","MediaUploadCheck","store","blockEditorStore","coreStore","PostFeaturedImageCheck","editorStore","jsx","_jsx","jsxs","_jsxs","ALLOWED_MEDIA_TYPES","DEFAULT_FEATURE_IMAGE_LABEL","DEFAULT_SET_FEATURE_IMAGE_LABEL","instructions","children","getMediaDetails","media","postId","_media$media_details$","_media$media_details$2","defaultSize","id","media_details","sizes","mediaWidth","width","mediaHeight","height","mediaSourceUrl","source_url","fallbackSize","PostFeaturedImage","currentPostId","featuredImageId","onUpdateImage","onRemoveImage","postType","noticeUI","noticeOperations","toggleRef","isLoading","setIsLoading","getSettings","onDropFiles","filesList","mediaUpload","allowedTypes","onFileChange","image","url","onError","message","removeAllNotices","createErrorNotice","className","alt_text","full","file","slug","fallback","title","labels","featured_image","onSelect","unstableFeaturedImageFlow","modalClass","render","open","__next40pxDefaultSize","ref","onClick","disabled","accessibleWhenDisabled","src","alt","set_featured_image","current","focus","onFilesDrop","value","applyWithSelect","select","getMedia","getPostType","getCurrentPostId","getEditedPostAttribute","context","applyWithDispatch","dispatch","editPost","featured_media","onDropImage"],"sources":["@wordpress/editor/src/components/post-featured-image/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { applyFilters } from '@wordpress/hooks';\r\nimport {\r\n\tDropZone,\r\n\tButton,\r\n\tSpinner,\r\n\twithNotices,\r\n\twithFilters,\r\n\t__experimentalHStack as HStack,\r\n} from '@wordpress/components';\r\nimport { isBlobURL } from '@wordpress/blob';\r\nimport { useState, useRef } from '@wordpress/element';\r\nimport { compose } from '@wordpress/compose';\r\nimport { useSelect, withDispatch, withSelect } from '@wordpress/data';\r\nimport {\r\n\tMediaUpload,\r\n\tMediaUploadCheck,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport PostFeaturedImageCheck from './check';\r\nimport { store as editorStore } from '../../store';\r\n\r\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\r\n\r\n// Used when labels from post type were not yet loaded or when they are not present.\r\nconst DEFAULT_FEATURE_IMAGE_LABEL = __( 'Featured image' );\r\nconst DEFAULT_SET_FEATURE_IMAGE_LABEL = __( 'Add a featured image' );\r\n\r\nconst instructions = (\r\n\t<p>\r\n\t\t{ __(\r\n\t\t\t'To edit the featured image, you need permission to upload media.'\r\n\t\t) }\r\n\t</p>\r\n);\r\n\r\nfunction getMediaDetails( media, postId ) {\r\n\tif ( ! media ) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tconst defaultSize = applyFilters(\r\n\t\t'editor.PostFeaturedImage.imageSize',\r\n\t\t'large',\r\n\t\tmedia.id,\r\n\t\tpostId\r\n\t);\r\n\tif ( defaultSize in ( media?.media_details?.sizes ?? {} ) ) {\r\n\t\treturn {\r\n\t\t\tmediaWidth: media.media_details.sizes[ defaultSize ].width,\r\n\t\t\tmediaHeight: media.media_details.sizes[ defaultSize ].height,\r\n\t\t\tmediaSourceUrl: media.media_details.sizes[ defaultSize ].source_url,\r\n\t\t};\r\n\t}\r\n\r\n\t// Use fallbackSize when defaultSize is not available.\r\n\tconst fallbackSize = applyFilters(\r\n\t\t'editor.PostFeaturedImage.imageSize',\r\n\t\t'thumbnail',\r\n\t\tmedia.id,\r\n\t\tpostId\r\n\t);\r\n\tif ( fallbackSize in ( media?.media_details?.sizes ?? {} ) ) {\r\n\t\treturn {\r\n\t\t\tmediaWidth: media.media_details.sizes[ fallbackSize ].width,\r\n\t\t\tmediaHeight: media.media_details.sizes[ fallbackSize ].height,\r\n\t\t\tmediaSourceUrl:\r\n\t\t\t\tmedia.media_details.sizes[ fallbackSize ].source_url,\r\n\t\t};\r\n\t}\r\n\r\n\t// Use full image size when fallbackSize and defaultSize are not available.\r\n\treturn {\r\n\t\tmediaWidth: media.media_details.width,\r\n\t\tmediaHeight: media.media_details.height,\r\n\t\tmediaSourceUrl: media.source_url,\r\n\t};\r\n}\r\n\r\nfunction PostFeaturedImage( {\r\n\tcurrentPostId,\r\n\tfeaturedImageId,\r\n\tonUpdateImage,\r\n\tonRemoveImage,\r\n\tmedia,\r\n\tpostType,\r\n\tnoticeUI,\r\n\tnoticeOperations,\r\n} ) {\r\n\tconst toggleRef = useRef();\r\n\tconst [ isLoading, setIsLoading ] = useState( false );\r\n\tconst { getSettings } = useSelect( blockEditorStore );\r\n\tconst { mediaSourceUrl } = getMediaDetails( media, currentPostId );\r\n\r\n\tfunction onDropFiles( filesList ) {\r\n\t\tgetSettings().mediaUpload( {\r\n\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\r\n\t\t\tfilesList,\r\n\t\t\tonFileChange( [ image ] ) {\r\n\t\t\t\tif ( isBlobURL( image?.url ) ) {\r\n\t\t\t\t\tsetIsLoading( true );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif ( image ) {\r\n\t\t\t\t\tonUpdateImage( image );\r\n\t\t\t\t}\r\n\t\t\t\tsetIsLoading( false );\r\n\t\t\t},\r\n\t\t\tonError( message ) {\r\n\t\t\t\tnoticeOperations.removeAllNotices();\r\n\t\t\t\tnoticeOperations.createErrorNotice( message );\r\n\t\t\t},\r\n\t\t} );\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PostFeaturedImageCheck>\r\n\t\t\t{ noticeUI }\r\n\t\t\t<div className=\"editor-post-featured-image\">\r\n\t\t\t\t{ media && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tid={ `editor-post-featured-image-${ featuredImageId }-describedby` }\r\n\t\t\t\t\t\tclassName=\"hidden\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ media.alt_text &&\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t// Translators: %s: The selected image alt text.\r\n\t\t\t\t\t\t\t\t__( 'Current image: %s' ),\r\n\t\t\t\t\t\t\t\tmedia.alt_text\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ! media.alt_text &&\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t// Translators: %s: The selected image filename.\r\n\t\t\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t\t\t'The current image has no alternative text. The file name is: %s'\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\tmedia.media_details.sizes?.full?.file ||\r\n\t\t\t\t\t\t\t\t\tmedia.slug\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) }\r\n\t\t\t\t<MediaUploadCheck fallback={ instructions }>\r\n\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\tpostType?.labels?.featured_image ||\r\n\t\t\t\t\t\t\tDEFAULT_FEATURE_IMAGE_LABEL\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonSelect={ onUpdateImage }\r\n\t\t\t\t\t\tunstableFeaturedImageFlow\r\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\r\n\t\t\t\t\t\tmodalClass=\"editor-post-featured-image__media-modal\"\r\n\t\t\t\t\t\trender={ ( { open } ) => (\r\n\t\t\t\t\t\t\t<div className=\"editor-post-featured-image__container\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\t\tref={ toggleRef }\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\r\n\t\t\t\t\t\t\t\t\t\t\t? 'editor-post-featured-image__toggle'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'editor-post-featured-image__preview'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={ open }\r\n\t\t\t\t\t\t\t\t\taria-label={\r\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\r\n\t\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t\t: __(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Edit or replace the featured image'\r\n\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\taria-describedby={\r\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\r\n\t\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t\t: `editor-post-featured-image-${ featuredImageId }-describedby`\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\taria-haspopup=\"dialog\"\r\n\t\t\t\t\t\t\t\t\tdisabled={ isLoading }\r\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ !! featuredImageId && media && (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__preview-image\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={ mediaSourceUrl }\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t{ isLoading && <Spinner /> }\r\n\t\t\t\t\t\t\t\t\t{ ! featuredImageId &&\r\n\t\t\t\t\t\t\t\t\t\t! isLoading &&\r\n\t\t\t\t\t\t\t\t\t\t( postType?.labels\r\n\t\t\t\t\t\t\t\t\t\t\t?.set_featured_image ||\r\n\t\t\t\t\t\t\t\t\t\t\tDEFAULT_SET_FEATURE_IMAGE_LABEL ) }\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{ !! featuredImageId && (\r\n\t\t\t\t\t\t\t\t\t<HStack className=\"editor-post-featured-image__actions\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\r\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"dialog\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Replace' ) }\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\r\n\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize={ false }\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tonRemoveImage();\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleRef.current.focus();\r\n\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t<DropZone onFilesDrop={ onDropFiles } />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tvalue={ featuredImageId }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</MediaUploadCheck>\r\n\t\t\t</div>\r\n\t\t</PostFeaturedImageCheck>\r\n\t);\r\n}\r\n\r\nconst applyWithSelect = withSelect( ( select ) => {\r\n\tconst { getMedia, getPostType } = select( coreStore );\r\n\tconst { getCurrentPostId, getEditedPostAttribute } = select( editorStore );\r\n\tconst featuredImageId = getEditedPostAttribute( 'featured_media' );\r\n\r\n\treturn {\r\n\t\tmedia: featuredImageId\r\n\t\t\t? getMedia( featuredImageId, { context: 'view' } )\r\n\t\t\t: null,\r\n\t\tcurrentPostId: getCurrentPostId(),\r\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\r\n\t\tfeaturedImageId,\r\n\t};\r\n} );\r\n\r\nconst applyWithDispatch = withDispatch(\r\n\t( dispatch, { noticeOperations }, { select } ) => {\r\n\t\tconst { editPost } = dispatch( editorStore );\r\n\t\treturn {\r\n\t\t\tonUpdateImage( image ) {\r\n\t\t\t\teditPost( { featured_media: image.id } );\r\n\t\t\t},\r\n\t\t\tonDropImage( filesList ) {\r\n\t\t\t\tselect( blockEditorStore )\r\n\t\t\t\t\t.getSettings()\r\n\t\t\t\t\t.mediaUpload( {\r\n\t\t\t\t\t\tallowedTypes: [ 'image' ],\r\n\t\t\t\t\t\tfilesList,\r\n\t\t\t\t\t\tonFileChange( [ image ] ) {\r\n\t\t\t\t\t\t\teditPost( { featured_media: image.id } );\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tonError( message ) {\r\n\t\t\t\t\t\t\tnoticeOperations.removeAllNotices();\r\n\t\t\t\t\t\t\tnoticeOperations.createErrorNotice( message );\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t} );\r\n\t\t\t},\r\n\t\t\tonRemoveImage() {\r\n\t\t\t\teditPost( { featured_media: 0 } );\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n);\r\n\r\n/**\r\n * Renders the component for managing the featured image of a post.\r\n *\r\n * @param {Object}   props                  Props.\r\n * @param {number}   props.currentPostId    ID of the current post.\r\n * @param {number}   props.featuredImageId  ID of the featured image.\r\n * @param {Function} props.onUpdateImage    Function to call when the image is updated.\r\n * @param {Function} props.onRemoveImage    Function to call when the image is removed.\r\n * @param {Object}   props.media            The media object representing the featured image.\r\n * @param {string}   props.postType         Post type.\r\n * @param {Element}  props.noticeUI         UI for displaying notices.\r\n * @param {Object}   props.noticeOperations Operations for managing notices.\r\n *\r\n * @return {Element} Component to be rendered .\r\n */\r\nexport default compose(\r\n\twithNotices,\r\n\tapplyWithSelect,\r\n\tapplyWithDispatch,\r\n\twithFilters( 'editor.PostFeaturedImage' )\r\n)( PostFeaturedImage );\r\n"],"mappings":"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","ignoreList":[]}