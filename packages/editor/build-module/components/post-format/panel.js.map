{"version":3,"names":["Button","Dropdown","__","sprintf","useSelect","useState","useMemo","__experimentalInspectorPopoverHeader","InspectorPopoverHeader","default","PostFormatForm","POST_FORMATS","PostFormatCheck","PostPanelRow","store","editorStore","jsx","_jsx","jsxs","_jsxs","PostFormat","postFormat","select","getEditedPostAttribute","_postFormat","activeFormat","find","format","id","popoverAnchor","setPopoverAnchor","popoverProps","anchor","placement","offset","shift","children","label","ref","contentClassName","focusOnMount","renderToggle","isOpen","onToggle","size","variant","caption","onClick","renderContent","onClose","className","title"],"sources":["@wordpress/editor/src/components/post-format/panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { Button, Dropdown } from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useState, useMemo } from '@wordpress/element';\r\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { default as PostFormatForm, POST_FORMATS } from './';\r\nimport PostFormatCheck from './check';\r\nimport PostPanelRow from '../post-panel-row';\r\nimport { store as editorStore } from '../../store';\r\n\r\n/**\r\n * Renders the Post Author Panel component.\r\n *\r\n * @return {Component} The component to be rendered.\r\n */\r\nfunction PostFormat() {\r\n\tconst { postFormat } = useSelect( ( select ) => {\r\n\t\tconst { getEditedPostAttribute } = select( editorStore );\r\n\t\tconst _postFormat = getEditedPostAttribute( 'format' );\r\n\t\treturn {\r\n\t\t\tpostFormat: _postFormat ?? 'standard',\r\n\t\t};\r\n\t}, [] );\r\n\tconst activeFormat = POST_FORMATS.find(\r\n\t\t( format ) => format.id === postFormat\r\n\t);\r\n\r\n\t// Use internal state instead of a ref to make sure that the component\r\n\t// re-renders when the popover's anchor updates.\r\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\r\n\t// Memoize popoverProps to avoid returning a new object every time.\r\n\tconst popoverProps = useMemo(\r\n\t\t() => ( {\r\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\r\n\t\t\t// move around when the label changes.\r\n\t\t\tanchor: popoverAnchor,\r\n\t\t\tplacement: 'left-start',\r\n\t\t\toffset: 36,\r\n\t\t\tshift: true,\r\n\t\t} ),\r\n\t\t[ popoverAnchor ]\r\n\t);\r\n\treturn (\r\n\t\t<PostFormatCheck>\r\n\t\t\t<PostPanelRow label={ __( 'Format' ) } ref={ setPopoverAnchor }>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\tcontentClassName=\"editor-post-format__dialog\"\r\n\t\t\t\t\tfocusOnMount\r\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\taria-expanded={ isOpen }\r\n\t\t\t\t\t\t\taria-label={ sprintf(\r\n\t\t\t\t\t\t\t\t// translators: %s: Current post format.\r\n\t\t\t\t\t\t\t\t__( 'Change format: %s' ),\r\n\t\t\t\t\t\t\t\tactiveFormat?.caption\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tonClick={ onToggle }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ activeFormat?.caption }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\r\n\t\t\t\t\t\t<div className=\"editor-post-format__dialog-content\">\r\n\t\t\t\t\t\t\t<InspectorPopoverHeader\r\n\t\t\t\t\t\t\t\ttitle={ __( 'Format' ) }\r\n\t\t\t\t\t\t\t\tonClose={ onClose }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<PostFormatForm />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t</PostPanelRow>\r\n\t\t</PostFormatCheck>\r\n\t);\r\n}\r\n\r\nexport default PostFormat;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,QAAQ,QAAQ,uBAAuB;AACxD,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,QAAQ,EAAEC,OAAO,QAAQ,oBAAoB;AACtD,SAASC,oCAAoC,IAAIC,sBAAsB,QAAQ,yBAAyB;;AAExG;AACA;AACA;AACA,SAASC,OAAO,IAAIC,cAAc,EAAEC,YAAY,QAAQ,IAAI;AAC5D,OAAOC,eAAe,MAAM,SAAS;AACrC,OAAOC,YAAY,MAAM,mBAAmB;AAC5C,SAASC,KAAK,IAAIC,WAAW,QAAQ,aAAa;;AAElD;AACA;AACA;AACA;AACA;AAJA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAKA,SAASC,UAAUA,CAAA,EAAG;EACrB,MAAM;IAAEC;EAAW,CAAC,GAAGjB,SAAS,CAAIkB,MAAM,IAAM;IAC/C,MAAM;MAAEC;IAAuB,CAAC,GAAGD,MAAM,CAAEP,WAAY,CAAC;IACxD,MAAMS,WAAW,GAAGD,sBAAsB,CAAE,QAAS,CAAC;IACtD,OAAO;MACNF,UAAU,EAAEG,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAI;IAC5B,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAMC,YAAY,GAAGd,YAAY,CAACe,IAAI,CACnCC,MAAM,IAAMA,MAAM,CAACC,EAAE,KAAKP,UAC7B,CAAC;;EAED;EACA;EACA,MAAM,CAAEQ,aAAa,EAAEC,gBAAgB,CAAE,GAAGzB,QAAQ,CAAE,IAAK,CAAC;EAC5D;EACA,MAAM0B,YAAY,GAAGzB,OAAO,CAC3B,OAAQ;IACP;IACA;IACA0B,MAAM,EAAEH,aAAa;IACrBI,SAAS,EAAE,YAAY;IACvBC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE;EACR,CAAC,CAAE,EACH,CAAEN,aAAa,CAChB,CAAC;EACD,oBACCZ,IAAA,CAACL,eAAe;IAAAwB,QAAA,eACfnB,IAAA,CAACJ,YAAY;MAACwB,KAAK,EAAGnC,EAAE,CAAE,QAAS,CAAG;MAACoC,GAAG,EAAGR,gBAAkB;MAAAM,QAAA,eAC9DnB,IAAA,CAAChB,QAAQ;QACR8B,YAAY,EAAGA,YAAc;QAC7BQ,gBAAgB,EAAC,4BAA4B;QAC7CC,YAAY;QACZC,YAAY,EAAGA,CAAE;UAAEC,MAAM;UAAEC;QAAS,CAAC,kBACpC1B,IAAA,CAACjB,MAAM;UACN4C,IAAI,EAAC,SAAS;UACdC,OAAO,EAAC,UAAU;UAClB,iBAAgBH,MAAQ;UACxB,cAAavC,OAAO;UACnB;UACAD,EAAE,CAAE,mBAAoB,CAAC,EACzBuB,YAAY,EAAEqB,OACf,CAAG;UACHC,OAAO,EAAGJ,QAAU;UAAAP,QAAA,EAElBX,YAAY,EAAEqB;QAAO,CAChB,CACN;QACHE,aAAa,EAAGA,CAAE;UAAEC;QAAQ,CAAC,kBAC5B9B,KAAA;UAAK+B,SAAS,EAAC,oCAAoC;UAAAd,QAAA,gBAClDnB,IAAA,CAACT,sBAAsB;YACtB2C,KAAK,EAAGjD,EAAE,CAAE,QAAS,CAAG;YACxB+C,OAAO,EAAGA;UAAS,CACnB,CAAC,eACFhC,IAAA,CAACP,cAAc,IAAE,CAAC;QAAA,CACd;MACH,CACH;IAAC,CACW;EAAC,CACC,CAAC;AAEpB;AAEA,eAAeU,UAAU","ignoreList":[]}