{"version":3,"names":["__","useSelect","useViewportMatch","store","editorStore","PublishButtonLabel","isSmallerThanMediumViewport","isPublished","isBeingScheduled","isSaving","isPublishing","hasPublishAction","isAutosaving","hasNonPostEntityChanges","postStatusHasChanged","postStatus","select","_getCurrentPost$_link","isCurrentPostPublished","isEditedPostBeingScheduled","isSavingPost","isPublishingPost","getCurrentPost","getCurrentPostType","isAutosavingPost","getPostEdits","getEditedPostAttribute","_links","postType","status","includes"],"sources":["@wordpress/editor/src/components/post-publish-button/label.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useViewportMatch } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editorStore } from '../../store';\r\n\r\n/**\r\n * Renders the label for the publish button.\r\n *\r\n * @return {string} The label for the publish button.\r\n */\r\nexport default function PublishButtonLabel() {\r\n\tconst isSmallerThanMediumViewport = useViewportMatch( 'medium', '<' );\r\n\tconst {\r\n\t\tisPublished,\r\n\t\tisBeingScheduled,\r\n\t\tisSaving,\r\n\t\tisPublishing,\r\n\t\thasPublishAction,\r\n\t\tisAutosaving,\r\n\t\thasNonPostEntityChanges,\r\n\t\tpostStatusHasChanged,\r\n\t\tpostStatus,\r\n\t} = useSelect( ( select ) => {\r\n\t\tconst {\r\n\t\t\tisCurrentPostPublished,\r\n\t\t\tisEditedPostBeingScheduled,\r\n\t\t\tisSavingPost,\r\n\t\t\tisPublishingPost,\r\n\t\t\tgetCurrentPost,\r\n\t\t\tgetCurrentPostType,\r\n\t\t\tisAutosavingPost,\r\n\t\t\tgetPostEdits,\r\n\t\t\tgetEditedPostAttribute,\r\n\t\t} = select( editorStore );\r\n\t\treturn {\r\n\t\t\tisPublished: isCurrentPostPublished(),\r\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\r\n\t\t\tisSaving: isSavingPost(),\r\n\t\t\tisPublishing: isPublishingPost(),\r\n\t\t\thasPublishAction:\r\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\r\n\t\t\tpostType: getCurrentPostType(),\r\n\t\t\tisAutosaving: isAutosavingPost(),\r\n\t\t\thasNonPostEntityChanges:\r\n\t\t\t\tselect( editorStore ).hasNonPostEntityChanges(),\r\n\t\t\tpostStatusHasChanged: !! getPostEdits()?.status,\r\n\t\t\tpostStatus: getEditedPostAttribute( 'status' ),\r\n\t\t};\r\n\t}, [] );\r\n\tif ( isPublishing ) {\r\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\r\n\t\treturn __( 'Publishing…' );\r\n\t} else if (\r\n\t\t( isPublished || isBeingScheduled ) &&\r\n\t\tisSaving &&\r\n\t\t! isAutosaving\r\n\t) {\r\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\r\n\t\treturn __( 'Saving…' );\r\n\t}\r\n\tif ( ! hasPublishAction ) {\r\n\t\t// TODO: this is because \"Submit for review\" string is too long in some languages.\r\n\t\t// @see https://github.com/WordPress/gutenberg/issues/10475\r\n\t\treturn isSmallerThanMediumViewport\r\n\t\t\t? __( 'Publish' )\r\n\t\t\t: __( 'Submit for Review' );\r\n\t}\r\n\tif (\r\n\t\thasNonPostEntityChanges ||\r\n\t\tisPublished ||\r\n\t\t( postStatusHasChanged &&\r\n\t\t\t! [ 'future', 'publish' ].includes( postStatus ) ) ||\r\n\t\t( ! postStatusHasChanged && postStatus === 'future' )\r\n\t) {\r\n\t\treturn __( 'Save' );\r\n\t}\r\n\tif ( isBeingScheduled ) {\r\n\t\treturn __( 'Schedule' );\r\n\t}\r\n\treturn __( 'Publish' );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,gBAAgB,QAAQ,oBAAoB;;AAErD;AACA;AACA;AACA,SAASC,KAAK,IAAIC,WAAW,QAAQ,aAAa;;AAElD;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,kBAAkBA,CAAA,EAAG;EAC5C,MAAMC,2BAA2B,GAAGJ,gBAAgB,CAAE,QAAQ,EAAE,GAAI,CAAC;EACrE,MAAM;IACLK,WAAW;IACXC,gBAAgB;IAChBC,QAAQ;IACRC,YAAY;IACZC,gBAAgB;IAChBC,YAAY;IACZC,uBAAuB;IACvBC,oBAAoB;IACpBC;EACD,CAAC,GAAGd,SAAS,CAAIe,MAAM,IAAM;IAAA,IAAAC,qBAAA;IAC5B,MAAM;MACLC,sBAAsB;MACtBC,0BAA0B;MAC1BC,YAAY;MACZC,gBAAgB;MAChBC,cAAc;MACdC,kBAAkB;MAClBC,gBAAgB;MAChBC,YAAY;MACZC;IACD,CAAC,GAAGV,MAAM,CAAEZ,WAAY,CAAC;IACzB,OAAO;MACNG,WAAW,EAAEW,sBAAsB,CAAC,CAAC;MACrCV,gBAAgB,EAAEW,0BAA0B,CAAC,CAAC;MAC9CV,QAAQ,EAAEW,YAAY,CAAC,CAAC;MACxBV,YAAY,EAAEW,gBAAgB,CAAC,CAAC;MAChCV,gBAAgB,GAAAM,qBAAA,GACfK,cAAc,CAAC,CAAC,CAACK,MAAM,GAAI,mBAAmB,CAAE,cAAAV,qBAAA,cAAAA,qBAAA,GAAI,KAAK;MAC1DW,QAAQ,EAAEL,kBAAkB,CAAC,CAAC;MAC9BX,YAAY,EAAEY,gBAAgB,CAAC,CAAC;MAChCX,uBAAuB,EACtBG,MAAM,CAAEZ,WAAY,CAAC,CAACS,uBAAuB,CAAC,CAAC;MAChDC,oBAAoB,EAAE,CAAC,CAAEW,YAAY,CAAC,CAAC,EAAEI,MAAM;MAC/Cd,UAAU,EAAEW,sBAAsB,CAAE,QAAS;IAC9C,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,IAAKhB,YAAY,EAAG;IACnB;IACA,OAAOV,EAAE,CAAE,aAAc,CAAC;EAC3B,CAAC,MAAM,IACN,CAAEO,WAAW,IAAIC,gBAAgB,KACjCC,QAAQ,IACR,CAAEG,YAAY,EACb;IACD;IACA,OAAOZ,EAAE,CAAE,SAAU,CAAC;EACvB;EACA,IAAK,CAAEW,gBAAgB,EAAG;IACzB;IACA;IACA,OAAOL,2BAA2B,GAC/BN,EAAE,CAAE,SAAU,CAAC,GACfA,EAAE,CAAE,mBAAoB,CAAC;EAC7B;EACA,IACCa,uBAAuB,IACvBN,WAAW,IACTO,oBAAoB,IACrB,CAAE,CAAE,QAAQ,EAAE,SAAS,CAAE,CAACgB,QAAQ,CAAEf,UAAW,CAAG,IACjD,CAAED,oBAAoB,IAAIC,UAAU,KAAK,QAAU,EACpD;IACD,OAAOf,EAAE,CAAE,MAAO,CAAC;EACpB;EACA,IAAKQ,gBAAgB,EAAG;IACvB,OAAOR,EAAE,CAAE,UAAW,CAAC;EACxB;EACA,OAAOA,EAAE,CAAE,SAAU,CAAC;AACvB","ignoreList":[]}