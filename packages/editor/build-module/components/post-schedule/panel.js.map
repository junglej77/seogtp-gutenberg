{"version":3,"names":["Button","Dropdown","__","sprintf","useState","useMemo","useSelect","PostScheduleCheck","PostScheduleForm","usePostScheduleLabel","PostPanelRow","store","editorStore","TEMPLATE_POST_TYPE","TEMPLATE_PART_POST_TYPE","PATTERN_POST_TYPE","NAVIGATION_POST_TYPE","jsx","_jsx","DESIGN_POST_TYPES","PostSchedulePanel","popoverAnchor","setPopoverAnchor","postType","select","getCurrentPostType","popoverProps","anchor","placement","offset","shift","label","fullLabel","full","includes","children","ref","focusOnMount","className","contentClassName","renderToggle","onToggle","isOpen","size","variant","tooltipPosition","onClick","showTooltip","renderContent","onClose"],"sources":["@wordpress/editor/src/components/post-schedule/panel.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { Button, Dropdown } from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useState, useMemo } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport PostScheduleCheck from './check';\r\nimport PostScheduleForm from './index';\r\nimport { usePostScheduleLabel } from './label';\r\nimport PostPanelRow from '../post-panel-row';\r\nimport { store as editorStore } from '../../store';\r\nimport {\r\n\tTEMPLATE_POST_TYPE,\r\n\tTEMPLATE_PART_POST_TYPE,\r\n\tPATTERN_POST_TYPE,\r\n\tNAVIGATION_POST_TYPE,\r\n} from '../../store/constants';\r\n\r\nconst DESIGN_POST_TYPES = [\r\n\tTEMPLATE_POST_TYPE,\r\n\tTEMPLATE_PART_POST_TYPE,\r\n\tPATTERN_POST_TYPE,\r\n\tNAVIGATION_POST_TYPE,\r\n];\r\n\r\n/**\r\n * Renders the Post Schedule Panel component.\r\n *\r\n * @return {Component} The component to be rendered.\r\n */\r\nexport default function PostSchedulePanel() {\r\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\r\n\tconst postType = useSelect(\r\n\t\t( select ) => select( editorStore ).getCurrentPostType(),\r\n\t\t[]\r\n\t);\r\n\t// Memoize popoverProps to avoid returning a new object every time.\r\n\tconst popoverProps = useMemo(\r\n\t\t() => ( {\r\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\r\n\t\t\t// move around when the label changes.\r\n\t\t\tanchor: popoverAnchor,\r\n\t\t\t'aria-label': __( 'Change publish date' ),\r\n\t\t\tplacement: 'left-start',\r\n\t\t\toffset: 36,\r\n\t\t\tshift: true,\r\n\t\t} ),\r\n\t\t[ popoverAnchor ]\r\n\t);\r\n\r\n\tconst label = usePostScheduleLabel();\r\n\tconst fullLabel = usePostScheduleLabel( { full: true } );\r\n\tif ( DESIGN_POST_TYPES.includes( postType ) ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PostScheduleCheck>\r\n\t\t\t<PostPanelRow label={ __( 'Publish' ) } ref={ setPopoverAnchor }>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\tfocusOnMount\r\n\t\t\t\t\tclassName=\"editor-post-schedule__panel-dropdown\"\r\n\t\t\t\t\tcontentClassName=\"editor-post-schedule__dialog\"\r\n\t\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"compact\"\r\n\t\t\t\t\t\t\tclassName=\"editor-post-schedule__dialog-toggle\"\r\n\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\ttooltipPosition=\"middle left\"\r\n\t\t\t\t\t\t\tonClick={ onToggle }\r\n\t\t\t\t\t\t\taria-label={ sprintf(\r\n\t\t\t\t\t\t\t\t// translators: %s: Current post date.\r\n\t\t\t\t\t\t\t\t__( 'Change date: %s' ),\r\n\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tlabel={ fullLabel }\r\n\t\t\t\t\t\t\tshowTooltip={ label !== fullLabel }\r\n\t\t\t\t\t\t\taria-expanded={ isOpen }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ label }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\r\n\t\t\t\t\t\t<PostScheduleForm onClose={ onClose } />\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t</PostPanelRow>\r\n\t\t</PostScheduleCheck>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,QAAQ,QAAQ,uBAAuB;AACxD,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,QAAQ,EAAEC,OAAO,QAAQ,oBAAoB;AACtD,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,OAAOC,iBAAiB,MAAM,SAAS;AACvC,OAAOC,gBAAgB,MAAM,SAAS;AACtC,SAASC,oBAAoB,QAAQ,SAAS;AAC9C,OAAOC,YAAY,MAAM,mBAAmB;AAC5C,SAASC,KAAK,IAAIC,WAAW,QAAQ,aAAa;AAClD,SACCC,kBAAkB,EAClBC,uBAAuB,EACvBC,iBAAiB,EACjBC,oBAAoB,QACd,uBAAuB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE/B,MAAMC,iBAAiB,GAAG,CACzBN,kBAAkB,EAClBC,uBAAuB,EACvBC,iBAAiB,EACjBC,oBAAoB,CACpB;;AAED;AACA;AACA;AACA;AACA;AACA,eAAe,SAASI,iBAAiBA,CAAA,EAAG;EAC3C,MAAM,CAAEC,aAAa,EAAEC,gBAAgB,CAAE,GAAGlB,QAAQ,CAAE,IAAK,CAAC;EAC5D,MAAMmB,QAAQ,GAAGjB,SAAS,CACvBkB,MAAM,IAAMA,MAAM,CAAEZ,WAAY,CAAC,CAACa,kBAAkB,CAAC,CAAC,EACxD,EACD,CAAC;EACD;EACA,MAAMC,YAAY,GAAGrB,OAAO,CAC3B,OAAQ;IACP;IACA;IACAsB,MAAM,EAAEN,aAAa;IACrB,YAAY,EAAEnB,EAAE,CAAE,qBAAsB,CAAC;IACzC0B,SAAS,EAAE,YAAY;IACvBC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE;EACR,CAAC,CAAE,EACH,CAAET,aAAa,CAChB,CAAC;EAED,MAAMU,KAAK,GAAGtB,oBAAoB,CAAC,CAAC;EACpC,MAAMuB,SAAS,GAAGvB,oBAAoB,CAAE;IAAEwB,IAAI,EAAE;EAAK,CAAE,CAAC;EACxD,IAAKd,iBAAiB,CAACe,QAAQ,CAAEX,QAAS,CAAC,EAAG;IAC7C,OAAO,IAAI;EACZ;EAEA,oBACCL,IAAA,CAACX,iBAAiB;IAAA4B,QAAA,eACjBjB,IAAA,CAACR,YAAY;MAACqB,KAAK,EAAG7B,EAAE,CAAE,SAAU,CAAG;MAACkC,GAAG,EAAGd,gBAAkB;MAAAa,QAAA,eAC/DjB,IAAA,CAACjB,QAAQ;QACRyB,YAAY,EAAGA,YAAc;QAC7BW,YAAY;QACZC,SAAS,EAAC,sCAAsC;QAChDC,gBAAgB,EAAC,8BAA8B;QAC/CC,YAAY,EAAGA,CAAE;UAAEC,QAAQ;UAAEC;QAAO,CAAC,kBACpCxB,IAAA,CAAClB,MAAM;UACN2C,IAAI,EAAC,SAAS;UACdL,SAAS,EAAC,qCAAqC;UAC/CM,OAAO,EAAC,UAAU;UAClBC,eAAe,EAAC,aAAa;UAC7BC,OAAO,EAAGL,QAAU;UACpB,cAAatC,OAAO;UACnB;UACAD,EAAE,CAAE,iBAAkB,CAAC,EACvB6B,KACD,CAAG;UACHA,KAAK,EAAGC,SAAW;UACnBe,WAAW,EAAGhB,KAAK,KAAKC,SAAW;UACnC,iBAAgBU,MAAQ;UAAAP,QAAA,EAEtBJ;QAAK,CACA,CACN;QACHiB,aAAa,EAAGA,CAAE;UAAEC;QAAQ,CAAC,kBAC5B/B,IAAA,CAACV,gBAAgB;UAACyC,OAAO,EAAGA;QAAS,CAAE;MACrC,CACH;IAAC,CACW;EAAC,CACG,CAAC;AAEtB","ignoreList":[]}