{"version":3,"names":["MenuItem","__","useSelect","store","coreStore","useState","CreateNewTemplateModal","useAllowSwitchingTemplates","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CreateNewTemplate","onClick","canCreateTemplates","select","canUser","kind","name","isCreateModalOpen","setIsCreateModalOpen","allowSwitchingTemplate","children","onClose"],"sources":["@wordpress/editor/src/components/post-template/create-new-template.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { MenuItem } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useState } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport CreateNewTemplateModal from './create-new-template-modal';\r\nimport { useAllowSwitchingTemplates } from './hooks';\r\n\r\nexport default function CreateNewTemplate( { onClick } ) {\r\n\tconst { canCreateTemplates } = useSelect( ( select ) => {\r\n\t\tconst { canUser } = select( coreStore );\r\n\t\treturn {\r\n\t\t\tcanCreateTemplates: canUser( 'create', {\r\n\t\t\t\tkind: 'postType',\r\n\t\t\t\tname: 'wp_template',\r\n\t\t\t} ),\r\n\t\t};\r\n\t}, [] );\r\n\tconst [ isCreateModalOpen, setIsCreateModalOpen ] = useState( false );\r\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\r\n\r\n\t// The default template in a post is indicated by an empty string.\r\n\tif ( ! canCreateTemplates || ! allowSwitchingTemplate ) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<MenuItem\r\n\t\t\t\tonClick={ () => {\r\n\t\t\t\t\tsetIsCreateModalOpen( true );\r\n\t\t\t\t} }\r\n\t\t\t>\r\n\t\t\t\t{ __( 'Create new template' ) }\r\n\t\t\t</MenuItem>\r\n\r\n\t\t\t{ isCreateModalOpen && (\r\n\t\t\t\t<CreateNewTemplateModal\r\n\t\t\t\t\tonClose={ () => {\r\n\t\t\t\t\t\tsetIsCreateModalOpen( false );\r\n\t\t\t\t\t\tonClick();\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,QAAQ,QAAQ,oBAAoB;;AAE7C;AACA;AACA;AACA,OAAOC,sBAAsB,MAAM,6BAA6B;AAChE,SAASC,0BAA0B,QAAQ,SAAS;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAErD,eAAe,SAASC,iBAAiBA,CAAE;EAAEC;AAAQ,CAAC,EAAG;EACxD,MAAM;IAAEC;EAAmB,CAAC,GAAGd,SAAS,CAAIe,MAAM,IAAM;IACvD,MAAM;MAAEC;IAAQ,CAAC,GAAGD,MAAM,CAAEb,SAAU,CAAC;IACvC,OAAO;MACNY,kBAAkB,EAAEE,OAAO,CAAE,QAAQ,EAAE;QACtCC,IAAI,EAAE,UAAU;QAChBC,IAAI,EAAE;MACP,CAAE;IACH,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAM,CAAEC,iBAAiB,EAAEC,oBAAoB,CAAE,GAAGjB,QAAQ,CAAE,KAAM,CAAC;EACrE,MAAMkB,sBAAsB,GAAGhB,0BAA0B,CAAC,CAAC;;EAE3D;EACA,IAAK,CAAES,kBAAkB,IAAI,CAAEO,sBAAsB,EAAG;IACvD,OAAO,IAAI;EACZ;EACA,oBACCV,KAAA,CAAAF,SAAA;IAAAa,QAAA,gBACCf,IAAA,CAACT,QAAQ;MACRe,OAAO,EAAGA,CAAA,KAAM;QACfO,oBAAoB,CAAE,IAAK,CAAC;MAC7B,CAAG;MAAAE,QAAA,EAEDvB,EAAE,CAAE,qBAAsB;IAAC,CACpB,CAAC,EAEToB,iBAAiB,iBAClBZ,IAAA,CAACH,sBAAsB;MACtBmB,OAAO,EAAGA,CAAA,KAAM;QACfH,oBAAoB,CAAE,KAAM,CAAC;QAC7BP,OAAO,CAAC,CAAC;MACV;IAAG,CACH,CACD;EAAA,CACA,CAAC;AAEL","ignoreList":[]}