{"version":3,"names":["useSelect","store","coreStore","editorStore","PostTypeSupportCheck","children","supportKeys","postType","select","getEditedPostAttribute","getPostType","isSupported","Array","isArray","some","key","supports"],"sources":["@wordpress/editor/src/components/post-type-support-check/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editorStore } from '../../store';\r\n\r\n/**\r\n * A component which renders its own children only if the current editor post\r\n * type supports one of the given `supportKeys` prop.\r\n *\r\n * @param {Object}            props             Props.\r\n * @param {Element}           props.children    Children to be rendered if post\r\n *                                              type supports.\r\n * @param {(string|string[])} props.supportKeys String or string array of keys\r\n *                                              to test.\r\n *\r\n * @return {Component} The component to be rendered.\r\n */\r\nfunction PostTypeSupportCheck( { children, supportKeys } ) {\r\n\tconst postType = useSelect( ( select ) => {\r\n\t\tconst { getEditedPostAttribute } = select( editorStore );\r\n\t\tconst { getPostType } = select( coreStore );\r\n\t\treturn getPostType( getEditedPostAttribute( 'type' ) );\r\n\t}, [] );\r\n\tlet isSupported = !! postType;\r\n\tif ( postType ) {\r\n\t\tisSupported = (\r\n\t\t\tArray.isArray( supportKeys ) ? supportKeys : [ supportKeys ]\r\n\t\t).some( ( key ) => !! postType.supports[ key ] );\r\n\t}\r\n\r\n\tif ( ! isSupported ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn children;\r\n}\r\n\r\nexport default PostTypeSupportCheck;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;;AAEzD;AACA;AACA;AACA,SAASD,KAAK,IAAIE,WAAW,QAAQ,aAAa;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,oBAAoBA,CAAE;EAAEC,QAAQ;EAAEC;AAAY,CAAC,EAAG;EAC1D,MAAMC,QAAQ,GAAGP,SAAS,CAAIQ,MAAM,IAAM;IACzC,MAAM;MAAEC;IAAuB,CAAC,GAAGD,MAAM,CAAEL,WAAY,CAAC;IACxD,MAAM;MAAEO;IAAY,CAAC,GAAGF,MAAM,CAAEN,SAAU,CAAC;IAC3C,OAAOQ,WAAW,CAAED,sBAAsB,CAAE,MAAO,CAAE,CAAC;EACvD,CAAC,EAAE,EAAG,CAAC;EACP,IAAIE,WAAW,GAAG,CAAC,CAAEJ,QAAQ;EAC7B,IAAKA,QAAQ,EAAG;IACfI,WAAW,GAAG,CACbC,KAAK,CAACC,OAAO,CAAEP,WAAY,CAAC,GAAGA,WAAW,GAAG,CAAEA,WAAW,CAAE,EAC3DQ,IAAI,CAAIC,GAAG,IAAM,CAAC,CAAER,QAAQ,CAACS,QAAQ,CAAED,GAAG,CAAG,CAAC;EACjD;EAEA,IAAK,CAAEJ,WAAW,EAAG;IACpB,OAAO,IAAI;EACZ;EAEA,OAAON,QAAQ;AAChB;AAEA,eAAeD,oBAAoB","ignoreList":[]}