{"version":3,"names":["useEffect","useDispatch","useSelect","store","blockEditorStore","NavigationBlockEditingMode","blockClientId","select","getBlockOrder","setBlockEditingMode","unsetBlockEditingMode"],"sources":["@wordpress/editor/src/components/provider/navigation-block-editing-mode.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect } from '@wordpress/element';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\n/**\r\n * For the Navigation block editor, we need to force the block editor to contentOnly for that block.\r\n *\r\n * Set block editing mode to contentOnly when entering Navigation focus mode.\r\n * this ensures that non-content controls on the block will be hidden and thus\r\n * the user can focus on editing the Navigation Menu content only.\r\n */\r\n\r\nexport default function NavigationBlockEditingMode() {\r\n\t// In the navigation block editor,\r\n\t// the navigation block is the only root block.\r\n\tconst blockClientId = useSelect(\r\n\t\t( select ) => select( blockEditorStore ).getBlockOrder()?.[ 0 ],\r\n\t\t[]\r\n\t);\r\n\tconst { setBlockEditingMode, unsetBlockEditingMode } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ! blockClientId ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetBlockEditingMode( blockClientId, 'contentOnly' );\r\n\r\n\t\treturn () => {\r\n\t\t\tunsetBlockEditingMode( blockClientId );\r\n\t\t};\r\n\t}, [ blockClientId, unsetBlockEditingMode, setBlockEditingMode ] );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,yBAAyB;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAASC,0BAA0BA,CAAA,EAAG;EACpD;EACA;EACA,MAAMC,aAAa,GAAGJ,SAAS,CAC5BK,MAAM,IAAMA,MAAM,CAAEH,gBAAiB,CAAC,CAACI,aAAa,CAAC,CAAC,GAAI,CAAC,CAAE,EAC/D,EACD,CAAC;EACD,MAAM;IAAEC,mBAAmB;IAAEC;EAAsB,CAAC,GACnDT,WAAW,CAAEG,gBAAiB,CAAC;EAEhCJ,SAAS,CAAE,MAAM;IAChB,IAAK,CAAEM,aAAa,EAAG;MACtB;IACD;IAEAG,mBAAmB,CAAEH,aAAa,EAAE,aAAc,CAAC;IAEnD,OAAO,MAAM;MACZI,qBAAqB,CAAEJ,aAAc,CAAC;IACvC,CAAC;EACF,CAAC,EAAE,CAAEA,aAAa,EAAEI,qBAAqB,EAAED,mBAAmB,CAAG,CAAC;AACnE","ignoreList":[]}