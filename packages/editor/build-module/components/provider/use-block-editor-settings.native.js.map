{"version":3,"names":["useMemo","useSelect","store","coreStore","useBlockEditorSettings","editorStore","EMPTY_BLOCKS_LIST","useNativeBlockEditorSettings","settings","postType","postId","editorSettings","supportReusableBlock","capabilities","reusableBlock","reusableBlocks","isTitleSelected","select","getEntityRecords","per_page","isPostTitleSelected","__experimentalReusableBlocks","__experimentalShouldInsertAtTheTop"],"sources":["@wordpress/editor/src/components/provider/use-block-editor-settings.native.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useBlockEditorSettings from './use-block-editor-settings.js';\r\nimport { store as editorStore } from '../../store';\r\n\r\nconst EMPTY_BLOCKS_LIST = [];\r\n\r\nfunction useNativeBlockEditorSettings( settings, postType, postId ) {\r\n\tconst editorSettings = useBlockEditorSettings( settings, postType, postId );\r\n\tconst supportReusableBlock = settings.capabilities?.reusableBlock === true;\r\n\r\n\tconst { reusableBlocks, isTitleSelected } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\treturn {\r\n\t\t\t\treusableBlocks: supportReusableBlock\r\n\t\t\t\t\t? select( coreStore ).getEntityRecords(\r\n\t\t\t\t\t\t\t'postType',\r\n\t\t\t\t\t\t\t'wp_block',\r\n\t\t\t\t\t\t\t// Unbounded queries are not supported on native so as a workaround, we set per_page with the maximum value that native version can handle.\r\n\t\t\t\t\t\t\t// Related issue: https://github.com/wordpress-mobile/gutenberg-mobile/issues/2661\r\n\t\t\t\t\t\t\t{ per_page: 100 }\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: EMPTY_BLOCKS_LIST,\r\n\t\t\t\tisTitleSelected: select( editorStore ).isPostTitleSelected(),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ supportReusableBlock ]\r\n\t);\r\n\r\n\treturn useMemo(\r\n\t\t() => ( {\r\n\t\t\t...editorSettings,\r\n\t\t\t__experimentalReusableBlocks: reusableBlocks,\r\n\t\t\t__experimentalShouldInsertAtTheTop: isTitleSelected,\r\n\t\t} ),\r\n\t\t[ editorSettings, reusableBlocks, isTitleSelected ]\r\n\t);\r\n}\r\n\r\nexport default useNativeBlockEditorSettings;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;;AAEzD;AACA;AACA;AACA,OAAOC,sBAAsB,MAAM,gCAAgC;AACnE,SAASF,KAAK,IAAIG,WAAW,QAAQ,aAAa;AAElD,MAAMC,iBAAiB,GAAG,EAAE;AAE5B,SAASC,4BAA4BA,CAAEC,QAAQ,EAAEC,QAAQ,EAAEC,MAAM,EAAG;EACnE,MAAMC,cAAc,GAAGP,sBAAsB,CAAEI,QAAQ,EAAEC,QAAQ,EAAEC,MAAO,CAAC;EAC3E,MAAME,oBAAoB,GAAGJ,QAAQ,CAACK,YAAY,EAAEC,aAAa,KAAK,IAAI;EAE1E,MAAM;IAAEC,cAAc;IAAEC;EAAgB,CAAC,GAAGf,SAAS,CAClDgB,MAAM,IAAM;IACb,OAAO;MACNF,cAAc,EAAEH,oBAAoB,GACjCK,MAAM,CAAEd,SAAU,CAAC,CAACe,gBAAgB,CACpC,UAAU,EACV,UAAU;MACV;MACA;MACA;QAAEC,QAAQ,EAAE;MAAI,CAChB,CAAC,GACDb,iBAAiB;MACpBU,eAAe,EAAEC,MAAM,CAAEZ,WAAY,CAAC,CAACe,mBAAmB,CAAC;IAC5D,CAAC;EACF,CAAC,EACD,CAAER,oBAAoB,CACvB,CAAC;EAED,OAAOZ,OAAO,CACb,OAAQ;IACP,GAAGW,cAAc;IACjBU,4BAA4B,EAAEN,cAAc;IAC5CO,kCAAkC,EAAEN;EACrC,CAAC,CAAE,EACH,CAAEL,cAAc,EAAEI,cAAc,EAAEC,eAAe,CAClD,CAAC;AACF;AAEA,eAAeT,4BAA4B","ignoreList":[]}