{"version":3,"names":["useSelect","BlockSettingsMenuControls","store","blockEditorStore","ConvertToRegularBlocks","ConvertToTemplatePart","jsx","_jsx","TemplatePartMenuItems","children","selectedClientIds","onClose","TemplatePartConverterMenuItem","clientIds","isContentOnly","blocks","select","getBlocksByClientId","getBlockEditingMode","length","name","clientId"],"sources":["@wordpress/editor/src/components/template-part-menu-items/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport {\r\n\tBlockSettingsMenuControls,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport ConvertToRegularBlocks from './convert-to-regular';\r\nimport ConvertToTemplatePart from './convert-to-template-part';\r\n\r\nexport default function TemplatePartMenuItems() {\r\n\treturn (\r\n\t\t<BlockSettingsMenuControls>\r\n\t\t\t{ ( { selectedClientIds, onClose } ) => (\r\n\t\t\t\t<TemplatePartConverterMenuItem\r\n\t\t\t\t\tclientIds={ selectedClientIds }\r\n\t\t\t\t\tonClose={ onClose }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</BlockSettingsMenuControls>\r\n\t);\r\n}\r\n\r\nfunction TemplatePartConverterMenuItem( { clientIds, onClose } ) {\r\n\tconst { isContentOnly, blocks } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlocksByClientId, getBlockEditingMode } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\t\t\treturn {\r\n\t\t\t\tblocks: getBlocksByClientId( clientIds ),\r\n\t\t\t\tisContentOnly:\r\n\t\t\t\t\tclientIds.length === 1 &&\r\n\t\t\t\t\tgetBlockEditingMode( clientIds[ 0 ] ) === 'contentOnly',\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientIds ]\r\n\t);\r\n\r\n\t// Do not show the convert button if the block is in content-only mode.\r\n\tif ( isContentOnly ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Allow converting a single template part to standard blocks.\r\n\tif ( blocks.length === 1 && blocks[ 0 ]?.name === 'core/template-part' ) {\r\n\t\treturn (\r\n\t\t\t<ConvertToRegularBlocks\r\n\t\t\t\tclientId={ clientIds[ 0 ] }\r\n\t\t\t\tonClose={ onClose }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\treturn <ConvertToTemplatePart clientIds={ clientIds } blocks={ blocks } />;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SACCC,yBAAyB,EACzBC,KAAK,IAAIC,gBAAgB,QACnB,yBAAyB;;AAEhC;AACA;AACA;AACA,OAAOC,sBAAsB,MAAM,sBAAsB;AACzD,OAAOC,qBAAqB,MAAM,4BAA4B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE/D,eAAe,SAASC,qBAAqBA,CAAA,EAAG;EAC/C,oBACCD,IAAA,CAACN,yBAAyB;IAAAQ,QAAA,EACvBA,CAAE;MAAEC,iBAAiB;MAAEC;IAAQ,CAAC,kBACjCJ,IAAA,CAACK,6BAA6B;MAC7BC,SAAS,EAAGH,iBAAmB;MAC/BC,OAAO,EAAGA;IAAS,CACnB;EACD,CACyB,CAAC;AAE9B;AAEA,SAASC,6BAA6BA,CAAE;EAAEC,SAAS;EAAEF;AAAQ,CAAC,EAAG;EAChE,MAAM;IAAEG,aAAa;IAAEC;EAAO,CAAC,GAAGf,SAAS,CACxCgB,MAAM,IAAM;IACb,MAAM;MAAEC,mBAAmB;MAAEC;IAAoB,CAAC,GACjDF,MAAM,CAAEb,gBAAiB,CAAC;IAC3B,OAAO;MACNY,MAAM,EAAEE,mBAAmB,CAAEJ,SAAU,CAAC;MACxCC,aAAa,EACZD,SAAS,CAACM,MAAM,KAAK,CAAC,IACtBD,mBAAmB,CAAEL,SAAS,CAAE,CAAC,CAAG,CAAC,KAAK;IAC5C,CAAC;EACF,CAAC,EACD,CAAEA,SAAS,CACZ,CAAC;;EAED;EACA,IAAKC,aAAa,EAAG;IACpB,OAAO,IAAI;EACZ;;EAEA;EACA,IAAKC,MAAM,CAACI,MAAM,KAAK,CAAC,IAAIJ,MAAM,CAAE,CAAC,CAAE,EAAEK,IAAI,KAAK,oBAAoB,EAAG;IACxE,oBACCb,IAAA,CAACH,sBAAsB;MACtBiB,QAAQ,EAAGR,SAAS,CAAE,CAAC,CAAI;MAC3BF,OAAO,EAAGA;IAAS,CACnB,CAAC;EAEJ;EACA,oBAAOJ,IAAA,CAACF,qBAAqB;IAACQ,SAAS,EAAGA,SAAW;IAACE,MAAM,EAAGA;EAAQ,CAAE,CAAC;AAC3E","ignoreList":[]}