{"version":3,"names":["useSelect","store","coreStore","editorStore","ThemeSupportCheck","children","supportKeys","postType","themeSupports","select","getEditedPostAttribute","getThemeSupports","isSupported","Array","isArray","some","key","_themeSupports$key","supported","includes"],"sources":["@wordpress/editor/src/components/theme-support-check/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as editorStore } from '../../store';\r\n\r\n/**\r\n * Checks if the current theme supports specific features and renders the children if supported.\r\n *\r\n * @param {Object}          props             The component props.\r\n * @param {Element}         props.children    The children to render if the theme supports the specified features.\r\n * @param {string|string[]} props.supportKeys The key(s) of the theme support(s) to check.\r\n *\r\n * @return {JSX.Element|null} The rendered children if the theme supports the specified features, otherwise null.\r\n */\r\nexport default function ThemeSupportCheck( { children, supportKeys } ) {\r\n\tconst { postType, themeSupports } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tpostType: select( editorStore ).getEditedPostAttribute( 'type' ),\r\n\t\t\tthemeSupports: select( coreStore ).getThemeSupports(),\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst isSupported = (\r\n\t\tArray.isArray( supportKeys ) ? supportKeys : [ supportKeys ]\r\n\t).some( ( key ) => {\r\n\t\tconst supported = themeSupports?.[ key ] ?? false;\r\n\t\t// 'post-thumbnails' can be boolean or an array of post types.\r\n\t\t// In the latter case, we need to verify `postType` exists\r\n\t\t// within `supported`. If `postType` isn't passed, then the check\r\n\t\t// should fail.\r\n\t\tif ( 'post-thumbnails' === key && Array.isArray( supported ) ) {\r\n\t\t\treturn supported.includes( postType );\r\n\t\t}\r\n\t\treturn supported;\r\n\t} );\r\n\r\n\tif ( ! isSupported ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn children;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;;AAEzD;AACA;AACA;AACA,SAASD,KAAK,IAAIE,WAAW,QAAQ,aAAa;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,iBAAiBA,CAAE;EAAEC,QAAQ;EAAEC;AAAY,CAAC,EAAG;EACtE,MAAM;IAAEC,QAAQ;IAAEC;EAAc,CAAC,GAAGR,SAAS,CAAIS,MAAM,IAAM;IAC5D,OAAO;MACNF,QAAQ,EAAEE,MAAM,CAAEN,WAAY,CAAC,CAACO,sBAAsB,CAAE,MAAO,CAAC;MAChEF,aAAa,EAAEC,MAAM,CAAEP,SAAU,CAAC,CAACS,gBAAgB,CAAC;IACrD,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,MAAMC,WAAW,GAAG,CACnBC,KAAK,CAACC,OAAO,CAAER,WAAY,CAAC,GAAGA,WAAW,GAAG,CAAEA,WAAW,CAAE,EAC3DS,IAAI,CAAIC,GAAG,IAAM;IAAA,IAAAC,kBAAA;IAClB,MAAMC,SAAS,IAAAD,kBAAA,GAAGT,aAAa,GAAIQ,GAAG,CAAE,cAAAC,kBAAA,cAAAA,kBAAA,GAAI,KAAK;IACjD;IACA;IACA;IACA;IACA,IAAK,iBAAiB,KAAKD,GAAG,IAAIH,KAAK,CAACC,OAAO,CAAEI,SAAU,CAAC,EAAG;MAC9D,OAAOA,SAAS,CAACC,QAAQ,CAAEZ,QAAS,CAAC;IACtC;IACA,OAAOW,SAAS;EACjB,CAAE,CAAC;EAEH,IAAK,CAAEN,WAAW,EAAG;IACpB,OAAO,IAAI;EACZ;EAEA,OAAOP,QAAQ;AAChB","ignoreList":[]}