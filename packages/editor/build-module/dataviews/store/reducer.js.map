{"version":3,"names":["combineReducers","isReady","state","action","type","kind","name","actions","_state$action$kind$ac","filter","_action","id","config","_state$action$kind$ac2","actionId"],"sources":["@wordpress/editor/src/dataviews/store/reducer.ts"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { combineReducers } from '@wordpress/data';\r\nimport type { Action } from '@wordpress/dataviews';\r\n\r\ntype ReduxAction =\r\n\t| ReturnType< typeof import('./private-actions').registerEntityAction >\r\n\t| ReturnType< typeof import('./private-actions').unregisterEntityAction >\r\n\t| ReturnType< typeof import('./private-actions').setIsReady >;\r\n\r\nexport type ActionState = Record< string, Record< string, Action< any >[] > >;\r\nexport type ReadyState = Record< string, Record< string, boolean > >;\r\nexport type State = {\r\n\tactions: ActionState;\r\n\tisReady: ReadyState;\r\n};\r\n\r\nfunction isReady( state: ReadyState = {}, action: ReduxAction ) {\r\n\tswitch ( action.type ) {\r\n\t\tcase 'SET_IS_READY':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ action.kind ]: {\r\n\t\t\t\t\t...state[ action.kind ],\r\n\t\t\t\t\t[ action.name ]: true,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t}\r\n\r\n\treturn state;\r\n}\r\n\r\nfunction actions( state: ActionState = {}, action: ReduxAction ) {\r\n\tswitch ( action.type ) {\r\n\t\tcase 'REGISTER_ENTITY_ACTION':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ action.kind ]: {\r\n\t\t\t\t\t...state[ action.kind ],\r\n\t\t\t\t\t[ action.name ]: [\r\n\t\t\t\t\t\t...(\r\n\t\t\t\t\t\t\tstate[ action.kind ]?.[ action.name ] ?? []\r\n\t\t\t\t\t\t).filter(\r\n\t\t\t\t\t\t\t( _action ) => _action.id !== action.config.id\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\taction.config,\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\tcase 'UNREGISTER_ENTITY_ACTION': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ action.kind ]: {\r\n\t\t\t\t\t...state[ action.kind ],\r\n\t\t\t\t\t[ action.name ]: (\r\n\t\t\t\t\t\tstate[ action.kind ]?.[ action.name ] ?? []\r\n\t\t\t\t\t).filter( ( _action ) => _action.id !== action.actionId ),\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n}\r\n\r\nexport default combineReducers( {\r\n\tactions,\r\n\tisReady,\r\n} );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,eAAe,QAAQ,iBAAiB;AAejD,SAASC,OAAOA,CAAEC,KAAiB,GAAG,CAAC,CAAC,EAAEC,MAAmB,EAAG;EAC/D,QAASA,MAAM,CAACC,IAAI;IACnB,KAAK,cAAc;MAClB,OAAO;QACN,GAAGF,KAAK;QACR,CAAEC,MAAM,CAACE,IAAI,GAAI;UAChB,GAAGH,KAAK,CAAEC,MAAM,CAACE,IAAI,CAAE;UACvB,CAAEF,MAAM,CAACG,IAAI,GAAI;QAClB;MACD,CAAC;EACH;EAEA,OAAOJ,KAAK;AACb;AAEA,SAASK,OAAOA,CAAEL,KAAkB,GAAG,CAAC,CAAC,EAAEC,MAAmB,EAAG;EAAA,IAAAK,qBAAA;EAChE,QAASL,MAAM,CAACC,IAAI;IACnB,KAAK,wBAAwB;MAC5B,OAAO;QACN,GAAGF,KAAK;QACR,CAAEC,MAAM,CAACE,IAAI,GAAI;UAChB,GAAGH,KAAK,CAAEC,MAAM,CAACE,IAAI,CAAE;UACvB,CAAEF,MAAM,CAACG,IAAI,GAAI,CAChB,GAAG,EAAAE,qBAAA,GACFN,KAAK,CAAEC,MAAM,CAACE,IAAI,CAAE,GAAIF,MAAM,CAACG,IAAI,CAAE,cAAAE,qBAAA,cAAAA,qBAAA,GAAI,EAAE,EAC1CC,MAAM,CACLC,OAAO,IAAMA,OAAO,CAACC,EAAE,KAAKR,MAAM,CAACS,MAAM,CAACD,EAC7C,CAAC,EACDR,MAAM,CAACS,MAAM;QAEf;MACD,CAAC;IACF,KAAK,0BAA0B;MAAE;QAAA,IAAAC,sBAAA;QAChC,OAAO;UACN,GAAGX,KAAK;UACR,CAAEC,MAAM,CAACE,IAAI,GAAI;YAChB,GAAGH,KAAK,CAAEC,MAAM,CAACE,IAAI,CAAE;YACvB,CAAEF,MAAM,CAACG,IAAI,GAAI,EAAAO,sBAAA,GAChBX,KAAK,CAAEC,MAAM,CAACE,IAAI,CAAE,GAAIF,MAAM,CAACG,IAAI,CAAE,cAAAO,sBAAA,cAAAA,sBAAA,GAAI,EAAE,EAC1CJ,MAAM,CAAIC,OAAO,IAAMA,OAAO,CAACC,EAAE,KAAKR,MAAM,CAACW,QAAS;UACzD;QACD,CAAC;MACF;EACD;EAEA,OAAOZ,KAAK;AACb;AAEA,eAAeF,eAAe,CAAE;EAC/BO,OAAO;EACPN;AACD,CAAE,CAAC","ignoreList":[]}