{"version":3,"names":["postKey","postId","isPostNew","localAutosaveGet","window","sessionStorage","getItem","localAutosaveSet","title","content","excerpt","setItem","JSON","stringify","post_title","localAutosaveClear","removeItem"],"sources":["@wordpress/editor/src/store/local-autosave.js"],"sourcesContent":["/**\r\n * Function returning a sessionStorage key to set or retrieve a given post's\r\n * automatic session backup.\r\n *\r\n * Keys are crucially prefixed with 'wp-autosave-' so that wp-login.php's\r\n * `loggedout` handler can clear sessionStorage of any user-private content.\r\n *\r\n * @see https://github.com/WordPress/wordpress-develop/blob/6dad32d2aed47e6c0cf2aee8410645f6d7aba6bd/src/wp-login.php#L103\r\n *\r\n * @param {string}  postId    Post ID.\r\n * @param {boolean} isPostNew Whether post new.\r\n *\r\n * @return {string} sessionStorage key\r\n */\r\nfunction postKey( postId, isPostNew ) {\r\n\treturn `wp-autosave-block-editor-post-${\r\n\t\tisPostNew ? 'auto-draft' : postId\r\n\t}`;\r\n}\r\n\r\nexport function localAutosaveGet( postId, isPostNew ) {\r\n\treturn window.sessionStorage.getItem( postKey( postId, isPostNew ) );\r\n}\r\n\r\nexport function localAutosaveSet( postId, isPostNew, title, content, excerpt ) {\r\n\twindow.sessionStorage.setItem(\r\n\t\tpostKey( postId, isPostNew ),\r\n\t\tJSON.stringify( {\r\n\t\t\tpost_title: title,\r\n\t\t\tcontent,\r\n\t\t\texcerpt,\r\n\t\t} )\r\n\t);\r\n}\r\n\r\nexport function localAutosaveClear( postId, isPostNew ) {\r\n\twindow.sessionStorage.removeItem( postKey( postId, isPostNew ) );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,OAAOA,CAAEC,MAAM,EAAEC,SAAS,EAAG;EACrC,OAAQ,iCACPA,SAAS,GAAG,YAAY,GAAGD,MAC3B,EAAC;AACH;AAEA,OAAO,SAASE,gBAAgBA,CAAEF,MAAM,EAAEC,SAAS,EAAG;EACrD,OAAOE,MAAM,CAACC,cAAc,CAACC,OAAO,CAAEN,OAAO,CAAEC,MAAM,EAAEC,SAAU,CAAE,CAAC;AACrE;AAEA,OAAO,SAASK,gBAAgBA,CAAEN,MAAM,EAAEC,SAAS,EAAEM,KAAK,EAAEC,OAAO,EAAEC,OAAO,EAAG;EAC9EN,MAAM,CAACC,cAAc,CAACM,OAAO,CAC5BX,OAAO,CAAEC,MAAM,EAAEC,SAAU,CAAC,EAC5BU,IAAI,CAACC,SAAS,CAAE;IACfC,UAAU,EAAEN,KAAK;IACjBC,OAAO;IACPC;EACD,CAAE,CACH,CAAC;AACF;AAEA,OAAO,SAASK,kBAAkBA,CAAEd,MAAM,EAAEC,SAAS,EAAG;EACvDE,MAAM,CAACC,cAAc,CAACW,UAAU,CAAEhB,OAAO,CAAEC,MAAM,EAAEC,SAAU,CAAE,CAAC;AACjE","ignoreList":[]}