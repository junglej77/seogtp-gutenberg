{"version":3,"names":["__","RichTextToolbarButton","TextControl","SelectControl","Button","Popover","__experimentalHStack","HStack","__experimentalVStack","VStack","useState","applyFormat","removeFormat","useAnchor","language","languageIcon","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","name","title","tagName","className","edit","Edit","isActive","value","onChange","contentRef","isPopoverVisible","setIsPopoverVisible","togglePopover","state","children","icon","label","onClick","role","InlineLanguageUI","onClose","popoverAnchor","editableContentElement","current","settings","lang","setLang","dir","setDir","anchor","as","spacing","onSubmit","event","preventDefault","type","attributes","__next40pxDefaultSize","__nextHasNoMarginBottom","val","help","options","alignment","variant","text"],"sources":["@wordpress/format-library/src/language/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\r\nimport {\r\n\tTextControl,\r\n\tSelectControl,\r\n\tButton,\r\n\tPopover,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components';\r\nimport { useState } from '@wordpress/element';\r\nimport { applyFormat, removeFormat, useAnchor } from '@wordpress/rich-text';\r\nimport { language as languageIcon } from '@wordpress/icons';\r\n\r\nconst name = 'core/language';\r\nconst title = __( 'Language' );\r\n\r\nexport const language = {\r\n\tname,\r\n\ttagName: 'bdo',\r\n\tclassName: null,\r\n\tedit: Edit,\r\n\ttitle,\r\n};\r\n\r\nfunction Edit( { isActive, value, onChange, contentRef } ) {\r\n\tconst [ isPopoverVisible, setIsPopoverVisible ] = useState( false );\r\n\tconst togglePopover = () => {\r\n\t\tsetIsPopoverVisible( ( state ) => ! state );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<RichTextToolbarButton\r\n\t\t\t\ticon={ languageIcon }\r\n\t\t\t\tlabel={ title }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t\tonClick={ () => {\r\n\t\t\t\t\tif ( isActive ) {\r\n\t\t\t\t\t\tonChange( removeFormat( value, name ) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttogglePopover();\r\n\t\t\t\t\t}\r\n\t\t\t\t} }\r\n\t\t\t\tisActive={ isActive }\r\n\t\t\t\trole=\"menuitemcheckbox\"\r\n\t\t\t/>\r\n\t\t\t{ isPopoverVisible && (\r\n\t\t\t\t<InlineLanguageUI\r\n\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t\tonClose={ togglePopover }\r\n\t\t\t\t\tcontentRef={ contentRef }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction InlineLanguageUI( { value, contentRef, onChange, onClose } ) {\r\n\tconst popoverAnchor = useAnchor( {\r\n\t\teditableContentElement: contentRef.current,\r\n\t\tsettings: language,\r\n\t} );\r\n\r\n\tconst [ lang, setLang ] = useState( '' );\r\n\tconst [ dir, setDir ] = useState( 'ltr' );\r\n\r\n\treturn (\r\n\t\t<Popover\r\n\t\t\tclassName=\"block-editor-format-toolbar__language-popover\"\r\n\t\t\tanchor={ popoverAnchor }\r\n\t\t\tonClose={ onClose }\r\n\t\t>\r\n\t\t\t<VStack\r\n\t\t\t\tas=\"form\"\r\n\t\t\t\tspacing={ 4 }\r\n\t\t\t\tclassName=\"block-editor-format-toolbar__language-container-content\"\r\n\t\t\t\tonSubmit={ ( event ) => {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tonChange(\r\n\t\t\t\t\t\tapplyFormat( value, {\r\n\t\t\t\t\t\t\ttype: name,\r\n\t\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\t\tlang,\r\n\t\t\t\t\t\t\t\tdir,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t} }\r\n\t\t\t>\r\n\t\t\t\t<TextControl\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ title }\r\n\t\t\t\t\tvalue={ lang }\r\n\t\t\t\t\tonChange={ ( val ) => setLang( val ) }\r\n\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t'A valid language attribute, like \"en\" or \"fr\".'\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Text direction' ) }\r\n\t\t\t\t\tvalue={ dir }\r\n\t\t\t\t\toptions={ [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: __( 'Left to right' ),\r\n\t\t\t\t\t\t\tvalue: 'ltr',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: __( 'Right to left' ),\r\n\t\t\t\t\t\t\tvalue: 'rtl',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t] }\r\n\t\t\t\t\tonChange={ ( val ) => setDir( val ) }\r\n\t\t\t\t/>\r\n\t\t\t\t<HStack alignment=\"right\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\ttext={ __( 'Apply' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</HStack>\r\n\t\t\t</VStack>\r\n\t\t</Popover>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}