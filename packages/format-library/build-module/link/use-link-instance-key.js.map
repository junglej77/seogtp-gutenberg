{"version":3,"names":["weakMap","WeakMap","id","prefix","getKey","_id","useLinkInstanceKey","instance","has","get","set"],"sources":["@wordpress/format-library/src/link/use-link-instance-key.js"],"sourcesContent":["// Weakly referenced map allows unused ids to be garbage collected.\r\nconst weakMap = new WeakMap();\r\n\r\n// Incrementing zero-based ID value.\r\nlet id = -1;\r\n\r\nconst prefix = 'link-control-instance';\r\n\r\nfunction getKey( _id ) {\r\n\treturn `${ prefix }-${ _id }`;\r\n}\r\n\r\n/**\r\n * Builds a unique link control key for the given object reference.\r\n *\r\n * @param {Object} instance an unique object reference specific to this link control instance.\r\n * @return {string | undefined} the unique key to use for this link control.\r\n */\r\nfunction useLinkInstanceKey( instance ) {\r\n\tif ( ! instance ) {\r\n\t\treturn;\r\n\t}\r\n\tif ( weakMap.has( instance ) ) {\r\n\t\treturn getKey( weakMap.get( instance ) );\r\n\t}\r\n\r\n\tid += 1;\r\n\r\n\tweakMap.set( instance, id );\r\n\r\n\treturn getKey( id );\r\n}\r\n\r\nexport default useLinkInstanceKey;\r\n"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAG,IAAIC,OAAO,CAAC,CAAC;;AAE7B;AACA,IAAIC,EAAE,GAAG,CAAC,CAAC;AAEX,MAAMC,MAAM,GAAG,uBAAuB;AAEtC,SAASC,MAAMA,CAAEC,GAAG,EAAG;EACtB,OAAQ,GAAGF,MAAQ,IAAIE,GAAK,EAAC;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,kBAAkBA,CAAEC,QAAQ,EAAG;EACvC,IAAK,CAAEA,QAAQ,EAAG;IACjB;EACD;EACA,IAAKP,OAAO,CAACQ,GAAG,CAAED,QAAS,CAAC,EAAG;IAC9B,OAAOH,MAAM,CAAEJ,OAAO,CAACS,GAAG,CAAEF,QAAS,CAAE,CAAC;EACzC;EAEAL,EAAE,IAAI,CAAC;EAEPF,OAAO,CAACU,GAAG,CAAEH,QAAQ,EAAEL,EAAG,CAAC;EAE3B,OAAOE,MAAM,CAAEF,EAAG,CAAC;AACpB;AAEA,eAAeI,kBAAkB","ignoreList":[]}