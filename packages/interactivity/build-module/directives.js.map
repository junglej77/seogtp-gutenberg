{"version":3,"names":["h","createElement","useContext","useMemo","useRef","proxifyState","peek","useWatch","useInit","kebabToCamelCase","warn","splitTask","isPlainObject","directive","getEvaluate","getScope","contextAssignedObjects","WeakMap","contextObjectToProxy","contextProxyToObject","contextObjectToFallback","descriptor","Reflect","getOwnPropertyDescriptor","proxifyContext","current","inherited","set","has","proxy","Proxy","get","target","k","fallback","currentProp","value","obj","Set","add","innerValue","ownKeys","Object","keys","updateContext","source","deepClone","fromEntries","entries","map","key","Array","isArray","i","newRule","ruleClean","ruleNewline","empty","cssStringToObject","val","tree","block","left","exec","replace","shift","trim","unshift","getGlobalEventDirective","type","directives","evaluate","filter","suffix","forEach","entry","eventName","split","cb","event","globalVar","window","document","addEventListener","removeEventListener","getGlobalAsyncEventDirective","passive","context","props","children","inheritedContext","Provider","defaultEntry","find","inheritedValue","ns","namespace","currentValue","contextStack","result","priority","watch","start","globalThis","IS_GUTENBERG_PLUGIN","SCRIPT_DEBUG","performance","now","measure","end","detail","devtools","track","init","on","element","events","Map","eventType","existingHandler","onAsync","class","classNames","className","currentClass","classFinder","RegExp","test","ref","classList","remove","style","styleProp","removeProperty","bind","attribute","el","cssText","undefined","err","setAttribute","removeAttribute","Type","innerHTML","rest","cached","dangerouslySetInnerHTML","__html","text","toString","e","run","each","eachKey","list","item","itemProp","itemContext","mergedContext","scope","content"],"sources":["@wordpress/interactivity/src/directives.tsx"],"sourcesContent":["// eslint-disable-next-line eslint-comments/disable-enable-pair\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport { h as createElement, type RefObject } from 'preact';\r\nimport { useContext, useMemo, useRef } from 'preact/hooks';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { proxifyState, peek } from './proxies';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tuseWatch,\r\n\tuseInit,\r\n\tkebabToCamelCase,\r\n\twarn,\r\n\tsplitTask,\r\n\tisPlainObject,\r\n} from './utils';\r\nimport { directive, getEvaluate, type DirectiveEntry } from './hooks';\r\nimport { getScope } from './scopes';\r\n\r\n// Assigned objects should be ignored during proxification.\r\nconst contextAssignedObjects = new WeakMap();\r\n\r\n// Store the context proxy and fallback for each object in the context.\r\nconst contextObjectToProxy = new WeakMap();\r\nconst contextProxyToObject = new WeakMap();\r\nconst contextObjectToFallback = new WeakMap();\r\n\r\nconst descriptor = Reflect.getOwnPropertyDescriptor;\r\n\r\n/**\r\n * Wrap a context object with a proxy to reproduce the context stack. The proxy\r\n * uses the passed `inherited` context as a fallback to look up for properties\r\n * that don't exist in the given context. Also, updated properties are modified\r\n * where they are defined, or added to the main context when they don't exist.\r\n *\r\n * By default, all plain objects inside the context are wrapped, unless it is\r\n * listed in the `ignore` option.\r\n *\r\n * @param current   Current context.\r\n * @param inherited Inherited context, used as fallback.\r\n *\r\n * @return The wrapped context object.\r\n */\r\nconst proxifyContext = ( current: object, inherited: object = {} ): object => {\r\n\t// Update the fallback object reference when it changes.\r\n\tcontextObjectToFallback.set( current, inherited );\r\n\tif ( ! contextObjectToProxy.has( current ) ) {\r\n\t\tconst proxy = new Proxy( current, {\r\n\t\t\tget: ( target: object, k: string ) => {\r\n\t\t\t\tconst fallback = contextObjectToFallback.get( current );\r\n\t\t\t\t// Always subscribe to prop changes in the current context.\r\n\t\t\t\tconst currentProp = target[ k ];\r\n\r\n\t\t\t\t// Return the inherited prop when missing in target.\r\n\t\t\t\tif ( ! ( k in target ) && k in fallback ) {\r\n\t\t\t\t\treturn fallback[ k ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Proxify plain objects that were not directly assigned.\r\n\t\t\t\tif (\r\n\t\t\t\t\tk in target &&\r\n\t\t\t\t\t! contextAssignedObjects.get( target )?.has( k ) &&\r\n\t\t\t\t\tisPlainObject( currentProp )\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn proxifyContext( currentProp );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Return the stored proxy for `currentProp` when it exists.\r\n\t\t\t\tif ( contextObjectToProxy.has( currentProp ) ) {\r\n\t\t\t\t\treturn contextObjectToProxy.get( currentProp );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * For other cases, return the value from target, also\r\n\t\t\t\t * subscribing to changes in the parent context when the current\r\n\t\t\t\t * prop is not defined.\r\n\t\t\t\t */\r\n\t\t\t\treturn k in target ? currentProp : fallback[ k ];\r\n\t\t\t},\r\n\t\t\tset: ( target, k, value ) => {\r\n\t\t\t\tconst fallback = contextObjectToFallback.get( current );\r\n\t\t\t\tconst obj =\r\n\t\t\t\t\tk in target || ! ( k in fallback ) ? target : fallback;\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * Assigned object values should not be proxified so they point\r\n\t\t\t\t * to the original object and don't inherit unexpected\r\n\t\t\t\t * properties.\r\n\t\t\t\t */\r\n\t\t\t\tif ( value && typeof value === 'object' ) {\r\n\t\t\t\t\tif ( ! contextAssignedObjects.has( obj ) ) {\r\n\t\t\t\t\t\tcontextAssignedObjects.set( obj, new Set() );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontextAssignedObjects.get( obj ).add( k );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * When the value is a proxy, it's because it comes from the\r\n\t\t\t\t * context, so the inner value is assigned instead.\r\n\t\t\t\t */\r\n\t\t\t\tif ( contextProxyToObject.has( value ) ) {\r\n\t\t\t\t\tconst innerValue = contextProxyToObject.get( value );\r\n\t\t\t\t\tobj[ k ] = innerValue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj[ k ] = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\townKeys: ( target ) => [\r\n\t\t\t\t...new Set( [\r\n\t\t\t\t\t...Object.keys( contextObjectToFallback.get( current ) ),\r\n\t\t\t\t\t...Object.keys( target ),\r\n\t\t\t\t] ),\r\n\t\t\t],\r\n\t\t\tgetOwnPropertyDescriptor: ( target, k ) =>\r\n\t\t\t\tdescriptor( target, k ) ||\r\n\t\t\t\tdescriptor( contextObjectToFallback.get( current ), k ),\r\n\t\t} );\r\n\t\tcontextObjectToProxy.set( current, proxy );\r\n\t\tcontextProxyToObject.set( proxy, current );\r\n\t}\r\n\treturn contextObjectToProxy.get( current );\r\n};\r\n\r\n/**\r\n * Recursively update values within a context object.\r\n *\r\n * @param target A context instance.\r\n * @param source Object with properties to update in `target`.\r\n */\r\nconst updateContext = ( target: any, source: any ) => {\r\n\tfor ( const k in source ) {\r\n\t\tif (\r\n\t\t\tisPlainObject( peek( target, k ) ) &&\r\n\t\t\tisPlainObject( source[ k ] )\r\n\t\t) {\r\n\t\t\tupdateContext( peek( target, k ) as object, source[ k ] );\r\n\t\t} else if ( ! ( k in target ) ) {\r\n\t\t\ttarget[ k ] = source[ k ];\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * Recursively clone the passed object.\r\n *\r\n * @param source Source object.\r\n * @return Cloned object.\r\n */\r\nfunction deepClone< T >( source: T ): T {\r\n\tif ( isPlainObject( source ) ) {\r\n\t\treturn Object.fromEntries(\r\n\t\t\tObject.entries( source as object ).map( ( [ key, value ] ) => [\r\n\t\t\t\tkey,\r\n\t\t\t\tdeepClone( value ),\r\n\t\t\t] )\r\n\t\t) as T;\r\n\t}\r\n\tif ( Array.isArray( source ) ) {\r\n\t\treturn source.map( ( i ) => deepClone( i ) ) as T;\r\n\t}\r\n\treturn source;\r\n}\r\n\r\nconst newRule =\r\n\t/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g;\r\nconst ruleClean = /\\/\\*[^]*?\\*\\/|  +/g;\r\nconst ruleNewline = /\\n+/g;\r\nconst empty = ' ';\r\n\r\n/**\r\n * Convert a css style string into a object.\r\n *\r\n * Made by Cristian Bote (@cristianbote) for Goober.\r\n * https://unpkg.com/browse/goober@2.1.13/src/core/astish.js\r\n *\r\n * @param val CSS string.\r\n * @return CSS object.\r\n */\r\nconst cssStringToObject = (\r\n\tval: string\r\n): Record< string, string | number > => {\r\n\tconst tree = [ {} ];\r\n\tlet block, left;\r\n\r\n\twhile ( ( block = newRule.exec( val.replace( ruleClean, '' ) ) ) ) {\r\n\t\tif ( block[ 4 ] ) {\r\n\t\t\ttree.shift();\r\n\t\t} else if ( block[ 3 ] ) {\r\n\t\t\tleft = block[ 3 ].replace( ruleNewline, empty ).trim();\r\n\t\t\ttree.unshift( ( tree[ 0 ][ left ] = tree[ 0 ][ left ] || {} ) );\r\n\t\t} else {\r\n\t\t\ttree[ 0 ][ block[ 1 ] ] = block[ 2 ]\r\n\t\t\t\t.replace( ruleNewline, empty )\r\n\t\t\t\t.trim();\r\n\t\t}\r\n\t}\r\n\r\n\treturn tree[ 0 ];\r\n};\r\n\r\n/**\r\n * Creates a directive that adds an event listener to the global window or\r\n * document object.\r\n *\r\n * @param type 'window' or 'document'\r\n */\r\nconst getGlobalEventDirective = ( type: 'window' | 'document' ) => {\r\n\treturn ( { directives, evaluate } ) => {\r\n\t\tdirectives[ `on-${ type }` ]\r\n\t\t\t.filter( ( { suffix } ) => suffix !== 'default' )\r\n\t\t\t.forEach( ( entry: DirectiveEntry ) => {\r\n\t\t\t\tconst eventName = entry.suffix.split( '--', 1 )[ 0 ];\r\n\t\t\t\tuseInit( () => {\r\n\t\t\t\t\tconst cb = ( event: Event ) => evaluate( entry, event );\r\n\t\t\t\t\tconst globalVar = type === 'window' ? window : document;\r\n\t\t\t\t\tglobalVar.addEventListener( eventName, cb );\r\n\t\t\t\t\treturn () => globalVar.removeEventListener( eventName, cb );\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t};\r\n};\r\n\r\n/**\r\n * Creates a directive that adds an async event listener to the global window or\r\n * document object.\r\n *\r\n * @param type 'window' or 'document'\r\n */\r\nconst getGlobalAsyncEventDirective = ( type: 'window' | 'document' ) => {\r\n\treturn ( { directives, evaluate } ) => {\r\n\t\tdirectives[ `on-async-${ type }` ]\r\n\t\t\t.filter( ( { suffix } ) => suffix !== 'default' )\r\n\t\t\t.forEach( ( entry: DirectiveEntry ) => {\r\n\t\t\t\tconst eventName = entry.suffix.split( '--', 1 )[ 0 ];\r\n\t\t\t\tuseInit( () => {\r\n\t\t\t\t\tconst cb = async ( event: Event ) => {\r\n\t\t\t\t\t\tawait splitTask();\r\n\t\t\t\t\t\tevaluate( entry, event );\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst globalVar = type === 'window' ? window : document;\r\n\t\t\t\t\tglobalVar.addEventListener( eventName, cb, {\r\n\t\t\t\t\t\tpassive: true,\r\n\t\t\t\t\t} );\r\n\t\t\t\t\treturn () => globalVar.removeEventListener( eventName, cb );\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t};\r\n};\r\n\r\nexport default () => {\r\n\t// data-wp-context\r\n\tdirective(\r\n\t\t'context',\r\n\t\t( {\r\n\t\t\tdirectives: { context },\r\n\t\t\tprops: { children },\r\n\t\t\tcontext: inheritedContext,\r\n\t\t} ) => {\r\n\t\t\tconst { Provider } = inheritedContext;\r\n\t\t\tconst defaultEntry = context.find(\r\n\t\t\t\t( { suffix } ) => suffix === 'default'\r\n\t\t\t);\r\n\t\t\tconst inheritedValue = useContext( inheritedContext );\r\n\r\n\t\t\tconst ns = defaultEntry!.namespace;\r\n\t\t\tconst currentValue = useRef( proxifyState( ns, {} ) );\r\n\r\n\t\t\t// No change should be made if `defaultEntry` does not exist.\r\n\t\t\tconst contextStack = useMemo( () => {\r\n\t\t\t\tconst result = { ...inheritedValue };\r\n\t\t\t\tif ( defaultEntry ) {\r\n\t\t\t\t\tconst { namespace, value } = defaultEntry;\r\n\t\t\t\t\t// Check that the value is a JSON object. Send a console warning if not.\r\n\t\t\t\t\tif ( ! isPlainObject( value ) ) {\r\n\t\t\t\t\t\twarn(\r\n\t\t\t\t\t\t\t`The value of data-wp-context in \"${ namespace }\" store must be a valid stringified JSON object.`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdateContext(\r\n\t\t\t\t\t\tcurrentValue.current,\r\n\t\t\t\t\t\tdeepClone( value ) as object\r\n\t\t\t\t\t);\r\n\t\t\t\t\tresult[ namespace ] = proxifyContext(\r\n\t\t\t\t\t\tcurrentValue.current,\r\n\t\t\t\t\t\tinheritedValue[ namespace ]\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t}, [ defaultEntry, inheritedValue ] );\r\n\r\n\t\t\treturn createElement( Provider, { value: contextStack }, children );\r\n\t\t},\r\n\t\t{ priority: 5 }\r\n\t);\r\n\r\n\t// data-wp-watch--[name]\r\n\tdirective( 'watch', ( { directives: { watch }, evaluate } ) => {\r\n\t\twatch.forEach( ( entry ) => {\r\n\t\t\tuseWatch( () => {\r\n\t\t\t\tlet start;\r\n\t\t\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t\t\t\tif ( globalThis.SCRIPT_DEBUG ) {\r\n\t\t\t\t\t\t// eslint-disable-next-line no-unused-vars\r\n\t\t\t\t\t\tstart = performance.now();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst result = evaluate( entry );\r\n\t\t\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t\t\t\tif ( globalThis.SCRIPT_DEBUG ) {\r\n\t\t\t\t\t\tperformance.measure(\r\n\t\t\t\t\t\t\t`interactivity api watch ${ entry.namespace }`,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\tend: performance.now(),\r\n\t\t\t\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\t\t\t\tdevtools: {\r\n\t\t\t\t\t\t\t\t\t\ttrack: `IA: watch ${ entry.namespace }`,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t} );\r\n\t\t} );\r\n\t} );\r\n\r\n\t// data-wp-init--[name]\r\n\tdirective( 'init', ( { directives: { init }, evaluate } ) => {\r\n\t\tinit.forEach( ( entry ) => {\r\n\t\t\t// TODO: Replace with useEffect to prevent unneeded scopes.\r\n\t\t\tuseInit( () => {\r\n\t\t\t\tlet start;\r\n\t\t\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t\t\t\tif ( globalThis.SCRIPT_DEBUG ) {\r\n\t\t\t\t\t\tstart = performance.now();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst result = evaluate( entry );\r\n\t\t\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t\t\t\tif ( globalThis.SCRIPT_DEBUG ) {\r\n\t\t\t\t\t\tperformance.measure(\r\n\t\t\t\t\t\t\t`interactivity api init ${ entry.namespace }`,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\tend: performance.now(),\r\n\t\t\t\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\t\t\t\tdevtools: {\r\n\t\t\t\t\t\t\t\t\t\ttrack: `IA: init ${ entry.namespace }`,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t} );\r\n\t\t} );\r\n\t} );\r\n\r\n\t// data-wp-on--[event]\r\n\tdirective( 'on', ( { directives: { on }, element, evaluate } ) => {\r\n\t\tconst events = new Map< string, Set< DirectiveEntry > >();\r\n\t\ton.filter( ( { suffix } ) => suffix !== 'default' ).forEach(\r\n\t\t\t( entry ) => {\r\n\t\t\t\tconst event = entry.suffix.split( '--' )[ 0 ];\r\n\t\t\t\tif ( ! events.has( event ) ) {\r\n\t\t\t\t\tevents.set( event, new Set< DirectiveEntry >() );\r\n\t\t\t\t}\r\n\t\t\t\tevents.get( event )!.add( entry );\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tevents.forEach( ( entries, eventType ) => {\r\n\t\t\tconst existingHandler = element.props[ `on${ eventType }` ];\r\n\t\t\telement.props[ `on${ eventType }` ] = ( event: Event ) => {\r\n\t\t\t\tentries.forEach( ( entry ) => {\r\n\t\t\t\t\tif ( existingHandler ) {\r\n\t\t\t\t\t\texistingHandler( event );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet start;\r\n\t\t\t\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t\t\t\t\tif ( globalThis.SCRIPT_DEBUG ) {\r\n\t\t\t\t\t\t\tstart = performance.now();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevaluate( entry, event );\r\n\t\t\t\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\r\n\t\t\t\t\t\tif ( globalThis.SCRIPT_DEBUG ) {\r\n\t\t\t\t\t\t\tperformance.measure(\r\n\t\t\t\t\t\t\t\t`interactivity api on ${ entry.namespace }`,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\t\tend: performance.now(),\r\n\t\t\t\t\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\t\t\t\t\tdevtools: {\r\n\t\t\t\t\t\t\t\t\t\t\ttrack: `IA: on ${ entry.namespace }`,\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t};\r\n\t\t} );\r\n\t} );\r\n\r\n\t// data-wp-on-async--[event]\r\n\tdirective(\r\n\t\t'on-async',\r\n\t\t( { directives: { 'on-async': onAsync }, element, evaluate } ) => {\r\n\t\t\tconst events = new Map< string, Set< DirectiveEntry > >();\r\n\t\t\tonAsync\r\n\t\t\t\t.filter( ( { suffix } ) => suffix !== 'default' )\r\n\t\t\t\t.forEach( ( entry ) => {\r\n\t\t\t\t\tconst event = entry.suffix.split( '--' )[ 0 ];\r\n\t\t\t\t\tif ( ! events.has( event ) ) {\r\n\t\t\t\t\t\tevents.set( event, new Set< DirectiveEntry >() );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevents.get( event )!.add( entry );\r\n\t\t\t\t} );\r\n\r\n\t\t\tevents.forEach( ( entries, eventType ) => {\r\n\t\t\t\tconst existingHandler = element.props[ `on${ eventType }` ];\r\n\t\t\t\telement.props[ `on${ eventType }` ] = ( event: Event ) => {\r\n\t\t\t\t\tif ( existingHandler ) {\r\n\t\t\t\t\t\texistingHandler( event );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tentries.forEach( async ( entry ) => {\r\n\t\t\t\t\t\tawait splitTask();\r\n\t\t\t\t\t\tevaluate( entry, event );\r\n\t\t\t\t\t} );\r\n\t\t\t\t};\r\n\t\t\t} );\r\n\t\t}\r\n\t);\r\n\r\n\t// data-wp-on-window--[event]\r\n\tdirective( 'on-window', getGlobalEventDirective( 'window' ) );\r\n\t// data-wp-on-document--[event]\r\n\tdirective( 'on-document', getGlobalEventDirective( 'document' ) );\r\n\r\n\t// data-wp-on-async-window--[event]\r\n\tdirective( 'on-async-window', getGlobalAsyncEventDirective( 'window' ) );\r\n\t// data-wp-on-async-document--[event]\r\n\tdirective(\r\n\t\t'on-async-document',\r\n\t\tgetGlobalAsyncEventDirective( 'document' )\r\n\t);\r\n\r\n\t// data-wp-class--[classname]\r\n\tdirective(\r\n\t\t'class',\r\n\t\t( { directives: { class: classNames }, element, evaluate } ) => {\r\n\t\t\tclassNames\r\n\t\t\t\t.filter( ( { suffix } ) => suffix !== 'default' )\r\n\t\t\t\t.forEach( ( entry ) => {\r\n\t\t\t\t\tconst className = entry.suffix;\r\n\t\t\t\t\tconst result = evaluate( entry );\r\n\t\t\t\t\tconst currentClass = element.props.class || '';\r\n\t\t\t\t\tconst classFinder = new RegExp(\r\n\t\t\t\t\t\t`(^|\\\\s)${ className }(\\\\s|$)`,\r\n\t\t\t\t\t\t'g'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif ( ! result ) {\r\n\t\t\t\t\t\telement.props.class = currentClass\r\n\t\t\t\t\t\t\t.replace( classFinder, ' ' )\r\n\t\t\t\t\t\t\t.trim();\r\n\t\t\t\t\t} else if ( ! classFinder.test( currentClass ) ) {\r\n\t\t\t\t\t\telement.props.class = currentClass\r\n\t\t\t\t\t\t\t? `${ currentClass } ${ className }`\r\n\t\t\t\t\t\t\t: className;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuseInit( () => {\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t * This seems necessary because Preact doesn't change the class\r\n\t\t\t\t\t\t * names on the hydration, so we have to do it manually. It doesn't\r\n\t\t\t\t\t\t * need deps because it only needs to do it the first time.\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tif ( ! result ) {\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\telement.ref as RefObject< HTMLElement >\r\n\t\t\t\t\t\t\t ).current!.classList.remove( className );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\telement.ref as RefObject< HTMLElement >\r\n\t\t\t\t\t\t\t ).current!.classList.add( className );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t}\r\n\t);\r\n\r\n\t// data-wp-style--[style-prop]\r\n\tdirective( 'style', ( { directives: { style }, element, evaluate } ) => {\r\n\t\tstyle\r\n\t\t\t.filter( ( { suffix } ) => suffix !== 'default' )\r\n\t\t\t.forEach( ( entry ) => {\r\n\t\t\t\tconst styleProp = entry.suffix;\r\n\t\t\t\tconst result = evaluate( entry );\r\n\t\t\t\telement.props.style = element.props.style || {};\r\n\t\t\t\tif ( typeof element.props.style === 'string' ) {\r\n\t\t\t\t\telement.props.style = cssStringToObject(\r\n\t\t\t\t\t\telement.props.style\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif ( ! result ) {\r\n\t\t\t\t\tdelete element.props.style[ styleProp ];\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.props.style[ styleProp ] = result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuseInit( () => {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * This seems necessary because Preact doesn't change the styles on\r\n\t\t\t\t\t * the hydration, so we have to do it manually. It doesn't need deps\r\n\t\t\t\t\t * because it only needs to do it the first time.\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( ! result ) {\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\telement.ref as RefObject< HTMLElement >\r\n\t\t\t\t\t\t ).current!.style.removeProperty( styleProp );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\telement.ref as RefObject< HTMLElement >\r\n\t\t\t\t\t\t ).current!.style[ styleProp ] = result;\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t} );\r\n\r\n\t// data-wp-bind--[attribute]\r\n\tdirective( 'bind', ( { directives: { bind }, element, evaluate } ) => {\r\n\t\tbind.filter( ( { suffix } ) => suffix !== 'default' ).forEach(\r\n\t\t\t( entry ) => {\r\n\t\t\t\tconst attribute = entry.suffix;\r\n\t\t\t\tconst result = evaluate( entry );\r\n\t\t\t\telement.props[ attribute ] = result;\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * This is necessary because Preact doesn't change the attributes on the\r\n\t\t\t\t * hydration, so we have to do it manually. It only needs to do it the\r\n\t\t\t\t * first time. After that, Preact will handle the changes.\r\n\t\t\t\t */\r\n\t\t\t\tuseInit( () => {\r\n\t\t\t\t\tconst el = ( element.ref as RefObject< HTMLElement > )\r\n\t\t\t\t\t\t.current!;\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * We set the value directly to the corresponding HTMLElement instance\r\n\t\t\t\t\t * property excluding the following special cases. We follow Preact's\r\n\t\t\t\t\t * logic: https://github.com/preactjs/preact/blob/ea49f7a0f9d1ff2c98c0bdd66aa0cbc583055246/src/diff/props.js#L110-L129\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( attribute === 'style' ) {\r\n\t\t\t\t\t\tif ( typeof result === 'string' ) {\r\n\t\t\t\t\t\t\tel.style.cssText = result;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tattribute !== 'width' &&\r\n\t\t\t\t\t\tattribute !== 'height' &&\r\n\t\t\t\t\t\tattribute !== 'href' &&\r\n\t\t\t\t\t\tattribute !== 'list' &&\r\n\t\t\t\t\t\tattribute !== 'form' &&\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t * The value for `tabindex` follows the parsing rules for an\r\n\t\t\t\t\t\t * integer. If that fails, or if the attribute isn't present, then\r\n\t\t\t\t\t\t * the browsers should \"follow platform conventions to determine if\r\n\t\t\t\t\t\t * the element should be considered as a focusable area\",\r\n\t\t\t\t\t\t * practically meaning that most elements get a default of `-1` (not\r\n\t\t\t\t\t\t * focusable), but several also get a default of `0` (focusable in\r\n\t\t\t\t\t\t * order after all elements with a positive `tabindex` value).\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t * @see https://html.spec.whatwg.org/#tabindex-value\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tattribute !== 'tabIndex' &&\r\n\t\t\t\t\t\tattribute !== 'download' &&\r\n\t\t\t\t\t\tattribute !== 'rowSpan' &&\r\n\t\t\t\t\t\tattribute !== 'colSpan' &&\r\n\t\t\t\t\t\tattribute !== 'role' &&\r\n\t\t\t\t\t\tattribute in el\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tel[ attribute ] =\r\n\t\t\t\t\t\t\t\tresult === null || result === undefined\r\n\t\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t\t: result;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} catch ( err ) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * aria- and data- attributes have no boolean representation.\r\n\t\t\t\t\t * A `false` value is different from the attribute not being\r\n\t\t\t\t\t * present, so we can't remove it.\r\n\t\t\t\t\t * We follow Preact's logic: https://github.com/preactjs/preact/blob/ea49f7a0f9d1ff2c98c0bdd66aa0cbc583055246/src/diff/props.js#L131C24-L136\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tresult !== null &&\r\n\t\t\t\t\t\tresult !== undefined &&\r\n\t\t\t\t\t\t( result !== false || attribute[ 4 ] === '-' )\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tel.setAttribute( attribute, result );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.removeAttribute( attribute );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t);\r\n\t} );\r\n\r\n\t// data-wp-ignore\r\n\tdirective(\r\n\t\t'ignore',\r\n\t\t( {\r\n\t\t\telement: {\r\n\t\t\t\ttype: Type,\r\n\t\t\t\tprops: { innerHTML, ...rest },\r\n\t\t\t},\r\n\t\t}: {\r\n\t\t\telement: any;\r\n\t\t} ) => {\r\n\t\t\t// Preserve the initial inner HTML.\r\n\t\t\tconst cached = useMemo( () => innerHTML, [] );\r\n\t\t\treturn createElement( Type, {\r\n\t\t\t\tdangerouslySetInnerHTML: { __html: cached },\r\n\t\t\t\t...rest,\r\n\t\t\t} );\r\n\t\t}\r\n\t);\r\n\r\n\t// data-wp-text\r\n\tdirective( 'text', ( { directives: { text }, element, evaluate } ) => {\r\n\t\tconst entry = text.find( ( { suffix } ) => suffix === 'default' );\r\n\t\tif ( ! entry ) {\r\n\t\t\telement.props.children = null;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst result = evaluate( entry );\r\n\t\t\telement.props.children =\r\n\t\t\t\ttypeof result === 'object' ? null : result.toString();\r\n\t\t} catch ( e ) {\r\n\t\t\telement.props.children = null;\r\n\t\t}\r\n\t} );\r\n\r\n\t// data-wp-run\r\n\tdirective( 'run', ( { directives: { run }, evaluate } ) => {\r\n\t\trun.forEach( ( entry ) => evaluate( entry ) );\r\n\t} );\r\n\r\n\t// data-wp-each--[item]\r\n\tdirective(\r\n\t\t'each',\r\n\t\t( {\r\n\t\t\tdirectives: { each, 'each-key': eachKey },\r\n\t\t\tcontext: inheritedContext,\r\n\t\t\telement,\r\n\t\t\tevaluate,\r\n\t\t} ) => {\r\n\t\t\tif ( element.type !== 'template' ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst { Provider } = inheritedContext;\r\n\t\t\tconst inheritedValue = useContext( inheritedContext );\r\n\r\n\t\t\tconst [ entry ] = each;\r\n\t\t\tconst { namespace, suffix } = entry;\r\n\r\n\t\t\tconst list = evaluate( entry );\r\n\t\t\treturn list.map( ( item ) => {\r\n\t\t\t\tconst itemProp =\r\n\t\t\t\t\tsuffix === 'default' ? 'item' : kebabToCamelCase( suffix );\r\n\t\t\t\tconst itemContext = proxifyContext(\r\n\t\t\t\t\tproxifyState( namespace, {} ),\r\n\t\t\t\t\tinheritedValue[ namespace ]\r\n\t\t\t\t);\r\n\t\t\t\tconst mergedContext = {\r\n\t\t\t\t\t...inheritedValue,\r\n\t\t\t\t\t[ namespace ]: itemContext,\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Set the item after proxifying the context.\r\n\t\t\t\tmergedContext[ namespace ][ itemProp ] = item;\r\n\r\n\t\t\t\tconst scope = { ...getScope(), context: mergedContext };\r\n\t\t\t\tconst key = eachKey\r\n\t\t\t\t\t? getEvaluate( { scope } )( eachKey[ 0 ] )\r\n\t\t\t\t\t: item;\r\n\r\n\t\t\t\treturn createElement(\r\n\t\t\t\t\tProvider,\r\n\t\t\t\t\t{ value: mergedContext, key },\r\n\t\t\t\t\telement.props.content\r\n\t\t\t\t);\r\n\t\t\t} );\r\n\t\t},\r\n\t\t{ priority: 20 }\r\n\t);\r\n\r\n\tdirective( 'each-child', () => null, { priority: 1 } );\r\n};\r\n"],"mappings":"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","ignoreList":[]}