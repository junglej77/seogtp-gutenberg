{"version":3,"names":["createContext","globalShortcuts","Set","globalListener","event","keyboardShortcut","context","add","shortcut","size","document","addEventListener","delete","removeEventListener"],"sources":["@wordpress/keyboard-shortcuts/src/context.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { createContext } from '@wordpress/element';\r\n\r\nconst globalShortcuts = new Set();\r\nconst globalListener = ( event ) => {\r\n\tfor ( const keyboardShortcut of globalShortcuts ) {\r\n\t\tkeyboardShortcut( event );\r\n\t}\r\n};\r\n\r\nexport const context = createContext( {\r\n\tadd: ( shortcut ) => {\r\n\t\tif ( globalShortcuts.size === 0 ) {\r\n\t\t\tdocument.addEventListener( 'keydown', globalListener );\r\n\t\t}\r\n\t\tglobalShortcuts.add( shortcut );\r\n\t},\r\n\tdelete: ( shortcut ) => {\r\n\t\tglobalShortcuts.delete( shortcut );\r\n\t\tif ( globalShortcuts.size === 0 ) {\r\n\t\t\tdocument.removeEventListener( 'keydown', globalListener );\r\n\t\t}\r\n\t},\r\n} );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,oBAAoB;AAElD,MAAMC,eAAe,GAAG,IAAIC,GAAG,CAAC,CAAC;AACjC,MAAMC,cAAc,GAAKC,KAAK,IAAM;EACnC,KAAM,MAAMC,gBAAgB,IAAIJ,eAAe,EAAG;IACjDI,gBAAgB,CAAED,KAAM,CAAC;EAC1B;AACD,CAAC;AAED,OAAO,MAAME,OAAO,GAAGN,aAAa,CAAE;EACrCO,GAAG,EAAIC,QAAQ,IAAM;IACpB,IAAKP,eAAe,CAACQ,IAAI,KAAK,CAAC,EAAG;MACjCC,QAAQ,CAACC,gBAAgB,CAAE,SAAS,EAAER,cAAe,CAAC;IACvD;IACAF,eAAe,CAACM,GAAG,CAAEC,QAAS,CAAC;EAChC,CAAC;EACDI,MAAM,EAAIJ,QAAQ,IAAM;IACvBP,eAAe,CAACW,MAAM,CAAEJ,QAAS,CAAC;IAClC,IAAKP,eAAe,CAACQ,IAAI,KAAK,CAAC,EAAG;MACjCC,QAAQ,CAACG,mBAAmB,CAAE,SAAS,EAAEV,cAAe,CAAC;IAC1D;EACD;AACD,CAAE,CAAC","ignoreList":[]}