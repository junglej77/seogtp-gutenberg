{"version":3,"names":["useContext","useEffect","useRef","useShortcutEventMatch","context","useShortcut","name","callback","isDisabled","shortcuts","isMatch","callbackRef","current","_callback","event","add","delete"],"sources":["@wordpress/keyboard-shortcuts/src/hooks/use-shortcut.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useContext, useEffect, useRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useShortcutEventMatch from './use-shortcut-event-match';\r\nimport { context } from '../context';\r\n\r\n/**\r\n * Attach a keyboard shortcut handler.\r\n *\r\n * @param {string}   name               Shortcut name.\r\n * @param {Function} callback           Shortcut callback.\r\n * @param {Object}   options            Shortcut options.\r\n * @param {boolean}  options.isDisabled Whether to disable to shortut.\r\n */\r\nexport default function useShortcut(\r\n\tname,\r\n\tcallback,\r\n\t{ isDisabled = false } = {}\r\n) {\r\n\tconst shortcuts = useContext( context );\r\n\tconst isMatch = useShortcutEventMatch();\r\n\tconst callbackRef = useRef();\r\n\r\n\tuseEffect( () => {\r\n\t\tcallbackRef.current = callback;\r\n\t}, [ callback ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( isDisabled ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfunction _callback( event ) {\r\n\t\t\tif ( isMatch( name, event ) ) {\r\n\t\t\t\tcallbackRef.current( event );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tshortcuts.add( _callback );\r\n\t\treturn () => {\r\n\t\t\tshortcuts.delete( _callback );\r\n\t\t};\r\n\t}, [ name, isDisabled, shortcuts ] );\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,UAAU,EAAEC,SAAS,EAAEC,MAAM,QAAQ,oBAAoB;;AAElE;AACA;AACA;AACA,OAAOC,qBAAqB,MAAM,4BAA4B;AAC9D,SAASC,OAAO,QAAQ,YAAY;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,WAAWA,CAClCC,IAAI,EACJC,QAAQ,EACR;EAAEC,UAAU,GAAG;AAAM,CAAC,GAAG,CAAC,CAAC,EAC1B;EACD,MAAMC,SAAS,GAAGT,UAAU,CAAEI,OAAQ,CAAC;EACvC,MAAMM,OAAO,GAAGP,qBAAqB,CAAC,CAAC;EACvC,MAAMQ,WAAW,GAAGT,MAAM,CAAC,CAAC;EAE5BD,SAAS,CAAE,MAAM;IAChBU,WAAW,CAACC,OAAO,GAAGL,QAAQ;EAC/B,CAAC,EAAE,CAAEA,QAAQ,CAAG,CAAC;EAEjBN,SAAS,CAAE,MAAM;IAChB,IAAKO,UAAU,EAAG;MACjB;IACD;IAEA,SAASK,SAASA,CAAEC,KAAK,EAAG;MAC3B,IAAKJ,OAAO,CAAEJ,IAAI,EAAEQ,KAAM,CAAC,EAAG;QAC7BH,WAAW,CAACC,OAAO,CAAEE,KAAM,CAAC;MAC7B;IACD;IAEAL,SAAS,CAACM,GAAG,CAAEF,SAAU,CAAC;IAC1B,OAAO,MAAM;MACZJ,SAAS,CAACO,MAAM,CAAEH,SAAU,CAAC;IAC9B,CAAC;EACF,CAAC,EAAE,CAAEP,IAAI,EAAEE,UAAU,EAAEC,SAAS,CAAG,CAAC;AACrC","ignoreList":[]}