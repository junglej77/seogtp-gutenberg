{"version":3,"names":["paramCase","kebabCase","apiFetch","downloadBlob","exportReusableBlock","id","postType","path","post","rest_base","title","raw","content","syncStatus","wp_pattern_sync_status","fileContent","JSON","stringify","__file","fileName"],"sources":["@wordpress/list-reusable-blocks/src/utils/export.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\nimport { paramCase as kebabCase } from 'change-case';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { downloadBlob } from '@wordpress/blob';\r\n\r\n/**\r\n * Export a reusable block as a JSON file.\r\n *\r\n * @param {number} id\r\n */\r\nasync function exportReusableBlock( id ) {\r\n\tconst postType = await apiFetch( { path: `/wp/v2/types/wp_block` } );\r\n\tconst post = await apiFetch( {\r\n\t\tpath: `/wp/v2/${ postType.rest_base }/${ id }?context=edit`,\r\n\t} );\r\n\tconst title = post.title.raw;\r\n\tconst content = post.content.raw;\r\n\tconst syncStatus = post.wp_pattern_sync_status;\r\n\tconst fileContent = JSON.stringify(\r\n\t\t{\r\n\t\t\t__file: 'wp_block',\r\n\t\t\ttitle,\r\n\t\t\tcontent,\r\n\t\t\tsyncStatus,\r\n\t\t},\r\n\t\tnull,\r\n\t\t2\r\n\t);\r\n\tconst fileName = kebabCase( title ) + '.json';\r\n\r\n\tdownloadBlob( fileName, fileContent, 'application/json' );\r\n}\r\n\r\nexport default exportReusableBlock;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,IAAIC,SAAS,QAAQ,aAAa;;AAEpD;AACA;AACA;AACA,OAAOC,QAAQ,MAAM,sBAAsB;;AAE3C;AACA;AACA;AACA,SAASC,YAAY,QAAQ,iBAAiB;;AAE9C;AACA;AACA;AACA;AACA;AACA,eAAeC,mBAAmBA,CAAEC,EAAE,EAAG;EACxC,MAAMC,QAAQ,GAAG,MAAMJ,QAAQ,CAAE;IAAEK,IAAI,EAAG;EAAuB,CAAE,CAAC;EACpE,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAAE;IAC5BK,IAAI,EAAG,UAAUD,QAAQ,CAACG,SAAW,IAAIJ,EAAI;EAC9C,CAAE,CAAC;EACH,MAAMK,KAAK,GAAGF,IAAI,CAACE,KAAK,CAACC,GAAG;EAC5B,MAAMC,OAAO,GAAGJ,IAAI,CAACI,OAAO,CAACD,GAAG;EAChC,MAAME,UAAU,GAAGL,IAAI,CAACM,sBAAsB;EAC9C,MAAMC,WAAW,GAAGC,IAAI,CAACC,SAAS,CACjC;IACCC,MAAM,EAAE,UAAU;IAClBR,KAAK;IACLE,OAAO;IACPC;EACD,CAAC,EACD,IAAI,EACJ,CACD,CAAC;EACD,MAAMM,QAAQ,GAAGlB,SAAS,CAAES,KAAM,CAAC,GAAG,OAAO;EAE7CP,YAAY,CAAEgB,QAAQ,EAAEJ,WAAW,EAAE,kBAAmB,CAAC;AAC1D;AAEA,eAAeX,mBAAmB","ignoreList":[]}