{"version":3,"names":["transformAttachment","attachment","_attachment$caption$r","alt_text","source_url","savedMediaProps","alt","caption","raw","title","url","poster","_embedded","undefined"],"sources":["@wordpress/media-utils/src/utils/transform-attachment.ts"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\nimport type { Attachment, RestAttachment } from './types';\r\n\r\n/**\r\n * Transforms an attachment object from the REST API shape into the shape expected by the block editor and other consumers.\r\n *\r\n * @param attachment REST API attachment object.\r\n */\r\nexport function transformAttachment( attachment: RestAttachment ): Attachment {\r\n\t// eslint-disable-next-line camelcase\r\n\tconst { alt_text, source_url, ...savedMediaProps } = attachment;\r\n\treturn {\r\n\t\t...savedMediaProps,\r\n\t\talt: attachment.alt_text,\r\n\t\tcaption: attachment.caption?.raw ?? '',\r\n\t\ttitle: attachment.title.raw,\r\n\t\turl: attachment.source_url,\r\n\t\tposter:\r\n\t\t\tattachment._embedded?.[ 'wp:featuredmedia' ]?.[ 0 ]?.source_url ||\r\n\t\t\tundefined,\r\n\t};\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,mBAAmBA,CAAEC,UAA0B,EAAe;EAAA,IAAAC,qBAAA;EAC7E;EACA,MAAM;IAAEC,QAAQ;IAAEC,UAAU;IAAE,GAAGC;EAAgB,CAAC,GAAGJ,UAAU;EAC/D,OAAO;IACN,GAAGI,eAAe;IAClBC,GAAG,EAAEL,UAAU,CAACE,QAAQ;IACxBI,OAAO,GAAAL,qBAAA,GAAED,UAAU,CAACM,OAAO,EAAEC,GAAG,cAAAN,qBAAA,cAAAA,qBAAA,GAAI,EAAE;IACtCO,KAAK,EAAER,UAAU,CAACQ,KAAK,CAACD,GAAG;IAC3BE,GAAG,EAAET,UAAU,CAACG,UAAU;IAC1BO,MAAM,EACLV,UAAU,CAACW,SAAS,GAAI,kBAAkB,CAAE,GAAI,CAAC,CAAE,EAAER,UAAU,IAC/DS;EACF,CAAC;AACF","ignoreList":[]}