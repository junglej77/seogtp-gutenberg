{"version":3,"names":["__","sprintf","UploadError","validateFileSize","file","maxUploadFileSize","size","code","message","name"],"sources":["@wordpress/media-utils/src/utils/validate-file-size.ts"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { UploadError } from './upload-error';\r\n\r\n/**\r\n * Verifies whether the file is within the file upload size limits for the site.\r\n *\r\n * @param file              File object.\r\n * @param maxUploadFileSize Maximum upload size in bytes allowed for the site.\r\n */\r\nexport function validateFileSize( file: File, maxUploadFileSize?: number ) {\r\n\t// Don't allow empty files to be uploaded.\r\n\tif ( file.size <= 0 ) {\r\n\t\tthrow new UploadError( {\r\n\t\t\tcode: 'EMPTY_FILE',\r\n\t\t\tmessage: sprintf(\r\n\t\t\t\t// translators: %s: file name.\r\n\t\t\t\t__( '%s: This file is empty.' ),\r\n\t\t\t\tfile.name\r\n\t\t\t),\r\n\t\t\tfile,\r\n\t\t} );\r\n\t}\r\n\r\n\tif ( maxUploadFileSize && file.size > maxUploadFileSize ) {\r\n\t\tthrow new UploadError( {\r\n\t\t\tcode: 'SIZE_ABOVE_LIMIT',\r\n\t\t\tmessage: sprintf(\r\n\t\t\t\t// translators: %s: file name.\r\n\t\t\t\t__(\r\n\t\t\t\t\t'%s: This file exceeds the maximum upload size for this site.'\r\n\t\t\t\t),\r\n\t\t\t\tfile.name\r\n\t\t\t),\r\n\t\t\tfile,\r\n\t\t} );\r\n\t}\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;;AAE7C;AACA;AACA;AACA,SAASC,WAAW,QAAQ,gBAAgB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAAEC,IAAU,EAAEC,iBAA0B,EAAG;EAC1E;EACA,IAAKD,IAAI,CAACE,IAAI,IAAI,CAAC,EAAG;IACrB,MAAM,IAAIJ,WAAW,CAAE;MACtBK,IAAI,EAAE,YAAY;MAClBC,OAAO,EAAEP,OAAO;MACf;MACAD,EAAE,CAAE,yBAA0B,CAAC,EAC/BI,IAAI,CAACK,IACN,CAAC;MACDL;IACD,CAAE,CAAC;EACJ;EAEA,IAAKC,iBAAiB,IAAID,IAAI,CAACE,IAAI,GAAGD,iBAAiB,EAAG;IACzD,MAAM,IAAIH,WAAW,CAAE;MACtBK,IAAI,EAAE,kBAAkB;MACxBC,OAAO,EAAEP,OAAO;MACf;MACAD,EAAE,CACD,8DACD,CAAC,EACDI,IAAI,CAACK,IACN,CAAC;MACDL;IACD,CAAE,CAAC;EACJ;AACD","ignoreList":[]}