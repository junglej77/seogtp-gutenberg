{"version":3,"names":["__experimentalHStack","HStack","__experimentalVStack","VStack","Button","__experimentalText","Text","TextControl","Modal","__","sprintf","useState","useId","speak","jsx","_jsx","jsxs","_jsxs","AllowOverridesModal","placeholder","initialName","onClose","onSave","editedBlockName","setEditedBlockName","descriptionId","isNameValid","trim","handleSubmit","message","title","onRequestClose","focusOnMount","aria","describedby","size","children","onSubmit","event","preventDefault","spacing","id","__nextHasNoMarginBottom","__next40pxDefaultSize","value","label","help","onChange","justify","variant","onClick","type","DisallowOverridesModal"],"sources":["@wordpress/patterns/src/components/allow-overrides-modal.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n\tButton,\r\n\t__experimentalText as Text,\r\n\tTextControl,\r\n\tModal,\r\n} from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useState, useId } from '@wordpress/element';\r\nimport { speak } from '@wordpress/a11y';\r\n\r\nexport function AllowOverridesModal( {\r\n\tplaceholder,\r\n\tinitialName = '',\r\n\tonClose,\r\n\tonSave,\r\n} ) {\r\n\tconst [ editedBlockName, setEditedBlockName ] = useState( initialName );\r\n\tconst descriptionId = useId();\r\n\r\n\tconst isNameValid = !! editedBlockName.trim();\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tif ( editedBlockName !== initialName ) {\r\n\t\t\tconst message = sprintf(\r\n\t\t\t\t/* translators: %s: new name/label for the block */\r\n\t\t\t\t__( 'Block name changed to: \"%s\".' ),\r\n\t\t\t\teditedBlockName\r\n\t\t\t);\r\n\r\n\t\t\t// Must be assertive to immediately announce change.\r\n\t\t\tspeak( message, 'assertive' );\r\n\t\t}\r\n\t\tonSave( editedBlockName );\r\n\r\n\t\t// Immediate close avoids ability to hit save multiple times.\r\n\t\tonClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={ __( 'Enable overrides' ) }\r\n\t\t\tonRequestClose={ onClose }\r\n\t\t\tfocusOnMount=\"firstContentElement\"\r\n\t\t\taria={ { describedby: descriptionId } }\r\n\t\t\tsize=\"small\"\r\n\t\t>\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={ ( event ) => {\r\n\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\tif ( ! isNameValid ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\thandleSubmit();\r\n\t\t\t\t} }\r\n\t\t\t>\r\n\t\t\t\t<VStack spacing=\"6\">\r\n\t\t\t\t\t<Text id={ descriptionId }>\r\n\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t'Overrides are changes you make to a block within a synced pattern instance. Use overrides to customize a synced pattern instance to suit its new context. Name this block to specify an override.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tvalue={ editedBlockName }\r\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\r\n\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t'For example, if you are creating a recipe pattern, you use \"Recipe Title\", \"Recipe Description\", etc.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tplaceholder={ placeholder }\r\n\t\t\t\t\t\tonChange={ setEditedBlockName }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<HStack justify=\"right\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\tonClick={ onClose }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\taria-disabled={ ! isNameValid }\r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Enable' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</VStack>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport function DisallowOverridesModal( { onClose, onSave } ) {\r\n\tconst descriptionId = useId();\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={ __( 'Disable overrides' ) }\r\n\t\t\tonRequestClose={ onClose }\r\n\t\t\taria={ { describedby: descriptionId } }\r\n\t\t\tsize=\"small\"\r\n\t\t>\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={ ( event ) => {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tonSave();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t} }\r\n\t\t\t>\r\n\t\t\t\t<VStack spacing=\"6\">\r\n\t\t\t\t\t<Text id={ descriptionId }>\r\n\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t'Are you sure you want to disable overrides? Disabling overrides will revert all applied overrides for this block throughout instances of this pattern.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</Text>\r\n\r\n\t\t\t\t\t<HStack justify=\"right\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\tonClick={ onClose }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Disable' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</VStack>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]}