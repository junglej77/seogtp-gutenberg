{"version":3,"names":["createContext","useContext","createHigherOrderComponent","jsx","_jsx","Context","name","icon","PluginContextProvider","Provider","usePluginContext","withPluginContext","mapContextToProps","OriginalComponent","props","Consumer","children","context"],"sources":["@wordpress/plugins/src/components/plugin-context/index.tsx"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { createContext, useContext } from '@wordpress/element';\r\nimport { createHigherOrderComponent } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { WPPlugin } from '../../api';\r\n\r\nexport interface PluginContext {\r\n\tname: null | WPPlugin[ 'name' ];\r\n\ticon: null | WPPlugin[ 'icon' ];\r\n}\r\n\r\nconst Context = createContext< PluginContext >( {\r\n\tname: null,\r\n\ticon: null,\r\n} );\r\n\r\nexport const PluginContextProvider = Context.Provider;\r\n\r\n/**\r\n * A hook that returns the plugin context.\r\n *\r\n * @return {PluginContext} Plugin context\r\n */\r\nexport function usePluginContext() {\r\n\treturn useContext( Context );\r\n}\r\n\r\n/**\r\n * A Higher Order Component used to inject Plugin context to the\r\n * wrapped component.\r\n *\r\n * @param  mapContextToProps Function called on every context change,\r\n *                           expected to return object of props to\r\n *                           merge with the component's own props.\r\n *\r\n * @return {Component} Enhanced component with injected context as props.\r\n */\r\nexport const withPluginContext = (\r\n\tmapContextToProps: < T >(\r\n\t\tcontext: PluginContext,\r\n\t\tprops: T\r\n\t) => T & PluginContext\r\n) =>\r\n\tcreateHigherOrderComponent( ( OriginalComponent ) => {\r\n\t\treturn ( props ) => (\r\n\t\t\t<Context.Consumer>\r\n\t\t\t\t{ ( context ) => (\r\n\t\t\t\t\t<OriginalComponent\r\n\t\t\t\t\t\t{ ...props }\r\n\t\t\t\t\t\t{ ...mapContextToProps( context, props ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</Context.Consumer>\r\n\t\t);\r\n\t}, 'withPluginContext' );\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,aAAa,EAAEC,UAAU,QAAQ,oBAAoB;AAC9D,SAASC,0BAA0B,QAAQ,oBAAoB;;AAE/D;AACA;AACA;AAFA,SAAAC,GAAA,IAAAC,IAAA;AAUA,MAAMC,OAAO,GAAGL,aAAa,CAAmB;EAC/CM,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE;AACP,CAAE,CAAC;AAEH,OAAO,MAAMC,qBAAqB,GAAGH,OAAO,CAACI,QAAQ;;AAErD;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAAA,EAAG;EAClC,OAAOT,UAAU,CAAEI,OAAQ,CAAC;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMM,iBAAiB,GAC7BC,iBAGsB,IAEtBV,0BAA0B,CAAIW,iBAAiB,IAAM;EACpD,OAASC,KAAK,iBACbV,IAAA,CAACC,OAAO,CAACU,QAAQ;IAAAC,QAAA,EACZC,OAAO,iBACVb,IAAA,CAACS,iBAAiB;MAAA,GACZC,KAAK;MAAA,GACLF,iBAAiB,CAAEK,OAAO,EAAEH,KAAM;IAAC,CACxC;EACD,CACgB,CAClB;AACF,CAAC,EAAE,mBAAoB,CAAC","ignoreList":[]}