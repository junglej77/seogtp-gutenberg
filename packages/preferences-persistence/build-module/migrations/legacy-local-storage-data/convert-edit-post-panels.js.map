{"version":3,"names":["convertEditPostPanels","preferences","_preferences$panels","panels","Object","keys","reduce","convertedData","panelName","panel","enabled","inactivePanels","push","opened","openPanels"],"sources":["@wordpress/preferences-persistence/src/migrations/legacy-local-storage-data/convert-edit-post-panels.js"],"sourcesContent":["/**\r\n * Convert the post editor's panels state from:\r\n * ```\r\n * {\r\n *     panels: {\r\n *         tags: {\r\n *             enabled: true,\r\n *             opened: true,\r\n *         },\r\n *         permalinks: {\r\n *             enabled: false,\r\n *             opened: false,\r\n *         },\r\n *     },\r\n * }\r\n * ```\r\n *\r\n * to a new, more concise data structure:\r\n * {\r\n *     inactivePanels: [\r\n *         'permalinks',\r\n *     ],\r\n *     openPanels: [\r\n *         'tags',\r\n *     ],\r\n * }\r\n *\r\n * @param {Object} preferences A preferences object.\r\n *\r\n * @return {Object} The converted data.\r\n */\r\nexport default function convertEditPostPanels( preferences ) {\r\n\tconst panels = preferences?.panels ?? {};\r\n\treturn Object.keys( panels ).reduce(\r\n\t\t( convertedData, panelName ) => {\r\n\t\t\tconst panel = panels[ panelName ];\r\n\r\n\t\t\tif ( panel?.enabled === false ) {\r\n\t\t\t\tconvertedData.inactivePanels.push( panelName );\r\n\t\t\t}\r\n\r\n\t\t\tif ( panel?.opened === true ) {\r\n\t\t\t\tconvertedData.openPanels.push( panelName );\r\n\t\t\t}\r\n\r\n\t\t\treturn convertedData;\r\n\t\t},\r\n\t\t{ inactivePanels: [], openPanels: [] }\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASA,qBAAqBA,CAAEC,WAAW,EAAG;EAAA,IAAAC,mBAAA;EAC5D,MAAMC,MAAM,IAAAD,mBAAA,GAAGD,WAAW,EAAEE,MAAM,cAAAD,mBAAA,cAAAA,mBAAA,GAAI,CAAC,CAAC;EACxC,OAAOE,MAAM,CAACC,IAAI,CAAEF,MAAO,CAAC,CAACG,MAAM,CAClC,CAAEC,aAAa,EAAEC,SAAS,KAAM;IAC/B,MAAMC,KAAK,GAAGN,MAAM,CAAEK,SAAS,CAAE;IAEjC,IAAKC,KAAK,EAAEC,OAAO,KAAK,KAAK,EAAG;MAC/BH,aAAa,CAACI,cAAc,CAACC,IAAI,CAAEJ,SAAU,CAAC;IAC/C;IAEA,IAAKC,KAAK,EAAEI,MAAM,KAAK,IAAI,EAAG;MAC7BN,aAAa,CAACO,UAAU,CAACF,IAAI,CAAEJ,SAAU,CAAC;IAC3C;IAEA,OAAOD,aAAa;EACrB,CAAC,EACD;IAAEI,cAAc,EAAE,EAAE;IAAEG,UAAU,EAAE;EAAG,CACtC,CAAC;AACF","ignoreList":[]}