{"version":3,"names":["convertEditorSettings","data","_newData$coreEditPo","_newData$coreEditSi","newData","settingsToMoveToCore","forEach","setting","undefined","core","Object","keys","length"],"sources":["@wordpress/preferences-persistence/src/migrations/preferences-package-data/convert-editor-settings.js"],"sourcesContent":["/**\r\n * Internal dependencies\r\n */\r\n\r\nexport default function convertEditorSettings( data ) {\r\n\tlet newData = data;\r\n\tconst settingsToMoveToCore = [\r\n\t\t'allowRightClickOverrides',\r\n\t\t'distractionFree',\r\n\t\t'editorMode',\r\n\t\t'fixedToolbar',\r\n\t\t'focusMode',\r\n\t\t'hiddenBlockTypes',\r\n\t\t'inactivePanels',\r\n\t\t'keepCaretInsideBlock',\r\n\t\t'mostUsedBlocks',\r\n\t\t'openPanels',\r\n\t\t'showBlockBreadcrumbs',\r\n\t\t'showIconLabels',\r\n\t\t'showListViewByDefault',\r\n\t\t'isPublishSidebarEnabled',\r\n\t\t'isComplementaryAreaVisible',\r\n\t\t'pinnedItems',\r\n\t];\r\n\r\n\tsettingsToMoveToCore.forEach( ( setting ) => {\r\n\t\tif ( data?.[ 'core/edit-post' ]?.[ setting ] !== undefined ) {\r\n\t\t\tnewData = {\r\n\t\t\t\t...newData,\r\n\t\t\t\tcore: {\r\n\t\t\t\t\t...newData?.core,\r\n\t\t\t\t\t[ setting ]: data[ 'core/edit-post' ][ setting ],\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\tdelete newData[ 'core/edit-post' ][ setting ];\r\n\t\t}\r\n\r\n\t\tif ( data?.[ 'core/edit-site' ]?.[ setting ] !== undefined ) {\r\n\t\t\tdelete newData[ 'core/edit-site' ][ setting ];\r\n\t\t}\r\n\t} );\r\n\r\n\tif ( Object.keys( newData?.[ 'core/edit-post' ] ?? {} )?.length === 0 ) {\r\n\t\tdelete newData[ 'core/edit-post' ];\r\n\t}\r\n\r\n\tif ( Object.keys( newData?.[ 'core/edit-site' ] ?? {} )?.length === 0 ) {\r\n\t\tdelete newData[ 'core/edit-site' ];\r\n\t}\r\n\r\n\treturn newData;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA,eAAe,SAASA,qBAAqBA,CAAEC,IAAI,EAAG;EAAA,IAAAC,mBAAA,EAAAC,mBAAA;EACrD,IAAIC,OAAO,GAAGH,IAAI;EAClB,MAAMI,oBAAoB,GAAG,CAC5B,0BAA0B,EAC1B,iBAAiB,EACjB,YAAY,EACZ,cAAc,EACd,WAAW,EACX,kBAAkB,EAClB,gBAAgB,EAChB,sBAAsB,EACtB,gBAAgB,EAChB,YAAY,EACZ,sBAAsB,EACtB,gBAAgB,EAChB,uBAAuB,EACvB,yBAAyB,EACzB,4BAA4B,EAC5B,aAAa,CACb;EAEDA,oBAAoB,CAACC,OAAO,CAAIC,OAAO,IAAM;IAC5C,IAAKN,IAAI,GAAI,gBAAgB,CAAE,GAAIM,OAAO,CAAE,KAAKC,SAAS,EAAG;MAC5DJ,OAAO,GAAG;QACT,GAAGA,OAAO;QACVK,IAAI,EAAE;UACL,GAAGL,OAAO,EAAEK,IAAI;UAChB,CAAEF,OAAO,GAAIN,IAAI,CAAE,gBAAgB,CAAE,CAAEM,OAAO;QAC/C;MACD,CAAC;MACD,OAAOH,OAAO,CAAE,gBAAgB,CAAE,CAAEG,OAAO,CAAE;IAC9C;IAEA,IAAKN,IAAI,GAAI,gBAAgB,CAAE,GAAIM,OAAO,CAAE,KAAKC,SAAS,EAAG;MAC5D,OAAOJ,OAAO,CAAE,gBAAgB,CAAE,CAAEG,OAAO,CAAE;IAC9C;EACD,CAAE,CAAC;EAEH,IAAKG,MAAM,CAACC,IAAI,EAAAT,mBAAA,GAAEE,OAAO,GAAI,gBAAgB,CAAE,cAAAF,mBAAA,cAAAA,mBAAA,GAAI,CAAC,CAAE,CAAC,EAAEU,MAAM,KAAK,CAAC,EAAG;IACvE,OAAOR,OAAO,CAAE,gBAAgB,CAAE;EACnC;EAEA,IAAKM,MAAM,CAACC,IAAI,EAAAR,mBAAA,GAAEC,OAAO,GAAI,gBAAgB,CAAE,cAAAD,mBAAA,cAAAA,mBAAA,GAAI,CAAC,CAAE,CAAC,EAAES,MAAM,KAAK,CAAC,EAAG;IACvE,OAAOR,OAAO,CAAE,gBAAgB,CAAE;EACnC;EAEA,OAAOA,OAAO;AACf","ignoreList":[]}