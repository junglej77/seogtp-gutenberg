{"version":3,"names":["useSelect","useDispatch","MenuItem","__","sprintf","check","speak","store","preferencesStore","jsx","_jsx","PreferenceToggleMenuItem","scope","name","label","info","messageActivated","messageDeactivated","shortcut","handleToggling","onToggle","disabled","isActive","select","get","toggle","speakMessage","message","icon","isSelected","onClick","role","children"],"sources":["@wordpress/preferences/src/components/preference-toggle-menu-item/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { MenuItem } from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { check } from '@wordpress/icons';\r\nimport { speak } from '@wordpress/a11y';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { store as preferencesStore } from '../../store';\r\n\r\nexport default function PreferenceToggleMenuItem( {\r\n\tscope,\r\n\tname,\r\n\tlabel,\r\n\tinfo,\r\n\tmessageActivated,\r\n\tmessageDeactivated,\r\n\tshortcut,\r\n\thandleToggling = true,\r\n\tonToggle = () => null,\r\n\tdisabled = false,\r\n} ) {\r\n\tconst isActive = useSelect(\r\n\t\t( select ) => !! select( preferencesStore ).get( scope, name ),\r\n\t\t[ scope, name ]\r\n\t);\r\n\tconst { toggle } = useDispatch( preferencesStore );\r\n\tconst speakMessage = () => {\r\n\t\tif ( isActive ) {\r\n\t\t\tconst message =\r\n\t\t\t\tmessageDeactivated ||\r\n\t\t\t\tsprintf(\r\n\t\t\t\t\t/* translators: %s: preference name, e.g. 'Fullscreen mode' */\r\n\t\t\t\t\t__( 'Preference deactivated - %s' ),\r\n\t\t\t\t\tlabel\r\n\t\t\t\t);\r\n\t\t\tspeak( message );\r\n\t\t} else {\r\n\t\t\tconst message =\r\n\t\t\t\tmessageActivated ||\r\n\t\t\t\tsprintf(\r\n\t\t\t\t\t/* translators: %s: preference name, e.g. 'Fullscreen mode' */\r\n\t\t\t\t\t__( 'Preference activated - %s' ),\r\n\t\t\t\t\tlabel\r\n\t\t\t\t);\r\n\t\t\tspeak( message );\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<MenuItem\r\n\t\t\ticon={ isActive && check }\r\n\t\t\tisSelected={ isActive }\r\n\t\t\tonClick={ () => {\r\n\t\t\t\tonToggle();\r\n\t\t\t\tif ( handleToggling ) {\r\n\t\t\t\t\ttoggle( scope, name );\r\n\t\t\t\t}\r\n\t\t\t\tspeakMessage();\r\n\t\t\t} }\r\n\t\t\trole=\"menuitemcheckbox\"\r\n\t\t\tinfo={ info }\r\n\t\t\tshortcut={ shortcut }\r\n\t\t\tdisabled={ disabled }\r\n\t\t>\r\n\t\t\t{ label }\r\n\t\t</MenuItem>\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,KAAK,QAAQ,kBAAkB;AACxC,SAASC,KAAK,QAAQ,iBAAiB;;AAEvC;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAExD,eAAe,SAASC,wBAAwBA,CAAE;EACjDC,KAAK;EACLC,IAAI;EACJC,KAAK;EACLC,IAAI;EACJC,gBAAgB;EAChBC,kBAAkB;EAClBC,QAAQ;EACRC,cAAc,GAAG,IAAI;EACrBC,QAAQ,GAAGA,CAAA,KAAM,IAAI;EACrBC,QAAQ,GAAG;AACZ,CAAC,EAAG;EACH,MAAMC,QAAQ,GAAGtB,SAAS,CACvBuB,MAAM,IAAM,CAAC,CAAEA,MAAM,CAAEf,gBAAiB,CAAC,CAACgB,GAAG,CAAEZ,KAAK,EAAEC,IAAK,CAAC,EAC9D,CAAED,KAAK,EAAEC,IAAI,CACd,CAAC;EACD,MAAM;IAAEY;EAAO,CAAC,GAAGxB,WAAW,CAAEO,gBAAiB,CAAC;EAClD,MAAMkB,YAAY,GAAGA,CAAA,KAAM;IAC1B,IAAKJ,QAAQ,EAAG;MACf,MAAMK,OAAO,GACZV,kBAAkB,IAClBb,OAAO,EACN;MACAD,EAAE,CAAE,6BAA8B,CAAC,EACnCW,KACD,CAAC;MACFR,KAAK,CAAEqB,OAAQ,CAAC;IACjB,CAAC,MAAM;MACN,MAAMA,OAAO,GACZX,gBAAgB,IAChBZ,OAAO,EACN;MACAD,EAAE,CAAE,2BAA4B,CAAC,EACjCW,KACD,CAAC;MACFR,KAAK,CAAEqB,OAAQ,CAAC;IACjB;EACD,CAAC;EAED,oBACCjB,IAAA,CAACR,QAAQ;IACR0B,IAAI,EAAGN,QAAQ,IAAIjB,KAAO;IAC1BwB,UAAU,EAAGP,QAAU;IACvBQ,OAAO,EAAGA,CAAA,KAAM;MACfV,QAAQ,CAAC,CAAC;MACV,IAAKD,cAAc,EAAG;QACrBM,MAAM,CAAEb,KAAK,EAAEC,IAAK,CAAC;MACtB;MACAa,YAAY,CAAC,CAAC;IACf,CAAG;IACHK,IAAI,EAAC,kBAAkB;IACvBhB,IAAI,EAAGA,IAAM;IACbG,QAAQ,EAAGA,QAAU;IACrBG,QAAQ,EAAGA,QAAU;IAAAW,QAAA,EAEnBlB;EAAK,CACE,CAAC;AAEb","ignoreList":[]}