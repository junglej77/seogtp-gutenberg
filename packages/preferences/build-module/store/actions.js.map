{"version":3,"names":["toggle","scope","name","select","dispatch","currentValue","get","set","value","type","setDefaults","defaults","setPersistenceLayer","persistenceLayer","persistedData"],"sources":["@wordpress/preferences/src/store/actions.js"],"sourcesContent":["/**\r\n * Returns an action object used in signalling that a preference should be\r\n * toggled.\r\n *\r\n * @param {string} scope The preference scope (e.g. core/edit-post).\r\n * @param {string} name  The preference name.\r\n */\r\nexport function toggle( scope, name ) {\r\n\treturn function ( { select, dispatch } ) {\r\n\t\tconst currentValue = select.get( scope, name );\r\n\t\tdispatch.set( scope, name, ! currentValue );\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns an action object used in signalling that a preference should be set\r\n * to a value\r\n *\r\n * @param {string} scope The preference scope (e.g. core/edit-post).\r\n * @param {string} name  The preference name.\r\n * @param {*}      value The value to set.\r\n *\r\n * @return {Object} Action object.\r\n */\r\nexport function set( scope, name, value ) {\r\n\treturn {\r\n\t\ttype: 'SET_PREFERENCE_VALUE',\r\n\t\tscope,\r\n\t\tname,\r\n\t\tvalue,\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns an action object used in signalling that preference defaults should\r\n * be set.\r\n *\r\n * @param {string}            scope    The preference scope (e.g. core/edit-post).\r\n * @param {Object<string, *>} defaults A key/value map of preference names to values.\r\n *\r\n * @return {Object} Action object.\r\n */\r\nexport function setDefaults( scope, defaults ) {\r\n\treturn {\r\n\t\ttype: 'SET_PREFERENCE_DEFAULTS',\r\n\t\tscope,\r\n\t\tdefaults,\r\n\t};\r\n}\r\n\r\n/** @typedef {() => Promise<Object>} WPPreferencesPersistenceLayerGet */\r\n/** @typedef {(Object) => void} WPPreferencesPersistenceLayerSet */\r\n/**\r\n * @typedef WPPreferencesPersistenceLayer\r\n *\r\n * @property {WPPreferencesPersistenceLayerGet} get An async function that gets data from the persistence layer.\r\n * @property {WPPreferencesPersistenceLayerSet} set A function that sets data in the persistence layer.\r\n */\r\n\r\n/**\r\n * Sets the persistence layer.\r\n *\r\n * When a persistence layer is set, the preferences store will:\r\n * - call `get` immediately and update the store state to the value returned.\r\n * - call `set` with all preferences whenever a preference changes value.\r\n *\r\n * `setPersistenceLayer` should ideally be dispatched at the start of an\r\n * application's lifecycle, before any other actions have been dispatched to\r\n * the preferences store.\r\n *\r\n * @param {WPPreferencesPersistenceLayer} persistenceLayer The persistence layer.\r\n *\r\n * @return {Object} Action object.\r\n */\r\nexport async function setPersistenceLayer( persistenceLayer ) {\r\n\tconst persistedData = await persistenceLayer.get();\r\n\treturn {\r\n\t\ttype: 'SET_PERSISTENCE_LAYER',\r\n\t\tpersistenceLayer,\r\n\t\tpersistedData,\r\n\t};\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,MAAMA,CAAEC,KAAK,EAAEC,IAAI,EAAG;EACrC,OAAO,UAAW;IAAEC,MAAM;IAAEC;EAAS,CAAC,EAAG;IACxC,MAAMC,YAAY,GAAGF,MAAM,CAACG,GAAG,CAAEL,KAAK,EAAEC,IAAK,CAAC;IAC9CE,QAAQ,CAACG,GAAG,CAAEN,KAAK,EAAEC,IAAI,EAAE,CAAEG,YAAa,CAAC;EAC5C,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASE,GAAGA,CAAEN,KAAK,EAAEC,IAAI,EAAEM,KAAK,EAAG;EACzC,OAAO;IACNC,IAAI,EAAE,sBAAsB;IAC5BR,KAAK;IACLC,IAAI;IACJM;EACD,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASE,WAAWA,CAAET,KAAK,EAAEU,QAAQ,EAAG;EAC9C,OAAO;IACNF,IAAI,EAAE,yBAAyB;IAC/BR,KAAK;IACLU;EACD,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,mBAAmBA,CAAEC,gBAAgB,EAAG;EAC7D,MAAMC,aAAa,GAAG,MAAMD,gBAAgB,CAACP,GAAG,CAAC,CAAC;EAClD,OAAO;IACNG,IAAI,EAAE,uBAAuB;IAC7BI,gBAAgB;IAChBC;EACD,CAAC;AACF","ignoreList":[]}