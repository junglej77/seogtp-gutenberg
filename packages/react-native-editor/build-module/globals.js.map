{"version":3,"names":["jsdom","jsdomLevel1Core","nativeLoggingHook","createElement","global","wp","element","doc","html","implementation","createHTMLDocument","__isJsdom","document","window","Node","dom","level1","core","matchMedia","matches","addListener","addEventListener","removeListener","removeEventListener","navigator","userAgent","_global$window$naviga"],"sources":["@wordpress/react-native-editor/src/globals.js"],"sourcesContent":["/**\r\n * External dependencies\r\n */\r\n// This library works as a polyfill for the global crypto.getRandomValues which is needed by `uuid` version 7.0.0\r\nimport 'react-native-get-random-values';\r\nimport jsdom from 'jsdom-jscore-rn';\r\nimport jsdomLevel1Core from 'jsdom-jscore-rn/lib/jsdom/level1/core';\r\nimport 'react-native-url-polyfill/auto';\r\n\r\n/**\r\n * Babel polyfills\r\n */\r\nimport 'core-js/features/array/flat-map';\r\nimport 'core-js/proposals/relative-indexing-method';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { nativeLoggingHook } from '@wordpress/react-native-bridge';\r\nimport { createElement } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\n\r\n/**\r\n * Import for side-effects: Patches for jsdom-jscore, mostly to implement\r\n * functions that are called from Gutenberg code paths, where a more full DOM\r\n * implementation is expected (in the browser environment).\r\n *\r\n * More details are available within the comments in the file.\r\n */\r\nimport './jsdom-patches';\r\n\r\nglobal.wp = {\r\n\telement: {\r\n\t\tcreateElement, // Load the element creation function, needed by Gutenberg-web.\r\n\t},\r\n};\r\n\r\nconst doc = jsdom.html( '', null, null );\r\n\r\n// Inject a simple version of the missing createHTMLDocument method that `hpq` depends on.\r\ndoc.implementation.createHTMLDocument = function ( html ) {\r\n\treturn jsdom.html( html, null, null );\r\n};\r\n\r\n// Flag used to enable a patch to `react-devtools-core` to support `jsdom-jscore-rn`.\r\ndoc.__isJsdom = true;\r\n\r\n// `hpq` depends on `document` be available globally.\r\nglobal.document = doc;\r\n\r\nif ( ! global.window.Node ) {\r\n\tglobal.window.Node = jsdomLevel1Core.dom.level1.core.Node;\r\n}\r\n\r\nif ( ! global.window.matchMedia ) {\r\n\tglobal.window.matchMedia = () => ( {\r\n\t\tmatches: false,\r\n\t\taddListener: () => {},\r\n\t\taddEventListener: () => {},\r\n\t\tremoveListener: () => {},\r\n\t\tremoveEventListener: () => {},\r\n\t} );\r\n}\r\n\r\nglobal.window.navigator.userAgent = global.window.navigator.userAgent ?? '';\r\n\r\n// Leverages existing console polyfill from react-native.\r\nglobal.nativeLoggingHook = nativeLoggingHook;\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA,OAAO,gCAAgC;AACvC,OAAOA,KAAK,MAAM,iBAAiB;AACnC,OAAOC,eAAe,MAAM,uCAAuC;AACnE,OAAO,gCAAgC;;AAEvC;AACA;AACA;AACA,OAAO,iCAAiC;AACxC,OAAO,4CAA4C;;AAEnD;AACA;AACA;AACA,SAASC,iBAAiB,QAAQ,gCAAgC;AAClE,SAASC,aAAa,QAAQ,oBAAoB;;AAElD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,iBAAiB;AAExBC,MAAM,CAACC,EAAE,GAAG;EACXC,OAAO,EAAE;IACRH,aAAa,CAAE;EAChB;AACD,CAAC;AAED,MAAMI,GAAG,GAAGP,KAAK,CAACQ,IAAI,CAAE,EAAE,EAAE,IAAI,EAAE,IAAK,CAAC;;AAExC;AACAD,GAAG,CAACE,cAAc,CAACC,kBAAkB,GAAG,UAAWF,IAAI,EAAG;EACzD,OAAOR,KAAK,CAACQ,IAAI,CAAEA,IAAI,EAAE,IAAI,EAAE,IAAK,CAAC;AACtC,CAAC;;AAED;AACAD,GAAG,CAACI,SAAS,GAAG,IAAI;;AAEpB;AACAP,MAAM,CAACQ,QAAQ,GAAGL,GAAG;AAErB,IAAK,CAAEH,MAAM,CAACS,MAAM,CAACC,IAAI,EAAG;EAC3BV,MAAM,CAACS,MAAM,CAACC,IAAI,GAAGb,eAAe,CAACc,GAAG,CAACC,MAAM,CAACC,IAAI,CAACH,IAAI;AAC1D;AAEA,IAAK,CAAEV,MAAM,CAACS,MAAM,CAACK,UAAU,EAAG;EACjCd,MAAM,CAACS,MAAM,CAACK,UAAU,GAAG,OAAQ;IAClCC,OAAO,EAAE,KAAK;IACdC,WAAW,EAAEA,CAAA,KAAM,CAAC,CAAC;IACrBC,gBAAgB,EAAEA,CAAA,KAAM,CAAC,CAAC;IAC1BC,cAAc,EAAEA,CAAA,KAAM,CAAC,CAAC;IACxBC,mBAAmB,EAAEA,CAAA,KAAM,CAAC;EAC7B,CAAC,CAAE;AACJ;AAEAnB,MAAM,CAACS,MAAM,CAACW,SAAS,CAACC,SAAS,IAAAC,qBAAA,GAAGtB,MAAM,CAACS,MAAM,CAACW,SAAS,CAACC,SAAS,cAAAC,qBAAA,cAAAA,qBAAA,GAAI,EAAE;;AAE3E;AACAtB,MAAM,CAACF,iBAAiB,GAAGA,iBAAiB","ignoreList":[]}