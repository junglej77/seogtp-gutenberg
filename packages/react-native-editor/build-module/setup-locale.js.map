{"version":3,"names":["setLocaleData","locale","extraTranslations","getDefaultTranslation","pluginTranslations","setDomainLocaleData","getTranslation","domain","toLowerCase","translations","replace","allTranslations","forEach"],"sources":["@wordpress/react-native-editor/src/setup-locale.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { setLocaleData } from '@wordpress/i18n';\r\n\r\n/**\r\n * Setup locale data for default domain and plugins.\r\n *\r\n * @typedef {Object} PluginTranslation\r\n * @property {string}              domain                Domain of the plugin.\r\n * @property {Function}            getTranslation        Function for retrieving translations for a locale.\r\n *\r\n * @param    {string}              locale                Locale value.\r\n * @param    {Object}              extraTranslations     Extra translations to be included.\r\n * @param    {Function}            getDefaultTranslation Default domain's function for retrieving translations for a locale.\r\n * @param    {PluginTranslation[]} pluginTranslations    Array with plugin translations.\r\n */\r\nexport default (\r\n\tlocale,\r\n\textraTranslations,\r\n\tgetDefaultTranslation,\r\n\tpluginTranslations = []\r\n) => {\r\n\tconst setDomainLocaleData = ( { getTranslation, domain = 'default' } ) => {\r\n\t\t// Lowercase the locale value as translation filenames are also lowercased.\r\n\t\tlocale = locale?.toLowerCase();\r\n\t\tlet translations = getTranslation( locale );\r\n\t\tif ( locale && ! translations ) {\r\n\t\t\t// Try stripping out the regional\r\n\t\t\tlocale = locale.replace( /[-_][A-Za-z]+$/, '' );\r\n\t\t\ttranslations = getTranslation( locale );\r\n\t\t}\r\n\t\tconst allTranslations = {\r\n\t\t\t...translations,\r\n\t\t\t...extraTranslations,\r\n\t\t};\r\n\r\n\t\t// Only change the locale if it's supported by gutenberg\r\n\t\tif ( translations || extraTranslations ) {\r\n\t\t\tsetLocaleData( allTranslations, domain );\r\n\t\t}\r\n\t};\r\n\r\n\t// Set up default domain and plugin translations\r\n\t[\r\n\t\t{ getTranslation: getDefaultTranslation },\r\n\t\t...pluginTranslations,\r\n\t].forEach( setDomainLocaleData );\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,iBAAiB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,CACdC,MAAM,EACNC,iBAAiB,EACjBC,qBAAqB,EACrBC,kBAAkB,GAAG,EAAE,KACnB;EACJ,MAAMC,mBAAmB,GAAGA,CAAE;IAAEC,cAAc;IAAEC,MAAM,GAAG;EAAU,CAAC,KAAM;IACzE;IACAN,MAAM,GAAGA,MAAM,EAAEO,WAAW,CAAC,CAAC;IAC9B,IAAIC,YAAY,GAAGH,cAAc,CAAEL,MAAO,CAAC;IAC3C,IAAKA,MAAM,IAAI,CAAEQ,YAAY,EAAG;MAC/B;MACAR,MAAM,GAAGA,MAAM,CAACS,OAAO,CAAE,gBAAgB,EAAE,EAAG,CAAC;MAC/CD,YAAY,GAAGH,cAAc,CAAEL,MAAO,CAAC;IACxC;IACA,MAAMU,eAAe,GAAG;MACvB,GAAGF,YAAY;MACf,GAAGP;IACJ,CAAC;;IAED;IACA,IAAKO,YAAY,IAAIP,iBAAiB,EAAG;MACxCF,aAAa,CAAEW,eAAe,EAAEJ,MAAO,CAAC;IACzC;EACD,CAAC;;EAED;EACA,CACC;IAAED,cAAc,EAAEH;EAAsB,CAAC,EACzC,GAAGC,kBAAkB,CACrB,CAACQ,OAAO,CAAEP,mBAAoB,CAAC;AACjC,CAAC","ignoreList":[]}