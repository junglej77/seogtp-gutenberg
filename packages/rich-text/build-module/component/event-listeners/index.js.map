{"version":3,"names":["useMemo","useRef","useRefEffect","copyHandler","selectObject","formatBoundaries","deleteHandler","inputAndSelection","selectionChangeCompat","allEventListeners","useEventListeners","props","propsRef","current","refEffects","map","refEffect","element","cleanups","effect","forEach","cleanup"],"sources":["@wordpress/rich-text/src/component/event-listeners/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo, useRef } from '@wordpress/element';\r\nimport { useRefEffect } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport copyHandler from './copy-handler';\r\nimport selectObject from './select-object';\r\nimport formatBoundaries from './format-boundaries';\r\nimport deleteHandler from './delete';\r\nimport inputAndSelection from './input-and-selection';\r\nimport selectionChangeCompat from './selection-change-compat';\r\n\r\nconst allEventListeners = [\r\n\tcopyHandler,\r\n\tselectObject,\r\n\tformatBoundaries,\r\n\tdeleteHandler,\r\n\tinputAndSelection,\r\n\tselectionChangeCompat,\r\n];\r\n\r\nexport function useEventListeners( props ) {\r\n\tconst propsRef = useRef( props );\r\n\tpropsRef.current = props;\r\n\tconst refEffects = useMemo(\r\n\t\t() => allEventListeners.map( ( refEffect ) => refEffect( propsRef ) ),\r\n\t\t[ propsRef ]\r\n\t);\r\n\r\n\treturn useRefEffect(\r\n\t\t( element ) => {\r\n\t\t\tconst cleanups = refEffects.map( ( effect ) => effect( element ) );\r\n\t\t\treturn () => {\r\n\t\t\t\tcleanups.forEach( ( cleanup ) => cleanup() );\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ refEffects ]\r\n\t);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,OAAO,EAAEC,MAAM,QAAQ,oBAAoB;AACpD,SAASC,YAAY,QAAQ,oBAAoB;;AAEjD;AACA;AACA;AACA,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAOC,gBAAgB,MAAM,qBAAqB;AAClD,OAAOC,aAAa,MAAM,UAAU;AACpC,OAAOC,iBAAiB,MAAM,uBAAuB;AACrD,OAAOC,qBAAqB,MAAM,2BAA2B;AAE7D,MAAMC,iBAAiB,GAAG,CACzBN,WAAW,EACXC,YAAY,EACZC,gBAAgB,EAChBC,aAAa,EACbC,iBAAiB,EACjBC,qBAAqB,CACrB;AAED,OAAO,SAASE,iBAAiBA,CAAEC,KAAK,EAAG;EAC1C,MAAMC,QAAQ,GAAGX,MAAM,CAAEU,KAAM,CAAC;EAChCC,QAAQ,CAACC,OAAO,GAAGF,KAAK;EACxB,MAAMG,UAAU,GAAGd,OAAO,CACzB,MAAMS,iBAAiB,CAACM,GAAG,CAAIC,SAAS,IAAMA,SAAS,CAAEJ,QAAS,CAAE,CAAC,EACrE,CAAEA,QAAQ,CACX,CAAC;EAED,OAAOV,YAAY,CAChBe,OAAO,IAAM;IACd,MAAMC,QAAQ,GAAGJ,UAAU,CAACC,GAAG,CAAII,MAAM,IAAMA,MAAM,CAAEF,OAAQ,CAAE,CAAC;IAClE,OAAO,MAAM;MACZC,QAAQ,CAACE,OAAO,CAAIC,OAAO,IAAMA,OAAO,CAAC,CAAE,CAAC;IAC7C,CAAC;EACF,CAAC,EACD,CAAEP,UAAU,CACb,CAAC;AACF","ignoreList":[]}