{"version":3,"names":["__","createBlock","group","icon","metadata","$schema","apiVersion","name","title","category","attributes","type","supports","html","inserter","customClassName","reusable","editorStyle","style","edit","save","deprecated","settings","description","__experimentalLabel","label","transforms","from","isMultiBlock","blocks","isMatch","some","block","__experimentalConvert","innerBlocks","map","firstHeadingBlock","filter","content"],"sources":["@wordpress/widgets/src/blocks/widget-group/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { group as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ttitle: __( 'Widget Group' ),\r\n\tdescription: __(\r\n\t\t'Create a classic widget layout with a title thatâ€™s styled by your theme for your widget areas.'\r\n\t),\r\n\ticon,\r\n\t__experimentalLabel: ( { name: label } ) => label,\r\n\tedit,\r\n\tsave,\r\n\ttransforms: {\r\n\t\tfrom: [\r\n\t\t\t{\r\n\t\t\t\ttype: 'block',\r\n\t\t\t\tisMultiBlock: true,\r\n\t\t\t\tblocks: [ '*' ],\r\n\t\t\t\tisMatch( attributes, blocks ) {\r\n\t\t\t\t\t// Avoid transforming existing `widget-group` blocks.\r\n\t\t\t\t\treturn ! blocks.some(\r\n\t\t\t\t\t\t( block ) => block.name === 'core/widget-group'\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\t__experimentalConvert( blocks ) {\r\n\t\t\t\t\t// Put the selected blocks inside the new Widget Group's innerBlocks.\r\n\t\t\t\t\tlet innerBlocks = [\r\n\t\t\t\t\t\t...blocks.map( ( block ) => {\r\n\t\t\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\t\t\tblock.name,\r\n\t\t\t\t\t\t\t\tblock.attributes,\r\n\t\t\t\t\t\t\t\tblock.innerBlocks\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} ),\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\t\t// If the first block is a heading then assume this is intended\r\n\t\t\t\t\t// to be the Widget's \"title\".\r\n\t\t\t\t\tconst firstHeadingBlock =\r\n\t\t\t\t\t\tinnerBlocks[ 0 ].name === 'core/heading'\r\n\t\t\t\t\t\t\t? innerBlocks[ 0 ]\r\n\t\t\t\t\t\t\t: null;\r\n\r\n\t\t\t\t\t// Remove the first heading block as we're copying\r\n\t\t\t\t\t// it's content into the Widget Group's title attribute.\r\n\t\t\t\t\tinnerBlocks = innerBlocks.filter(\r\n\t\t\t\t\t\t( block ) => block !== firstHeadingBlock\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\t'core/widget-group',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t...( firstHeadingBlock && {\r\n\t\t\t\t\t\t\t\ttitle: firstHeadingBlock.attributes.content,\r\n\t\t\t\t\t\t\t} ),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tinnerBlocks\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tdeprecated,\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,WAAW,QAAQ,mBAAmB;AAC/C,SAASC,KAAK,IAAIC,IAAI,QAAQ,kBAAkB;;AAEhD;AACA;AACA;AAFA,MAAAC,QAAA;EAAAC,OAAA;EAAAC,UAAA;EAAAC,IAAA;EAAAC,KAAA;EAAAC,QAAA;EAAAC,UAAA;IAAAF,KAAA;MAAAG,IAAA;IAAA;EAAA;EAAAC,QAAA;IAAAC,IAAA;IAAAC,QAAA;IAAAC,eAAA;IAAAC,QAAA;EAAA;EAAAC,WAAA;EAAAC,KAAA;AAAA;AAIA,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,UAAU,MAAM,cAAc;AAErC,MAAM;EAAEd;AAAK,CAAC,GAAGH,QAAQ;AACzB,SAASA,QAAQ,EAAEG,IAAI;AAEvB,OAAO,MAAMe,QAAQ,GAAG;EACvBd,KAAK,EAAER,EAAE,CAAE,cAAe,CAAC;EAC3BuB,WAAW,EAAEvB,EAAE,CACd,gGACD,CAAC;EACDG,IAAI;EACJqB,mBAAmB,EAAEA,CAAE;IAAEjB,IAAI,EAAEkB;EAAM,CAAC,KAAMA,KAAK;EACjDN,IAAI;EACJC,IAAI;EACJM,UAAU,EAAE;IACXC,IAAI,EAAE,CACL;MACChB,IAAI,EAAE,OAAO;MACbiB,YAAY,EAAE,IAAI;MAClBC,MAAM,EAAE,CAAE,GAAG,CAAE;MACfC,OAAOA,CAAEpB,UAAU,EAAEmB,MAAM,EAAG;QAC7B;QACA,OAAO,CAAEA,MAAM,CAACE,IAAI,CACjBC,KAAK,IAAMA,KAAK,CAACzB,IAAI,KAAK,mBAC7B,CAAC;MACF,CAAC;MACD0B,qBAAqBA,CAAEJ,MAAM,EAAG;QAC/B;QACA,IAAIK,WAAW,GAAG,CACjB,GAAGL,MAAM,CAACM,GAAG,CAAIH,KAAK,IAAM;UAC3B,OAAO/B,WAAW,CACjB+B,KAAK,CAACzB,IAAI,EACVyB,KAAK,CAACtB,UAAU,EAChBsB,KAAK,CAACE,WACP,CAAC;QACF,CAAE,CAAC,CACH;;QAED;QACA;QACA,MAAME,iBAAiB,GACtBF,WAAW,CAAE,CAAC,CAAE,CAAC3B,IAAI,KAAK,cAAc,GACrC2B,WAAW,CAAE,CAAC,CAAE,GAChB,IAAI;;QAER;QACA;QACAA,WAAW,GAAGA,WAAW,CAACG,MAAM,CAC7BL,KAAK,IAAMA,KAAK,KAAKI,iBACxB,CAAC;QAED,OAAOnC,WAAW,CACjB,mBAAmB,EACnB;UACC,IAAKmC,iBAAiB,IAAI;YACzB5B,KAAK,EAAE4B,iBAAiB,CAAC1B,UAAU,CAAC4B;UACrC,CAAC;QACF,CAAC,EACDJ,WACD,CAAC;MACF;IACD,CAAC;EAEH,CAAC;EACDb;AACD,CAAC","ignoreList":[]}